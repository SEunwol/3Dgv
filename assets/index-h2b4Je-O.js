var J4e=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var P$e=J4e((_1,w1)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oF(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nwe={exports:{}},sF={},Lwe={exports:{}},is={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=Symbol.for("react.element"),Z4e=Symbol.for("react.portal"),$4e=Symbol.for("react.fragment"),eNe=Symbol.for("react.strict_mode"),tNe=Symbol.for("react.profiler"),nNe=Symbol.for("react.provider"),rNe=Symbol.for("react.context"),iNe=Symbol.for("react.forward_ref"),oNe=Symbol.for("react.suspense"),sNe=Symbol.for("react.memo"),aNe=Symbol.for("react.lazy"),Cve=Symbol.iterator;function lNe(n){return n===null||typeof n!="object"?null:(n=Cve&&n[Cve]||n["@@iterator"],typeof n=="function"?n:null)}var Fwe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zwe=Object.assign,Uwe={};function GM(n,e,t){this.props=n,this.context=e,this.refs=Uwe,this.updater=t||Fwe}GM.prototype.isReactComponent={};GM.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};GM.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function jwe(){}jwe.prototype=GM.prototype;function GX(n,e,t){this.props=n,this.context=e,this.refs=Uwe,this.updater=t||Fwe}var VX=GX.prototype=new jwe;VX.constructor=GX;zwe(VX,GM.prototype);VX.isPureReactComponent=!0;var Mve=Array.isArray,Hwe=Object.prototype.hasOwnProperty,WX={current:null},Gwe={key:!0,ref:!0,__self:!0,__source:!0};function Vwe(n,e,t){var r,o={},s=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(s=""+e.key),e)Hwe.call(e,r)&&!Gwe.hasOwnProperty(r)&&(o[r]=e[r]);var d=arguments.length-2;if(d===1)o.children=t;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];o.children=g}if(n&&n.defaultProps)for(r in d=n.defaultProps,d)o[r]===void 0&&(o[r]=d[r]);return{$$typeof:YR,type:n,key:s,ref:c,props:o,_owner:WX.current}}function uNe(n,e){return{$$typeof:YR,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function XX(n){return typeof n=="object"&&n!==null&&n.$$typeof===YR}function cNe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Tve=/\/+/g;function k7(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cNe(""+n.key):e.toString(36)}function G5(n,e,t,r,o){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case YR:case Z4e:c=!0}}if(c)return c=n,o=o(c),n=r===""?"."+k7(c,0):r,Mve(o)?(t="",n!=null&&(t=n.replace(Tve,"$&/")+"/"),G5(o,e,t,"",function(_){return _})):o!=null&&(XX(o)&&(o=uNe(o,t+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Tve,"$&/")+"/")+n)),e.push(o)),1;if(c=0,r=r===""?".":r+":",Mve(n))for(var d=0;d<n.length;d++){s=n[d];var g=r+k7(s,d);c+=G5(s,e,t,g,o)}else if(g=lNe(n),typeof g=="function")for(n=g.call(n),d=0;!(s=n.next()).done;)s=s.value,g=r+k7(s,d++),c+=G5(s,e,t,g,o);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function _N(n,e,t){if(n==null)return n;var r=[],o=0;return G5(n,r,"","",function(s){return e.call(t,s,o++)}),r}function fNe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var np={current:null},V5={transition:null},dNe={ReactCurrentDispatcher:np,ReactCurrentBatchConfig:V5,ReactCurrentOwner:WX};is.Children={map:_N,forEach:function(n,e,t){_N(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return _N(n,function(){e++}),e},toArray:function(n){return _N(n,function(e){return e})||[]},only:function(n){if(!XX(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};is.Component=GM;is.Fragment=$4e;is.Profiler=tNe;is.PureComponent=GX;is.StrictMode=eNe;is.Suspense=oNe;is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dNe;is.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=zwe({},n.props),o=n.key,s=n.ref,c=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,c=WX.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var d=n.type.defaultProps;for(g in e)Hwe.call(e,g)&&!Gwe.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&d!==void 0?d[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=t;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];r.children=d}return{$$typeof:YR,type:n.type,key:o,ref:s,props:r,_owner:c}};is.createContext=function(n){return n={$$typeof:rNe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nNe,_context:n},n.Consumer=n};is.createElement=Vwe;is.createFactory=function(n){var e=Vwe.bind(null,n);return e.type=n,e};is.createRef=function(){return{current:null}};is.forwardRef=function(n){return{$$typeof:iNe,render:n}};is.isValidElement=XX;is.lazy=function(n){return{$$typeof:aNe,_payload:{_status:-1,_result:n},_init:fNe}};is.memo=function(n,e){return{$$typeof:sNe,type:n,compare:e===void 0?null:e}};is.startTransition=function(n){var e=V5.transition;V5.transition={};try{n()}finally{V5.transition=e}};is.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};is.useCallback=function(n,e){return np.current.useCallback(n,e)};is.useContext=function(n){return np.current.useContext(n)};is.useDebugValue=function(){};is.useDeferredValue=function(n){return np.current.useDeferredValue(n)};is.useEffect=function(n,e){return np.current.useEffect(n,e)};is.useId=function(){return np.current.useId()};is.useImperativeHandle=function(n,e,t){return np.current.useImperativeHandle(n,e,t)};is.useInsertionEffect=function(n,e){return np.current.useInsertionEffect(n,e)};is.useLayoutEffect=function(n,e){return np.current.useLayoutEffect(n,e)};is.useMemo=function(n,e){return np.current.useMemo(n,e)};is.useReducer=function(n,e,t){return np.current.useReducer(n,e,t)};is.useRef=function(n){return np.current.useRef(n)};is.useState=function(n){return np.current.useState(n)};is.useSyncExternalStore=function(n,e,t){return np.current.useSyncExternalStore(n,e,t)};is.useTransition=function(){return np.current.useTransition()};is.version="18.2.0";Lwe.exports=is;var an=Lwe.exports;const c1=oF(an);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hNe=an,pNe=Symbol.for("react.element"),mNe=Symbol.for("react.fragment"),gNe=Object.prototype.hasOwnProperty,vNe=hNe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yNe={key:!0,ref:!0,__self:!0,__source:!0};function Wwe(n,e,t){var r,o={},s=null,c=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)gNe.call(e,r)&&!yNe.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:pNe,type:n,key:s,ref:c,props:o,_owner:vNe.current}}sF.Fragment=mNe;sF.jsx=Wwe;sF.jsxs=Wwe;Nwe.exports=sF;var xn=Nwe.exports,OV={},Xwe={exports:{}},Om={},Kwe={exports:{}},Ywe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(de,ve){var ye=de.length;de.push(ve);e:for(;0<ye;){var _e=ye-1>>>1,ge=de[_e];if(0<o(ge,ve))de[_e]=ve,de[ye]=ge,ye=_e;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ve=de[0],ye=de.pop();if(ye!==ve){de[0]=ye;e:for(var _e=0,ge=de.length,dt=ge>>>1;_e<dt;){var qe=2*(_e+1)-1,_t=de[qe],Qe=qe+1,zt=de[Qe];if(0>o(_t,ye))Qe<ge&&0>o(zt,_t)?(de[_e]=zt,de[Qe]=ye,_e=Qe):(de[_e]=_t,de[qe]=ye,_e=qe);else if(Qe<ge&&0>o(zt,ye))de[_e]=zt,de[Qe]=ye,_e=Qe;else break e}}return ve}function o(de,ve){var ye=de.sortIndex-ve.sortIndex;return ye!==0?ye:de.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],_=[],b=1,A=null,P=3,N=!1,F=!1,K=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var ve=t(_);ve!==null;){if(ve.callback===null)r(_);else if(ve.startTime<=de)r(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(_)}}function Y(de){if(K=!1,T(de),!F)if(t(g)!==null)F=!0,Ke(ce);else{var ve=t(_);ve!==null&&Ye(Y,ve.startTime-de)}}function ce(de,ve){F=!1,K&&(K=!1,I(Se),Se=-1),N=!0;var ye=P;try{for(T(ve),A=t(g);A!==null&&(!(A.expirationTime>ve)||de&&!fe());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,P=A.priorityLevel;var ge=_e(A.expirationTime<=ve);ve=n.unstable_now(),typeof ge=="function"?A.callback=ge:A===t(g)&&r(g),T(ve)}else r(g);A=t(g)}if(A!==null)var dt=!0;else{var qe=t(_);qe!==null&&Ye(Y,qe.startTime-ve),dt=!1}return dt}finally{A=null,P=ye,N=!1}}var le=!1,Z=null,Se=-1,Le=5,X=-1;function fe(){return!(n.unstable_now()-X<Le)}function st(){if(Z!==null){var de=n.unstable_now();X=de;var ve=!0;try{ve=Z(!0,de)}finally{ve?Ue():(le=!1,Z=null)}}else le=!1}var Ue;if(typeof j=="function")Ue=function(){j(st)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,be=Me.port2;Me.port1.onmessage=st,Ue=function(){be.postMessage(null)}}else Ue=function(){D(st,0)};function Ke(de){Z=de,le||(le=!0,Ue())}function Ye(de,ve){Se=D(function(){de(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ke(ce))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(de){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var ye=P;P=ve;try{return de()}finally{P=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ve){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ye=P;P=de;try{return ve()}finally{P=ye}},n.unstable_scheduleCallback=function(de,ve,ye){var _e=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,de){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,de={id:b++,callback:ve,priorityLevel:de,startTime:ye,expirationTime:ge,sortIndex:-1},ye>_e?(de.sortIndex=ye,e(_,de),t(g)===null&&de===t(_)&&(K?(I(Se),Se=-1):K=!0,Ye(Y,ye-_e))):(de.sortIndex=ge,e(g,de),F||N||(F=!0,Ke(ce))),de},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(de){var ve=P;return function(){var ye=P;P=ve;try{return de.apply(this,arguments)}finally{P=ye}}}})(Ywe);Kwe.exports=Ywe;var _Ne=Kwe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qwe=an,km=_Ne;function Ir(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qwe=new Set,sR={};function Zb(n,e){SM(n,e),SM(n+"Capture",e)}function SM(n,e){for(sR[n]=e,n=0;n<e.length;n++)Qwe.add(e[n])}var b1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BV=Object.prototype.hasOwnProperty,wNe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pve={},kve={};function xNe(n){return BV.call(kve,n)?!0:BV.call(Pve,n)?!1:wNe.test(n)?kve[n]=!0:(Pve[n]=!0,!1)}function SNe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function bNe(n,e,t,r){if(e===null||typeof e>"u"||SNe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rp(n,e,t,r,o,s,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=c}var bd={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bd[n]=new rp(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bd[e]=new rp(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bd[n]=new rp(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bd[n]=new rp(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bd[n]=new rp(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bd[n]=new rp(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bd[n]=new rp(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bd[n]=new rp(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bd[n]=new rp(n,5,!1,n.toLowerCase(),null,!1,!1)});var KX=/[\-:]([a-z])/g;function YX(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(KX,YX);bd[e]=new rp(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(KX,YX);bd[e]=new rp(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(KX,YX);bd[e]=new rp(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bd[n]=new rp(n,1,!1,n.toLowerCase(),null,!1,!1)});bd.xlinkHref=new rp("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bd[n]=new rp(n,1,!1,n.toLowerCase(),null,!0,!0)});function qX(n,e,t,r){var o=bd.hasOwnProperty(e)?bd[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bNe(e,t,o,r)&&(t=null),r||o===null?xNe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,r=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var T1=qwe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wN=Symbol.for("react.element"),XC=Symbol.for("react.portal"),KC=Symbol.for("react.fragment"),QX=Symbol.for("react.strict_mode"),DV=Symbol.for("react.profiler"),Jwe=Symbol.for("react.provider"),Zwe=Symbol.for("react.context"),JX=Symbol.for("react.forward_ref"),NV=Symbol.for("react.suspense"),LV=Symbol.for("react.suspense_list"),ZX=Symbol.for("react.memo"),xw=Symbol.for("react.lazy"),$we=Symbol.for("react.offscreen"),Ive=Symbol.iterator;function tI(n){return n===null||typeof n!="object"?null:(n=Ive&&n[Ive]||n["@@iterator"],typeof n=="function"?n:null)}var ou=Object.assign,I7;function LI(n){if(I7===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);I7=e&&e[1]||""}return`
`+I7+n}var R7=!1;function O7(n,e){if(!n||R7)return"";R7=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var r=_}Reflect.construct(n,[],e)}else{try{e.call()}catch(_){r=_}n.call(e.prototype)}else{try{throw Error()}catch(_){r=_}n()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var o=_.stack.split(`
`),s=r.stack.split(`
`),c=o.length-1,d=s.length-1;1<=c&&0<=d&&o[c]!==s[d];)d--;for(;1<=c&&0<=d;c--,d--)if(o[c]!==s[d]){if(c!==1||d!==1)do if(c--,d--,0>d||o[c]!==s[d]){var g=`
`+o[c].replace(" at new "," at ");return n.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",n.displayName)),g}while(1<=c&&0<=d);break}}}finally{R7=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?LI(n):""}function ENe(n){switch(n.tag){case 5:return LI(n.type);case 16:return LI("Lazy");case 13:return LI("Suspense");case 19:return LI("SuspenseList");case 0:case 2:case 15:return n=O7(n.type,!1),n;case 11:return n=O7(n.type.render,!1),n;case 1:return n=O7(n.type,!0),n;default:return""}}function FV(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case KC:return"Fragment";case XC:return"Portal";case DV:return"Profiler";case QX:return"StrictMode";case NV:return"Suspense";case LV:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Zwe:return(n.displayName||"Context")+".Consumer";case Jwe:return(n._context.displayName||"Context")+".Provider";case JX:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ZX:return e=n.displayName||null,e!==null?e:FV(n.type)||"Memo";case xw:e=n._payload,n=n._init;try{return FV(n(e))}catch{}}return null}function ANe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FV(e);case 8:return e===QX?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yw(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function exe(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CNe(n){var e=exe(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,s.call(this,c)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function xN(n){n._valueTracker||(n._valueTracker=CNe(n))}function txe(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=exe(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function dL(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zV(n,e){var t=e.checked;return ou({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Rve(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Yw(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nxe(n,e){e=e.checked,e!=null&&qX(n,"checked",e,!1)}function UV(n,e){nxe(n,e);var t=Yw(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?jV(n,e.type,t):e.hasOwnProperty("defaultValue")&&jV(n,e.type,Yw(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ove(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function jV(n,e,t){(e!=="number"||dL(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var FI=Array.isArray;function fM(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Yw(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function HV(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ir(91));return ou({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Bve(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ir(92));if(FI(t)){if(1<t.length)throw Error(Ir(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Yw(t)}}function rxe(n,e){var t=Yw(e.value),r=Yw(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Dve(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ixe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GV(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ixe(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var SN,oxe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(SN=SN||document.createElement("div"),SN.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=SN.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function aR(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var GI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MNe=["Webkit","ms","Moz","O"];Object.keys(GI).forEach(function(n){MNe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),GI[e]=GI[n]})});function sxe(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||GI.hasOwnProperty(n)&&GI[n]?(""+e).trim():e+"px"}function axe(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,o=sxe(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}var TNe=ou({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VV(n,e){if(e){if(TNe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ir(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ir(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ir(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ir(62))}}function WV(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XV=null;function $X(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var KV=null,dM=null,hM=null;function Nve(n){if(n=JR(n)){if(typeof KV!="function")throw Error(Ir(280));var e=n.stateNode;e&&(e=fF(e),KV(n.stateNode,n.type,e))}}function lxe(n){dM?hM?hM.push(n):hM=[n]:dM=n}function uxe(){if(dM){var n=dM,e=hM;if(hM=dM=null,Nve(n),e)for(n=0;n<e.length;n++)Nve(e[n])}}function cxe(n,e){return n(e)}function fxe(){}var B7=!1;function dxe(n,e,t){if(B7)return n(e,t);B7=!0;try{return cxe(n,e,t)}finally{B7=!1,(dM!==null||hM!==null)&&(fxe(),uxe())}}function lR(n,e){var t=n.stateNode;if(t===null)return null;var r=fF(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ir(231,e,typeof t));return t}var YV=!1;if(b1)try{var nI={};Object.defineProperty(nI,"passive",{get:function(){YV=!0}}),window.addEventListener("test",nI,nI),window.removeEventListener("test",nI,nI)}catch{YV=!1}function PNe(n,e,t,r,o,s,c,d,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(t,_)}catch(b){this.onError(b)}}var VI=!1,hL=null,pL=!1,qV=null,kNe={onError:function(n){VI=!0,hL=n}};function INe(n,e,t,r,o,s,c,d,g){VI=!1,hL=null,PNe.apply(kNe,arguments)}function RNe(n,e,t,r,o,s,c,d,g){if(INe.apply(this,arguments),VI){if(VI){var _=hL;VI=!1,hL=null}else throw Error(Ir(198));pL||(pL=!0,qV=_)}}function $b(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hxe(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Lve(n){if($b(n)!==n)throw Error(Ir(188))}function ONe(n){var e=n.alternate;if(!e){if(e=$b(n),e===null)throw Error(Ir(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){t=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===t)return Lve(o),n;if(s===r)return Lve(o),e;s=s.sibling}throw Error(Ir(188))}if(t.return!==r.return)t=o,r=s;else{for(var c=!1,d=o.child;d;){if(d===t){c=!0,t=o,r=s;break}if(d===r){c=!0,r=o,t=s;break}d=d.sibling}if(!c){for(d=s.child;d;){if(d===t){c=!0,t=s,r=o;break}if(d===r){c=!0,r=s,t=o;break}d=d.sibling}if(!c)throw Error(Ir(189))}}if(t.alternate!==r)throw Error(Ir(190))}if(t.tag!==3)throw Error(Ir(188));return t.stateNode.current===t?n:e}function pxe(n){return n=ONe(n),n!==null?mxe(n):null}function mxe(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=mxe(n);if(e!==null)return e;n=n.sibling}return null}var gxe=km.unstable_scheduleCallback,Fve=km.unstable_cancelCallback,BNe=km.unstable_shouldYield,DNe=km.unstable_requestPaint,$u=km.unstable_now,NNe=km.unstable_getCurrentPriorityLevel,eK=km.unstable_ImmediatePriority,vxe=km.unstable_UserBlockingPriority,mL=km.unstable_NormalPriority,LNe=km.unstable_LowPriority,yxe=km.unstable_IdlePriority,aF=null,j0=null;function FNe(n){if(j0&&typeof j0.onCommitFiberRoot=="function")try{j0.onCommitFiberRoot(aF,n,void 0,(n.current.flags&128)===128)}catch{}}var zv=Math.clz32?Math.clz32:jNe,zNe=Math.log,UNe=Math.LN2;function jNe(n){return n>>>=0,n===0?32:31-(zNe(n)/UNe|0)|0}var bN=64,EN=4194304;function zI(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gL(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,o=n.suspendedLanes,s=n.pingedLanes,c=t&268435455;if(c!==0){var d=c&~o;d!==0?r=zI(d):(s&=c,s!==0&&(r=zI(s)))}else c=t&~o,c!==0?r=zI(c):s!==0&&(r=zI(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-zv(e),o=1<<t,r|=n[t],e&=~o;return r}function HNe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GNe(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var c=31-zv(s),d=1<<c,g=o[c];g===-1?(!(d&t)||d&r)&&(o[c]=HNe(d,e)):g<=e&&(n.expiredLanes|=d),s&=~d}}function QV(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function _xe(){var n=bN;return bN<<=1,!(bN&4194240)&&(bN=64),n}function D7(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function qR(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-zv(e),n[e]=t}function VNe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-zv(t),s=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~s}}function tK(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-zv(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var da=0;function wxe(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xxe,nK,Sxe,bxe,Exe,JV=!1,AN=[],Ow=null,Bw=null,Dw=null,uR=new Map,cR=new Map,Aw=[],WNe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zve(n,e){switch(n){case"focusin":case"focusout":Ow=null;break;case"dragenter":case"dragleave":Bw=null;break;case"mouseover":case"mouseout":Dw=null;break;case"pointerover":case"pointerout":uR.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cR.delete(e.pointerId)}}function rI(n,e,t,r,o,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=JR(e),e!==null&&nK(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function XNe(n,e,t,r,o){switch(e){case"focusin":return Ow=rI(Ow,n,e,t,r,o),!0;case"dragenter":return Bw=rI(Bw,n,e,t,r,o),!0;case"mouseover":return Dw=rI(Dw,n,e,t,r,o),!0;case"pointerover":var s=o.pointerId;return uR.set(s,rI(uR.get(s)||null,n,e,t,r,o)),!0;case"gotpointercapture":return s=o.pointerId,cR.set(s,rI(cR.get(s)||null,n,e,t,r,o)),!0}return!1}function Axe(n){var e=Eb(n.target);if(e!==null){var t=$b(e);if(t!==null){if(e=t.tag,e===13){if(e=hxe(t),e!==null){n.blockedOn=e,Exe(n.priority,function(){Sxe(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function W5(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ZV(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);XV=r,t.target.dispatchEvent(r),XV=null}else return e=JR(t),e!==null&&nK(e),n.blockedOn=t,!1;e.shift()}return!0}function Uve(n,e,t){W5(n)&&t.delete(e)}function KNe(){JV=!1,Ow!==null&&W5(Ow)&&(Ow=null),Bw!==null&&W5(Bw)&&(Bw=null),Dw!==null&&W5(Dw)&&(Dw=null),uR.forEach(Uve),cR.forEach(Uve)}function iI(n,e){n.blockedOn===e&&(n.blockedOn=null,JV||(JV=!0,km.unstable_scheduleCallback(km.unstable_NormalPriority,KNe)))}function fR(n){function e(o){return iI(o,n)}if(0<AN.length){iI(AN[0],n);for(var t=1;t<AN.length;t++){var r=AN[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ow!==null&&iI(Ow,n),Bw!==null&&iI(Bw,n),Dw!==null&&iI(Dw,n),uR.forEach(e),cR.forEach(e),t=0;t<Aw.length;t++)r=Aw[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Aw.length&&(t=Aw[0],t.blockedOn===null);)Axe(t),t.blockedOn===null&&Aw.shift()}var pM=T1.ReactCurrentBatchConfig,vL=!0;function YNe(n,e,t,r){var o=da,s=pM.transition;pM.transition=null;try{da=1,rK(n,e,t,r)}finally{da=o,pM.transition=s}}function qNe(n,e,t,r){var o=da,s=pM.transition;pM.transition=null;try{da=4,rK(n,e,t,r)}finally{da=o,pM.transition=s}}function rK(n,e,t,r){if(vL){var o=ZV(n,e,t,r);if(o===null)W7(n,e,r,yL,t),zve(n,r);else if(XNe(o,n,e,t,r))r.stopPropagation();else if(zve(n,r),e&4&&-1<WNe.indexOf(n)){for(;o!==null;){var s=JR(o);if(s!==null&&xxe(s),s=ZV(n,e,t,r),s===null&&W7(n,e,r,yL,t),s===o)break;o=s}o!==null&&r.stopPropagation()}else W7(n,e,r,null,t)}}var yL=null;function ZV(n,e,t,r){if(yL=null,n=$X(r),n=Eb(n),n!==null)if(e=$b(n),e===null)n=null;else if(t=e.tag,t===13){if(n=hxe(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return yL=n,null}function Cxe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NNe()){case eK:return 1;case vxe:return 4;case mL:case LNe:return 16;case yxe:return 536870912;default:return 16}default:return 16}}var Pw=null,iK=null,X5=null;function Mxe(){if(X5)return X5;var n,e=iK,t=e.length,r,o="value"in Pw?Pw.value:Pw.textContent,s=o.length;for(n=0;n<t&&e[n]===o[n];n++);var c=t-n;for(r=1;r<=c&&e[t-r]===o[s-r];r++);return X5=o.slice(n,1<r?1-r:void 0)}function K5(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function CN(){return!0}function jve(){return!1}function Bm(n){function e(t,r,o,s,c){this._reactName=t,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var d in n)n.hasOwnProperty(d)&&(t=n[d],this[d]=t?t(s):s[d]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?CN:jve,this.isPropagationStopped=jve,this}return ou(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=CN)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=CN)},persist:function(){},isPersistent:CN}),e}var VM={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oK=Bm(VM),QR=ou({},VM,{view:0,detail:0}),QNe=Bm(QR),N7,L7,oI,lF=ou({},QR,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sK,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oI&&(oI&&n.type==="mousemove"?(N7=n.screenX-oI.screenX,L7=n.screenY-oI.screenY):L7=N7=0,oI=n),N7)},movementY:function(n){return"movementY"in n?n.movementY:L7}}),Hve=Bm(lF),JNe=ou({},lF,{dataTransfer:0}),ZNe=Bm(JNe),$Ne=ou({},QR,{relatedTarget:0}),F7=Bm($Ne),e5e=ou({},VM,{animationName:0,elapsedTime:0,pseudoElement:0}),t5e=Bm(e5e),n5e=ou({},VM,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),r5e=Bm(n5e),i5e=ou({},VM,{data:0}),Gve=Bm(i5e),o5e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s5e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a5e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l5e(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=a5e[n])?!!e[n]:!1}function sK(){return l5e}var u5e=ou({},QR,{key:function(n){if(n.key){var e=o5e[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=K5(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?s5e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sK,charCode:function(n){return n.type==="keypress"?K5(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?K5(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),c5e=Bm(u5e),f5e=ou({},lF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vve=Bm(f5e),d5e=ou({},QR,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sK}),h5e=Bm(d5e),p5e=ou({},VM,{propertyName:0,elapsedTime:0,pseudoElement:0}),m5e=Bm(p5e),g5e=ou({},lF,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v5e=Bm(g5e),y5e=[9,13,27,32],aK=b1&&"CompositionEvent"in window,WI=null;b1&&"documentMode"in document&&(WI=document.documentMode);var _5e=b1&&"TextEvent"in window&&!WI,Txe=b1&&(!aK||WI&&8<WI&&11>=WI),Wve=" ",Xve=!1;function Pxe(n,e){switch(n){case"keyup":return y5e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kxe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var YC=!1;function w5e(n,e){switch(n){case"compositionend":return kxe(e);case"keypress":return e.which!==32?null:(Xve=!0,Wve);case"textInput":return n=e.data,n===Wve&&Xve?null:n;default:return null}}function x5e(n,e){if(YC)return n==="compositionend"||!aK&&Pxe(n,e)?(n=Mxe(),X5=iK=Pw=null,YC=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Txe&&e.locale!=="ko"?null:e.data;default:return null}}var S5e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kve(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!S5e[n.type]:e==="textarea"}function Ixe(n,e,t,r){lxe(r),e=_L(e,"onChange"),0<e.length&&(t=new oK("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var XI=null,dR=null;function b5e(n){Hxe(n,0)}function uF(n){var e=JC(n);if(txe(e))return n}function E5e(n,e){if(n==="change")return e}var Rxe=!1;if(b1){var z7;if(b1){var U7="oninput"in document;if(!U7){var Yve=document.createElement("div");Yve.setAttribute("oninput","return;"),U7=typeof Yve.oninput=="function"}z7=U7}else z7=!1;Rxe=z7&&(!document.documentMode||9<document.documentMode)}function qve(){XI&&(XI.detachEvent("onpropertychange",Oxe),dR=XI=null)}function Oxe(n){if(n.propertyName==="value"&&uF(dR)){var e=[];Ixe(e,dR,n,$X(n)),dxe(b5e,e)}}function A5e(n,e,t){n==="focusin"?(qve(),XI=e,dR=t,XI.attachEvent("onpropertychange",Oxe)):n==="focusout"&&qve()}function C5e(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uF(dR)}function M5e(n,e){if(n==="click")return uF(e)}function T5e(n,e){if(n==="input"||n==="change")return uF(e)}function P5e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gv=typeof Object.is=="function"?Object.is:P5e;function hR(n,e){if(Gv(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!BV.call(e,o)||!Gv(n[o],e[o]))return!1}return!0}function Qve(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jve(n,e){var t=Qve(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Qve(t)}}function Bxe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Bxe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Dxe(){for(var n=window,e=dL();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dL(n.document)}return e}function lK(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function k5e(n){var e=Dxe(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Bxe(t.ownerDocument.documentElement,t)){if(r!==null&&lK(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!n.extend&&s>r&&(o=r,r=s,s=o),o=Jve(t,s);var c=Jve(t,r);o&&c&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var I5e=b1&&"documentMode"in document&&11>=document.documentMode,qC=null,$V=null,KI=null,eW=!1;function Zve(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;eW||qC==null||qC!==dL(r)||(r=qC,"selectionStart"in r&&lK(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),KI&&hR(KI,r)||(KI=r,r=_L($V,"onSelect"),0<r.length&&(e=new oK("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=qC)))}function MN(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var QC={animationend:MN("Animation","AnimationEnd"),animationiteration:MN("Animation","AnimationIteration"),animationstart:MN("Animation","AnimationStart"),transitionend:MN("Transition","TransitionEnd")},j7={},Nxe={};b1&&(Nxe=document.createElement("div").style,"AnimationEvent"in window||(delete QC.animationend.animation,delete QC.animationiteration.animation,delete QC.animationstart.animation),"TransitionEvent"in window||delete QC.transitionend.transition);function cF(n){if(j7[n])return j7[n];if(!QC[n])return n;var e=QC[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Nxe)return j7[n]=e[t];return n}var Lxe=cF("animationend"),Fxe=cF("animationiteration"),zxe=cF("animationstart"),Uxe=cF("transitionend"),jxe=new Map,$ve="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tx(n,e){jxe.set(n,e),Zb(e,[n])}for(var H7=0;H7<$ve.length;H7++){var G7=$ve[H7],R5e=G7.toLowerCase(),O5e=G7[0].toUpperCase()+G7.slice(1);tx(R5e,"on"+O5e)}tx(Lxe,"onAnimationEnd");tx(Fxe,"onAnimationIteration");tx(zxe,"onAnimationStart");tx("dblclick","onDoubleClick");tx("focusin","onFocus");tx("focusout","onBlur");tx(Uxe,"onTransitionEnd");SM("onMouseEnter",["mouseout","mouseover"]);SM("onMouseLeave",["mouseout","mouseover"]);SM("onPointerEnter",["pointerout","pointerover"]);SM("onPointerLeave",["pointerout","pointerover"]);Zb("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zb("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zb("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zb("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zb("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zb("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var UI="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B5e=new Set("cancel close invalid load scroll toggle".split(" ").concat(UI));function e0e(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,RNe(r,e,void 0,n),n.currentTarget=null}function Hxe(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var c=r.length-1;0<=c;c--){var d=r[c],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==s&&o.isPropagationStopped())break e;e0e(o,d,_),s=g}else for(c=0;c<r.length;c++){if(d=r[c],g=d.instance,_=d.currentTarget,d=d.listener,g!==s&&o.isPropagationStopped())break e;e0e(o,d,_),s=g}}}if(pL)throw n=qV,pL=!1,qV=null,n}function wl(n,e){var t=e[oW];t===void 0&&(t=e[oW]=new Set);var r=n+"__bubble";t.has(r)||(Gxe(e,n,2,!1),t.add(r))}function V7(n,e,t){var r=0;e&&(r|=4),Gxe(t,n,r,e)}var TN="_reactListening"+Math.random().toString(36).slice(2);function pR(n){if(!n[TN]){n[TN]=!0,Qwe.forEach(function(t){t!=="selectionchange"&&(B5e.has(t)||V7(t,!1,n),V7(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[TN]||(e[TN]=!0,V7("selectionchange",!1,e))}}function Gxe(n,e,t,r){switch(Cxe(e)){case 1:var o=YNe;break;case 4:o=qNe;break;default:o=rK}t=o.bind(null,e,t,n),o=void 0,!YV||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function W7(n,e,t,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===o||g.nodeType===8&&g.parentNode===o))return;c=c.return}for(;d!==null;){if(c=Eb(d),c===null)return;if(g=c.tag,g===5||g===6){r=s=c;continue e}d=d.parentNode}}r=r.return}dxe(function(){var _=s,b=$X(t),A=[];e:{var P=jxe.get(n);if(P!==void 0){var N=oK,F=n;switch(n){case"keypress":if(K5(t)===0)break e;case"keydown":case"keyup":N=c5e;break;case"focusin":F="focus",N=F7;break;case"focusout":F="blur",N=F7;break;case"beforeblur":case"afterblur":N=F7;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Hve;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ZNe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=h5e;break;case Lxe:case Fxe:case zxe:N=t5e;break;case Uxe:N=m5e;break;case"scroll":N=QNe;break;case"wheel":N=v5e;break;case"copy":case"cut":case"paste":N=r5e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Vve}var K=(e&4)!==0,D=!K&&n==="scroll",I=K?P!==null?P+"Capture":null:P;K=[];for(var j=_,T;j!==null;){T=j;var Y=T.stateNode;if(T.tag===5&&Y!==null&&(T=Y,I!==null&&(Y=lR(j,I),Y!=null&&K.push(mR(j,Y,T)))),D)break;j=j.return}0<K.length&&(P=new N(P,F,null,t,b),A.push({event:P,listeners:K}))}}if(!(e&7)){e:{if(P=n==="mouseover"||n==="pointerover",N=n==="mouseout"||n==="pointerout",P&&t!==XV&&(F=t.relatedTarget||t.fromElement)&&(Eb(F)||F[E1]))break e;if((N||P)&&(P=b.window===b?b:(P=b.ownerDocument)?P.defaultView||P.parentWindow:window,N?(F=t.relatedTarget||t.toElement,N=_,F=F?Eb(F):null,F!==null&&(D=$b(F),F!==D||F.tag!==5&&F.tag!==6)&&(F=null)):(N=null,F=_),N!==F)){if(K=Hve,Y="onMouseLeave",I="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(K=Vve,Y="onPointerLeave",I="onPointerEnter",j="pointer"),D=N==null?P:JC(N),T=F==null?P:JC(F),P=new K(Y,j+"leave",N,t,b),P.target=D,P.relatedTarget=T,Y=null,Eb(b)===_&&(K=new K(I,j+"enter",F,t,b),K.target=T,K.relatedTarget=D,Y=K),D=Y,N&&F)t:{for(K=N,I=F,j=0,T=K;T;T=aC(T))j++;for(T=0,Y=I;Y;Y=aC(Y))T++;for(;0<j-T;)K=aC(K),j--;for(;0<T-j;)I=aC(I),T--;for(;j--;){if(K===I||I!==null&&K===I.alternate)break t;K=aC(K),I=aC(I)}K=null}else K=null;N!==null&&t0e(A,P,N,K,!1),F!==null&&D!==null&&t0e(A,D,F,K,!0)}}e:{if(P=_?JC(_):window,N=P.nodeName&&P.nodeName.toLowerCase(),N==="select"||N==="input"&&P.type==="file")var ce=E5e;else if(Kve(P))if(Rxe)ce=T5e;else{ce=C5e;var le=A5e}else(N=P.nodeName)&&N.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(ce=M5e);if(ce&&(ce=ce(n,_))){Ixe(A,ce,t,b);break e}le&&le(n,P,_),n==="focusout"&&(le=P._wrapperState)&&le.controlled&&P.type==="number"&&jV(P,"number",P.value)}switch(le=_?JC(_):window,n){case"focusin":(Kve(le)||le.contentEditable==="true")&&(qC=le,$V=_,KI=null);break;case"focusout":KI=$V=qC=null;break;case"mousedown":eW=!0;break;case"contextmenu":case"mouseup":case"dragend":eW=!1,Zve(A,t,b);break;case"selectionchange":if(I5e)break;case"keydown":case"keyup":Zve(A,t,b)}var Z;if(aK)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else YC?Pxe(n,t)&&(Se="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(Se="onCompositionStart");Se&&(Txe&&t.locale!=="ko"&&(YC||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&YC&&(Z=Mxe()):(Pw=b,iK="value"in Pw?Pw.value:Pw.textContent,YC=!0)),le=_L(_,Se),0<le.length&&(Se=new Gve(Se,n,null,t,b),A.push({event:Se,listeners:le}),Z?Se.data=Z:(Z=kxe(t),Z!==null&&(Se.data=Z)))),(Z=_5e?w5e(n,t):x5e(n,t))&&(_=_L(_,"onBeforeInput"),0<_.length&&(b=new Gve("onBeforeInput","beforeinput",null,t,b),A.push({event:b,listeners:_}),b.data=Z))}Hxe(A,e)})}function mR(n,e,t){return{instance:n,listener:e,currentTarget:t}}function _L(n,e){for(var t=e+"Capture",r=[];n!==null;){var o=n,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=lR(n,t),s!=null&&r.unshift(mR(n,s,o)),s=lR(n,e),s!=null&&r.push(mR(n,s,o))),n=n.return}return r}function aC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t0e(n,e,t,r,o){for(var s=e._reactName,c=[];t!==null&&t!==r;){var d=t,g=d.alternate,_=d.stateNode;if(g!==null&&g===r)break;d.tag===5&&_!==null&&(d=_,o?(g=lR(t,s),g!=null&&c.unshift(mR(t,g,d))):o||(g=lR(t,s),g!=null&&c.push(mR(t,g,d)))),t=t.return}c.length!==0&&n.push({event:e,listeners:c})}var D5e=/\r\n?/g,N5e=/\u0000|\uFFFD/g;function n0e(n){return(typeof n=="string"?n:""+n).replace(D5e,`
`).replace(N5e,"")}function PN(n,e,t){if(e=n0e(e),n0e(n)!==e&&t)throw Error(Ir(425))}function wL(){}var tW=null,nW=null;function rW(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iW=typeof setTimeout=="function"?setTimeout:void 0,L5e=typeof clearTimeout=="function"?clearTimeout:void 0,r0e=typeof Promise=="function"?Promise:void 0,F5e=typeof queueMicrotask=="function"?queueMicrotask:typeof r0e<"u"?function(n){return r0e.resolve(null).then(n).catch(z5e)}:iW;function z5e(n){setTimeout(function(){throw n})}function X7(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(r===0){n.removeChild(o),fR(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=o}while(t);fR(e)}function Nw(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function i0e(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var WM=Math.random().toString(36).slice(2),F0="__reactFiber$"+WM,gR="__reactProps$"+WM,E1="__reactContainer$"+WM,oW="__reactEvents$"+WM,U5e="__reactListeners$"+WM,j5e="__reactHandles$"+WM;function Eb(n){var e=n[F0];if(e)return e;for(var t=n.parentNode;t;){if(e=t[E1]||t[F0]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=i0e(n);n!==null;){if(t=n[F0])return t;n=i0e(n)}return e}n=t,t=n.parentNode}return null}function JR(n){return n=n[F0]||n[E1],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function JC(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ir(33))}function fF(n){return n[gR]||null}var sW=[],ZC=-1;function nx(n){return{current:n}}function Al(n){0>ZC||(n.current=sW[ZC],sW[ZC]=null,ZC--)}function il(n,e){ZC++,sW[ZC]=n.current,n.current=e}var qw={},dh=nx(qw),Hp=nx(!1),jb=qw;function bM(n,e){var t=n.type.contextTypes;if(!t)return qw;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in t)o[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function Gp(n){return n=n.childContextTypes,n!=null}function xL(){Al(Hp),Al(dh)}function o0e(n,e,t){if(dh.current!==qw)throw Error(Ir(168));il(dh,e),il(Hp,t)}function Vxe(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Ir(108,ANe(n)||"Unknown",o));return ou({},t,r)}function SL(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qw,jb=dh.current,il(dh,n),il(Hp,Hp.current),!0}function s0e(n,e,t){var r=n.stateNode;if(!r)throw Error(Ir(169));t?(n=Vxe(n,e,jb),r.__reactInternalMemoizedMergedChildContext=n,Al(Hp),Al(dh),il(dh,n)):Al(Hp),il(Hp,t)}var u1=null,dF=!1,K7=!1;function Wxe(n){u1===null?u1=[n]:u1.push(n)}function H5e(n){dF=!0,Wxe(n)}function rx(){if(!K7&&u1!==null){K7=!0;var n=0,e=da;try{var t=u1;for(da=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}u1=null,dF=!1}catch(o){throw u1!==null&&(u1=u1.slice(n+1)),gxe(eK,rx),o}finally{da=e,K7=!1}}return null}var $C=[],eM=0,bL=null,EL=0,Pg=[],kg=0,Hb=null,h1=1,p1="";function mb(n,e){$C[eM++]=EL,$C[eM++]=bL,bL=n,EL=e}function Xxe(n,e,t){Pg[kg++]=h1,Pg[kg++]=p1,Pg[kg++]=Hb,Hb=n;var r=h1;n=p1;var o=32-zv(r)-1;r&=~(1<<o),t+=1;var s=32-zv(e)+o;if(30<s){var c=o-o%5;s=(r&(1<<c)-1).toString(32),r>>=c,o-=c,h1=1<<32-zv(e)+o|t<<o|r,p1=s+n}else h1=1<<s|t<<o|r,p1=n}function uK(n){n.return!==null&&(mb(n,1),Xxe(n,1,0))}function cK(n){for(;n===bL;)bL=$C[--eM],$C[eM]=null,EL=$C[--eM],$C[eM]=null;for(;n===Hb;)Hb=Pg[--kg],Pg[kg]=null,p1=Pg[--kg],Pg[kg]=null,h1=Pg[--kg],Pg[kg]=null}var Tm=null,Cm=null,Dl=!1,Lv=null;function Kxe(n,e){var t=Rg(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function a0e(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Tm=n,Cm=Nw(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Tm=n,Cm=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Hb!==null?{id:h1,overflow:p1}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Rg(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Tm=n,Cm=null,!0):!1;default:return!1}}function aW(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lW(n){if(Dl){var e=Cm;if(e){var t=e;if(!a0e(n,e)){if(aW(n))throw Error(Ir(418));e=Nw(t.nextSibling);var r=Tm;e&&a0e(n,e)?Kxe(r,t):(n.flags=n.flags&-4097|2,Dl=!1,Tm=n)}}else{if(aW(n))throw Error(Ir(418));n.flags=n.flags&-4097|2,Dl=!1,Tm=n}}}function l0e(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Tm=n}function kN(n){if(n!==Tm)return!1;if(!Dl)return l0e(n),Dl=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rW(n.type,n.memoizedProps)),e&&(e=Cm)){if(aW(n))throw Yxe(),Error(Ir(418));for(;e;)Kxe(n,e),e=Nw(e.nextSibling)}if(l0e(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ir(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Cm=Nw(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Cm=null}}else Cm=Tm?Nw(n.stateNode.nextSibling):null;return!0}function Yxe(){for(var n=Cm;n;)n=Nw(n.nextSibling)}function EM(){Cm=Tm=null,Dl=!1}function fK(n){Lv===null?Lv=[n]:Lv.push(n)}var G5e=T1.ReactCurrentBatchConfig;function Bv(n,e){if(n&&n.defaultProps){e=ou({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var AL=nx(null),CL=null,tM=null,dK=null;function hK(){dK=tM=CL=null}function pK(n){var e=AL.current;Al(AL),n._currentValue=e}function uW(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function mM(n,e){CL=n,dK=tM=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(jp=!0),n.firstContext=null)}function Lg(n){var e=n._currentValue;if(dK!==n)if(n={context:n,memoizedValue:e,next:null},tM===null){if(CL===null)throw Error(Ir(308));tM=n,CL.dependencies={lanes:0,firstContext:n}}else tM=tM.next=n;return e}var Ab=null;function mK(n){Ab===null?Ab=[n]:Ab.push(n)}function qxe(n,e,t,r){var o=e.interleaved;return o===null?(t.next=t,mK(e)):(t.next=o.next,o.next=t),e.interleaved=t,A1(n,r)}function A1(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Sw=!1;function gK(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qxe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function x1(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Lw(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ts&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,A1(n,t)}return o=r.interleaved,o===null?(e.next=e,mK(r)):(e.next=o.next,o.next=e),r.interleaved=e,A1(n,t)}function Y5(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tK(n,t)}}function u0e(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var o=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var c={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?o=s=c:s=s.next=c,t=t.next}while(t!==null);s===null?o=s=e:s=s.next=e}else o=s=e;t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ML(n,e,t,r){var o=n.updateQueue;Sw=!1;var s=o.firstBaseUpdate,c=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var g=d,_=g.next;g.next=null,c===null?s=_:c.next=_,c=g;var b=n.alternate;b!==null&&(b=b.updateQueue,d=b.lastBaseUpdate,d!==c&&(d===null?b.firstBaseUpdate=_:d.next=_,b.lastBaseUpdate=g))}if(s!==null){var A=o.baseState;c=0,b=_=g=null,d=s;do{var P=d.lane,N=d.eventTime;if((r&P)===P){b!==null&&(b=b.next={eventTime:N,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var F=n,K=d;switch(P=e,N=t,K.tag){case 1:if(F=K.payload,typeof F=="function"){A=F.call(N,A,P);break e}A=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=K.payload,P=typeof F=="function"?F.call(N,A,P):F,P==null)break e;A=ou({},A,P);break e;case 2:Sw=!0}}d.callback!==null&&d.lane!==0&&(n.flags|=64,P=o.effects,P===null?o.effects=[d]:P.push(d))}else N={eventTime:N,lane:P,tag:d.tag,payload:d.payload,callback:d.callback,next:null},b===null?(_=b=N,g=A):b=b.next=N,c|=P;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;P=d,d=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(!0);if(b===null&&(g=A),o.baseState=g,o.firstBaseUpdate=_,o.lastBaseUpdate=b,e=o.shared.interleaved,e!==null){o=e;do c|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Vb|=c,n.lanes=c,n.memoizedState=A}}function c0e(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=t,typeof o!="function")throw Error(Ir(191,o));o.call(r)}}}var Jxe=new qwe.Component().refs;function cW(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ou({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hF={isMounted:function(n){return(n=n._reactInternals)?$b(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=$h(),o=zw(n),s=x1(r,o);s.payload=e,t!=null&&(s.callback=t),e=Lw(n,s,o),e!==null&&(Uv(e,n,o,r),Y5(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=$h(),o=zw(n),s=x1(r,o);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Lw(n,s,o),e!==null&&(Uv(e,n,o,r),Y5(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=$h(),r=zw(n),o=x1(t,r);o.tag=2,e!=null&&(o.callback=e),e=Lw(n,o,r),e!==null&&(Uv(e,n,r,t),Y5(e,n,r))}};function f0e(n,e,t,r,o,s,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,c):e.prototype&&e.prototype.isPureReactComponent?!hR(t,r)||!hR(o,s):!0}function Zxe(n,e,t){var r=!1,o=qw,s=e.contextType;return typeof s=="object"&&s!==null?s=Lg(s):(o=Gp(e)?jb:dh.current,r=e.contextTypes,s=(r=r!=null)?bM(n,o):qw),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hF,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=s),e}function d0e(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&hF.enqueueReplaceState(e,e.state,null)}function fW(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs=Jxe,gK(n);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Lg(s):(s=Gp(e)?jb:dh.current,o.context=bM(n,s)),o.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cW(n,e,s,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&hF.enqueueReplaceState(o,o.state,null),ML(n,t,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function sI(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ir(309));var r=t.stateNode}if(!r)throw Error(Ir(147,n));var o=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(c){var d=o.refs;d===Jxe&&(d=o.refs={}),c===null?delete d[s]:d[s]=c},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ir(284));if(!t._owner)throw Error(Ir(290,n))}return n}function IN(n,e){throw n=Object.prototype.toString.call(e),Error(Ir(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function h0e(n){var e=n._init;return e(n._payload)}function $xe(n){function e(I,j){if(n){var T=I.deletions;T===null?(I.deletions=[j],I.flags|=16):T.push(j)}}function t(I,j){if(!n)return null;for(;j!==null;)e(I,j),j=j.sibling;return null}function r(I,j){for(I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function o(I,j){return I=Uw(I,j),I.index=0,I.sibling=null,I}function s(I,j,T){return I.index=T,n?(T=I.alternate,T!==null?(T=T.index,T<j?(I.flags|=2,j):T):(I.flags|=2,j)):(I.flags|=1048576,j)}function c(I){return n&&I.alternate===null&&(I.flags|=2),I}function d(I,j,T,Y){return j===null||j.tag!==6?(j=eG(T,I.mode,Y),j.return=I,j):(j=o(j,T),j.return=I,j)}function g(I,j,T,Y){var ce=T.type;return ce===KC?b(I,j,T.props.children,Y,T.key):j!==null&&(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xw&&h0e(ce)===j.type)?(Y=o(j,T.props),Y.ref=sI(I,j,T),Y.return=I,Y):(Y=eL(T.type,T.key,T.props,null,I.mode,Y),Y.ref=sI(I,j,T),Y.return=I,Y)}function _(I,j,T,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==T.containerInfo||j.stateNode.implementation!==T.implementation?(j=tG(T,I.mode,Y),j.return=I,j):(j=o(j,T.children||[]),j.return=I,j)}function b(I,j,T,Y,ce){return j===null||j.tag!==7?(j=Bb(T,I.mode,Y,ce),j.return=I,j):(j=o(j,T),j.return=I,j)}function A(I,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return j=eG(""+j,I.mode,T),j.return=I,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wN:return T=eL(j.type,j.key,j.props,null,I.mode,T),T.ref=sI(I,null,j),T.return=I,T;case XC:return j=tG(j,I.mode,T),j.return=I,j;case xw:var Y=j._init;return A(I,Y(j._payload),T)}if(FI(j)||tI(j))return j=Bb(j,I.mode,T,null),j.return=I,j;IN(I,j)}return null}function P(I,j,T,Y){var ce=j!==null?j.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return ce!==null?null:d(I,j,""+T,Y);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wN:return T.key===ce?g(I,j,T,Y):null;case XC:return T.key===ce?_(I,j,T,Y):null;case xw:return ce=T._init,P(I,j,ce(T._payload),Y)}if(FI(T)||tI(T))return ce!==null?null:b(I,j,T,Y,null);IN(I,T)}return null}function N(I,j,T,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return I=I.get(T)||null,d(j,I,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case wN:return I=I.get(Y.key===null?T:Y.key)||null,g(j,I,Y,ce);case XC:return I=I.get(Y.key===null?T:Y.key)||null,_(j,I,Y,ce);case xw:var le=Y._init;return N(I,j,T,le(Y._payload),ce)}if(FI(Y)||tI(Y))return I=I.get(T)||null,b(j,I,Y,ce,null);IN(j,Y)}return null}function F(I,j,T,Y){for(var ce=null,le=null,Z=j,Se=j=0,Le=null;Z!==null&&Se<T.length;Se++){Z.index>Se?(Le=Z,Z=null):Le=Z.sibling;var X=P(I,Z,T[Se],Y);if(X===null){Z===null&&(Z=Le);break}n&&Z&&X.alternate===null&&e(I,Z),j=s(X,j,Se),le===null?ce=X:le.sibling=X,le=X,Z=Le}if(Se===T.length)return t(I,Z),Dl&&mb(I,Se),ce;if(Z===null){for(;Se<T.length;Se++)Z=A(I,T[Se],Y),Z!==null&&(j=s(Z,j,Se),le===null?ce=Z:le.sibling=Z,le=Z);return Dl&&mb(I,Se),ce}for(Z=r(I,Z);Se<T.length;Se++)Le=N(Z,I,Se,T[Se],Y),Le!==null&&(n&&Le.alternate!==null&&Z.delete(Le.key===null?Se:Le.key),j=s(Le,j,Se),le===null?ce=Le:le.sibling=Le,le=Le);return n&&Z.forEach(function(fe){return e(I,fe)}),Dl&&mb(I,Se),ce}function K(I,j,T,Y){var ce=tI(T);if(typeof ce!="function")throw Error(Ir(150));if(T=ce.call(T),T==null)throw Error(Ir(151));for(var le=ce=null,Z=j,Se=j=0,Le=null,X=T.next();Z!==null&&!X.done;Se++,X=T.next()){Z.index>Se?(Le=Z,Z=null):Le=Z.sibling;var fe=P(I,Z,X.value,Y);if(fe===null){Z===null&&(Z=Le);break}n&&Z&&fe.alternate===null&&e(I,Z),j=s(fe,j,Se),le===null?ce=fe:le.sibling=fe,le=fe,Z=Le}if(X.done)return t(I,Z),Dl&&mb(I,Se),ce;if(Z===null){for(;!X.done;Se++,X=T.next())X=A(I,X.value,Y),X!==null&&(j=s(X,j,Se),le===null?ce=X:le.sibling=X,le=X);return Dl&&mb(I,Se),ce}for(Z=r(I,Z);!X.done;Se++,X=T.next())X=N(Z,I,Se,X.value,Y),X!==null&&(n&&X.alternate!==null&&Z.delete(X.key===null?Se:X.key),j=s(X,j,Se),le===null?ce=X:le.sibling=X,le=X);return n&&Z.forEach(function(st){return e(I,st)}),Dl&&mb(I,Se),ce}function D(I,j,T,Y){if(typeof T=="object"&&T!==null&&T.type===KC&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wN:e:{for(var ce=T.key,le=j;le!==null;){if(le.key===ce){if(ce=T.type,ce===KC){if(le.tag===7){t(I,le.sibling),j=o(le,T.props.children),j.return=I,I=j;break e}}else if(le.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xw&&h0e(ce)===le.type){t(I,le.sibling),j=o(le,T.props),j.ref=sI(I,le,T),j.return=I,I=j;break e}t(I,le);break}else e(I,le);le=le.sibling}T.type===KC?(j=Bb(T.props.children,I.mode,Y,T.key),j.return=I,I=j):(Y=eL(T.type,T.key,T.props,null,I.mode,Y),Y.ref=sI(I,j,T),Y.return=I,I=Y)}return c(I);case XC:e:{for(le=T.key;j!==null;){if(j.key===le)if(j.tag===4&&j.stateNode.containerInfo===T.containerInfo&&j.stateNode.implementation===T.implementation){t(I,j.sibling),j=o(j,T.children||[]),j.return=I,I=j;break e}else{t(I,j);break}else e(I,j);j=j.sibling}j=tG(T,I.mode,Y),j.return=I,I=j}return c(I);case xw:return le=T._init,D(I,j,le(T._payload),Y)}if(FI(T))return F(I,j,T,Y);if(tI(T))return K(I,j,T,Y);IN(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,j!==null&&j.tag===6?(t(I,j.sibling),j=o(j,T),j.return=I,I=j):(t(I,j),j=eG(T,I.mode,Y),j.return=I,I=j),c(I)):t(I,j)}return D}var AM=$xe(!0),eSe=$xe(!1),ZR={},H0=nx(ZR),vR=nx(ZR),yR=nx(ZR);function Cb(n){if(n===ZR)throw Error(Ir(174));return n}function vK(n,e){switch(il(yR,e),il(vR,n),il(H0,ZR),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:GV(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=GV(e,n)}Al(H0),il(H0,e)}function CM(){Al(H0),Al(vR),Al(yR)}function tSe(n){Cb(yR.current);var e=Cb(H0.current),t=GV(e,n.type);e!==t&&(il(vR,n),il(H0,t))}function yK(n){vR.current===n&&(Al(H0),Al(vR))}var tu=nx(0);function TL(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y7=[];function _K(){for(var n=0;n<Y7.length;n++)Y7[n]._workInProgressVersionPrimary=null;Y7.length=0}var q5=T1.ReactCurrentDispatcher,q7=T1.ReactCurrentBatchConfig,Gb=0,iu=null,$c=null,Ff=null,PL=!1,YI=!1,_R=0,V5e=0;function $d(){throw Error(Ir(321))}function wK(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Gv(n[t],e[t]))return!1;return!0}function xK(n,e,t,r,o,s){if(Gb=s,iu=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q5.current=n===null||n.memoizedState===null?Y5e:q5e,n=t(r,o),YI){s=0;do{if(YI=!1,_R=0,25<=s)throw Error(Ir(301));s+=1,Ff=$c=null,e.updateQueue=null,q5.current=Q5e,n=t(r,o)}while(YI)}if(q5.current=kL,e=$c!==null&&$c.next!==null,Gb=0,Ff=$c=iu=null,PL=!1,e)throw Error(Ir(300));return n}function SK(){var n=_R!==0;return _R=0,n}function D0(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ff===null?iu.memoizedState=Ff=n:Ff=Ff.next=n,Ff}function Fg(){if($c===null){var n=iu.alternate;n=n!==null?n.memoizedState:null}else n=$c.next;var e=Ff===null?iu.memoizedState:Ff.next;if(e!==null)Ff=e,$c=n;else{if(n===null)throw Error(Ir(310));$c=n,n={memoizedState:$c.memoizedState,baseState:$c.baseState,baseQueue:$c.baseQueue,queue:$c.queue,next:null},Ff===null?iu.memoizedState=Ff=n:Ff=Ff.next=n}return Ff}function wR(n,e){return typeof e=="function"?e(n):e}function Q7(n){var e=Fg(),t=e.queue;if(t===null)throw Error(Ir(311));t.lastRenderedReducer=n;var r=$c,o=r.baseQueue,s=t.pending;if(s!==null){if(o!==null){var c=o.next;o.next=s.next,s.next=c}r.baseQueue=o=s,t.pending=null}if(o!==null){s=o.next,r=r.baseState;var d=c=null,g=null,_=s;do{var b=_.lane;if((Gb&b)===b)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:n(r,_.action);else{var A={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(d=g=A,c=r):g=g.next=A,iu.lanes|=b,Vb|=b}_=_.next}while(_!==null&&_!==s);g===null?c=r:g.next=d,Gv(r,e.memoizedState)||(jp=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=g,t.lastRenderedState=r}if(n=t.interleaved,n!==null){o=n;do s=o.lane,iu.lanes|=s,Vb|=s,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function J7(n){var e=Fg(),t=e.queue;if(t===null)throw Error(Ir(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,s=e.memoizedState;if(o!==null){t.pending=null;var c=o=o.next;do s=n(s,c.action),c=c.next;while(c!==o);Gv(s,e.memoizedState)||(jp=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function nSe(){}function rSe(n,e){var t=iu,r=Fg(),o=e(),s=!Gv(r.memoizedState,o);if(s&&(r.memoizedState=o,jp=!0),r=r.queue,bK(sSe.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ff!==null&&Ff.memoizedState.tag&1){if(t.flags|=2048,xR(9,oSe.bind(null,t,r,o,e),void 0,null),Uf===null)throw Error(Ir(349));Gb&30||iSe(t,e,o)}return o}function iSe(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=iu.updateQueue,e===null?(e={lastEffect:null,stores:null},iu.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oSe(n,e,t,r){e.value=t,e.getSnapshot=r,aSe(e)&&lSe(n)}function sSe(n,e,t){return t(function(){aSe(e)&&lSe(n)})}function aSe(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Gv(n,t)}catch{return!0}}function lSe(n){var e=A1(n,1);e!==null&&Uv(e,n,1,-1)}function p0e(n){var e=D0();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wR,lastRenderedState:n},e.queue=n,n=n.dispatch=K5e.bind(null,iu,n),[e.memoizedState,n]}function xR(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=iu.updateQueue,e===null?(e={lastEffect:null,stores:null},iu.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function uSe(){return Fg().memoizedState}function Q5(n,e,t,r){var o=D0();iu.flags|=n,o.memoizedState=xR(1|e,t,void 0,r===void 0?null:r)}function pF(n,e,t,r){var o=Fg();r=r===void 0?null:r;var s=void 0;if($c!==null){var c=$c.memoizedState;if(s=c.destroy,r!==null&&wK(r,c.deps)){o.memoizedState=xR(e,t,s,r);return}}iu.flags|=n,o.memoizedState=xR(1|e,t,s,r)}function m0e(n,e){return Q5(8390656,8,n,e)}function bK(n,e){return pF(2048,8,n,e)}function cSe(n,e){return pF(4,2,n,e)}function fSe(n,e){return pF(4,4,n,e)}function dSe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function hSe(n,e,t){return t=t!=null?t.concat([n]):null,pF(4,4,dSe.bind(null,e,n),t)}function EK(){}function pSe(n,e){var t=Fg();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&wK(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function mSe(n,e){var t=Fg();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&wK(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function gSe(n,e,t){return Gb&21?(Gv(t,e)||(t=_xe(),iu.lanes|=t,Vb|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,jp=!0),n.memoizedState=t)}function W5e(n,e){var t=da;da=t!==0&&4>t?t:4,n(!0);var r=q7.transition;q7.transition={};try{n(!1),e()}finally{da=t,q7.transition=r}}function vSe(){return Fg().memoizedState}function X5e(n,e,t){var r=zw(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},ySe(n))_Se(e,t);else if(t=qxe(n,e,t,r),t!==null){var o=$h();Uv(t,n,r,o),wSe(t,e,r)}}function K5e(n,e,t){var r=zw(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(ySe(n))_Se(e,o);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var c=e.lastRenderedState,d=s(c,t);if(o.hasEagerState=!0,o.eagerState=d,Gv(d,c)){var g=e.interleaved;g===null?(o.next=o,mK(e)):(o.next=g.next,g.next=o),e.interleaved=o;return}}catch{}finally{}t=qxe(n,e,o,r),t!==null&&(o=$h(),Uv(t,n,r,o),wSe(t,e,r))}}function ySe(n){var e=n.alternate;return n===iu||e!==null&&e===iu}function _Se(n,e){YI=PL=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wSe(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tK(n,t)}}var kL={readContext:Lg,useCallback:$d,useContext:$d,useEffect:$d,useImperativeHandle:$d,useInsertionEffect:$d,useLayoutEffect:$d,useMemo:$d,useReducer:$d,useRef:$d,useState:$d,useDebugValue:$d,useDeferredValue:$d,useTransition:$d,useMutableSource:$d,useSyncExternalStore:$d,useId:$d,unstable_isNewReconciler:!1},Y5e={readContext:Lg,useCallback:function(n,e){return D0().memoizedState=[n,e===void 0?null:e],n},useContext:Lg,useEffect:m0e,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Q5(4194308,4,dSe.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Q5(4194308,4,n,e)},useInsertionEffect:function(n,e){return Q5(4,2,n,e)},useMemo:function(n,e){var t=D0();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=D0();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=X5e.bind(null,iu,n),[r.memoizedState,n]},useRef:function(n){var e=D0();return n={current:n},e.memoizedState=n},useState:p0e,useDebugValue:EK,useDeferredValue:function(n){return D0().memoizedState=n},useTransition:function(){var n=p0e(!1),e=n[0];return n=W5e.bind(null,n[1]),D0().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=iu,o=D0();if(Dl){if(t===void 0)throw Error(Ir(407));t=t()}else{if(t=e(),Uf===null)throw Error(Ir(349));Gb&30||iSe(r,e,t)}o.memoizedState=t;var s={value:t,getSnapshot:e};return o.queue=s,m0e(sSe.bind(null,r,s,n),[n]),r.flags|=2048,xR(9,oSe.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=D0(),e=Uf.identifierPrefix;if(Dl){var t=p1,r=h1;t=(r&~(1<<32-zv(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=_R++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=V5e++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},q5e={readContext:Lg,useCallback:pSe,useContext:Lg,useEffect:bK,useImperativeHandle:hSe,useInsertionEffect:cSe,useLayoutEffect:fSe,useMemo:mSe,useReducer:Q7,useRef:uSe,useState:function(){return Q7(wR)},useDebugValue:EK,useDeferredValue:function(n){var e=Fg();return gSe(e,$c.memoizedState,n)},useTransition:function(){var n=Q7(wR)[0],e=Fg().memoizedState;return[n,e]},useMutableSource:nSe,useSyncExternalStore:rSe,useId:vSe,unstable_isNewReconciler:!1},Q5e={readContext:Lg,useCallback:pSe,useContext:Lg,useEffect:bK,useImperativeHandle:hSe,useInsertionEffect:cSe,useLayoutEffect:fSe,useMemo:mSe,useReducer:J7,useRef:uSe,useState:function(){return J7(wR)},useDebugValue:EK,useDeferredValue:function(n){var e=Fg();return $c===null?e.memoizedState=n:gSe(e,$c.memoizedState,n)},useTransition:function(){var n=J7(wR)[0],e=Fg().memoizedState;return[n,e]},useMutableSource:nSe,useSyncExternalStore:rSe,useId:vSe,unstable_isNewReconciler:!1};function MM(n,e){try{var t="",r=e;do t+=ENe(r),r=r.return;while(r);var o=t}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:o,digest:null}}function Z7(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dW(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var J5e=typeof WeakMap=="function"?WeakMap:Map;function xSe(n,e,t){t=x1(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){RL||(RL=!0,SW=r),dW(n,e)},t}function SSe(n,e,t){t=x1(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){dW(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){dW(n,e),typeof r!="function"&&(Fw===null?Fw=new Set([this]):Fw.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),t}function g0e(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new J5e;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=fLe.bind(null,n,e,t),e.then(n,n))}function v0e(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function y0e(n,e,t,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=x1(-1,1),e.tag=2,Lw(t,e,1))),t.lanes|=1),n)}var Z5e=T1.ReactCurrentOwner,jp=!1;function Jh(n,e,t,r){e.child=n===null?eSe(e,null,t,r):AM(e,n.child,t,r)}function _0e(n,e,t,r,o){t=t.render;var s=e.ref;return mM(e,o),r=xK(n,e,t,r,s,o),t=SK(),n!==null&&!jp?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,C1(n,e,o)):(Dl&&t&&uK(e),e.flags|=1,Jh(n,e,r,o),e.child)}function w0e(n,e,t,r,o){if(n===null){var s=t.type;return typeof s=="function"&&!RK(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,bSe(n,e,s,r,o)):(n=eL(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&o)){var c=s.memoizedProps;if(t=t.compare,t=t!==null?t:hR,t(c,r)&&n.ref===e.ref)return C1(n,e,o)}return e.flags|=1,n=Uw(s,r),n.ref=e.ref,n.return=e,e.child=n}function bSe(n,e,t,r,o){if(n!==null){var s=n.memoizedProps;if(hR(s,r)&&n.ref===e.ref)if(jp=!1,e.pendingProps=r=s,(n.lanes&o)!==0)n.flags&131072&&(jp=!0);else return e.lanes=n.lanes,C1(n,e,o)}return hW(n,e,t,r,o)}function ESe(n,e,t){var r=e.pendingProps,o=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},il(rM,bm),bm|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,il(rM,bm),bm|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,il(rM,bm),bm|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,il(rM,bm),bm|=r;return Jh(n,e,o,t),e.child}function ASe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function hW(n,e,t,r,o){var s=Gp(t)?jb:dh.current;return s=bM(e,s),mM(e,o),t=xK(n,e,t,r,s,o),r=SK(),n!==null&&!jp?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,C1(n,e,o)):(Dl&&r&&uK(e),e.flags|=1,Jh(n,e,t,o),e.child)}function x0e(n,e,t,r,o){if(Gp(t)){var s=!0;SL(e)}else s=!1;if(mM(e,o),e.stateNode===null)J5(n,e),Zxe(e,t,r),fW(e,t,r,o),r=!0;else if(n===null){var c=e.stateNode,d=e.memoizedProps;c.props=d;var g=c.context,_=t.contextType;typeof _=="object"&&_!==null?_=Lg(_):(_=Gp(t)?jb:dh.current,_=bM(e,_));var b=t.getDerivedStateFromProps,A=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function";A||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||g!==_)&&d0e(e,c,r,_),Sw=!1;var P=e.memoizedState;c.state=P,ML(e,r,c,o),g=e.memoizedState,d!==r||P!==g||Hp.current||Sw?(typeof b=="function"&&(cW(e,t,b,r),g=e.memoizedState),(d=Sw||f0e(e,t,d,r,P,g,_))?(A||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),c.props=r,c.state=g,c.context=_,r=d):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,Qxe(n,e),d=e.memoizedProps,_=e.type===e.elementType?d:Bv(e.type,d),c.props=_,A=e.pendingProps,P=c.context,g=t.contextType,typeof g=="object"&&g!==null?g=Lg(g):(g=Gp(t)?jb:dh.current,g=bM(e,g));var N=t.getDerivedStateFromProps;(b=typeof N=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==A||P!==g)&&d0e(e,c,r,g),Sw=!1,P=e.memoizedState,c.state=P,ML(e,r,c,o);var F=e.memoizedState;d!==A||P!==F||Hp.current||Sw?(typeof N=="function"&&(cW(e,t,N,r),F=e.memoizedState),(_=Sw||f0e(e,t,_,r,P,F,g)||!1)?(b||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,F,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,F,g)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===n.memoizedProps&&P===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&P===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=F),c.props=r,c.state=F,c.context=g,r=_):(typeof c.componentDidUpdate!="function"||d===n.memoizedProps&&P===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&P===n.memoizedState||(e.flags|=1024),r=!1)}return pW(n,e,t,r,s,o)}function pW(n,e,t,r,o,s){ASe(n,e);var c=(e.flags&128)!==0;if(!r&&!c)return o&&s0e(e,t,!1),C1(n,e,s);r=e.stateNode,Z5e.current=e;var d=c&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&c?(e.child=AM(e,n.child,null,s),e.child=AM(e,null,d,s)):Jh(n,e,d,s),e.memoizedState=r.state,o&&s0e(e,t,!0),e.child}function CSe(n){var e=n.stateNode;e.pendingContext?o0e(n,e.pendingContext,e.pendingContext!==e.context):e.context&&o0e(n,e.context,!1),vK(n,e.containerInfo)}function S0e(n,e,t,r,o){return EM(),fK(o),e.flags|=256,Jh(n,e,t,r),e.child}var mW={dehydrated:null,treeContext:null,retryLane:0};function gW(n){return{baseLanes:n,cachePool:null,transitions:null}}function MSe(n,e,t){var r=e.pendingProps,o=tu.current,s=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=n!==null&&n.memoizedState===null?!1:(o&2)!==0),d?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),il(tu,o&1),n===null)return lW(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,n=r.fallback,s?(r=e.mode,s=e.child,c={mode:"hidden",children:c},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=c):s=vF(c,r,0,null),n=Bb(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=gW(t),e.memoizedState=mW,n):AK(e,c));if(o=n.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return $5e(n,e,c,r,d,o,t);if(s){s=r.fallback,c=e.mode,o=n.child,d=o.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=Uw(o,g),r.subtreeFlags=o.subtreeFlags&14680064),d!==null?s=Uw(d,s):(s=Bb(s,c,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,c=n.child.memoizedState,c=c===null?gW(t):{baseLanes:c.baseLanes|t,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=n.childLanes&~t,e.memoizedState=mW,r}return s=n.child,n=s.sibling,r=Uw(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function AK(n,e){return e=vF({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function RN(n,e,t,r){return r!==null&&fK(r),AM(e,n.child,null,t),n=AK(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $5e(n,e,t,r,o,s,c){if(t)return e.flags&256?(e.flags&=-257,r=Z7(Error(Ir(422))),RN(n,e,c,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=vF({mode:"visible",children:r.children},o,0,null),s=Bb(s,o,c,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&AM(e,n.child,null,c),e.child.memoizedState=gW(c),e.memoizedState=mW,s);if(!(e.mode&1))return RN(n,e,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;return r=d,s=Error(Ir(419)),r=Z7(s,r,void 0),RN(n,e,c,r)}if(d=(c&n.childLanes)!==0,jp||d){if(r=Uf,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,A1(n,o),Uv(r,n,o,-1))}return IK(),r=Z7(Error(Ir(421))),RN(n,e,c,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=dLe.bind(null,n),o._reactRetry=e,null):(n=s.treeContext,Cm=Nw(o.nextSibling),Tm=e,Dl=!0,Lv=null,n!==null&&(Pg[kg++]=h1,Pg[kg++]=p1,Pg[kg++]=Hb,h1=n.id,p1=n.overflow,Hb=e),e=AK(e,r.children),e.flags|=4096,e)}function b0e(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),uW(n.return,e,t)}function $7(n,e,t,r,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=o)}function TSe(n,e,t){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(Jh(n,e,r.children,t),r=tu.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&b0e(n,t,e);else if(n.tag===19)b0e(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(il(tu,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&TL(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),$7(e,!1,o,t,s);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&TL(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}$7(e,!0,t,null,s);break;case"together":$7(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J5(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function C1(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vb|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ir(153));if(e.child!==null){for(n=e.child,t=Uw(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Uw(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function eLe(n,e,t){switch(e.tag){case 3:CSe(e),EM();break;case 5:tSe(e);break;case 1:Gp(e.type)&&SL(e);break;case 4:vK(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;il(AL,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(il(tu,tu.current&1),e.flags|=128,null):t&e.child.childLanes?MSe(n,e,t):(il(tu,tu.current&1),n=C1(n,e,t),n!==null?n.sibling:null);il(tu,tu.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return TSe(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),il(tu,tu.current),r)break;return null;case 22:case 23:return e.lanes=0,ESe(n,e,t)}return C1(n,e,t)}var PSe,vW,kSe,ISe;PSe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vW=function(){};kSe=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,Cb(H0.current);var s=null;switch(t){case"input":o=zV(n,o),r=zV(n,r),s=[];break;case"select":o=ou({},o,{value:void 0}),r=ou({},r,{value:void 0}),s=[];break;case"textarea":o=HV(n,o),r=HV(n,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=wL)}VV(t,r);var c;t=null;for(_ in o)if(!r.hasOwnProperty(_)&&o.hasOwnProperty(_)&&o[_]!=null)if(_==="style"){var d=o[_];for(c in d)d.hasOwnProperty(c)&&(t||(t={}),t[c]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(sR.hasOwnProperty(_)?s||(s=[]):(s=s||[]).push(_,null));for(_ in r){var g=r[_];if(d=o!=null?o[_]:void 0,r.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style")if(d){for(c in d)!d.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(t||(t={}),t[c]="");for(c in g)g.hasOwnProperty(c)&&d[c]!==g[c]&&(t||(t={}),t[c]=g[c])}else t||(s||(s=[]),s.push(_,t)),t=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(s=s||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(s=s||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(sR.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&wl("scroll",n),s||d===g||(s=[])):(s=s||[]).push(_,g))}t&&(s=s||[]).push("style",t);var _=s;(e.updateQueue=_)&&(e.flags|=4)}};ISe=function(n,e,t,r){t!==r&&(e.flags|=4)};function aI(n,e){if(!Dl)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function eh(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function tLe(n,e,t){var r=e.pendingProps;switch(cK(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eh(e),null;case 1:return Gp(e.type)&&xL(),eh(e),null;case 3:return r=e.stateNode,CM(),Al(Hp),Al(dh),_K(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(kN(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lv!==null&&(AW(Lv),Lv=null))),vW(n,e),eh(e),null;case 5:yK(e);var o=Cb(yR.current);if(t=e.type,n!==null&&e.stateNode!=null)kSe(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ir(166));return eh(e),null}if(n=Cb(H0.current),kN(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[F0]=e,r[gR]=s,n=(e.mode&1)!==0,t){case"dialog":wl("cancel",r),wl("close",r);break;case"iframe":case"object":case"embed":wl("load",r);break;case"video":case"audio":for(o=0;o<UI.length;o++)wl(UI[o],r);break;case"source":wl("error",r);break;case"img":case"image":case"link":wl("error",r),wl("load",r);break;case"details":wl("toggle",r);break;case"input":Rve(r,s),wl("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wl("invalid",r);break;case"textarea":Bve(r,s),wl("invalid",r)}VV(t,s),o=null;for(var c in s)if(s.hasOwnProperty(c)){var d=s[c];c==="children"?typeof d=="string"?r.textContent!==d&&(s.suppressHydrationWarning!==!0&&PN(r.textContent,d,n),o=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(s.suppressHydrationWarning!==!0&&PN(r.textContent,d,n),o=["children",""+d]):sR.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&wl("scroll",r)}switch(t){case"input":xN(r),Ove(r,s,!0);break;case"textarea":xN(r),Dve(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wL)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ixe(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(t,{is:r.is}):(n=c.createElement(t),t==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,t),n[F0]=e,n[gR]=r,PSe(n,e,!1,!1),e.stateNode=n;e:{switch(c=WV(t,r),t){case"dialog":wl("cancel",n),wl("close",n),o=r;break;case"iframe":case"object":case"embed":wl("load",n),o=r;break;case"video":case"audio":for(o=0;o<UI.length;o++)wl(UI[o],n);o=r;break;case"source":wl("error",n),o=r;break;case"img":case"image":case"link":wl("error",n),wl("load",n),o=r;break;case"details":wl("toggle",n),o=r;break;case"input":Rve(n,r),o=zV(n,r),wl("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=ou({},r,{value:void 0}),wl("invalid",n);break;case"textarea":Bve(n,r),o=HV(n,r),wl("invalid",n);break;default:o=r}VV(t,o),d=o;for(s in d)if(d.hasOwnProperty(s)){var g=d[s];s==="style"?axe(n,g):s==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&oxe(n,g)):s==="children"?typeof g=="string"?(t!=="textarea"||g!=="")&&aR(n,g):typeof g=="number"&&aR(n,""+g):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sR.hasOwnProperty(s)?g!=null&&s==="onScroll"&&wl("scroll",n):g!=null&&qX(n,s,g,c))}switch(t){case"input":xN(n),Ove(n,r,!1);break;case"textarea":xN(n),Dve(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Yw(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?fM(n,!!r.multiple,s,!1):r.defaultValue!=null&&fM(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=wL)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return eh(e),null;case 6:if(n&&e.stateNode!=null)ISe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ir(166));if(t=Cb(yR.current),Cb(H0.current),kN(e)){if(r=e.stateNode,t=e.memoizedProps,r[F0]=e,(s=r.nodeValue!==t)&&(n=Tm,n!==null))switch(n.tag){case 3:PN(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&PN(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[F0]=e,e.stateNode=r}return eh(e),null;case 13:if(Al(tu),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Dl&&Cm!==null&&e.mode&1&&!(e.flags&128))Yxe(),EM(),e.flags|=98560,s=!1;else if(s=kN(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ir(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ir(317));s[F0]=e}else EM(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;eh(e),s=!1}else Lv!==null&&(AW(Lv),Lv=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||tu.current&1?ef===0&&(ef=3):IK())),e.updateQueue!==null&&(e.flags|=4),eh(e),null);case 4:return CM(),vW(n,e),n===null&&pR(e.stateNode.containerInfo),eh(e),null;case 10:return pK(e.type._context),eh(e),null;case 17:return Gp(e.type)&&xL(),eh(e),null;case 19:if(Al(tu),s=e.memoizedState,s===null)return eh(e),null;if(r=(e.flags&128)!==0,c=s.rendering,c===null)if(r)aI(s,!1);else{if(ef!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(c=TL(n),c!==null){for(e.flags|=128,aI(s,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,n=c.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return il(tu,tu.current&1|2),e.child}n=n.sibling}s.tail!==null&&$u()>TM&&(e.flags|=128,r=!0,aI(s,!1),e.lanes=4194304)}else{if(!r)if(n=TL(c),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),aI(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Dl)return eh(e),null}else 2*$u()-s.renderingStartTime>TM&&t!==1073741824&&(e.flags|=128,r=!0,aI(s,!1),e.lanes=4194304);s.isBackwards?(c.sibling=e.child,e.child=c):(t=s.last,t!==null?t.sibling=c:e.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$u(),e.sibling=null,t=tu.current,il(tu,r?t&1|2:t&1),e):(eh(e),null);case 22:case 23:return kK(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bm&1073741824&&(eh(e),e.subtreeFlags&6&&(e.flags|=8192)):eh(e),null;case 24:return null;case 25:return null}throw Error(Ir(156,e.tag))}function nLe(n,e){switch(cK(e),e.tag){case 1:return Gp(e.type)&&xL(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return CM(),Al(Hp),Al(dh),_K(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return yK(e),null;case 13:if(Al(tu),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ir(340));EM()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Al(tu),null;case 4:return CM(),null;case 10:return pK(e.type._context),null;case 22:case 23:return kK(),null;case 24:return null;default:return null}}var ON=!1,oh=!1,rLe=typeof WeakSet=="function"?WeakSet:Set,vi=null;function nM(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Mu(n,e,r)}else t.current=null}function yW(n,e,t){try{t()}catch(r){Mu(n,e,r)}}var E0e=!1;function iLe(n,e){if(tW=vL,n=Dxe(),lK(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var c=0,d=-1,g=-1,_=0,b=0,A=n,P=null;t:for(;;){for(var N;A!==t||o!==0&&A.nodeType!==3||(d=c+o),A!==s||r!==0&&A.nodeType!==3||(g=c+r),A.nodeType===3&&(c+=A.nodeValue.length),(N=A.firstChild)!==null;)P=A,A=N;for(;;){if(A===n)break t;if(P===t&&++_===o&&(d=c),P===s&&++b===r&&(g=c),(N=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=N}t=d===-1||g===-1?null:{start:d,end:g}}else t=null}t=t||{start:0,end:0}}else t=null;for(nW={focusedElem:n,selectionRange:t},vL=!1,vi=e;vi!==null;)if(e=vi,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,vi=n;else for(;vi!==null;){e=vi;try{var F=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var K=F.memoizedProps,D=F.memoizedState,I=e.stateNode,j=I.getSnapshotBeforeUpdate(e.elementType===e.type?K:Bv(e.type,K),D);I.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ir(163))}}catch(Y){Mu(e,e.return,Y)}if(n=e.sibling,n!==null){n.return=e.return,vi=n;break}vi=e.return}return F=E0e,E0e=!1,F}function qI(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var s=o.destroy;o.destroy=void 0,s!==void 0&&yW(e,t,s)}o=o.next}while(o!==r)}}function mF(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function _W(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function RSe(n){var e=n.alternate;e!==null&&(n.alternate=null,RSe(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[F0],delete e[gR],delete e[oW],delete e[U5e],delete e[j5e])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function OSe(n){return n.tag===5||n.tag===3||n.tag===4}function A0e(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||OSe(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wW(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wL));else if(r!==4&&(n=n.child,n!==null))for(wW(n,e,t),n=n.sibling;n!==null;)wW(n,e,t),n=n.sibling}function xW(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(xW(n,e,t),n=n.sibling;n!==null;)xW(n,e,t),n=n.sibling}var gd=null,Nv=!1;function uw(n,e,t){for(t=t.child;t!==null;)BSe(n,e,t),t=t.sibling}function BSe(n,e,t){if(j0&&typeof j0.onCommitFiberUnmount=="function")try{j0.onCommitFiberUnmount(aF,t)}catch{}switch(t.tag){case 5:oh||nM(t,e);case 6:var r=gd,o=Nv;gd=null,uw(n,e,t),gd=r,Nv=o,gd!==null&&(Nv?(n=gd,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):gd.removeChild(t.stateNode));break;case 18:gd!==null&&(Nv?(n=gd,t=t.stateNode,n.nodeType===8?X7(n.parentNode,t):n.nodeType===1&&X7(n,t),fR(n)):X7(gd,t.stateNode));break;case 4:r=gd,o=Nv,gd=t.stateNode.containerInfo,Nv=!0,uw(n,e,t),gd=r,Nv=o;break;case 0:case 11:case 14:case 15:if(!oh&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,c=s.destroy;s=s.tag,c!==void 0&&(s&2||s&4)&&yW(t,e,c),o=o.next}while(o!==r)}uw(n,e,t);break;case 1:if(!oh&&(nM(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(d){Mu(t,e,d)}uw(n,e,t);break;case 21:uw(n,e,t);break;case 22:t.mode&1?(oh=(r=oh)||t.memoizedState!==null,uw(n,e,t),oh=r):uw(n,e,t);break;default:uw(n,e,t)}}function C0e(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new rLe),e.forEach(function(r){var o=hLe.bind(null,n,r);t.has(r)||(t.add(r),r.then(o,o))})}}function Tv(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];try{var s=n,c=e,d=c;e:for(;d!==null;){switch(d.tag){case 5:gd=d.stateNode,Nv=!1;break e;case 3:gd=d.stateNode.containerInfo,Nv=!0;break e;case 4:gd=d.stateNode.containerInfo,Nv=!0;break e}d=d.return}if(gd===null)throw Error(Ir(160));BSe(s,c,o),gd=null,Nv=!1;var g=o.alternate;g!==null&&(g.return=null),o.return=null}catch(_){Mu(o,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DSe(e,n),e=e.sibling}function DSe(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tv(e,n),R0(n),r&4){try{qI(3,n,n.return),mF(3,n)}catch(K){Mu(n,n.return,K)}try{qI(5,n,n.return)}catch(K){Mu(n,n.return,K)}}break;case 1:Tv(e,n),R0(n),r&512&&t!==null&&nM(t,t.return);break;case 5:if(Tv(e,n),R0(n),r&512&&t!==null&&nM(t,t.return),n.flags&32){var o=n.stateNode;try{aR(o,"")}catch(K){Mu(n,n.return,K)}}if(r&4&&(o=n.stateNode,o!=null)){var s=n.memoizedProps,c=t!==null?t.memoizedProps:s,d=n.type,g=n.updateQueue;if(n.updateQueue=null,g!==null)try{d==="input"&&s.type==="radio"&&s.name!=null&&nxe(o,s),WV(d,c);var _=WV(d,s);for(c=0;c<g.length;c+=2){var b=g[c],A=g[c+1];b==="style"?axe(o,A):b==="dangerouslySetInnerHTML"?oxe(o,A):b==="children"?aR(o,A):qX(o,b,A,_)}switch(d){case"input":UV(o,s);break;case"textarea":rxe(o,s);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var N=s.value;N!=null?fM(o,!!s.multiple,N,!1):P!==!!s.multiple&&(s.defaultValue!=null?fM(o,!!s.multiple,s.defaultValue,!0):fM(o,!!s.multiple,s.multiple?[]:"",!1))}o[gR]=s}catch(K){Mu(n,n.return,K)}}break;case 6:if(Tv(e,n),R0(n),r&4){if(n.stateNode===null)throw Error(Ir(162));o=n.stateNode,s=n.memoizedProps;try{o.nodeValue=s}catch(K){Mu(n,n.return,K)}}break;case 3:if(Tv(e,n),R0(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{fR(e.containerInfo)}catch(K){Mu(n,n.return,K)}break;case 4:Tv(e,n),R0(n);break;case 13:Tv(e,n),R0(n),o=n.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(TK=$u())),r&4&&C0e(n);break;case 22:if(b=t!==null&&t.memoizedState!==null,n.mode&1?(oh=(_=oh)||b,Tv(e,n),oh=_):Tv(e,n),R0(n),r&8192){if(_=n.memoizedState!==null,(n.stateNode.isHidden=_)&&!b&&n.mode&1)for(vi=n,b=n.child;b!==null;){for(A=vi=b;vi!==null;){switch(P=vi,N=P.child,P.tag){case 0:case 11:case 14:case 15:qI(4,P,P.return);break;case 1:nM(P,P.return);var F=P.stateNode;if(typeof F.componentWillUnmount=="function"){r=P,t=P.return;try{e=r,F.props=e.memoizedProps,F.state=e.memoizedState,F.componentWillUnmount()}catch(K){Mu(r,t,K)}}break;case 5:nM(P,P.return);break;case 22:if(P.memoizedState!==null){T0e(A);continue}}N!==null?(N.return=P,vi=N):T0e(A)}b=b.sibling}e:for(b=null,A=n;;){if(A.tag===5){if(b===null){b=A;try{o=A.stateNode,_?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(d=A.stateNode,g=A.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=sxe("display",c))}catch(K){Mu(n,n.return,K)}}}else if(A.tag===6){if(b===null)try{A.stateNode.nodeValue=_?"":A.memoizedProps}catch(K){Mu(n,n.return,K)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===n)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===n)break e;for(;A.sibling===null;){if(A.return===null||A.return===n)break e;b===A&&(b=null),A=A.return}b===A&&(b=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Tv(e,n),R0(n),r&4&&C0e(n);break;case 21:break;default:Tv(e,n),R0(n)}}function R0(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(OSe(t)){var r=t;break e}t=t.return}throw Error(Ir(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(aR(o,""),r.flags&=-33);var s=A0e(n);xW(n,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,d=A0e(n);wW(n,d,c);break;default:throw Error(Ir(161))}}catch(g){Mu(n,n.return,g)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oLe(n,e,t){vi=n,NSe(n)}function NSe(n,e,t){for(var r=(n.mode&1)!==0;vi!==null;){var o=vi,s=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||ON;if(!c){var d=o.alternate,g=d!==null&&d.memoizedState!==null||oh;d=ON;var _=oh;if(ON=c,(oh=g)&&!_)for(vi=o;vi!==null;)c=vi,g=c.child,c.tag===22&&c.memoizedState!==null?P0e(o):g!==null?(g.return=c,vi=g):P0e(o);for(;s!==null;)vi=s,NSe(s),s=s.sibling;vi=o,ON=d,oh=_}M0e(n)}else o.subtreeFlags&8772&&s!==null?(s.return=o,vi=s):M0e(n)}}function M0e(n){for(;vi!==null;){var e=vi;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oh||mF(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!oh)if(t===null)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:Bv(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c0e(e,s,r);break;case 3:var c=e.updateQueue;if(c!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}c0e(e,c,t)}break;case 5:var d=e.stateNode;if(t===null&&e.flags&4){t=d;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&t.focus();break;case"img":g.src&&(t.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var A=b.dehydrated;A!==null&&fR(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ir(163))}oh||e.flags&512&&_W(e)}catch(P){Mu(e,e.return,P)}}if(e===n){vi=null;break}if(t=e.sibling,t!==null){t.return=e.return,vi=t;break}vi=e.return}}function T0e(n){for(;vi!==null;){var e=vi;if(e===n){vi=null;break}var t=e.sibling;if(t!==null){t.return=e.return,vi=t;break}vi=e.return}}function P0e(n){for(;vi!==null;){var e=vi;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{mF(4,e)}catch(g){Mu(e,t,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(g){Mu(e,o,g)}}var s=e.return;try{_W(e)}catch(g){Mu(e,s,g)}break;case 5:var c=e.return;try{_W(e)}catch(g){Mu(e,c,g)}}}catch(g){Mu(e,e.return,g)}if(e===n){vi=null;break}var d=e.sibling;if(d!==null){d.return=e.return,vi=d;break}vi=e.return}}var sLe=Math.ceil,IL=T1.ReactCurrentDispatcher,CK=T1.ReactCurrentOwner,Dg=T1.ReactCurrentBatchConfig,Ts=0,Uf=null,Pc=null,xd=0,bm=0,rM=nx(0),ef=0,SR=null,Vb=0,gF=0,MK=0,QI=null,zp=null,TK=0,TM=1/0,s1=null,RL=!1,SW=null,Fw=null,BN=!1,kw=null,OL=0,JI=0,bW=null,Z5=-1,$5=0;function $h(){return Ts&6?$u():Z5!==-1?Z5:Z5=$u()}function zw(n){return n.mode&1?Ts&2&&xd!==0?xd&-xd:G5e.transition!==null?($5===0&&($5=_xe()),$5):(n=da,n!==0||(n=window.event,n=n===void 0?16:Cxe(n.type)),n):1}function Uv(n,e,t,r){if(50<JI)throw JI=0,bW=null,Error(Ir(185));qR(n,t,r),(!(Ts&2)||n!==Uf)&&(n===Uf&&(!(Ts&2)&&(gF|=t),ef===4&&Cw(n,xd)),Vp(n,r),t===1&&Ts===0&&!(e.mode&1)&&(TM=$u()+500,dF&&rx()))}function Vp(n,e){var t=n.callbackNode;GNe(n,e);var r=gL(n,n===Uf?xd:0);if(r===0)t!==null&&Fve(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Fve(t),e===1)n.tag===0?H5e(k0e.bind(null,n)):Wxe(k0e.bind(null,n)),F5e(function(){!(Ts&6)&&rx()}),t=null;else{switch(wxe(r)){case 1:t=eK;break;case 4:t=vxe;break;case 16:t=mL;break;case 536870912:t=yxe;break;default:t=mL}t=VSe(t,LSe.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function LSe(n,e){if(Z5=-1,$5=0,Ts&6)throw Error(Ir(327));var t=n.callbackNode;if(gM()&&n.callbackNode!==t)return null;var r=gL(n,n===Uf?xd:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=BL(n,r);else{e=r;var o=Ts;Ts|=2;var s=zSe();(Uf!==n||xd!==e)&&(s1=null,TM=$u()+500,Ob(n,e));do try{uLe();break}catch(d){FSe(n,d)}while(!0);hK(),IL.current=s,Ts=o,Pc!==null?e=0:(Uf=null,xd=0,e=ef)}if(e!==0){if(e===2&&(o=QV(n),o!==0&&(r=o,e=EW(n,o))),e===1)throw t=SR,Ob(n,0),Cw(n,r),Vp(n,$u()),t;if(e===6)Cw(n,r);else{if(o=n.current.alternate,!(r&30)&&!aLe(o)&&(e=BL(n,r),e===2&&(s=QV(n),s!==0&&(r=s,e=EW(n,s))),e===1))throw t=SR,Ob(n,0),Cw(n,r),Vp(n,$u()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(Ir(345));case 2:gb(n,zp,s1);break;case 3:if(Cw(n,r),(r&130023424)===r&&(e=TK+500-$u(),10<e)){if(gL(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){$h(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=iW(gb.bind(null,n,zp,s1),e);break}gb(n,zp,s1);break;case 4:if(Cw(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var c=31-zv(r);s=1<<c,c=e[c],c>o&&(o=c),r&=~s}if(r=o,r=$u()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sLe(r/1960))-r,10<r){n.timeoutHandle=iW(gb.bind(null,n,zp,s1),r);break}gb(n,zp,s1);break;case 5:gb(n,zp,s1);break;default:throw Error(Ir(329))}}}return Vp(n,$u()),n.callbackNode===t?LSe.bind(null,n):null}function EW(n,e){var t=QI;return n.current.memoizedState.isDehydrated&&(Ob(n,e).flags|=256),n=BL(n,e),n!==2&&(e=zp,zp=t,e!==null&&AW(e)),n}function AW(n){zp===null?zp=n:zp.push.apply(zp,n)}function aLe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var o=t[r],s=o.getSnapshot;o=o.value;try{if(!Gv(s(),o))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cw(n,e){for(e&=~MK,e&=~gF,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-zv(e),r=1<<t;n[t]=-1,e&=~r}}function k0e(n){if(Ts&6)throw Error(Ir(327));gM();var e=gL(n,0);if(!(e&1))return Vp(n,$u()),null;var t=BL(n,e);if(n.tag!==0&&t===2){var r=QV(n);r!==0&&(e=r,t=EW(n,r))}if(t===1)throw t=SR,Ob(n,0),Cw(n,e),Vp(n,$u()),t;if(t===6)throw Error(Ir(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,gb(n,zp,s1),Vp(n,$u()),null}function PK(n,e){var t=Ts;Ts|=1;try{return n(e)}finally{Ts=t,Ts===0&&(TM=$u()+500,dF&&rx())}}function Wb(n){kw!==null&&kw.tag===0&&!(Ts&6)&&gM();var e=Ts;Ts|=1;var t=Dg.transition,r=da;try{if(Dg.transition=null,da=1,n)return n()}finally{da=r,Dg.transition=t,Ts=e,!(Ts&6)&&rx()}}function kK(){bm=rM.current,Al(rM)}function Ob(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,L5e(t)),Pc!==null)for(t=Pc.return;t!==null;){var r=t;switch(cK(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xL();break;case 3:CM(),Al(Hp),Al(dh),_K();break;case 5:yK(r);break;case 4:CM();break;case 13:Al(tu);break;case 19:Al(tu);break;case 10:pK(r.type._context);break;case 22:case 23:kK()}t=t.return}if(Uf=n,Pc=n=Uw(n.current,null),xd=bm=e,ef=0,SR=null,MK=gF=Vb=0,zp=QI=null,Ab!==null){for(e=0;e<Ab.length;e++)if(t=Ab[e],r=t.interleaved,r!==null){t.interleaved=null;var o=r.next,s=t.pending;if(s!==null){var c=s.next;s.next=o,r.next=c}t.pending=r}Ab=null}return n}function FSe(n,e){do{var t=Pc;try{if(hK(),q5.current=kL,PL){for(var r=iu.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}PL=!1}if(Gb=0,Ff=$c=iu=null,YI=!1,_R=0,CK.current=null,t===null||t.return===null){ef=1,SR=e,Pc=null;break}e:{var s=n,c=t.return,d=t,g=e;if(e=xd,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,b=d,A=b.tag;if(!(b.mode&1)&&(A===0||A===11||A===15)){var P=b.alternate;P?(b.updateQueue=P.updateQueue,b.memoizedState=P.memoizedState,b.lanes=P.lanes):(b.updateQueue=null,b.memoizedState=null)}var N=v0e(c);if(N!==null){N.flags&=-257,y0e(N,c,d,s,e),N.mode&1&&g0e(s,_,e),e=N,g=_;var F=e.updateQueue;if(F===null){var K=new Set;K.add(g),e.updateQueue=K}else F.add(g);break e}else{if(!(e&1)){g0e(s,_,e),IK();break e}g=Error(Ir(426))}}else if(Dl&&d.mode&1){var D=v0e(c);if(D!==null){!(D.flags&65536)&&(D.flags|=256),y0e(D,c,d,s,e),fK(MM(g,d));break e}}s=g=MM(g,d),ef!==4&&(ef=2),QI===null?QI=[s]:QI.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=xSe(s,g,e);u0e(s,I);break e;case 1:d=g;var j=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Fw===null||!Fw.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var Y=SSe(s,d,e);u0e(s,Y);break e}}s=s.return}while(s!==null)}jSe(t)}catch(ce){e=ce,Pc===t&&t!==null&&(Pc=t=t.return);continue}break}while(!0)}function zSe(){var n=IL.current;return IL.current=kL,n===null?kL:n}function IK(){(ef===0||ef===3||ef===2)&&(ef=4),Uf===null||!(Vb&268435455)&&!(gF&268435455)||Cw(Uf,xd)}function BL(n,e){var t=Ts;Ts|=2;var r=zSe();(Uf!==n||xd!==e)&&(s1=null,Ob(n,e));do try{lLe();break}catch(o){FSe(n,o)}while(!0);if(hK(),Ts=t,IL.current=r,Pc!==null)throw Error(Ir(261));return Uf=null,xd=0,ef}function lLe(){for(;Pc!==null;)USe(Pc)}function uLe(){for(;Pc!==null&&!BNe();)USe(Pc)}function USe(n){var e=GSe(n.alternate,n,bm);n.memoizedProps=n.pendingProps,e===null?jSe(n):Pc=e,CK.current=null}function jSe(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=nLe(t,e),t!==null){t.flags&=32767,Pc=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ef=6,Pc=null;return}}else if(t=tLe(t,e,bm),t!==null){Pc=t;return}if(e=e.sibling,e!==null){Pc=e;return}Pc=e=n}while(e!==null);ef===0&&(ef=5)}function gb(n,e,t){var r=da,o=Dg.transition;try{Dg.transition=null,da=1,cLe(n,e,t,r)}finally{Dg.transition=o,da=r}return null}function cLe(n,e,t,r){do gM();while(kw!==null);if(Ts&6)throw Error(Ir(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ir(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(VNe(n,s),n===Uf&&(Pc=Uf=null,xd=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||BN||(BN=!0,VSe(mL,function(){return gM(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Dg.transition,Dg.transition=null;var c=da;da=1;var d=Ts;Ts|=4,CK.current=null,iLe(n,t),DSe(t,n),k5e(nW),vL=!!tW,nW=tW=null,n.current=t,oLe(t),DNe(),Ts=d,da=c,Dg.transition=s}else n.current=t;if(BN&&(BN=!1,kw=n,OL=o),s=n.pendingLanes,s===0&&(Fw=null),FNe(t.stateNode),Vp(n,$u()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(RL)throw RL=!1,n=SW,SW=null,n;return OL&1&&n.tag!==0&&gM(),s=n.pendingLanes,s&1?n===bW?JI++:(JI=0,bW=n):JI=0,rx(),null}function gM(){if(kw!==null){var n=wxe(OL),e=Dg.transition,t=da;try{if(Dg.transition=null,da=16>n?16:n,kw===null)var r=!1;else{if(n=kw,kw=null,OL=0,Ts&6)throw Error(Ir(331));var o=Ts;for(Ts|=4,vi=n.current;vi!==null;){var s=vi,c=s.child;if(vi.flags&16){var d=s.deletions;if(d!==null){for(var g=0;g<d.length;g++){var _=d[g];for(vi=_;vi!==null;){var b=vi;switch(b.tag){case 0:case 11:case 15:qI(8,b,s)}var A=b.child;if(A!==null)A.return=b,vi=A;else for(;vi!==null;){b=vi;var P=b.sibling,N=b.return;if(RSe(b),b===_){vi=null;break}if(P!==null){P.return=N,vi=P;break}vi=N}}}var F=s.alternate;if(F!==null){var K=F.child;if(K!==null){F.child=null;do{var D=K.sibling;K.sibling=null,K=D}while(K!==null)}}vi=s}}if(s.subtreeFlags&2064&&c!==null)c.return=s,vi=c;else e:for(;vi!==null;){if(s=vi,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qI(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,vi=I;break e}vi=s.return}}var j=n.current;for(vi=j;vi!==null;){c=vi;var T=c.child;if(c.subtreeFlags&2064&&T!==null)T.return=c,vi=T;else e:for(c=j;vi!==null;){if(d=vi,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:mF(9,d)}}catch(ce){Mu(d,d.return,ce)}if(d===c){vi=null;break e}var Y=d.sibling;if(Y!==null){Y.return=d.return,vi=Y;break e}vi=d.return}}if(Ts=o,rx(),j0&&typeof j0.onPostCommitFiberRoot=="function")try{j0.onPostCommitFiberRoot(aF,n)}catch{}r=!0}return r}finally{da=t,Dg.transition=e}}return!1}function I0e(n,e,t){e=MM(t,e),e=xSe(n,e,1),n=Lw(n,e,1),e=$h(),n!==null&&(qR(n,1,e),Vp(n,e))}function Mu(n,e,t){if(n.tag===3)I0e(n,n,t);else for(;e!==null;){if(e.tag===3){I0e(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fw===null||!Fw.has(r))){n=MM(t,n),n=SSe(e,n,1),e=Lw(e,n,1),n=$h(),e!==null&&(qR(e,1,n),Vp(e,n));break}}e=e.return}}function fLe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=$h(),n.pingedLanes|=n.suspendedLanes&t,Uf===n&&(xd&t)===t&&(ef===4||ef===3&&(xd&130023424)===xd&&500>$u()-TK?Ob(n,0):MK|=t),Vp(n,e)}function HSe(n,e){e===0&&(n.mode&1?(e=EN,EN<<=1,!(EN&130023424)&&(EN=4194304)):e=1);var t=$h();n=A1(n,e),n!==null&&(qR(n,e,t),Vp(n,t))}function dLe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),HSe(n,t)}function hLe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ir(314))}r!==null&&r.delete(e),HSe(n,t)}var GSe;GSe=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hp.current)jp=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return jp=!1,eLe(n,e,t);jp=!!(n.flags&131072)}else jp=!1,Dl&&e.flags&1048576&&Xxe(e,EL,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;J5(n,e),n=e.pendingProps;var o=bM(e,dh.current);mM(e,t),o=xK(null,e,r,n,o,t);var s=SK();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gp(r)?(s=!0,SL(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,gK(e),o.updater=hF,e.stateNode=o,o._reactInternals=e,fW(e,r,n,t),e=pW(null,e,r,!0,s,t)):(e.tag=0,Dl&&s&&uK(e),Jh(null,e,o,t),e=e.child),e;case 16:r=e.elementType;e:{switch(J5(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=mLe(r),n=Bv(r,n),o){case 0:e=hW(null,e,r,n,t);break e;case 1:e=x0e(null,e,r,n,t);break e;case 11:e=_0e(null,e,r,n,t);break e;case 14:e=w0e(null,e,r,Bv(r.type,n),t);break e}throw Error(Ir(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bv(r,o),hW(n,e,r,o,t);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bv(r,o),x0e(n,e,r,o,t);case 3:e:{if(CSe(e),n===null)throw Error(Ir(387));r=e.pendingProps,s=e.memoizedState,o=s.element,Qxe(n,e),ML(e,r,null,t);var c=e.memoizedState;if(r=c.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=MM(Error(Ir(423)),e),e=S0e(n,e,r,t,o);break e}else if(r!==o){o=MM(Error(Ir(424)),e),e=S0e(n,e,r,t,o);break e}else for(Cm=Nw(e.stateNode.containerInfo.firstChild),Tm=e,Dl=!0,Lv=null,t=eSe(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(EM(),r===o){e=C1(n,e,t);break e}Jh(n,e,r,t)}e=e.child}return e;case 5:return tSe(e),n===null&&lW(e),r=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,c=o.children,rW(r,o)?c=null:s!==null&&rW(r,s)&&(e.flags|=32),ASe(n,e),Jh(n,e,c,t),e.child;case 6:return n===null&&lW(e),null;case 13:return MSe(n,e,t);case 4:return vK(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=AM(e,null,r,t):Jh(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bv(r,o),_0e(n,e,r,o,t);case 7:return Jh(n,e,e.pendingProps,t),e.child;case 8:return Jh(n,e,e.pendingProps.children,t),e.child;case 12:return Jh(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,c=o.value,il(AL,r._currentValue),r._currentValue=c,s!==null)if(Gv(s.value,c)){if(s.children===o.children&&!Hp.current){e=C1(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var d=s.dependencies;if(d!==null){c=s.child;for(var g=d.firstContext;g!==null;){if(g.context===r){if(s.tag===1){g=x1(-1,t&-t),g.tag=2;var _=s.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?g.next=g:(g.next=b.next,b.next=g),_.pending=g}}s.lanes|=t,g=s.alternate,g!==null&&(g.lanes|=t),uW(s.return,t,e),d.lanes|=t;break}g=g.next}}else if(s.tag===10)c=s.type===e.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(Ir(341));c.lanes|=t,d=c.alternate,d!==null&&(d.lanes|=t),uW(c,t,e),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===e){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}Jh(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,mM(e,t),o=Lg(o),r=r(o),e.flags|=1,Jh(n,e,r,t),e.child;case 14:return r=e.type,o=Bv(r,e.pendingProps),o=Bv(r.type,o),w0e(n,e,r,o,t);case 15:return bSe(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bv(r,o),J5(n,e),e.tag=1,Gp(r)?(n=!0,SL(e)):n=!1,mM(e,t),Zxe(e,r,o),fW(e,r,o,t),pW(null,e,r,!0,n,t);case 19:return TSe(n,e,t);case 22:return ESe(n,e,t)}throw Error(Ir(156,e.tag))};function VSe(n,e){return gxe(n,e)}function pLe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rg(n,e,t,r){return new pLe(n,e,t,r)}function RK(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mLe(n){if(typeof n=="function")return RK(n)?1:0;if(n!=null){if(n=n.$$typeof,n===JX)return 11;if(n===ZX)return 14}return 2}function Uw(n,e){var t=n.alternate;return t===null?(t=Rg(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function eL(n,e,t,r,o,s){var c=2;if(r=n,typeof n=="function")RK(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case KC:return Bb(t.children,o,s,e);case QX:c=8,o|=8;break;case DV:return n=Rg(12,t,e,o|2),n.elementType=DV,n.lanes=s,n;case NV:return n=Rg(13,t,e,o),n.elementType=NV,n.lanes=s,n;case LV:return n=Rg(19,t,e,o),n.elementType=LV,n.lanes=s,n;case $we:return vF(t,o,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Jwe:c=10;break e;case Zwe:c=9;break e;case JX:c=11;break e;case ZX:c=14;break e;case xw:c=16,r=null;break e}throw Error(Ir(130,n==null?n:typeof n,""))}return e=Rg(c,t,e,o),e.elementType=n,e.type=r,e.lanes=s,e}function Bb(n,e,t,r){return n=Rg(7,n,r,e),n.lanes=t,n}function vF(n,e,t,r){return n=Rg(22,n,r,e),n.elementType=$we,n.lanes=t,n.stateNode={isHidden:!1},n}function eG(n,e,t){return n=Rg(6,n,null,e),n.lanes=t,n}function tG(n,e,t){return e=Rg(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gLe(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D7(0),this.expirationTimes=D7(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D7(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function OK(n,e,t,r,o,s,c,d,g){return n=new gLe(n,e,t,d,g),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rg(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},gK(s),n}function vLe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:XC,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function WSe(n){if(!n)return qw;n=n._reactInternals;e:{if($b(n)!==n||n.tag!==1)throw Error(Ir(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gp(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ir(171))}if(n.tag===1){var t=n.type;if(Gp(t))return Vxe(n,t,e)}return e}function XSe(n,e,t,r,o,s,c,d,g){return n=OK(t,r,!0,n,o,s,c,d,g),n.context=WSe(null),t=n.current,r=$h(),o=zw(t),s=x1(r,o),s.callback=e??null,Lw(t,s,o),n.current.lanes=o,qR(n,o,r),Vp(n,r),n}function yF(n,e,t,r){var o=e.current,s=$h(),c=zw(o);return t=WSe(t),e.context===null?e.context=t:e.pendingContext=t,e=x1(s,c),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Lw(o,e,c),n!==null&&(Uv(n,o,c,s),Y5(n,o,c)),c}function DL(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function R0e(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function BK(n,e){R0e(n,e),(n=n.alternate)&&R0e(n,e)}function yLe(){return null}var KSe=typeof reportError=="function"?reportError:function(n){console.error(n)};function DK(n){this._internalRoot=n}_F.prototype.render=DK.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ir(409));yF(n,e,null,null)};_F.prototype.unmount=DK.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Wb(function(){yF(null,n,null,null)}),e[E1]=null}};function _F(n){this._internalRoot=n}_F.prototype.unstable_scheduleHydration=function(n){if(n){var e=bxe();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Aw.length&&e!==0&&e<Aw[t].priority;t++);Aw.splice(t,0,n),t===0&&Axe(n)}};function NK(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wF(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function O0e(){}function _Le(n,e,t,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var _=DL(c);s.call(_)}}var c=XSe(e,r,n,0,null,!1,!1,"",O0e);return n._reactRootContainer=c,n[E1]=c.current,pR(n.nodeType===8?n.parentNode:n),Wb(),c}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var d=r;r=function(){var _=DL(g);d.call(_)}}var g=OK(n,0,!1,null,null,!1,!1,"",O0e);return n._reactRootContainer=g,n[E1]=g.current,pR(n.nodeType===8?n.parentNode:n),Wb(function(){yF(e,g,t,r)}),g}function xF(n,e,t,r,o){var s=t._reactRootContainer;if(s){var c=s;if(typeof o=="function"){var d=o;o=function(){var g=DL(c);d.call(g)}}yF(e,c,n,o)}else c=_Le(t,e,n,o,r);return DL(c)}xxe=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=zI(e.pendingLanes);t!==0&&(tK(e,t|1),Vp(e,$u()),!(Ts&6)&&(TM=$u()+500,rx()))}break;case 13:Wb(function(){var r=A1(n,1);if(r!==null){var o=$h();Uv(r,n,1,o)}}),BK(n,1)}};nK=function(n){if(n.tag===13){var e=A1(n,134217728);if(e!==null){var t=$h();Uv(e,n,134217728,t)}BK(n,134217728)}};Sxe=function(n){if(n.tag===13){var e=zw(n),t=A1(n,e);if(t!==null){var r=$h();Uv(t,n,e,r)}BK(n,e)}};bxe=function(){return da};Exe=function(n,e){var t=da;try{return da=n,e()}finally{da=t}};KV=function(n,e,t){switch(e){case"input":if(UV(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=fF(r);if(!o)throw Error(Ir(90));txe(r),UV(r,o)}}}break;case"textarea":rxe(n,t);break;case"select":e=t.value,e!=null&&fM(n,!!t.multiple,e,!1)}};cxe=PK;fxe=Wb;var wLe={usingClientEntryPoint:!1,Events:[JR,JC,fF,lxe,uxe,PK]},lI={findFiberByHostInstance:Eb,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xLe={bundleType:lI.bundleType,version:lI.version,rendererPackageName:lI.rendererPackageName,rendererConfig:lI.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T1.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=pxe(n),n===null?null:n.stateNode},findFiberByHostInstance:lI.findFiberByHostInstance||yLe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var DN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!DN.isDisabled&&DN.supportsFiber)try{aF=DN.inject(xLe),j0=DN}catch{}}Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wLe;Om.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NK(e))throw Error(Ir(200));return vLe(n,e,null,t)};Om.createRoot=function(n,e){if(!NK(n))throw Error(Ir(299));var t=!1,r="",o=KSe;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=OK(n,1,!1,null,null,t,!1,r,o),n[E1]=e.current,pR(n.nodeType===8?n.parentNode:n),new DK(e)};Om.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ir(188)):(n=Object.keys(n).join(","),Error(Ir(268,n)));return n=pxe(e),n=n===null?null:n.stateNode,n};Om.flushSync=function(n){return Wb(n)};Om.hydrate=function(n,e,t){if(!wF(e))throw Error(Ir(200));return xF(null,n,e,!0,t)};Om.hydrateRoot=function(n,e,t){if(!NK(n))throw Error(Ir(405));var r=t!=null&&t.hydratedSources||null,o=!1,s="",c=KSe;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),e=XSe(e,null,n,1,t??null,o,!1,s,c),n[E1]=e.current,pR(n),r)for(n=0;n<r.length;n++)t=r[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new _F(e)};Om.render=function(n,e,t){if(!wF(e))throw Error(Ir(200));return xF(null,n,e,!1,t)};Om.unmountComponentAtNode=function(n){if(!wF(n))throw Error(Ir(40));return n._reactRootContainer?(Wb(function(){xF(null,null,n,!1,function(){n._reactRootContainer=null,n[E1]=null})}),!0):!1};Om.unstable_batchedUpdates=PK;Om.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!wF(t))throw Error(Ir(200));if(n==null||n._reactInternals===void 0)throw Error(Ir(38));return xF(n,e,t,!1,r)};Om.version="18.2.0-next-9e3b772b8-20220608";function YSe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YSe)}catch(n){console.error(n)}}YSe(),Xwe.exports=Om;var SLe=Xwe.exports,qSe,B0e=SLe;qSe=OV.createRoot=B0e.createRoot,OV.hydrateRoot=B0e.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const XM="162",vb={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yb={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},QSe=0,CW=1,JSe=2,bLe=3,LK=0,$R=1,jw=2,Cg=3,X0=0,ep=1,sh=2,S1=0,Db=1,MW=2,TW=3,PW=4,ZSe=5,Mw=100,$Se=101,ebe=102,kW=103,IW=104,tbe=200,nbe=201,rbe=202,ibe=203,NL=204,LL=205,obe=206,sbe=207,abe=208,lbe=209,ube=210,cbe=211,fbe=212,dbe=213,hbe=214,pbe=0,mbe=1,gbe=2,bR=3,vbe=4,ybe=5,_be=6,wbe=7,e3=0,xbe=1,Sbe=2,jv=0,bbe=1,Ebe=2,Abe=3,SF=4,Cbe=5,Mbe=6,Tbe=7,RW="attached",Pbe="detached",bF=300,K0=301,Qw=302,PM=303,ER=304,KM=306,Jw=1e3,yd=1001,kM=1002,Tu=1003,AR=1004,ELe=1004,Tw=1005,ALe=1005,Xs=1006,vM=1007,CLe=1007,Og=1008,MLe=1008,Hv=1009,kbe=1010,Ibe=1011,EF=1012,FK=1013,m1=1014,kc=1015,lh=1016,zK=1017,UK=1018,Hw=1020,Rbe=1021,_d=1023,Obe=1024,Bbe=1025,Gw=1026,Xb=1027,AF=1028,jK=1029,Dbe=1030,HK=1031,GK=1033,tL=33776,nL=33777,rL=33778,iL=33779,OW=35840,BW=35841,DW=35842,NW=35843,VK=36196,LW=37492,FW=37496,zW=37808,UW=37809,jW=37810,HW=37811,GW=37812,VW=37813,WW=37814,XW=37815,KW=37816,YW=37817,qW=37818,QW=37819,JW=37820,ZW=37821,oL=36492,$W=36494,eX=36495,Nbe=36283,tX=36284,nX=36285,rX=36286,Lbe=2200,Fbe=2201,zbe=2202,IM=2300,Kb=2301,sL=2302,Mb=2400,Tb=2401,CR=2402,CF=2500,WK=2501,Ube=0,XK=1,FL=2,jbe=3200,Hbe=3201,ix=0,Gbe=1,f1="",Mg="srgb",P1="srgb-linear",MF="display-p3",t3="display-p3-linear",MR="linear",rl="srgb",TR="rec709",PR="p3",TLe=0,_b=7680,PLe=7681,kLe=7682,ILe=7683,RLe=34055,OLe=34056,BLe=5386,DLe=512,NLe=513,LLe=514,FLe=515,zLe=516,ULe=517,jLe=518,iX=519,Vbe=512,Wbe=513,Xbe=514,KK=515,Kbe=516,Ybe=517,qbe=518,Qbe=519,kR=35044,HLe=35048,GLe=35040,VLe=35045,WLe=35049,XLe=35041,KLe=35046,YLe=35050,qLe=35042,QLe="100",zL="300 es",UL=1035,z0=2e3,IR=2001;class Y0{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(t);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let s=0,c=o.length;s<c;s++)o[s].call(this,e);e.target=null}}}const th=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let D0e=1234567;const Nb=Math.PI/180,RM=180/Math.PI;function Pm(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(th[n&255]+th[n>>8&255]+th[n>>16&255]+th[n>>24&255]+"-"+th[e&255]+th[e>>8&255]+"-"+th[e>>16&15|64]+th[e>>24&255]+"-"+th[t&63|128]+th[t>>8&255]+"-"+th[t>>16&255]+th[t>>24&255]+th[r&255]+th[r>>8&255]+th[r>>16&255]+th[r>>24&255]).toLowerCase()}function Pu(n,e,t){return Math.max(e,Math.min(t,n))}function YK(n,e){return(n%e+e)%e}function JLe(n,e,t,r,o){return r+(n-e)*(o-r)/(t-e)}function ZLe(n,e,t){return n!==e?(t-n)/(e-n):0}function ZI(n,e,t){return(1-t)*n+t*e}function $Le(n,e,t,r){return ZI(n,e,1-Math.exp(-t*r))}function eFe(n,e=1){return e-Math.abs(YK(n,e*2)-e)}function tFe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function nFe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function rFe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function iFe(n,e){return n+Math.random()*(e-n)}function oFe(n){return n*(.5-Math.random())}function sFe(n){n!==void 0&&(D0e=n);let e=D0e+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function aFe(n){return n*Nb}function lFe(n){return n*RM}function oX(n){return(n&n-1)===0&&n!==0}function uFe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function jL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function cFe(n,e,t,r,o){const s=Math.cos,c=Math.sin,d=s(t/2),g=c(t/2),_=s((e+r)/2),b=c((e+r)/2),A=s((e-r)/2),P=c((e-r)/2),N=s((r-e)/2),F=c((r-e)/2);switch(o){case"XYX":n.set(d*b,g*A,g*P,d*_);break;case"YZY":n.set(g*P,d*b,g*A,d*_);break;case"ZXZ":n.set(g*A,g*P,d*b,d*_);break;case"XZX":n.set(d*b,g*F,g*N,d*_);break;case"YXY":n.set(g*N,d*b,g*F,d*_);break;case"ZYZ":n.set(g*F,g*N,d*b,d*_);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Zh(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Io(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Jbe={DEG2RAD:Nb,RAD2DEG:RM,generateUUID:Pm,clamp:Pu,euclideanModulo:YK,mapLinear:JLe,inverseLerp:ZLe,lerp:ZI,damp:$Le,pingpong:eFe,smoothstep:tFe,smootherstep:nFe,randInt:rFe,randFloat:iFe,randFloatSpread:oFe,seededRandom:sFe,degToRad:aFe,radToDeg:lFe,isPowerOfTwo:oX,ceilPowerOfTwo:uFe,floorPowerOfTwo:jL,setQuaternionFromProperEuler:cFe,normalize:Io,denormalize:Zh};class Vn{constructor(e=0,t=0){Vn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6],this.y=o[1]*t+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pu(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),o=Math.sin(t),s=this.x-e.x,c=this.y-e.y;return this.x=s*r-c*o+e.x,this.y=s*o+c*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ko{constructor(e,t,r,o,s,c,d,g,_){ko.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,o,s,c,d,g,_)}set(e,t,r,o,s,c,d,g,_){const b=this.elements;return b[0]=e,b[1]=o,b[2]=d,b[3]=t,b[4]=s,b[5]=g,b[6]=r,b[7]=c,b[8]=_,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,o=t.elements,s=this.elements,c=r[0],d=r[3],g=r[6],_=r[1],b=r[4],A=r[7],P=r[2],N=r[5],F=r[8],K=o[0],D=o[3],I=o[6],j=o[1],T=o[4],Y=o[7],ce=o[2],le=o[5],Z=o[8];return s[0]=c*K+d*j+g*ce,s[3]=c*D+d*T+g*le,s[6]=c*I+d*Y+g*Z,s[1]=_*K+b*j+A*ce,s[4]=_*D+b*T+A*le,s[7]=_*I+b*Y+A*Z,s[2]=P*K+N*j+F*ce,s[5]=P*D+N*T+F*le,s[8]=P*I+N*Y+F*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],o=e[2],s=e[3],c=e[4],d=e[5],g=e[6],_=e[7],b=e[8];return t*c*b-t*d*_-r*s*b+r*d*g+o*s*_-o*c*g}invert(){const e=this.elements,t=e[0],r=e[1],o=e[2],s=e[3],c=e[4],d=e[5],g=e[6],_=e[7],b=e[8],A=b*c-d*_,P=d*g-b*s,N=_*s-c*g,F=t*A+r*P+o*N;if(F===0)return this.set(0,0,0,0,0,0,0,0,0);const K=1/F;return e[0]=A*K,e[1]=(o*_-b*r)*K,e[2]=(d*r-o*c)*K,e[3]=P*K,e[4]=(b*t-o*g)*K,e[5]=(o*s-d*t)*K,e[6]=N*K,e[7]=(r*g-_*t)*K,e[8]=(c*t-r*s)*K,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,o,s,c,d){const g=Math.cos(s),_=Math.sin(s);return this.set(r*g,r*_,-r*(g*c+_*d)+c+e,-o*_,o*g,-o*(-_*c+g*d)+d+t,0,0,1),this}scale(e,t){return this.premultiply(nG.makeScale(e,t)),this}rotate(e){return this.premultiply(nG.makeRotation(-e)),this}translate(e,t){return this.premultiply(nG.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let o=0;o<9;o++)if(t[o]!==r[o])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const nG=new ko;function Zbe(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const fFe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function iM(n,e){return new fFe[n](e)}function RR(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $be(){const n=RR("canvas");return n.style.display="block",n}const N0e={};function eEe(n){n in N0e||(N0e[n]=!0,console.warn(n))}const L0e=new ko().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),F0e=new ko().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),NN={[P1]:{transfer:MR,primaries:TR,toReference:n=>n,fromReference:n=>n},[Mg]:{transfer:rl,primaries:TR,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[t3]:{transfer:MR,primaries:PR,toReference:n=>n.applyMatrix3(F0e),fromReference:n=>n.applyMatrix3(L0e)},[MF]:{transfer:rl,primaries:PR,toReference:n=>n.convertSRGBToLinear().applyMatrix3(F0e),fromReference:n=>n.applyMatrix3(L0e).convertLinearToSRGB()}},dFe=new Set([P1,t3]),fa={enabled:!0,_workingColorSpace:P1,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!dFe.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=NN[e].toReference,o=NN[t].fromReference;return o(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return NN[n].primaries},getTransfer:function(n){return n===f1?MR:NN[n].transfer}};function yM(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function rG(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let lC;class qK{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{lC===void 0&&(lC=RR("canvas")),lC.width=e.width,lC.height=e.height;const r=lC.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=lC}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=RR("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let c=0;c<s.length;c++)s[c]=yM(s[c]/255)*255;return r.putImageData(o,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(yM(t[r]/255)*255):t[r]=yM(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let hFe=0;class Pb{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hFe++}),this.uuid=Pm(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let c=0,d=o.length;c<d;c++)o[c].isDataTexture?s.push(iG(o[c].image)):s.push(iG(o[c]))}else s=iG(o);r.url=s}return t||(e.images[this.uuid]=r),r}}function iG(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?qK.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pFe=0;class za extends Y0{constructor(e=za.DEFAULT_IMAGE,t=za.DEFAULT_MAPPING,r=yd,o=yd,s=Xs,c=Og,d=_d,g=Hv,_=za.DEFAULT_ANISOTROPY,b=f1){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pFe++}),this.uuid=Pm(),this.name="",this.source=new Pb(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=c,this.anisotropy=_,this.format=d,this.internalFormat=null,this.type=g,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ko,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=b,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==bF)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jw:e.x=e.x-Math.floor(e.x);break;case yd:e.x=e.x<0?0:1;break;case kM:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jw:e.y=e.y-Math.floor(e.y);break;case yd:e.y=e.y<0?0:1;break;case kM:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}za.DEFAULT_IMAGE=null;za.DEFAULT_MAPPING=bF;za.DEFAULT_ANISOTROPY=1;class Ms{constructor(e=0,t=0,r=0,o=1){Ms.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,o){return this.x=e,this.y=t,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,o=this.z,s=this.w,c=e.elements;return this.x=c[0]*t+c[4]*r+c[8]*o+c[12]*s,this.y=c[1]*t+c[5]*r+c[9]*o+c[13]*s,this.z=c[2]*t+c[6]*r+c[10]*o+c[14]*s,this.w=c[3]*t+c[7]*r+c[11]*o+c[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,o,s;const g=e.elements,_=g[0],b=g[4],A=g[8],P=g[1],N=g[5],F=g[9],K=g[2],D=g[6],I=g[10];if(Math.abs(b-P)<.01&&Math.abs(A-K)<.01&&Math.abs(F-D)<.01){if(Math.abs(b+P)<.1&&Math.abs(A+K)<.1&&Math.abs(F+D)<.1&&Math.abs(_+N+I-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(_+1)/2,Y=(N+1)/2,ce=(I+1)/2,le=(b+P)/4,Z=(A+K)/4,Se=(F+D)/4;return T>Y&&T>ce?T<.01?(r=0,o=.707106781,s=.707106781):(r=Math.sqrt(T),o=le/r,s=Z/r):Y>ce?Y<.01?(r=.707106781,o=0,s=.707106781):(o=Math.sqrt(Y),r=le/o,s=Se/o):ce<.01?(r=.707106781,o=.707106781,s=0):(s=Math.sqrt(ce),r=Z/s,o=Se/s),this.set(r,o,s,t),this}let j=Math.sqrt((D-F)*(D-F)+(A-K)*(A-K)+(P-b)*(P-b));return Math.abs(j)<.001&&(j=1),this.x=(D-F)/j,this.y=(A-K)/j,this.z=(P-b)/j,this.w=Math.acos((_+N+I-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tEe extends Y0{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ms(0,0,e,t),this.scissorTest=!1,this.viewport=new Ms(0,0,e,t);const o={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Xs,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const s=new za(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const c=r.count;for(let d=0;d<c;d++)this.textures[d]=s.clone(),this.textures[d].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let o=0,s=this.textures.length;o<s;o++)this.textures[o].image.width=e,this.textures[o].image.height=t,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,o=e.textures.length;r<o;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Pb(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zg extends tEe{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class TF extends za{constructor(e=null,t=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:o},this.magFilter=Tu,this.minFilter=Tu,this.wrapR=yd,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mFe extends zg{constructor(e=1,t=1,r=1,o={}){super(e,t,o),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new TF(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class QK extends za{constructor(e=null,t=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:o},this.magFilter=Tu,this.minFilter=Tu,this.wrapR=yd,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gFe extends zg{constructor(e=1,t=1,r=1,o={}){super(e,t,o),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new QK(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class jo{constructor(e=0,t=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=o}static slerpFlat(e,t,r,o,s,c,d){let g=r[o+0],_=r[o+1],b=r[o+2],A=r[o+3];const P=s[c+0],N=s[c+1],F=s[c+2],K=s[c+3];if(d===0){e[t+0]=g,e[t+1]=_,e[t+2]=b,e[t+3]=A;return}if(d===1){e[t+0]=P,e[t+1]=N,e[t+2]=F,e[t+3]=K;return}if(A!==K||g!==P||_!==N||b!==F){let D=1-d;const I=g*P+_*N+b*F+A*K,j=I>=0?1:-1,T=1-I*I;if(T>Number.EPSILON){const ce=Math.sqrt(T),le=Math.atan2(ce,I*j);D=Math.sin(D*le)/ce,d=Math.sin(d*le)/ce}const Y=d*j;if(g=g*D+P*Y,_=_*D+N*Y,b=b*D+F*Y,A=A*D+K*Y,D===1-d){const ce=1/Math.sqrt(g*g+_*_+b*b+A*A);g*=ce,_*=ce,b*=ce,A*=ce}}e[t]=g,e[t+1]=_,e[t+2]=b,e[t+3]=A}static multiplyQuaternionsFlat(e,t,r,o,s,c){const d=r[o],g=r[o+1],_=r[o+2],b=r[o+3],A=s[c],P=s[c+1],N=s[c+2],F=s[c+3];return e[t]=d*F+b*A+g*N-_*P,e[t+1]=g*F+b*P+_*A-d*N,e[t+2]=_*F+b*N+d*P-g*A,e[t+3]=b*F-d*A-g*P-_*N,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,o){return this._x=e,this._y=t,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,o=e._y,s=e._z,c=e._order,d=Math.cos,g=Math.sin,_=d(r/2),b=d(o/2),A=d(s/2),P=g(r/2),N=g(o/2),F=g(s/2);switch(c){case"XYZ":this._x=P*b*A+_*N*F,this._y=_*N*A-P*b*F,this._z=_*b*F+P*N*A,this._w=_*b*A-P*N*F;break;case"YXZ":this._x=P*b*A+_*N*F,this._y=_*N*A-P*b*F,this._z=_*b*F-P*N*A,this._w=_*b*A+P*N*F;break;case"ZXY":this._x=P*b*A-_*N*F,this._y=_*N*A+P*b*F,this._z=_*b*F+P*N*A,this._w=_*b*A-P*N*F;break;case"ZYX":this._x=P*b*A-_*N*F,this._y=_*N*A+P*b*F,this._z=_*b*F-P*N*A,this._w=_*b*A+P*N*F;break;case"YZX":this._x=P*b*A+_*N*F,this._y=_*N*A+P*b*F,this._z=_*b*F-P*N*A,this._w=_*b*A-P*N*F;break;case"XZY":this._x=P*b*A-_*N*F,this._y=_*N*A-P*b*F,this._z=_*b*F+P*N*A,this._w=_*b*A+P*N*F;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],o=t[4],s=t[8],c=t[1],d=t[5],g=t[9],_=t[2],b=t[6],A=t[10],P=r+d+A;if(P>0){const N=.5/Math.sqrt(P+1);this._w=.25/N,this._x=(b-g)*N,this._y=(s-_)*N,this._z=(c-o)*N}else if(r>d&&r>A){const N=2*Math.sqrt(1+r-d-A);this._w=(b-g)/N,this._x=.25*N,this._y=(o+c)/N,this._z=(s+_)/N}else if(d>A){const N=2*Math.sqrt(1+d-r-A);this._w=(s-_)/N,this._x=(o+c)/N,this._y=.25*N,this._z=(g+b)/N}else{const N=2*Math.sqrt(1+A-r-d);this._w=(c-o)/N,this._x=(s+_)/N,this._y=(g+b)/N,this._z=.25*N}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pu(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,t/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,o=e._y,s=e._z,c=e._w,d=t._x,g=t._y,_=t._z,b=t._w;return this._x=r*b+c*d+o*_-s*g,this._y=o*b+c*g+s*d-r*_,this._z=s*b+c*_+r*g-o*d,this._w=c*b-r*d-o*g-s*_,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,o=this._y,s=this._z,c=this._w;let d=c*e._w+r*e._x+o*e._y+s*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=c,this._x=r,this._y=o,this._z=s,this;const g=1-d*d;if(g<=Number.EPSILON){const N=1-t;return this._w=N*c+t*this._w,this._x=N*r+t*this._x,this._y=N*o+t*this._y,this._z=N*s+t*this._z,this.normalize(),this}const _=Math.sqrt(g),b=Math.atan2(_,d),A=Math.sin((1-t)*b)/_,P=Math.sin(t*b)/_;return this._w=c*A+this._w*P,this._x=r*A+this._x*P,this._y=o*A+this._y*P,this._z=s*A+this._z*P,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Je{constructor(e=0,t=0,r=0){Je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(z0e.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(z0e.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*o,this.y=s[1]*t+s[4]*r+s[7]*o,this.z=s[2]*t+s[5]*r+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,o=this.z,s=e.elements,c=1/(s[3]*t+s[7]*r+s[11]*o+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*o+s[12])*c,this.y=(s[1]*t+s[5]*r+s[9]*o+s[13])*c,this.z=(s[2]*t+s[6]*r+s[10]*o+s[14])*c,this}applyQuaternion(e){const t=this.x,r=this.y,o=this.z,s=e.x,c=e.y,d=e.z,g=e.w,_=2*(c*o-d*r),b=2*(d*t-s*o),A=2*(s*r-c*t);return this.x=t+g*_+c*A-d*b,this.y=r+g*b+d*_-s*A,this.z=o+g*A+s*b-c*_,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,o=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*o,this.y=s[1]*t+s[5]*r+s[9]*o,this.z=s[2]*t+s[6]*r+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,o=e.y,s=e.z,c=t.x,d=t.y,g=t.z;return this.x=o*g-s*d,this.y=s*c-r*g,this.z=r*d-o*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oG.copy(this).projectOnVector(e),this.sub(oG)}reflect(e){return this.sub(oG.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pu(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return t*t+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const o=Math.sin(t)*e;return this.x=o*Math.sin(r),this.y=Math.cos(t)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=o,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oG=new Je,z0e=new jo;class ch{constructor(e=new Je(1/0,1/0,1/0),t=new Je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Pv.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Pv.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Pv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let c=0,d=s.count;c<d;c++)e.isMesh===!0?e.getVertexPosition(c,Pv):Pv.fromBufferAttribute(s,c),Pv.applyMatrix4(e.matrixWorld),this.expandByPoint(Pv);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),LN.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),LN.copy(r.boundingBox)),LN.applyMatrix4(e.matrixWorld),this.union(LN)}const o=e.children;for(let s=0,c=o.length;s<c;s++)this.expandByObject(o[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Pv),Pv.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(uI),FN.subVectors(this.max,uI),uC.subVectors(e.a,uI),cC.subVectors(e.b,uI),fC.subVectors(e.c,uI),cw.subVectors(cC,uC),fw.subVectors(fC,cC),$S.subVectors(uC,fC);let t=[0,-cw.z,cw.y,0,-fw.z,fw.y,0,-$S.z,$S.y,cw.z,0,-cw.x,fw.z,0,-fw.x,$S.z,0,-$S.x,-cw.y,cw.x,0,-fw.y,fw.x,0,-$S.y,$S.x,0];return!sG(t,uC,cC,fC,FN)||(t=[1,0,0,0,1,0,0,0,1],!sG(t,uC,cC,fC,FN))?!1:(zN.crossVectors(cw,fw),t=[zN.x,zN.y,zN.z],sG(t,uC,cC,fC,FN))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pv).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Pv).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zy[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zy[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zy[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zy[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zy[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zy[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zy[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zy[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zy),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zy=[new Je,new Je,new Je,new Je,new Je,new Je,new Je,new Je],Pv=new Je,LN=new ch,uC=new Je,cC=new Je,fC=new Je,cw=new Je,fw=new Je,$S=new Je,uI=new Je,FN=new Je,zN=new Je,eb=new Je;function sG(n,e,t,r,o){for(let s=0,c=n.length-3;s<=c;s+=3){eb.fromArray(n,s);const d=o.x*Math.abs(eb.x)+o.y*Math.abs(eb.y)+o.z*Math.abs(eb.z),g=e.dot(eb),_=t.dot(eb),b=r.dot(eb);if(Math.max(-Math.max(g,_,b),Math.min(g,_,b))>d)return!1}return!0}const vFe=new ch,cI=new Je,aG=new Je;let Sd=class{constructor(e=new Je,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):vFe.setFromPoints(e).getCenter(r);let o=0;for(let s=0,c=e.length;s<c;s++)o=Math.max(o,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;cI.subVectors(e,this.center);const t=cI.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),o=(r-this.radius)*.5;this.center.addScaledVector(cI,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(aG.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(cI.copy(e.center).add(aG)),this.expandByPoint(cI.copy(e.center).sub(aG))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const $y=new Je,lG=new Je,UN=new Je,dw=new Je,uG=new Je,jN=new Je,cG=new Je;class YM{constructor(e=new Je,t=new Je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$y)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=$y.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):($y.copy(this.origin).addScaledVector(this.direction,t),$y.distanceToSquared(e))}distanceSqToSegment(e,t,r,o){lG.copy(e).add(t).multiplyScalar(.5),UN.copy(t).sub(e).normalize(),dw.copy(this.origin).sub(lG);const s=e.distanceTo(t)*.5,c=-this.direction.dot(UN),d=dw.dot(this.direction),g=-dw.dot(UN),_=dw.lengthSq(),b=Math.abs(1-c*c);let A,P,N,F;if(b>0)if(A=c*g-d,P=c*d-g,F=s*b,A>=0)if(P>=-F)if(P<=F){const K=1/b;A*=K,P*=K,N=A*(A+c*P+2*d)+P*(c*A+P+2*g)+_}else P=s,A=Math.max(0,-(c*P+d)),N=-A*A+P*(P+2*g)+_;else P=-s,A=Math.max(0,-(c*P+d)),N=-A*A+P*(P+2*g)+_;else P<=-F?(A=Math.max(0,-(-c*s+d)),P=A>0?-s:Math.min(Math.max(-s,-g),s),N=-A*A+P*(P+2*g)+_):P<=F?(A=0,P=Math.min(Math.max(-s,-g),s),N=P*(P+2*g)+_):(A=Math.max(0,-(c*s+d)),P=A>0?s:Math.min(Math.max(-s,-g),s),N=-A*A+P*(P+2*g)+_);else P=c>0?-s:s,A=Math.max(0,-(c*P+d)),N=-A*A+P*(P+2*g)+_;return r&&r.copy(this.origin).addScaledVector(this.direction,A),o&&o.copy(lG).addScaledVector(UN,P),N}intersectSphere(e,t){$y.subVectors(e.center,this.origin);const r=$y.dot(this.direction),o=$y.dot($y)-r*r,s=e.radius*e.radius;if(o>s)return null;const c=Math.sqrt(s-o),d=r-c,g=r+c;return g<0?null:d<0?this.at(g,t):this.at(d,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,o,s,c,d,g;const _=1/this.direction.x,b=1/this.direction.y,A=1/this.direction.z,P=this.origin;return _>=0?(r=(e.min.x-P.x)*_,o=(e.max.x-P.x)*_):(r=(e.max.x-P.x)*_,o=(e.min.x-P.x)*_),b>=0?(s=(e.min.y-P.y)*b,c=(e.max.y-P.y)*b):(s=(e.max.y-P.y)*b,c=(e.min.y-P.y)*b),r>c||s>o||((s>r||isNaN(r))&&(r=s),(c<o||isNaN(o))&&(o=c),A>=0?(d=(e.min.z-P.z)*A,g=(e.max.z-P.z)*A):(d=(e.max.z-P.z)*A,g=(e.min.z-P.z)*A),r>g||d>o)||((d>r||r!==r)&&(r=d),(g<o||o!==o)&&(o=g),o<0)?null:this.at(r>=0?r:o,t)}intersectsBox(e){return this.intersectBox(e,$y)!==null}intersectTriangle(e,t,r,o,s){uG.subVectors(t,e),jN.subVectors(r,e),cG.crossVectors(uG,jN);let c=this.direction.dot(cG),d;if(c>0){if(o)return null;d=1}else if(c<0)d=-1,c=-c;else return null;dw.subVectors(this.origin,e);const g=d*this.direction.dot(jN.crossVectors(dw,jN));if(g<0)return null;const _=d*this.direction.dot(uG.cross(dw));if(_<0||g+_>c)return null;const b=-d*dw.dot(cG);return b<0?null:this.at(b/c,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ui{constructor(e,t,r,o,s,c,d,g,_,b,A,P,N,F,K,D){Ui.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,o,s,c,d,g,_,b,A,P,N,F,K,D)}set(e,t,r,o,s,c,d,g,_,b,A,P,N,F,K,D){const I=this.elements;return I[0]=e,I[4]=t,I[8]=r,I[12]=o,I[1]=s,I[5]=c,I[9]=d,I[13]=g,I[2]=_,I[6]=b,I[10]=A,I[14]=P,I[3]=N,I[7]=F,I[11]=K,I[15]=D,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ui().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,o=1/dC.setFromMatrixColumn(e,0).length(),s=1/dC.setFromMatrixColumn(e,1).length(),c=1/dC.setFromMatrixColumn(e,2).length();return t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,o=e.y,s=e.z,c=Math.cos(r),d=Math.sin(r),g=Math.cos(o),_=Math.sin(o),b=Math.cos(s),A=Math.sin(s);if(e.order==="XYZ"){const P=c*b,N=c*A,F=d*b,K=d*A;t[0]=g*b,t[4]=-g*A,t[8]=_,t[1]=N+F*_,t[5]=P-K*_,t[9]=-d*g,t[2]=K-P*_,t[6]=F+N*_,t[10]=c*g}else if(e.order==="YXZ"){const P=g*b,N=g*A,F=_*b,K=_*A;t[0]=P+K*d,t[4]=F*d-N,t[8]=c*_,t[1]=c*A,t[5]=c*b,t[9]=-d,t[2]=N*d-F,t[6]=K+P*d,t[10]=c*g}else if(e.order==="ZXY"){const P=g*b,N=g*A,F=_*b,K=_*A;t[0]=P-K*d,t[4]=-c*A,t[8]=F+N*d,t[1]=N+F*d,t[5]=c*b,t[9]=K-P*d,t[2]=-c*_,t[6]=d,t[10]=c*g}else if(e.order==="ZYX"){const P=c*b,N=c*A,F=d*b,K=d*A;t[0]=g*b,t[4]=F*_-N,t[8]=P*_+K,t[1]=g*A,t[5]=K*_+P,t[9]=N*_-F,t[2]=-_,t[6]=d*g,t[10]=c*g}else if(e.order==="YZX"){const P=c*g,N=c*_,F=d*g,K=d*_;t[0]=g*b,t[4]=K-P*A,t[8]=F*A+N,t[1]=A,t[5]=c*b,t[9]=-d*b,t[2]=-_*b,t[6]=N*A+F,t[10]=P-K*A}else if(e.order==="XZY"){const P=c*g,N=c*_,F=d*g,K=d*_;t[0]=g*b,t[4]=-A,t[8]=_*b,t[1]=P*A+K,t[5]=c*b,t[9]=N*A-F,t[2]=F*A-N,t[6]=d*b,t[10]=K*A+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yFe,e,_Fe)}lookAt(e,t,r){const o=this.elements;return wm.subVectors(e,t),wm.lengthSq()===0&&(wm.z=1),wm.normalize(),hw.crossVectors(r,wm),hw.lengthSq()===0&&(Math.abs(r.z)===1?wm.x+=1e-4:wm.z+=1e-4,wm.normalize(),hw.crossVectors(r,wm)),hw.normalize(),HN.crossVectors(wm,hw),o[0]=hw.x,o[4]=HN.x,o[8]=wm.x,o[1]=hw.y,o[5]=HN.y,o[9]=wm.y,o[2]=hw.z,o[6]=HN.z,o[10]=wm.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,o=t.elements,s=this.elements,c=r[0],d=r[4],g=r[8],_=r[12],b=r[1],A=r[5],P=r[9],N=r[13],F=r[2],K=r[6],D=r[10],I=r[14],j=r[3],T=r[7],Y=r[11],ce=r[15],le=o[0],Z=o[4],Se=o[8],Le=o[12],X=o[1],fe=o[5],st=o[9],Ue=o[13],Me=o[2],be=o[6],Ke=o[10],Ye=o[14],de=o[3],ve=o[7],ye=o[11],_e=o[15];return s[0]=c*le+d*X+g*Me+_*de,s[4]=c*Z+d*fe+g*be+_*ve,s[8]=c*Se+d*st+g*Ke+_*ye,s[12]=c*Le+d*Ue+g*Ye+_*_e,s[1]=b*le+A*X+P*Me+N*de,s[5]=b*Z+A*fe+P*be+N*ve,s[9]=b*Se+A*st+P*Ke+N*ye,s[13]=b*Le+A*Ue+P*Ye+N*_e,s[2]=F*le+K*X+D*Me+I*de,s[6]=F*Z+K*fe+D*be+I*ve,s[10]=F*Se+K*st+D*Ke+I*ye,s[14]=F*Le+K*Ue+D*Ye+I*_e,s[3]=j*le+T*X+Y*Me+ce*de,s[7]=j*Z+T*fe+Y*be+ce*ve,s[11]=j*Se+T*st+Y*Ke+ce*ye,s[15]=j*Le+T*Ue+Y*Ye+ce*_e,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],o=e[8],s=e[12],c=e[1],d=e[5],g=e[9],_=e[13],b=e[2],A=e[6],P=e[10],N=e[14],F=e[3],K=e[7],D=e[11],I=e[15];return F*(+s*g*A-o*_*A-s*d*P+r*_*P+o*d*N-r*g*N)+K*(+t*g*N-t*_*P+s*c*P-o*c*N+o*_*b-s*g*b)+D*(+t*_*A-t*d*N-s*c*A+r*c*N+s*d*b-r*_*b)+I*(-o*d*b-t*g*A+t*d*P+o*c*A-r*c*P+r*g*b)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=t,o[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],o=e[2],s=e[3],c=e[4],d=e[5],g=e[6],_=e[7],b=e[8],A=e[9],P=e[10],N=e[11],F=e[12],K=e[13],D=e[14],I=e[15],j=A*D*_-K*P*_+K*g*N-d*D*N-A*g*I+d*P*I,T=F*P*_-b*D*_-F*g*N+c*D*N+b*g*I-c*P*I,Y=b*K*_-F*A*_+F*d*N-c*K*N-b*d*I+c*A*I,ce=F*A*g-b*K*g-F*d*P+c*K*P+b*d*D-c*A*D,le=t*j+r*T+o*Y+s*ce;if(le===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Z=1/le;return e[0]=j*Z,e[1]=(K*P*s-A*D*s-K*o*N+r*D*N+A*o*I-r*P*I)*Z,e[2]=(d*D*s-K*g*s+K*o*_-r*D*_-d*o*I+r*g*I)*Z,e[3]=(A*g*s-d*P*s-A*o*_+r*P*_+d*o*N-r*g*N)*Z,e[4]=T*Z,e[5]=(b*D*s-F*P*s+F*o*N-t*D*N-b*o*I+t*P*I)*Z,e[6]=(F*g*s-c*D*s-F*o*_+t*D*_+c*o*I-t*g*I)*Z,e[7]=(c*P*s-b*g*s+b*o*_-t*P*_-c*o*N+t*g*N)*Z,e[8]=Y*Z,e[9]=(F*A*s-b*K*s-F*r*N+t*K*N+b*r*I-t*A*I)*Z,e[10]=(c*K*s-F*d*s+F*r*_-t*K*_-c*r*I+t*d*I)*Z,e[11]=(b*d*s-c*A*s-b*r*_+t*A*_+c*r*N-t*d*N)*Z,e[12]=ce*Z,e[13]=(b*K*o-F*A*o+F*r*P-t*K*P-b*r*D+t*A*D)*Z,e[14]=(F*d*o-c*K*o-F*r*g+t*K*g+c*r*D-t*d*D)*Z,e[15]=(c*A*o-b*d*o+b*r*g-t*A*g-c*r*P+t*d*P)*Z,this}scale(e){const t=this.elements,r=e.x,o=e.y,s=e.z;return t[0]*=r,t[4]*=o,t[8]*=s,t[1]*=r,t[5]*=o,t[9]*=s,t[2]*=r,t[6]*=o,t[10]*=s,t[3]*=r,t[7]*=o,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,o))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),o=Math.sin(t),s=1-r,c=e.x,d=e.y,g=e.z,_=s*c,b=s*d;return this.set(_*c+r,_*d-o*g,_*g+o*d,0,_*d+o*g,b*d+r,b*g-o*c,0,_*g-o*d,b*g+o*c,s*g*g+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,o,s,c){return this.set(1,r,s,0,e,1,c,0,t,o,1,0,0,0,0,1),this}compose(e,t,r){const o=this.elements,s=t._x,c=t._y,d=t._z,g=t._w,_=s+s,b=c+c,A=d+d,P=s*_,N=s*b,F=s*A,K=c*b,D=c*A,I=d*A,j=g*_,T=g*b,Y=g*A,ce=r.x,le=r.y,Z=r.z;return o[0]=(1-(K+I))*ce,o[1]=(N+Y)*ce,o[2]=(F-T)*ce,o[3]=0,o[4]=(N-Y)*le,o[5]=(1-(P+I))*le,o[6]=(D+j)*le,o[7]=0,o[8]=(F+T)*Z,o[9]=(D-j)*Z,o[10]=(1-(P+K))*Z,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,t,r){const o=this.elements;let s=dC.set(o[0],o[1],o[2]).length();const c=dC.set(o[4],o[5],o[6]).length(),d=dC.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],kv.copy(this);const _=1/s,b=1/c,A=1/d;return kv.elements[0]*=_,kv.elements[1]*=_,kv.elements[2]*=_,kv.elements[4]*=b,kv.elements[5]*=b,kv.elements[6]*=b,kv.elements[8]*=A,kv.elements[9]*=A,kv.elements[10]*=A,t.setFromRotationMatrix(kv),r.x=s,r.y=c,r.z=d,this}makePerspective(e,t,r,o,s,c,d=z0){const g=this.elements,_=2*s/(t-e),b=2*s/(r-o),A=(t+e)/(t-e),P=(r+o)/(r-o);let N,F;if(d===z0)N=-(c+s)/(c-s),F=-2*c*s/(c-s);else if(d===IR)N=-c/(c-s),F=-c*s/(c-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);return g[0]=_,g[4]=0,g[8]=A,g[12]=0,g[1]=0,g[5]=b,g[9]=P,g[13]=0,g[2]=0,g[6]=0,g[10]=N,g[14]=F,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(e,t,r,o,s,c,d=z0){const g=this.elements,_=1/(t-e),b=1/(r-o),A=1/(c-s),P=(t+e)*_,N=(r+o)*b;let F,K;if(d===z0)F=(c+s)*A,K=-2*A;else if(d===IR)F=s*A,K=-1*A;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);return g[0]=2*_,g[4]=0,g[8]=0,g[12]=-P,g[1]=0,g[5]=2*b,g[9]=0,g[13]=-N,g[2]=0,g[6]=0,g[10]=K,g[14]=-F,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let o=0;o<16;o++)if(t[o]!==r[o])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const dC=new Je,kv=new Ui,yFe=new Je(0,0,0),_Fe=new Je(1,1,1),hw=new Je,HN=new Je,wm=new Je,U0e=new Ui,j0e=new jo;class tp{constructor(e=0,t=0,r=0,o=tp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,o=this._order){return this._x=e,this._y=t,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const o=e.elements,s=o[0],c=o[4],d=o[8],g=o[1],_=o[5],b=o[9],A=o[2],P=o[6],N=o[10];switch(t){case"XYZ":this._y=Math.asin(Pu(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-b,N),this._z=Math.atan2(-c,s)):(this._x=Math.atan2(P,_),this._z=0);break;case"YXZ":this._x=Math.asin(-Pu(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(d,N),this._z=Math.atan2(g,_)):(this._y=Math.atan2(-A,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pu(P,-1,1)),Math.abs(P)<.9999999?(this._y=Math.atan2(-A,N),this._z=Math.atan2(-c,_)):(this._y=0,this._z=Math.atan2(g,s));break;case"ZYX":this._y=Math.asin(-Pu(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(P,N),this._z=Math.atan2(g,s)):(this._x=0,this._z=Math.atan2(-c,_));break;case"YZX":this._z=Math.asin(Pu(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-b,_),this._y=Math.atan2(-A,s)):(this._x=0,this._y=Math.atan2(d,N));break;case"XZY":this._z=Math.asin(-Pu(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(P,_),this._y=Math.atan2(d,s)):(this._x=Math.atan2(-b,N),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return U0e.makeRotationFromQuaternion(e),this.setFromRotationMatrix(U0e,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return j0e.setFromEuler(this),this.setFromQuaternion(j0e,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}tp.DEFAULT_ORDER="XYZ";class G0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wFe=0;const H0e=new Je,hC=new jo,e1=new Ui,GN=new Je,fI=new Je,xFe=new Je,SFe=new jo,G0e=new Je(1,0,0),V0e=new Je(0,1,0),W0e=new Je(0,0,1),bFe={type:"added"},EFe={type:"removed"},fG={type:"childadded",child:null},dG={type:"childremoved",child:null};class Ho extends Y0{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wFe++}),this.uuid=Pm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ho.DEFAULT_UP.clone();const e=new Je,t=new tp,r=new jo,o=new Je(1,1,1);function s(){r.setFromEuler(t,!1)}function c(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Ui},normalMatrix:{value:new ko}}),this.matrix=new Ui,this.matrixWorld=new Ui,this.matrixAutoUpdate=Ho.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ho.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new G0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return hC.setFromAxisAngle(e,t),this.quaternion.multiply(hC),this}rotateOnWorldAxis(e,t){return hC.setFromAxisAngle(e,t),this.quaternion.premultiply(hC),this}rotateX(e){return this.rotateOnAxis(G0e,e)}rotateY(e){return this.rotateOnAxis(V0e,e)}rotateZ(e){return this.rotateOnAxis(W0e,e)}translateOnAxis(e,t){return H0e.copy(e).applyQuaternion(this.quaternion),this.position.add(H0e.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(G0e,e)}translateY(e){return this.translateOnAxis(V0e,e)}translateZ(e){return this.translateOnAxis(W0e,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(e1.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?GN.copy(e):GN.set(e,t,r);const o=this.parent;this.updateWorldMatrix(!0,!1),fI.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e1.lookAt(fI,GN,this.up):e1.lookAt(GN,fI,this.up),this.quaternion.setFromRotationMatrix(e1),o&&(e1.extractRotation(o.matrixWorld),hC.setFromRotationMatrix(e1),this.quaternion.premultiply(hC.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(bFe),fG.child=e,this.dispatchEvent(fG),fG.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(EFe),dG.child=e,this.dispatchEvent(dG),dG.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),e1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),e1.multiply(e.parent.matrixWorld)),e.applyMatrix4(e1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,o=this.children.length;r<o;r++){const c=this.children[r].getObjectByProperty(e,t);if(c!==void 0)return c}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const o=this.children;for(let s=0,c=o.length;s<c;s++)o[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fI,e,xFe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fI,SFe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,o=t.length;r<o;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,o=t.length;r<o;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,o=t.length;r<o;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const o=this.children;for(let s=0,c=o.length;s<c;s++){const d=o[s];d.matrixWorldAutoUpdate===!0&&d.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(d=>({boxInitialized:d.boxInitialized,boxMin:d.box.min.toArray(),boxMax:d.box.max.toArray(),sphereInitialized:d.sphereInitialized,sphereRadius:d.sphere.radius,sphereCenter:d.sphere.center.toArray()})),o.maxGeometryCount=this._maxGeometryCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function s(d,g){return d[g.uuid]===void 0&&(d[g.uuid]=g.toJSON(e)),g.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const g=d.shapes;if(Array.isArray(g))for(let _=0,b=g.length;_<b;_++){const A=g[_];s(e.shapes,A)}else s(e.shapes,g)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let g=0,_=this.material.length;g<_;g++)d.push(s(e.materials,this.material[g]));o.material=d}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let d=0;d<this.children.length;d++)o.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let d=0;d<this.animations.length;d++){const g=this.animations[d];o.animations.push(s(e.animations,g))}}if(t){const d=c(e.geometries),g=c(e.materials),_=c(e.textures),b=c(e.images),A=c(e.shapes),P=c(e.skeletons),N=c(e.animations),F=c(e.nodes);d.length>0&&(r.geometries=d),g.length>0&&(r.materials=g),_.length>0&&(r.textures=_),b.length>0&&(r.images=b),A.length>0&&(r.shapes=A),P.length>0&&(r.skeletons=P),N.length>0&&(r.animations=N),F.length>0&&(r.nodes=F)}return r.object=o,r;function c(d){const g=[];for(const _ in d){const b=d[_];delete b.metadata,g.push(b)}return g}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}}Ho.DEFAULT_UP=new Je(0,1,0);Ho.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ho.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Iv=new Je,t1=new Je,hG=new Je,n1=new Je,pC=new Je,mC=new Je,X0e=new Je,pG=new Je,mG=new Je,gG=new Je;class Am{constructor(e=new Je,t=new Je,r=new Je){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,o){o.subVectors(r,t),Iv.subVectors(e,t),o.cross(Iv);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,t,r,o,s){Iv.subVectors(o,t),t1.subVectors(r,t),hG.subVectors(e,t);const c=Iv.dot(Iv),d=Iv.dot(t1),g=Iv.dot(hG),_=t1.dot(t1),b=t1.dot(hG),A=c*_-d*d;if(A===0)return s.set(0,0,0),null;const P=1/A,N=(_*g-d*b)*P,F=(c*b-d*g)*P;return s.set(1-N-F,F,N)}static containsPoint(e,t,r,o){return this.getBarycoord(e,t,r,o,n1)===null?!1:n1.x>=0&&n1.y>=0&&n1.x+n1.y<=1}static getInterpolation(e,t,r,o,s,c,d,g){return this.getBarycoord(e,t,r,o,n1)===null?(g.x=0,g.y=0,"z"in g&&(g.z=0),"w"in g&&(g.w=0),null):(g.setScalar(0),g.addScaledVector(s,n1.x),g.addScaledVector(c,n1.y),g.addScaledVector(d,n1.z),g)}static isFrontFacing(e,t,r,o){return Iv.subVectors(r,t),t1.subVectors(e,t),Iv.cross(t1).dot(o)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,o){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,t,r,o){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Iv.subVectors(this.c,this.b),t1.subVectors(this.a,this.b),Iv.cross(t1).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Am.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Am.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,o,s){return Am.getInterpolation(e,this.a,this.b,this.c,t,r,o,s)}containsPoint(e){return Am.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Am.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,o=this.b,s=this.c;let c,d;pC.subVectors(o,r),mC.subVectors(s,r),pG.subVectors(e,r);const g=pC.dot(pG),_=mC.dot(pG);if(g<=0&&_<=0)return t.copy(r);mG.subVectors(e,o);const b=pC.dot(mG),A=mC.dot(mG);if(b>=0&&A<=b)return t.copy(o);const P=g*A-b*_;if(P<=0&&g>=0&&b<=0)return c=g/(g-b),t.copy(r).addScaledVector(pC,c);gG.subVectors(e,s);const N=pC.dot(gG),F=mC.dot(gG);if(F>=0&&N<=F)return t.copy(s);const K=N*_-g*F;if(K<=0&&_>=0&&F<=0)return d=_/(_-F),t.copy(r).addScaledVector(mC,d);const D=b*F-N*A;if(D<=0&&A-b>=0&&N-F>=0)return X0e.subVectors(s,o),d=(A-b)/(A-b+(N-F)),t.copy(o).addScaledVector(X0e,d);const I=1/(D+K+P);return c=K*I,d=P*I,t.copy(r).addScaledVector(pC,c).addScaledVector(mC,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const nEe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pw={h:0,s:0,l:0},VN={h:0,s:0,l:0};function vG(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Dr{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Mg){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fa.toWorkingColorSpace(this,t),this}setRGB(e,t,r,o=fa.workingColorSpace){return this.r=e,this.g=t,this.b=r,fa.toWorkingColorSpace(this,o),this}setHSL(e,t,r,o=fa.workingColorSpace){if(e=YK(e,1),t=Pu(t,0,1),r=Pu(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,c=2*r-s;this.r=vG(c,s,e+1/3),this.g=vG(c,s,e),this.b=vG(c,s,e-1/3)}return fa.toWorkingColorSpace(this,o),this}setStyle(e,t=Mg){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const c=o[1],d=o[2];switch(c){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],c=s.length;if(c===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(c===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Mg){const r=nEe[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=yM(e.r),this.g=yM(e.g),this.b=yM(e.b),this}copyLinearToSRGB(e){return this.r=rG(e.r),this.g=rG(e.g),this.b=rG(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mg){return fa.fromWorkingColorSpace(nh.copy(this),e),Math.round(Pu(nh.r*255,0,255))*65536+Math.round(Pu(nh.g*255,0,255))*256+Math.round(Pu(nh.b*255,0,255))}getHexString(e=Mg){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=fa.workingColorSpace){fa.fromWorkingColorSpace(nh.copy(this),t);const r=nh.r,o=nh.g,s=nh.b,c=Math.max(r,o,s),d=Math.min(r,o,s);let g,_;const b=(d+c)/2;if(d===c)g=0,_=0;else{const A=c-d;switch(_=b<=.5?A/(c+d):A/(2-c-d),c){case r:g=(o-s)/A+(o<s?6:0);break;case o:g=(s-r)/A+2;break;case s:g=(r-o)/A+4;break}g/=6}return e.h=g,e.s=_,e.l=b,e}getRGB(e,t=fa.workingColorSpace){return fa.fromWorkingColorSpace(nh.copy(this),t),e.r=nh.r,e.g=nh.g,e.b=nh.b,e}getStyle(e=Mg){fa.fromWorkingColorSpace(nh.copy(this),e);const t=nh.r,r=nh.g,o=nh.b;return e!==Mg?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,t,r){return this.getHSL(pw),this.setHSL(pw.h+e,pw.s+t,pw.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(pw),e.getHSL(VN);const r=ZI(pw.h,VN.h,t),o=ZI(pw.s,VN.s,t),s=ZI(pw.l,VN.l,t);return this.setHSL(r,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,o=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*o,this.g=s[1]*t+s[4]*r+s[7]*o,this.b=s[2]*t+s[5]*r+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const nh=new Dr;Dr.NAMES=nEe;let AFe=0;class ec extends Y0{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:AFe++}),this.uuid=Pm(),this.name="",this.type="Material",this.blending=Db,this.side=X0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=NL,this.blendDst=LL,this.blendEquation=Mw,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Dr(0,0,0),this.blendAlpha=0,this.depthFunc=bR,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iX,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_b,this.stencilZFail=_b,this.stencilZPass=_b,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const o=this[t];if(o===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Db&&(r.blending=this.blending),this.side!==X0&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==NL&&(r.blendSrc=this.blendSrc),this.blendDst!==LL&&(r.blendDst=this.blendDst),this.blendEquation!==Mw&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==bR&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iX&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_b&&(r.stencilFail=this.stencilFail),this.stencilZFail!==_b&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==_b&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(s){const c=[];for(const d in s){const g=s[d];delete g.metadata,c.push(g)}return c}if(t){const s=o(e.textures),c=o(e.images);s.length>0&&(r.textures=s),c.length>0&&(r.images=c)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const o=t.length;r=new Array(o);for(let s=0;s!==o;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class wd extends ec{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tp,this.combine=e3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const d1=CFe();function CFe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),o=new Uint32Array(512);for(let g=0;g<256;++g){const _=g-127;_<-27?(r[g]=0,r[g|256]=32768,o[g]=24,o[g|256]=24):_<-14?(r[g]=1024>>-_-14,r[g|256]=1024>>-_-14|32768,o[g]=-_-1,o[g|256]=-_-1):_<=15?(r[g]=_+15<<10,r[g|256]=_+15<<10|32768,o[g]=13,o[g|256]=13):_<128?(r[g]=31744,r[g|256]=64512,o[g]=24,o[g|256]=24):(r[g]=31744,r[g|256]=64512,o[g]=13,o[g|256]=13)}const s=new Uint32Array(2048),c=new Uint32Array(64),d=new Uint32Array(64);for(let g=1;g<1024;++g){let _=g<<13,b=0;for(;!(_&8388608);)_<<=1,b-=8388608;_&=-8388609,b+=947912704,s[g]=_|b}for(let g=1024;g<2048;++g)s[g]=939524096+(g-1024<<13);for(let g=1;g<31;++g)c[g]=g<<23;c[31]=1199570944,c[32]=2147483648;for(let g=33;g<63;++g)c[g]=2147483648+(g-32<<23);c[63]=3347054592;for(let g=1;g<64;++g)g!==32&&(d[g]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:o,mantissaTable:s,exponentTable:c,offsetTable:d}}function Np(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Pu(n,-65504,65504),d1.floatView[0]=n;const e=d1.uint32View[0],t=e>>23&511;return d1.baseTable[t]+((e&8388607)>>d1.shiftTable[t])}function jI(n){const e=n>>10;return d1.uint32View[0]=d1.mantissaTable[d1.offsetTable[e]+(n&1023)]+d1.exponentTable[e],d1.floatView[0]}const kb={toHalfFloat:Np,fromHalfFloat:jI},Cc=new Je,WN=new Vn;class Ps{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=kR,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=kc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return eEe("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=t.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)WN.fromBufferAttribute(this,t),WN.applyMatrix3(e),this.setXY(t,WN.x,WN.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Cc.fromBufferAttribute(this,t),Cc.applyMatrix3(e),this.setXYZ(t,Cc.x,Cc.y,Cc.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Cc.fromBufferAttribute(this,t),Cc.applyMatrix4(e),this.setXYZ(t,Cc.x,Cc.y,Cc.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Cc.fromBufferAttribute(this,t),Cc.applyNormalMatrix(e),this.setXYZ(t,Cc.x,Cc.y,Cc.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Cc.fromBufferAttribute(this,t),Cc.transformDirection(e),this.setXYZ(t,Cc.x,Cc.y,Cc.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Zh(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Io(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Zh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Zh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Zh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Zh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,o){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,t,r,o,s){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array),s=Io(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==kR&&(e.usage=this.usage),e}}class MFe extends Ps{constructor(e,t,r){super(new Int8Array(e),t,r)}}class TFe extends Ps{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class PFe extends Ps{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class kFe extends Ps{constructor(e,t,r){super(new Int16Array(e),t,r)}}class JK extends Ps{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class IFe extends Ps{constructor(e,t,r){super(new Int32Array(e),t,r)}}class ZK extends Ps{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class RFe extends Ps{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=jI(this.array[e*this.itemSize]);return this.normalized&&(t=Zh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize]=Np(t),this}getY(e){let t=jI(this.array[e*this.itemSize+1]);return this.normalized&&(t=Zh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+1]=Np(t),this}getZ(e){let t=jI(this.array[e*this.itemSize+2]);return this.normalized&&(t=Zh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+2]=Np(t),this}getW(e){let t=jI(this.array[e*this.itemSize+3]);return this.normalized&&(t=Zh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Io(t,this.array)),this.array[e*this.itemSize+3]=Np(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array)),this.array[e+0]=Np(t),this.array[e+1]=Np(r),this}setXYZ(e,t,r,o){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array)),this.array[e+0]=Np(t),this.array[e+1]=Np(r),this.array[e+2]=Np(o),this}setXYZW(e,t,r,o,s){return e*=this.itemSize,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array),s=Io(s,this.array)),this.array[e+0]=Np(t),this.array[e+1]=Np(r),this.array[e+2]=Np(o),this.array[e+3]=Np(s),this}}class Ei extends Ps{constructor(e,t,r){super(new Float32Array(e),t,r)}}let OFe=0;const Sg=new Ui,yG=new Ho,gC=new Je,xm=new ch,dI=new ch,Lf=new Je;class po extends Y0{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:OFe++}),this.uuid=Pm(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zbe(e)?ZK:JK)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ko().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Sg.makeRotationFromQuaternion(e),this.applyMatrix4(Sg),this}rotateX(e){return Sg.makeRotationX(e),this.applyMatrix4(Sg),this}rotateY(e){return Sg.makeRotationY(e),this.applyMatrix4(Sg),this}rotateZ(e){return Sg.makeRotationZ(e),this.applyMatrix4(Sg),this}translate(e,t,r){return Sg.makeTranslation(e,t,r),this.applyMatrix4(Sg),this}scale(e,t,r){return Sg.makeScale(e,t,r),this.applyMatrix4(Sg),this}lookAt(e){return yG.lookAt(e),yG.updateMatrix(),this.applyMatrix4(yG.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gC).negate(),this.translate(gC.x,gC.y,gC.z),this}setFromPoints(e){const t=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ei(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ch);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Je(-1/0,-1/0,-1/0),new Je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const s=t[r];xm.setFromBufferAttribute(s),this.morphTargetsRelative?(Lf.addVectors(this.boundingBox.min,xm.min),this.boundingBox.expandByPoint(Lf),Lf.addVectors(this.boundingBox.max,xm.max),this.boundingBox.expandByPoint(Lf)):(this.boundingBox.expandByPoint(xm.min),this.boundingBox.expandByPoint(xm.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Je,1/0);return}if(e){const r=this.boundingSphere.center;if(xm.setFromBufferAttribute(e),t)for(let s=0,c=t.length;s<c;s++){const d=t[s];dI.setFromBufferAttribute(d),this.morphTargetsRelative?(Lf.addVectors(xm.min,dI.min),xm.expandByPoint(Lf),Lf.addVectors(xm.max,dI.max),xm.expandByPoint(Lf)):(xm.expandByPoint(dI.min),xm.expandByPoint(dI.max))}xm.getCenter(r);let o=0;for(let s=0,c=e.count;s<c;s++)Lf.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(Lf));if(t)for(let s=0,c=t.length;s<c;s++){const d=t[s],g=this.morphTargetsRelative;for(let _=0,b=d.count;_<b;_++)Lf.fromBufferAttribute(d,_),g&&(gC.fromBufferAttribute(e,_),Lf.add(gC)),o=Math.max(o,r.distanceToSquared(Lf))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,o=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ps(new Float32Array(4*r.count),4));const c=this.getAttribute("tangent"),d=[],g=[];for(let Se=0;Se<r.count;Se++)d[Se]=new Je,g[Se]=new Je;const _=new Je,b=new Je,A=new Je,P=new Vn,N=new Vn,F=new Vn,K=new Je,D=new Je;function I(Se,Le,X){_.fromBufferAttribute(r,Se),b.fromBufferAttribute(r,Le),A.fromBufferAttribute(r,X),P.fromBufferAttribute(s,Se),N.fromBufferAttribute(s,Le),F.fromBufferAttribute(s,X),b.sub(_),A.sub(_),N.sub(P),F.sub(P);const fe=1/(N.x*F.y-F.x*N.y);isFinite(fe)&&(K.copy(b).multiplyScalar(F.y).addScaledVector(A,-N.y).multiplyScalar(fe),D.copy(A).multiplyScalar(N.x).addScaledVector(b,-F.x).multiplyScalar(fe),d[Se].add(K),d[Le].add(K),d[X].add(K),g[Se].add(D),g[Le].add(D),g[X].add(D))}let j=this.groups;j.length===0&&(j=[{start:0,count:e.count}]);for(let Se=0,Le=j.length;Se<Le;++Se){const X=j[Se],fe=X.start,st=X.count;for(let Ue=fe,Me=fe+st;Ue<Me;Ue+=3)I(e.getX(Ue+0),e.getX(Ue+1),e.getX(Ue+2))}const T=new Je,Y=new Je,ce=new Je,le=new Je;function Z(Se){ce.fromBufferAttribute(o,Se),le.copy(ce);const Le=d[Se];T.copy(Le),T.sub(ce.multiplyScalar(ce.dot(Le))).normalize(),Y.crossVectors(le,Le);const fe=Y.dot(g[Se])<0?-1:1;c.setXYZW(Se,T.x,T.y,T.z,fe)}for(let Se=0,Le=j.length;Se<Le;++Se){const X=j[Se],fe=X.start,st=X.count;for(let Ue=fe,Me=fe+st;Ue<Me;Ue+=3)Z(e.getX(Ue+0)),Z(e.getX(Ue+1)),Z(e.getX(Ue+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ps(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let P=0,N=r.count;P<N;P++)r.setXYZ(P,0,0,0);const o=new Je,s=new Je,c=new Je,d=new Je,g=new Je,_=new Je,b=new Je,A=new Je;if(e)for(let P=0,N=e.count;P<N;P+=3){const F=e.getX(P+0),K=e.getX(P+1),D=e.getX(P+2);o.fromBufferAttribute(t,F),s.fromBufferAttribute(t,K),c.fromBufferAttribute(t,D),b.subVectors(c,s),A.subVectors(o,s),b.cross(A),d.fromBufferAttribute(r,F),g.fromBufferAttribute(r,K),_.fromBufferAttribute(r,D),d.add(b),g.add(b),_.add(b),r.setXYZ(F,d.x,d.y,d.z),r.setXYZ(K,g.x,g.y,g.z),r.setXYZ(D,_.x,_.y,_.z)}else for(let P=0,N=t.count;P<N;P+=3)o.fromBufferAttribute(t,P+0),s.fromBufferAttribute(t,P+1),c.fromBufferAttribute(t,P+2),b.subVectors(c,s),A.subVectors(o,s),b.cross(A),r.setXYZ(P+0,b.x,b.y,b.z),r.setXYZ(P+1,b.x,b.y,b.z),r.setXYZ(P+2,b.x,b.y,b.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Lf.fromBufferAttribute(e,t),Lf.normalize(),e.setXYZ(t,Lf.x,Lf.y,Lf.z)}toNonIndexed(){function e(d,g){const _=d.array,b=d.itemSize,A=d.normalized,P=new _.constructor(g.length*b);let N=0,F=0;for(let K=0,D=g.length;K<D;K++){d.isInterleavedBufferAttribute?N=g[K]*d.data.stride+d.offset:N=g[K]*b;for(let I=0;I<b;I++)P[F++]=_[N++]}return new Ps(P,b,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new po,r=this.index.array,o=this.attributes;for(const d in o){const g=o[d],_=e(g,r);t.setAttribute(d,_)}const s=this.morphAttributes;for(const d in s){const g=[],_=s[d];for(let b=0,A=_.length;b<A;b++){const P=_[b],N=e(P,r);g.push(N)}t.morphAttributes[d]=g}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let d=0,g=c.length;d<g;d++){const _=c[d];t.addGroup(_.start,_.count,_.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const g=this.parameters;for(const _ in g)g[_]!==void 0&&(e[_]=g[_]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const g in r){const _=r[g];e.data.attributes[g]=_.toJSON(e.data)}const o={};let s=!1;for(const g in this.morphAttributes){const _=this.morphAttributes[g],b=[];for(let A=0,P=_.length;A<P;A++){const N=_[A];b.push(N.toJSON(e.data))}b.length>0&&(o[g]=b,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const o=e.attributes;for(const _ in o){const b=o[_];this.setAttribute(_,b.clone(t))}const s=e.morphAttributes;for(const _ in s){const b=[],A=s[_];for(let P=0,N=A.length;P<N;P++)b.push(A[P].clone(t));this.morphAttributes[_]=b}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let _=0,b=c.length;_<b;_++){const A=c[_];this.addGroup(A.start,A.count,A.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const g=e.boundingSphere;return g!==null&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const K0e=new Ui,tb=new YM,XN=new Sd,Y0e=new Je,vC=new Je,yC=new Je,_C=new Je,_G=new Je,KN=new Je,YN=new Vn,qN=new Vn,QN=new Vn,q0e=new Je,Q0e=new Je,J0e=new Je,JN=new Je,ZN=new Je;class ni extends Ho{constructor(e=new po,t=new wd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,c=o.length;s<c;s++){const d=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=s}}}}getVertexPosition(e,t){const r=this.geometry,o=r.attributes.position,s=r.morphAttributes.position,c=r.morphTargetsRelative;t.fromBufferAttribute(o,e);const d=this.morphTargetInfluences;if(s&&d){KN.set(0,0,0);for(let g=0,_=s.length;g<_;g++){const b=d[g],A=s[g];b!==0&&(_G.fromBufferAttribute(A,e),c?KN.addScaledVector(_G,b):KN.addScaledVector(_G.sub(t),b))}t.add(KN)}return t}raycast(e,t){const r=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),XN.copy(r.boundingSphere),XN.applyMatrix4(s),tb.copy(e.ray).recast(e.near),!(XN.containsPoint(tb.origin)===!1&&(tb.intersectSphere(XN,Y0e)===null||tb.origin.distanceToSquared(Y0e)>(e.far-e.near)**2))&&(K0e.copy(s).invert(),tb.copy(e.ray).applyMatrix4(K0e),!(r.boundingBox!==null&&tb.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,tb)))}_computeIntersections(e,t,r){let o;const s=this.geometry,c=this.material,d=s.index,g=s.attributes.position,_=s.attributes.uv,b=s.attributes.uv1,A=s.attributes.normal,P=s.groups,N=s.drawRange;if(d!==null)if(Array.isArray(c))for(let F=0,K=P.length;F<K;F++){const D=P[F],I=c[D.materialIndex],j=Math.max(D.start,N.start),T=Math.min(d.count,Math.min(D.start+D.count,N.start+N.count));for(let Y=j,ce=T;Y<ce;Y+=3){const le=d.getX(Y),Z=d.getX(Y+1),Se=d.getX(Y+2);o=$N(this,I,e,r,_,b,A,le,Z,Se),o&&(o.faceIndex=Math.floor(Y/3),o.face.materialIndex=D.materialIndex,t.push(o))}}else{const F=Math.max(0,N.start),K=Math.min(d.count,N.start+N.count);for(let D=F,I=K;D<I;D+=3){const j=d.getX(D),T=d.getX(D+1),Y=d.getX(D+2);o=$N(this,c,e,r,_,b,A,j,T,Y),o&&(o.faceIndex=Math.floor(D/3),t.push(o))}}else if(g!==void 0)if(Array.isArray(c))for(let F=0,K=P.length;F<K;F++){const D=P[F],I=c[D.materialIndex],j=Math.max(D.start,N.start),T=Math.min(g.count,Math.min(D.start+D.count,N.start+N.count));for(let Y=j,ce=T;Y<ce;Y+=3){const le=Y,Z=Y+1,Se=Y+2;o=$N(this,I,e,r,_,b,A,le,Z,Se),o&&(o.faceIndex=Math.floor(Y/3),o.face.materialIndex=D.materialIndex,t.push(o))}}else{const F=Math.max(0,N.start),K=Math.min(g.count,N.start+N.count);for(let D=F,I=K;D<I;D+=3){const j=D,T=D+1,Y=D+2;o=$N(this,c,e,r,_,b,A,j,T,Y),o&&(o.faceIndex=Math.floor(D/3),t.push(o))}}}}function BFe(n,e,t,r,o,s,c,d){let g;if(e.side===ep?g=r.intersectTriangle(c,s,o,!0,d):g=r.intersectTriangle(o,s,c,e.side===X0,d),g===null)return null;ZN.copy(d),ZN.applyMatrix4(n.matrixWorld);const _=t.ray.origin.distanceTo(ZN);return _<t.near||_>t.far?null:{distance:_,point:ZN.clone(),object:n}}function $N(n,e,t,r,o,s,c,d,g,_){n.getVertexPosition(d,vC),n.getVertexPosition(g,yC),n.getVertexPosition(_,_C);const b=BFe(n,e,t,r,vC,yC,_C,JN);if(b){o&&(YN.fromBufferAttribute(o,d),qN.fromBufferAttribute(o,g),QN.fromBufferAttribute(o,_),b.uv=Am.getInterpolation(JN,vC,yC,_C,YN,qN,QN,new Vn)),s&&(YN.fromBufferAttribute(s,d),qN.fromBufferAttribute(s,g),QN.fromBufferAttribute(s,_),b.uv1=Am.getInterpolation(JN,vC,yC,_C,YN,qN,QN,new Vn)),c&&(q0e.fromBufferAttribute(c,d),Q0e.fromBufferAttribute(c,g),J0e.fromBufferAttribute(c,_),b.normal=Am.getInterpolation(JN,vC,yC,_C,q0e,Q0e,J0e,new Je),b.normal.dot(r.direction)>0&&b.normal.multiplyScalar(-1));const A={a:d,b:g,c:_,normal:new Je,materialIndex:0};Am.getNormal(vC,yC,_C,A.normal),b.face=A}return b}class Fp extends po{constructor(e=1,t=1,r=1,o=1,s=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:o,heightSegments:s,depthSegments:c};const d=this;o=Math.floor(o),s=Math.floor(s),c=Math.floor(c);const g=[],_=[],b=[],A=[];let P=0,N=0;F("z","y","x",-1,-1,r,t,e,c,s,0),F("z","y","x",1,-1,r,t,-e,c,s,1),F("x","z","y",1,1,e,r,t,o,c,2),F("x","z","y",1,-1,e,r,-t,o,c,3),F("x","y","z",1,-1,e,t,r,o,s,4),F("x","y","z",-1,-1,e,t,-r,o,s,5),this.setIndex(g),this.setAttribute("position",new Ei(_,3)),this.setAttribute("normal",new Ei(b,3)),this.setAttribute("uv",new Ei(A,2));function F(K,D,I,j,T,Y,ce,le,Z,Se,Le){const X=Y/Z,fe=ce/Se,st=Y/2,Ue=ce/2,Me=le/2,be=Z+1,Ke=Se+1;let Ye=0,de=0;const ve=new Je;for(let ye=0;ye<Ke;ye++){const _e=ye*fe-Ue;for(let ge=0;ge<be;ge++){const dt=ge*X-st;ve[K]=dt*j,ve[D]=_e*T,ve[I]=Me,_.push(ve.x,ve.y,ve.z),ve[K]=0,ve[D]=0,ve[I]=le>0?1:-1,b.push(ve.x,ve.y,ve.z),A.push(ge/Z),A.push(1-ye/Se),Ye+=1}}for(let ye=0;ye<Se;ye++)for(let _e=0;_e<Z;_e++){const ge=P+_e+be*ye,dt=P+_e+be*(ye+1),qe=P+(_e+1)+be*(ye+1),_t=P+(_e+1)+be*ye;g.push(ge,dt,_t),g.push(dt,qe,_t),de+=6}d.addGroup(N,de,Le),N+=de,P+=Ye}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function OM(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const o=n[t][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=o.clone():Array.isArray(o)?e[t][r]=o.slice():e[t][r]=o}}return e}function Qh(n){const e={};for(let t=0;t<n.length;t++){const r=OM(n[t]);for(const o in r)e[o]=r[o]}return e}function DFe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function rEe(n){return n.getRenderTarget()===null?n.outputColorSpace:fa.workingColorSpace}const iEe={clone:OM,merge:Qh};var NFe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LFe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Im extends ec{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=NFe,this.fragmentShader=LFe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=OM(e.uniforms),this.uniformsGroups=DFe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const o in this.uniforms){const c=this.uniforms[o].value;c&&c.isTexture?t.uniforms[o]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[o]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[o]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[o]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[o]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[o]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[o]={type:"m4",value:c.toArray()}:t.uniforms[o]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class qM extends Ho{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ui,this.projectionMatrix=new Ui,this.projectionMatrixInverse=new Ui,this.coordinateSystem=z0}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const mw=new Je,Z0e=new Vn,$0e=new Vn;let bl=class extends qM{constructor(e=50,t=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=RM*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RM*2*Math.atan(Math.tan(Nb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){mw.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(mw.x,mw.y).multiplyScalar(-e/mw.z),mw.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(mw.x,mw.y).multiplyScalar(-e/mw.z)}getViewSize(e,t){return this.getViewBounds(e,Z0e,$0e),t.subVectors($0e,Z0e)}setViewOffset(e,t,r,o,s,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nb*.5*this.fov)/this.zoom,r=2*t,o=this.aspect*r,s=-.5*o;const c=this.view;if(this.view!==null&&this.view.enabled){const g=c.fullWidth,_=c.fullHeight;s+=c.offsetX*o/g,t-=c.offsetY*r/_,o*=c.width/g,r*=c.height/_}const d=this.filmOffset;d!==0&&(s+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const wC=-90,xC=1;class oEe extends Ho{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new bl(wC,xC,e,t);o.layers=this.layers,this.add(o);const s=new bl(wC,xC,e,t);s.layers=this.layers,this.add(s);const c=new bl(wC,xC,e,t);c.layers=this.layers,this.add(c);const d=new bl(wC,xC,e,t);d.layers=this.layers,this.add(d);const g=new bl(wC,xC,e,t);g.layers=this.layers,this.add(g);const _=new bl(wC,xC,e,t);_.layers=this.layers,this.add(_)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,o,s,c,d,g]=t;for(const _ of t)this.remove(_);if(e===z0)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),d.up.set(0,1,0),d.lookAt(0,0,1),g.up.set(0,1,0),g.lookAt(0,0,-1);else if(e===IR)r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),d.up.set(0,-1,0),d.lookAt(0,0,1),g.up.set(0,-1,0),g.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const _ of t)this.add(_),_.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,c,d,g,_,b]=this.children,A=e.getRenderTarget(),P=e.getActiveCubeFace(),N=e.getActiveMipmapLevel(),F=e.xr.enabled;e.xr.enabled=!1;const K=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(t,s),e.setRenderTarget(r,1,o),e.render(t,c),e.setRenderTarget(r,2,o),e.render(t,d),e.setRenderTarget(r,3,o),e.render(t,g),e.setRenderTarget(r,4,o),e.render(t,_),r.texture.generateMipmaps=K,e.setRenderTarget(r,5,o),e.render(t,b),e.setRenderTarget(A,P,N),e.xr.enabled=F,r.texture.needsPMREMUpdate=!0}}class n3 extends za{constructor(e,t,r,o,s,c,d,g,_,b){e=e!==void 0?e:[],t=t!==void 0?t:K0,super(e,t,r,o,s,c,d,g,_,b),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class $K extends zg{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},o=[r,r,r,r,r,r];this.texture=new n3(o,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Xs}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Fp(5,5,5),s=new Im({name:"CubemapFromEquirect",uniforms:OM(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ep,blending:S1});s.uniforms.tEquirect.value=t;const c=new ni(o,s),d=t.minFilter;return t.minFilter===Og&&(t.minFilter=Xs),new oEe(1,10,this).update(e,c),t.minFilter=d,c.geometry.dispose(),c.material.dispose(),this}clear(e,t,r,o){const s=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,r,o);e.setRenderTarget(s)}}const wG=new Je,FFe=new Je,zFe=new ko;class bw{constructor(e=new Je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,o){return this.normal.set(e,t,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const o=wG.subVectors(r,t).cross(FFe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(wG),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||zFe.getNormalMatrix(e),o=this.coplanarPoint(wG).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const nb=new Sd,e5=new Je;class r3{constructor(e=new bw,t=new bw,r=new bw,o=new bw,s=new bw,c=new bw){this.planes=[e,t,r,o,s,c]}set(e,t,r,o,s,c){const d=this.planes;return d[0].copy(e),d[1].copy(t),d[2].copy(r),d[3].copy(o),d[4].copy(s),d[5].copy(c),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=z0){const r=this.planes,o=e.elements,s=o[0],c=o[1],d=o[2],g=o[3],_=o[4],b=o[5],A=o[6],P=o[7],N=o[8],F=o[9],K=o[10],D=o[11],I=o[12],j=o[13],T=o[14],Y=o[15];if(r[0].setComponents(g-s,P-_,D-N,Y-I).normalize(),r[1].setComponents(g+s,P+_,D+N,Y+I).normalize(),r[2].setComponents(g+c,P+b,D+F,Y+j).normalize(),r[3].setComponents(g-c,P-b,D-F,Y-j).normalize(),r[4].setComponents(g-d,P-A,D-K,Y-T).normalize(),t===z0)r[5].setComponents(g+d,P+A,D+K,Y+T).normalize();else if(t===IR)r[5].setComponents(d,A,K,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),nb.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),nb.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(nb)}intersectsSprite(e){return nb.center.set(0,0,0),nb.radius=.7071067811865476,nb.applyMatrix4(e.matrixWorld),this.intersectsSphere(nb)}intersectsSphere(e){const t=this.planes,r=e.center,o=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const o=t[r];if(e5.x=o.normal.x>0?e.max.x:e.min.x,e5.y=o.normal.y>0?e.max.y:e.min.y,e5.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(e5)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function sEe(){let n=null,e=!1,t=null,r=null;function o(s,c){t(s,c),r=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function UFe(n,e){const t=e.isWebGL2,r=new WeakMap;function o(_,b){const A=_.array,P=_.usage,N=A.byteLength,F=n.createBuffer();n.bindBuffer(b,F),n.bufferData(b,A,P),_.onUploadCallback();let K;if(A instanceof Float32Array)K=n.FLOAT;else if(A instanceof Uint16Array)if(_.isFloat16BufferAttribute)if(t)K=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else K=n.UNSIGNED_SHORT;else if(A instanceof Int16Array)K=n.SHORT;else if(A instanceof Uint32Array)K=n.UNSIGNED_INT;else if(A instanceof Int32Array)K=n.INT;else if(A instanceof Int8Array)K=n.BYTE;else if(A instanceof Uint8Array)K=n.UNSIGNED_BYTE;else if(A instanceof Uint8ClampedArray)K=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+A);return{buffer:F,type:K,bytesPerElement:A.BYTES_PER_ELEMENT,version:_.version,size:N}}function s(_,b,A){const P=b.array,N=b._updateRange,F=b.updateRanges;if(n.bindBuffer(A,_),N.count===-1&&F.length===0&&n.bufferSubData(A,0,P),F.length!==0){for(let K=0,D=F.length;K<D;K++){const I=F[K];t?n.bufferSubData(A,I.start*P.BYTES_PER_ELEMENT,P,I.start,I.count):n.bufferSubData(A,I.start*P.BYTES_PER_ELEMENT,P.subarray(I.start,I.start+I.count))}b.clearUpdateRanges()}N.count!==-1&&(t?n.bufferSubData(A,N.offset*P.BYTES_PER_ELEMENT,P,N.offset,N.count):n.bufferSubData(A,N.offset*P.BYTES_PER_ELEMENT,P.subarray(N.offset,N.offset+N.count)),N.count=-1),b.onUploadCallback()}function c(_){return _.isInterleavedBufferAttribute&&(_=_.data),r.get(_)}function d(_){_.isInterleavedBufferAttribute&&(_=_.data);const b=r.get(_);b&&(n.deleteBuffer(b.buffer),r.delete(_))}function g(_,b){if(_.isGLBufferAttribute){const P=r.get(_);(!P||P.version<_.version)&&r.set(_,{buffer:_.buffer,type:_.type,bytesPerElement:_.elementSize,version:_.version});return}_.isInterleavedBufferAttribute&&(_=_.data);const A=r.get(_);if(A===void 0)r.set(_,o(_,b));else if(A.version<_.version){if(A.size!==_.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(A.buffer,_,b),A.version=_.version}}return{get:c,remove:d,update:g}}class Up extends po{constructor(e=1,t=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:o};const s=e/2,c=t/2,d=Math.floor(r),g=Math.floor(o),_=d+1,b=g+1,A=e/d,P=t/g,N=[],F=[],K=[],D=[];for(let I=0;I<b;I++){const j=I*P-c;for(let T=0;T<_;T++){const Y=T*A-s;F.push(Y,-j,0),K.push(0,0,1),D.push(T/d),D.push(1-I/g)}}for(let I=0;I<g;I++)for(let j=0;j<d;j++){const T=j+_*I,Y=j+_*(I+1),ce=j+1+_*(I+1),le=j+1+_*I;N.push(T,Y,le),N.push(Y,ce,le)}this.setIndex(N),this.setAttribute("position",new Ei(F,3)),this.setAttribute("normal",new Ei(K,3)),this.setAttribute("uv",new Ei(D,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Up(e.width,e.height,e.widthSegments,e.heightSegments)}}var jFe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,HFe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,GFe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,VFe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WFe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,XFe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,KFe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YFe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qFe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,QFe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,JFe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ZFe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$Fe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,eze=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tze=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nze=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rze=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ize=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,oze=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sze=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aze=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lze=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,uze=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,cze=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fze=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dze=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hze=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pze=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mze=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gze=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vze="gl_FragColor = linearToOutputTexel( gl_FragColor );",yze=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,_ze=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wze=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xze=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Sze=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bze=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Eze=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Aze=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Cze=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mze=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Tze=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pze=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kze=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ize=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Rze=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Oze=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bze=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Dze=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Nze=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Lze=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Fze=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zze=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Uze=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jze=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hze=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gze=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vze=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wze=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Xze=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Kze=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Yze=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,qze=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Qze=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Jze=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zze=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$ze=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,e6e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,t6e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,n6e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,r6e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,i6e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,o6e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,s6e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,a6e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,l6e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,u6e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,c6e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,f6e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,d6e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,h6e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,p6e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,m6e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,g6e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,v6e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,y6e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_6e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w6e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,x6e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,S6e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,b6e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,E6e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A6e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,C6e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,M6e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,T6e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,P6e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,k6e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,I6e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R6e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,O6e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B6e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,D6e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,N6e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,L6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,F6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,z6e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,U6e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const j6e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,H6e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V6e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,X6e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K6e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Y6e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,q6e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Q6e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,J6e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Z6e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$6e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,e8e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,t8e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,n8e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,r8e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i8e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o8e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,s8e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a8e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,l8e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,u8e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c8e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f8e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,d8e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h8e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p8e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,m8e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,g8e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,v8e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y8e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_8e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,w8e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Do={alphahash_fragment:jFe,alphahash_pars_fragment:HFe,alphamap_fragment:GFe,alphamap_pars_fragment:VFe,alphatest_fragment:WFe,alphatest_pars_fragment:XFe,aomap_fragment:KFe,aomap_pars_fragment:YFe,batching_pars_vertex:qFe,batching_vertex:QFe,begin_vertex:JFe,beginnormal_vertex:ZFe,bsdfs:$Fe,iridescence_fragment:eze,bumpmap_pars_fragment:tze,clipping_planes_fragment:nze,clipping_planes_pars_fragment:rze,clipping_planes_pars_vertex:ize,clipping_planes_vertex:oze,color_fragment:sze,color_pars_fragment:aze,color_pars_vertex:lze,color_vertex:uze,common:cze,cube_uv_reflection_fragment:fze,defaultnormal_vertex:dze,displacementmap_pars_vertex:hze,displacementmap_vertex:pze,emissivemap_fragment:mze,emissivemap_pars_fragment:gze,colorspace_fragment:vze,colorspace_pars_fragment:yze,envmap_fragment:_ze,envmap_common_pars_fragment:wze,envmap_pars_fragment:xze,envmap_pars_vertex:Sze,envmap_physical_pars_fragment:Bze,envmap_vertex:bze,fog_vertex:Eze,fog_pars_vertex:Aze,fog_fragment:Cze,fog_pars_fragment:Mze,gradientmap_pars_fragment:Tze,lightmap_fragment:Pze,lightmap_pars_fragment:kze,lights_lambert_fragment:Ize,lights_lambert_pars_fragment:Rze,lights_pars_begin:Oze,lights_toon_fragment:Dze,lights_toon_pars_fragment:Nze,lights_phong_fragment:Lze,lights_phong_pars_fragment:Fze,lights_physical_fragment:zze,lights_physical_pars_fragment:Uze,lights_fragment_begin:jze,lights_fragment_maps:Hze,lights_fragment_end:Gze,logdepthbuf_fragment:Vze,logdepthbuf_pars_fragment:Wze,logdepthbuf_pars_vertex:Xze,logdepthbuf_vertex:Kze,map_fragment:Yze,map_pars_fragment:qze,map_particle_fragment:Qze,map_particle_pars_fragment:Jze,metalnessmap_fragment:Zze,metalnessmap_pars_fragment:$ze,morphinstance_vertex:e6e,morphcolor_vertex:t6e,morphnormal_vertex:n6e,morphtarget_pars_vertex:r6e,morphtarget_vertex:i6e,normal_fragment_begin:o6e,normal_fragment_maps:s6e,normal_pars_fragment:a6e,normal_pars_vertex:l6e,normal_vertex:u6e,normalmap_pars_fragment:c6e,clearcoat_normal_fragment_begin:f6e,clearcoat_normal_fragment_maps:d6e,clearcoat_pars_fragment:h6e,iridescence_pars_fragment:p6e,opaque_fragment:m6e,packing:g6e,premultiplied_alpha_fragment:v6e,project_vertex:y6e,dithering_fragment:_6e,dithering_pars_fragment:w6e,roughnessmap_fragment:x6e,roughnessmap_pars_fragment:S6e,shadowmap_pars_fragment:b6e,shadowmap_pars_vertex:E6e,shadowmap_vertex:A6e,shadowmask_pars_fragment:C6e,skinbase_vertex:M6e,skinning_pars_vertex:T6e,skinning_vertex:P6e,skinnormal_vertex:k6e,specularmap_fragment:I6e,specularmap_pars_fragment:R6e,tonemapping_fragment:O6e,tonemapping_pars_fragment:B6e,transmission_fragment:D6e,transmission_pars_fragment:N6e,uv_pars_fragment:L6e,uv_pars_vertex:F6e,uv_vertex:z6e,worldpos_vertex:U6e,background_vert:j6e,background_frag:H6e,backgroundCube_vert:G6e,backgroundCube_frag:V6e,cube_vert:W6e,cube_frag:X6e,depth_vert:K6e,depth_frag:Y6e,distanceRGBA_vert:q6e,distanceRGBA_frag:Q6e,equirect_vert:J6e,equirect_frag:Z6e,linedashed_vert:$6e,linedashed_frag:e8e,meshbasic_vert:t8e,meshbasic_frag:n8e,meshlambert_vert:r8e,meshlambert_frag:i8e,meshmatcap_vert:o8e,meshmatcap_frag:s8e,meshnormal_vert:a8e,meshnormal_frag:l8e,meshphong_vert:u8e,meshphong_frag:c8e,meshphysical_vert:f8e,meshphysical_frag:d8e,meshtoon_vert:h8e,meshtoon_frag:p8e,points_vert:m8e,points_frag:g8e,shadow_vert:v8e,shadow_frag:y8e,sprite_vert:_8e,sprite_frag:w8e},Yr={common:{diffuse:{value:new Dr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ko},alphaMap:{value:null},alphaMapTransform:{value:new ko},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ko}},envmap:{envMap:{value:null},envMapRotation:{value:new ko},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ko}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ko}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ko},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ko},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ko},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ko}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ko}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ko}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Dr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ko},alphaTest:{value:0},uvTransform:{value:new ko}},sprite:{diffuse:{value:new Dr(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ko},alphaMap:{value:null},alphaMapTransform:{value:new ko},alphaTest:{value:0}}},Fv={basic:{uniforms:Qh([Yr.common,Yr.specularmap,Yr.envmap,Yr.aomap,Yr.lightmap,Yr.fog]),vertexShader:Do.meshbasic_vert,fragmentShader:Do.meshbasic_frag},lambert:{uniforms:Qh([Yr.common,Yr.specularmap,Yr.envmap,Yr.aomap,Yr.lightmap,Yr.emissivemap,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,Yr.fog,Yr.lights,{emissive:{value:new Dr(0)}}]),vertexShader:Do.meshlambert_vert,fragmentShader:Do.meshlambert_frag},phong:{uniforms:Qh([Yr.common,Yr.specularmap,Yr.envmap,Yr.aomap,Yr.lightmap,Yr.emissivemap,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,Yr.fog,Yr.lights,{emissive:{value:new Dr(0)},specular:{value:new Dr(1118481)},shininess:{value:30}}]),vertexShader:Do.meshphong_vert,fragmentShader:Do.meshphong_frag},standard:{uniforms:Qh([Yr.common,Yr.envmap,Yr.aomap,Yr.lightmap,Yr.emissivemap,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,Yr.roughnessmap,Yr.metalnessmap,Yr.fog,Yr.lights,{emissive:{value:new Dr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Do.meshphysical_vert,fragmentShader:Do.meshphysical_frag},toon:{uniforms:Qh([Yr.common,Yr.aomap,Yr.lightmap,Yr.emissivemap,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,Yr.gradientmap,Yr.fog,Yr.lights,{emissive:{value:new Dr(0)}}]),vertexShader:Do.meshtoon_vert,fragmentShader:Do.meshtoon_frag},matcap:{uniforms:Qh([Yr.common,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,Yr.fog,{matcap:{value:null}}]),vertexShader:Do.meshmatcap_vert,fragmentShader:Do.meshmatcap_frag},points:{uniforms:Qh([Yr.points,Yr.fog]),vertexShader:Do.points_vert,fragmentShader:Do.points_frag},dashed:{uniforms:Qh([Yr.common,Yr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Do.linedashed_vert,fragmentShader:Do.linedashed_frag},depth:{uniforms:Qh([Yr.common,Yr.displacementmap]),vertexShader:Do.depth_vert,fragmentShader:Do.depth_frag},normal:{uniforms:Qh([Yr.common,Yr.bumpmap,Yr.normalmap,Yr.displacementmap,{opacity:{value:1}}]),vertexShader:Do.meshnormal_vert,fragmentShader:Do.meshnormal_frag},sprite:{uniforms:Qh([Yr.sprite,Yr.fog]),vertexShader:Do.sprite_vert,fragmentShader:Do.sprite_frag},background:{uniforms:{uvTransform:{value:new ko},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Do.background_vert,fragmentShader:Do.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ko}},vertexShader:Do.backgroundCube_vert,fragmentShader:Do.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Do.cube_vert,fragmentShader:Do.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Do.equirect_vert,fragmentShader:Do.equirect_frag},distanceRGBA:{uniforms:Qh([Yr.common,Yr.displacementmap,{referencePosition:{value:new Je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Do.distanceRGBA_vert,fragmentShader:Do.distanceRGBA_frag},shadow:{uniforms:Qh([Yr.lights,Yr.fog,{color:{value:new Dr(0)},opacity:{value:1}}]),vertexShader:Do.shadow_vert,fragmentShader:Do.shadow_frag}};Fv.physical={uniforms:Qh([Fv.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ko},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ko},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ko},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ko},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ko},sheen:{value:0},sheenColor:{value:new Dr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ko},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ko},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ko},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ko},attenuationDistance:{value:0},attenuationColor:{value:new Dr(0)},specularColor:{value:new Dr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ko},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ko},anisotropyVector:{value:new Vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ko}}]),vertexShader:Do.meshphysical_vert,fragmentShader:Do.meshphysical_frag};const t5={r:0,b:0,g:0},rb=new tp,x8e=new Ui;function S8e(n,e,t,r,o,s,c){const d=new Dr(0);let g=s===!0?0:1,_,b,A=null,P=0,N=null;function F(D,I){let j=!1,T=I.isScene===!0?I.background:null;T&&T.isTexture&&(T=(I.backgroundBlurriness>0?t:e).get(T)),T===null?K(d,g):T&&T.isColor&&(K(T,1),j=!0);const Y=n.xr.getEnvironmentBlendMode();Y==="additive"?r.buffers.color.setClear(0,0,0,1,c):Y==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,c),(n.autoClear||j)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),T&&(T.isCubeTexture||T.mapping===KM)?(b===void 0&&(b=new ni(new Fp(1,1,1),new Im({name:"BackgroundCubeMaterial",uniforms:OM(Fv.backgroundCube.uniforms),vertexShader:Fv.backgroundCube.vertexShader,fragmentShader:Fv.backgroundCube.fragmentShader,side:ep,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),b.geometry.deleteAttribute("uv"),b.onBeforeRender=function(ce,le,Z){this.matrixWorld.copyPosition(Z.matrixWorld)},Object.defineProperty(b.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(b)),rb.copy(I.backgroundRotation),rb.x*=-1,rb.y*=-1,rb.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(rb.y*=-1,rb.z*=-1),b.material.uniforms.envMap.value=T,b.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,b.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,b.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,b.material.uniforms.backgroundRotation.value.setFromMatrix4(x8e.makeRotationFromEuler(rb)),b.material.toneMapped=fa.getTransfer(T.colorSpace)!==rl,(A!==T||P!==T.version||N!==n.toneMapping)&&(b.material.needsUpdate=!0,A=T,P=T.version,N=n.toneMapping),b.layers.enableAll(),D.unshift(b,b.geometry,b.material,0,0,null)):T&&T.isTexture&&(_===void 0&&(_=new ni(new Up(2,2),new Im({name:"BackgroundMaterial",uniforms:OM(Fv.background.uniforms),vertexShader:Fv.background.vertexShader,fragmentShader:Fv.background.fragmentShader,side:X0,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),Object.defineProperty(_.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(_)),_.material.uniforms.t2D.value=T,_.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,_.material.toneMapped=fa.getTransfer(T.colorSpace)!==rl,T.matrixAutoUpdate===!0&&T.updateMatrix(),_.material.uniforms.uvTransform.value.copy(T.matrix),(A!==T||P!==T.version||N!==n.toneMapping)&&(_.material.needsUpdate=!0,A=T,P=T.version,N=n.toneMapping),_.layers.enableAll(),D.unshift(_,_.geometry,_.material,0,0,null))}function K(D,I){D.getRGB(t5,rEe(n)),r.buffers.color.setClear(t5.r,t5.g,t5.b,I,c)}return{getClearColor:function(){return d},setClearColor:function(D,I=1){d.set(D),g=I,K(d,g)},getClearAlpha:function(){return g},setClearAlpha:function(D){g=D,K(d,g)},render:F}}function b8e(n,e,t,r){const o=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),c=r.isWebGL2||s!==null,d={},g=D(null);let _=g,b=!1;function A(Me,be,Ke,Ye,de){let ve=!1;if(c){const ye=K(Ye,Ke,be);_!==ye&&(_=ye,N(_.object)),ve=I(Me,Ye,Ke,de),ve&&j(Me,Ye,Ke,de)}else{const ye=be.wireframe===!0;(_.geometry!==Ye.id||_.program!==Ke.id||_.wireframe!==ye)&&(_.geometry=Ye.id,_.program=Ke.id,_.wireframe=ye,ve=!0)}de!==null&&t.update(de,n.ELEMENT_ARRAY_BUFFER),(ve||b)&&(b=!1,Se(Me,be,Ke,Ye),de!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(de).buffer))}function P(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function N(Me){return r.isWebGL2?n.bindVertexArray(Me):s.bindVertexArrayOES(Me)}function F(Me){return r.isWebGL2?n.deleteVertexArray(Me):s.deleteVertexArrayOES(Me)}function K(Me,be,Ke){const Ye=Ke.wireframe===!0;let de=d[Me.id];de===void 0&&(de={},d[Me.id]=de);let ve=de[be.id];ve===void 0&&(ve={},de[be.id]=ve);let ye=ve[Ye];return ye===void 0&&(ye=D(P()),ve[Ye]=ye),ye}function D(Me){const be=[],Ke=[],Ye=[];for(let de=0;de<o;de++)be[de]=0,Ke[de]=0,Ye[de]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:be,enabledAttributes:Ke,attributeDivisors:Ye,object:Me,attributes:{},index:null}}function I(Me,be,Ke,Ye){const de=_.attributes,ve=be.attributes;let ye=0;const _e=Ke.getAttributes();for(const ge in _e)if(_e[ge].location>=0){const qe=de[ge];let _t=ve[ge];if(_t===void 0&&(ge==="instanceMatrix"&&Me.instanceMatrix&&(_t=Me.instanceMatrix),ge==="instanceColor"&&Me.instanceColor&&(_t=Me.instanceColor)),qe===void 0||qe.attribute!==_t||_t&&qe.data!==_t.data)return!0;ye++}return _.attributesNum!==ye||_.index!==Ye}function j(Me,be,Ke,Ye){const de={},ve=be.attributes;let ye=0;const _e=Ke.getAttributes();for(const ge in _e)if(_e[ge].location>=0){let qe=ve[ge];qe===void 0&&(ge==="instanceMatrix"&&Me.instanceMatrix&&(qe=Me.instanceMatrix),ge==="instanceColor"&&Me.instanceColor&&(qe=Me.instanceColor));const _t={};_t.attribute=qe,qe&&qe.data&&(_t.data=qe.data),de[ge]=_t,ye++}_.attributes=de,_.attributesNum=ye,_.index=Ye}function T(){const Me=_.newAttributes;for(let be=0,Ke=Me.length;be<Ke;be++)Me[be]=0}function Y(Me){ce(Me,0)}function ce(Me,be){const Ke=_.newAttributes,Ye=_.enabledAttributes,de=_.attributeDivisors;Ke[Me]=1,Ye[Me]===0&&(n.enableVertexAttribArray(Me),Ye[Me]=1),de[Me]!==be&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Me,be),de[Me]=be)}function le(){const Me=_.newAttributes,be=_.enabledAttributes;for(let Ke=0,Ye=be.length;Ke<Ye;Ke++)be[Ke]!==Me[Ke]&&(n.disableVertexAttribArray(Ke),be[Ke]=0)}function Z(Me,be,Ke,Ye,de,ve,ye){ye===!0?n.vertexAttribIPointer(Me,be,Ke,de,ve):n.vertexAttribPointer(Me,be,Ke,Ye,de,ve)}function Se(Me,be,Ke,Ye){if(r.isWebGL2===!1&&(Me.isInstancedMesh||Ye.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const de=Ye.attributes,ve=Ke.getAttributes(),ye=be.defaultAttributeValues;for(const _e in ve){const ge=ve[_e];if(ge.location>=0){let dt=de[_e];if(dt===void 0&&(_e==="instanceMatrix"&&Me.instanceMatrix&&(dt=Me.instanceMatrix),_e==="instanceColor"&&Me.instanceColor&&(dt=Me.instanceColor)),dt!==void 0){const qe=dt.normalized,_t=dt.itemSize,Qe=t.get(dt);if(Qe===void 0)continue;const zt=Qe.buffer,Lt=Qe.type,Kt=Qe.bytesPerElement,ln=r.isWebGL2===!0&&(Lt===n.INT||Lt===n.UNSIGNED_INT||dt.gpuType===FK);if(dt.isInterleavedBufferAttribute){const bn=dt.data,Ze=bn.stride,nn=dt.offset;if(bn.isInstancedInterleavedBuffer){for(let jt=0;jt<ge.locationSize;jt++)ce(ge.location+jt,bn.meshPerAttribute);Me.isInstancedMesh!==!0&&Ye._maxInstanceCount===void 0&&(Ye._maxInstanceCount=bn.meshPerAttribute*bn.count)}else for(let jt=0;jt<ge.locationSize;jt++)Y(ge.location+jt);n.bindBuffer(n.ARRAY_BUFFER,zt);for(let jt=0;jt<ge.locationSize;jt++)Z(ge.location+jt,_t/ge.locationSize,Lt,qe,Ze*Kt,(nn+_t/ge.locationSize*jt)*Kt,ln)}else{if(dt.isInstancedBufferAttribute){for(let bn=0;bn<ge.locationSize;bn++)ce(ge.location+bn,dt.meshPerAttribute);Me.isInstancedMesh!==!0&&Ye._maxInstanceCount===void 0&&(Ye._maxInstanceCount=dt.meshPerAttribute*dt.count)}else for(let bn=0;bn<ge.locationSize;bn++)Y(ge.location+bn);n.bindBuffer(n.ARRAY_BUFFER,zt);for(let bn=0;bn<ge.locationSize;bn++)Z(ge.location+bn,_t/ge.locationSize,Lt,qe,_t*Kt,_t/ge.locationSize*bn*Kt,ln)}}else if(ye!==void 0){const qe=ye[_e];if(qe!==void 0)switch(qe.length){case 2:n.vertexAttrib2fv(ge.location,qe);break;case 3:n.vertexAttrib3fv(ge.location,qe);break;case 4:n.vertexAttrib4fv(ge.location,qe);break;default:n.vertexAttrib1fv(ge.location,qe)}}}}le()}function Le(){st();for(const Me in d){const be=d[Me];for(const Ke in be){const Ye=be[Ke];for(const de in Ye)F(Ye[de].object),delete Ye[de];delete be[Ke]}delete d[Me]}}function X(Me){if(d[Me.id]===void 0)return;const be=d[Me.id];for(const Ke in be){const Ye=be[Ke];for(const de in Ye)F(Ye[de].object),delete Ye[de];delete be[Ke]}delete d[Me.id]}function fe(Me){for(const be in d){const Ke=d[be];if(Ke[Me.id]===void 0)continue;const Ye=Ke[Me.id];for(const de in Ye)F(Ye[de].object),delete Ye[de];delete Ke[Me.id]}}function st(){Ue(),b=!0,_!==g&&(_=g,N(_.object))}function Ue(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:A,reset:st,resetDefaultState:Ue,dispose:Le,releaseStatesOfGeometry:X,releaseStatesOfProgram:fe,initAttributes:T,enableAttribute:Y,disableUnusedAttributes:le}}function E8e(n,e,t,r){const o=r.isWebGL2;let s;function c(b){s=b}function d(b,A){n.drawArrays(s,b,A),t.update(A,s,1)}function g(b,A,P){if(P===0)return;let N,F;if(o)N=n,F="drawArraysInstanced";else if(N=e.get("ANGLE_instanced_arrays"),F="drawArraysInstancedANGLE",N===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}N[F](s,b,A,P),t.update(A,s,P)}function _(b,A,P){if(P===0)return;const N=e.get("WEBGL_multi_draw");if(N===null)for(let F=0;F<P;F++)this.render(b[F],A[F]);else{N.multiDrawArraysWEBGL(s,b,0,A,0,P);let F=0;for(let K=0;K<P;K++)F+=A[K];t.update(F,s,1)}}this.setMode=c,this.render=d,this.renderInstances=g,this.renderMultiDraw=_}function A8e(n,e,t){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const Z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(Z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(Z){if(Z==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";Z="mediump"}return Z==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let d=t.precision!==void 0?t.precision:"highp";const g=s(d);g!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",g,"instead."),d=g);const _=c||e.has("WEBGL_draw_buffers"),b=t.logarithmicDepthBuffer===!0,A=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),P=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),N=n.getParameter(n.MAX_TEXTURE_SIZE),F=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),K=n.getParameter(n.MAX_VERTEX_ATTRIBS),D=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),I=n.getParameter(n.MAX_VARYING_VECTORS),j=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=P>0,Y=c||e.has("OES_texture_float"),ce=T&&Y,le=c?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:c,drawBuffers:_,getMaxAnisotropy:o,getMaxPrecision:s,precision:d,logarithmicDepthBuffer:b,maxTextures:A,maxVertexTextures:P,maxTextureSize:N,maxCubemapSize:F,maxAttributes:K,maxVertexUniforms:D,maxVaryings:I,maxFragmentUniforms:j,vertexTextures:T,floatFragmentTextures:Y,floatVertexTextures:ce,maxSamples:le}}function C8e(n){const e=this;let t=null,r=0,o=!1,s=!1;const c=new bw,d=new ko,g={value:null,needsUpdate:!1};this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(A,P){const N=A.length!==0||P||r!==0||o;return o=P,r=A.length,N},this.beginShadows=function(){s=!0,b(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(A,P){t=b(A,P,0)},this.setState=function(A,P,N){const F=A.clippingPlanes,K=A.clipIntersection,D=A.clipShadows,I=n.get(A);if(!o||F===null||F.length===0||s&&!D)s?b(null):_();else{const j=s?0:r,T=j*4;let Y=I.clippingState||null;g.value=Y,Y=b(F,P,T,N);for(let ce=0;ce!==T;++ce)Y[ce]=t[ce];I.clippingState=Y,this.numIntersection=K?this.numPlanes:0,this.numPlanes+=j}};function _(){g.value!==t&&(g.value=t,g.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function b(A,P,N,F){const K=A!==null?A.length:0;let D=null;if(K!==0){if(D=g.value,F!==!0||D===null){const I=N+K*4,j=P.matrixWorldInverse;d.getNormalMatrix(j),(D===null||D.length<I)&&(D=new Float32Array(I));for(let T=0,Y=N;T!==K;++T,Y+=4)c.copy(A[T]).applyMatrix4(j,d),c.normal.toArray(D,Y),D[Y+3]=c.constant}g.value=D,g.needsUpdate=!0}return e.numPlanes=K,e.numIntersection=0,D}}function M8e(n){let e=new WeakMap;function t(c,d){return d===PM?c.mapping=K0:d===ER&&(c.mapping=Qw),c}function r(c){if(c&&c.isTexture){const d=c.mapping;if(d===PM||d===ER)if(e.has(c)){const g=e.get(c).texture;return t(g,c.mapping)}else{const g=c.image;if(g&&g.height>0){const _=new $K(g.height);return _.fromEquirectangularTexture(n,c),e.set(c,_),c.addEventListener("dispose",o),t(_.texture,c.mapping)}else return null}}return c}function o(c){const d=c.target;d.removeEventListener("dispose",o);const g=e.get(d);g!==void 0&&(e.delete(d),g.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ng extends qM{constructor(e=-1,t=1,r=1,o=-1,s=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=o,this.near=s,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,o,s,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=o,this.view.width=s,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=r-e,c=r+e,d=o+t,g=o-t;if(this.view!==null&&this.view.enabled){const _=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=_*this.view.offsetX,c=s+_*this.view.width,d-=b*this.view.offsetY,g=d-b*this.view.height}this.projectionMatrix.makeOrthographic(s,c,d,g,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const oM=4,eye=[.125,.215,.35,.446,.526,.582],bb=20,xG=new Ng,tye=new Dr;let SG=null,bG=0,EG=0;const wb=(1+Math.sqrt(5))/2,SC=1/wb,nye=[new Je(1,1,1),new Je(-1,1,1),new Je(1,1,-1),new Je(-1,1,-1),new Je(0,wb,SC),new Je(0,wb,-SC),new Je(SC,0,wb),new Je(-SC,0,wb),new Je(wb,SC,0),new Je(-wb,SC,0)];class sX{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,o=100){SG=this._renderer.getRenderTarget(),bG=this._renderer.getActiveCubeFace(),EG=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,o,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=oye(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iye(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(SG,bG,EG),e.scissorTest=!1,n5(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===K0||e.mapping===Qw?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),SG=this._renderer.getRenderTarget(),bG=this._renderer.getActiveCubeFace(),EG=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Xs,minFilter:Xs,generateMipmaps:!1,type:lh,format:_d,colorSpace:P1,depthBuffer:!1},o=rye(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rye(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=T8e(s)),this._blurMaterial=P8e(s,e,t)}return o}_compileMaterial(e){const t=new ni(this._lodPlanes[0],e);this._renderer.compile(t,xG)}_sceneToCubeUV(e,t,r,o){const d=new bl(90,1,t,r),g=[1,-1,1,1,1,1],_=[1,1,1,-1,-1,-1],b=this._renderer,A=b.autoClear,P=b.toneMapping;b.getClearColor(tye),b.toneMapping=jv,b.autoClear=!1;const N=new wd({name:"PMREM.Background",side:ep,depthWrite:!1,depthTest:!1}),F=new ni(new Fp,N);let K=!1;const D=e.background;D?D.isColor&&(N.color.copy(D),e.background=null,K=!0):(N.color.copy(tye),K=!0);for(let I=0;I<6;I++){const j=I%3;j===0?(d.up.set(0,g[I],0),d.lookAt(_[I],0,0)):j===1?(d.up.set(0,0,g[I]),d.lookAt(0,_[I],0)):(d.up.set(0,g[I],0),d.lookAt(0,0,_[I]));const T=this._cubeSize;n5(o,j*T,I>2?T:0,T,T),b.setRenderTarget(o),K&&b.render(F,d),b.render(e,d)}F.geometry.dispose(),F.material.dispose(),b.toneMapping=P,b.autoClear=A,e.background=D}_textureToCubeUV(e,t){const r=this._renderer,o=e.mapping===K0||e.mapping===Qw;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=oye()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iye());const s=o?this._cubemapMaterial:this._equirectMaterial,c=new ni(this._lodPlanes[0],s),d=s.uniforms;d.envMap.value=e;const g=this._cubeSize;n5(t,0,0,3*g,2*g),r.setRenderTarget(t),r.render(c,xG)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),c=nye[(o-1)%nye.length];this._blur(e,o-1,o,s,c)}t.autoClear=r}_blur(e,t,r,o,s){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,r,o,"latitudinal",s),this._halfBlur(c,e,r,r,o,"longitudinal",s)}_halfBlur(e,t,r,o,s,c,d){const g=this._renderer,_=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const b=3,A=new ni(this._lodPlanes[o],_),P=_.uniforms,N=this._sizeLods[r]-1,F=isFinite(s)?Math.PI/(2*N):2*Math.PI/(2*bb-1),K=s/F,D=isFinite(s)?1+Math.floor(b*K):bb;D>bb&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${D} samples when the maximum is set to ${bb}`);const I=[];let j=0;for(let Z=0;Z<bb;++Z){const Se=Z/K,Le=Math.exp(-Se*Se/2);I.push(Le),Z===0?j+=Le:Z<D&&(j+=2*Le)}for(let Z=0;Z<I.length;Z++)I[Z]=I[Z]/j;P.envMap.value=e.texture,P.samples.value=D,P.weights.value=I,P.latitudinal.value=c==="latitudinal",d&&(P.poleAxis.value=d);const{_lodMax:T}=this;P.dTheta.value=F,P.mipInt.value=T-r;const Y=this._sizeLods[o],ce=3*Y*(o>T-oM?o-T+oM:0),le=4*(this._cubeSize-Y);n5(t,ce,le,3*Y,2*Y),g.setRenderTarget(t),g.render(A,xG)}}function T8e(n){const e=[],t=[],r=[];let o=n;const s=n-oM+1+eye.length;for(let c=0;c<s;c++){const d=Math.pow(2,o);t.push(d);let g=1/d;c>n-oM?g=eye[c-n+oM-1]:c===0&&(g=0),r.push(g);const _=1/(d-2),b=-_,A=1+_,P=[b,b,A,b,A,A,b,b,A,A,b,A],N=6,F=6,K=3,D=2,I=1,j=new Float32Array(K*F*N),T=new Float32Array(D*F*N),Y=new Float32Array(I*F*N);for(let le=0;le<N;le++){const Z=le%3*2/3-1,Se=le>2?0:-1,Le=[Z,Se,0,Z+2/3,Se,0,Z+2/3,Se+1,0,Z,Se,0,Z+2/3,Se+1,0,Z,Se+1,0];j.set(Le,K*F*le),T.set(P,D*F*le);const X=[le,le,le,le,le,le];Y.set(X,I*F*le)}const ce=new po;ce.setAttribute("position",new Ps(j,K)),ce.setAttribute("uv",new Ps(T,D)),ce.setAttribute("faceIndex",new Ps(Y,I)),e.push(ce),o>oM&&o--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function rye(n,e,t){const r=new zg(n,e,t);return r.texture.mapping=KM,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function n5(n,e,t,r,o){n.viewport.set(e,t,r,o),n.scissor.set(e,t,r,o)}function P8e(n,e,t){const r=new Float32Array(bb),o=new Je(0,1,0);return new Im({name:"SphericalGaussianBlur",defines:{n:bb,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:eY(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:S1,depthTest:!1,depthWrite:!1})}function iye(){return new Im({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eY(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:S1,depthTest:!1,depthWrite:!1})}function oye(){return new Im({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eY(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:S1,depthTest:!1,depthWrite:!1})}function eY(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function k8e(n){let e=new WeakMap,t=null;function r(d){if(d&&d.isTexture){const g=d.mapping,_=g===PM||g===ER,b=g===K0||g===Qw;if(_||b)if(d.isRenderTargetTexture&&d.needsPMREMUpdate===!0){d.needsPMREMUpdate=!1;let A=e.get(d);return t===null&&(t=new sX(n)),A=_?t.fromEquirectangular(d,A):t.fromCubemap(d,A),e.set(d,A),A.texture}else{if(e.has(d))return e.get(d).texture;{const A=d.image;if(_&&A&&A.height>0||b&&A&&o(A)){t===null&&(t=new sX(n));const P=_?t.fromEquirectangular(d):t.fromCubemap(d);return e.set(d,P),d.addEventListener("dispose",s),P.texture}else return null}}}return d}function o(d){let g=0;const _=6;for(let b=0;b<_;b++)d[b]!==void 0&&g++;return g===_}function s(d){const g=d.target;g.removeEventListener("dispose",s);const _=e.get(g);_!==void 0&&(e.delete(g),_.dispose())}function c(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:c}}function I8e(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let o;switch(r){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(r)}return e[r]=o,o}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const o=t(r);return o===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function R8e(n,e,t,r){const o={},s=new WeakMap;function c(A){const P=A.target;P.index!==null&&e.remove(P.index);for(const F in P.attributes)e.remove(P.attributes[F]);for(const F in P.morphAttributes){const K=P.morphAttributes[F];for(let D=0,I=K.length;D<I;D++)e.remove(K[D])}P.removeEventListener("dispose",c),delete o[P.id];const N=s.get(P);N&&(e.remove(N),s.delete(P)),r.releaseStatesOfGeometry(P),P.isInstancedBufferGeometry===!0&&delete P._maxInstanceCount,t.memory.geometries--}function d(A,P){return o[P.id]===!0||(P.addEventListener("dispose",c),o[P.id]=!0,t.memory.geometries++),P}function g(A){const P=A.attributes;for(const F in P)e.update(P[F],n.ARRAY_BUFFER);const N=A.morphAttributes;for(const F in N){const K=N[F];for(let D=0,I=K.length;D<I;D++)e.update(K[D],n.ARRAY_BUFFER)}}function _(A){const P=[],N=A.index,F=A.attributes.position;let K=0;if(N!==null){const j=N.array;K=N.version;for(let T=0,Y=j.length;T<Y;T+=3){const ce=j[T+0],le=j[T+1],Z=j[T+2];P.push(ce,le,le,Z,Z,ce)}}else if(F!==void 0){const j=F.array;K=F.version;for(let T=0,Y=j.length/3-1;T<Y;T+=3){const ce=T+0,le=T+1,Z=T+2;P.push(ce,le,le,Z,Z,ce)}}else return;const D=new(Zbe(P)?ZK:JK)(P,1);D.version=K;const I=s.get(A);I&&e.remove(I),s.set(A,D)}function b(A){const P=s.get(A);if(P){const N=A.index;N!==null&&P.version<N.version&&_(A)}else _(A);return s.get(A)}return{get:d,update:g,getWireframeAttribute:b}}function O8e(n,e,t,r){const o=r.isWebGL2;let s;function c(N){s=N}let d,g;function _(N){d=N.type,g=N.bytesPerElement}function b(N,F){n.drawElements(s,F,d,N*g),t.update(F,s,1)}function A(N,F,K){if(K===0)return;let D,I;if(o)D=n,I="drawElementsInstanced";else if(D=e.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",D===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}D[I](s,F,d,N*g,K),t.update(F,s,K)}function P(N,F,K){if(K===0)return;const D=e.get("WEBGL_multi_draw");if(D===null)for(let I=0;I<K;I++)this.render(N[I]/g,F[I]);else{D.multiDrawElementsWEBGL(s,F,0,d,N,0,K);let I=0;for(let j=0;j<K;j++)I+=F[j];t.update(I,s,1)}}this.setMode=c,this.setIndex=_,this.render=b,this.renderInstances=A,this.renderMultiDraw=P}function B8e(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,c,d){switch(t.calls++,c){case n.TRIANGLES:t.triangles+=d*(s/3);break;case n.LINES:t.lines+=d*(s/2);break;case n.LINE_STRIP:t.lines+=d*(s-1);break;case n.LINE_LOOP:t.lines+=d*s;break;case n.POINTS:t.points+=d*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function o(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:o,update:r}}function D8e(n,e){return n[0]-e[0]}function N8e(n,e){return Math.abs(e[1])-Math.abs(n[1])}function L8e(n,e,t){const r={},o=new Float32Array(8),s=new WeakMap,c=new Ms,d=[];for(let _=0;_<8;_++)d[_]=[_,0];function g(_,b,A){const P=_.morphTargetInfluences;if(e.isWebGL2===!0){const F=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,K=F!==void 0?F.length:0;let D=s.get(b);if(D===void 0||D.count!==K){let Ue=function(){fe.dispose(),s.delete(b),b.removeEventListener("dispose",Ue)};var N=Ue;D!==void 0&&D.texture.dispose();const I=b.morphAttributes.position!==void 0,j=b.morphAttributes.normal!==void 0,T=b.morphAttributes.color!==void 0,Y=b.morphAttributes.position||[],ce=b.morphAttributes.normal||[],le=b.morphAttributes.color||[];let Z=0;I===!0&&(Z=1),j===!0&&(Z=2),T===!0&&(Z=3);let Se=b.attributes.position.count*Z,Le=1;Se>e.maxTextureSize&&(Le=Math.ceil(Se/e.maxTextureSize),Se=e.maxTextureSize);const X=new Float32Array(Se*Le*4*K),fe=new TF(X,Se,Le,K);fe.type=kc,fe.needsUpdate=!0;const st=Z*4;for(let Me=0;Me<K;Me++){const be=Y[Me],Ke=ce[Me],Ye=le[Me],de=Se*Le*4*Me;for(let ve=0;ve<be.count;ve++){const ye=ve*st;I===!0&&(c.fromBufferAttribute(be,ve),X[de+ye+0]=c.x,X[de+ye+1]=c.y,X[de+ye+2]=c.z,X[de+ye+3]=0),j===!0&&(c.fromBufferAttribute(Ke,ve),X[de+ye+4]=c.x,X[de+ye+5]=c.y,X[de+ye+6]=c.z,X[de+ye+7]=0),T===!0&&(c.fromBufferAttribute(Ye,ve),X[de+ye+8]=c.x,X[de+ye+9]=c.y,X[de+ye+10]=c.z,X[de+ye+11]=Ye.itemSize===4?c.w:1)}}D={count:K,texture:fe,size:new Vn(Se,Le)},s.set(b,D),b.addEventListener("dispose",Ue)}if(_.isInstancedMesh===!0&&_.morphTexture!==null)A.getUniforms().setValue(n,"morphTexture",_.morphTexture,t);else{let I=0;for(let T=0;T<P.length;T++)I+=P[T];const j=b.morphTargetsRelative?1:1-I;A.getUniforms().setValue(n,"morphTargetBaseInfluence",j),A.getUniforms().setValue(n,"morphTargetInfluences",P)}A.getUniforms().setValue(n,"morphTargetsTexture",D.texture,t),A.getUniforms().setValue(n,"morphTargetsTextureSize",D.size)}else{const F=P===void 0?0:P.length;let K=r[b.id];if(K===void 0||K.length!==F){K=[];for(let Y=0;Y<F;Y++)K[Y]=[Y,0];r[b.id]=K}for(let Y=0;Y<F;Y++){const ce=K[Y];ce[0]=Y,ce[1]=P[Y]}K.sort(N8e);for(let Y=0;Y<8;Y++)Y<F&&K[Y][1]?(d[Y][0]=K[Y][0],d[Y][1]=K[Y][1]):(d[Y][0]=Number.MAX_SAFE_INTEGER,d[Y][1]=0);d.sort(D8e);const D=b.morphAttributes.position,I=b.morphAttributes.normal;let j=0;for(let Y=0;Y<8;Y++){const ce=d[Y],le=ce[0],Z=ce[1];le!==Number.MAX_SAFE_INTEGER&&Z?(D&&b.getAttribute("morphTarget"+Y)!==D[le]&&b.setAttribute("morphTarget"+Y,D[le]),I&&b.getAttribute("morphNormal"+Y)!==I[le]&&b.setAttribute("morphNormal"+Y,I[le]),o[Y]=Z,j+=Z):(D&&b.hasAttribute("morphTarget"+Y)===!0&&b.deleteAttribute("morphTarget"+Y),I&&b.hasAttribute("morphNormal"+Y)===!0&&b.deleteAttribute("morphNormal"+Y),o[Y]=0)}const T=b.morphTargetsRelative?1:1-j;A.getUniforms().setValue(n,"morphTargetBaseInfluence",T),A.getUniforms().setValue(n,"morphTargetInfluences",o)}}return{update:g}}function F8e(n,e,t,r){let o=new WeakMap;function s(g){const _=r.render.frame,b=g.geometry,A=e.get(g,b);if(o.get(A)!==_&&(e.update(A),o.set(A,_)),g.isInstancedMesh&&(g.hasEventListener("dispose",d)===!1&&g.addEventListener("dispose",d),o.get(g)!==_&&(t.update(g.instanceMatrix,n.ARRAY_BUFFER),g.instanceColor!==null&&t.update(g.instanceColor,n.ARRAY_BUFFER),o.set(g,_))),g.isSkinnedMesh){const P=g.skeleton;o.get(P)!==_&&(P.update(),o.set(P,_))}return A}function c(){o=new WeakMap}function d(g){const _=g.target;_.removeEventListener("dispose",d),t.remove(_.instanceMatrix),_.instanceColor!==null&&t.remove(_.instanceColor)}return{update:s,dispose:c}}class PF extends za{constructor(e,t,r,o,s,c,d,g,_,b){if(b=b!==void 0?b:Gw,b!==Gw&&b!==Xb)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&b===Gw&&(r=m1),r===void 0&&b===Xb&&(r=Hw),super(null,o,s,c,d,g,b,r,_),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=d!==void 0?d:Tu,this.minFilter=g!==void 0?g:Tu,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const aEe=new za,lEe=new PF(1,1);lEe.compareFunction=KK;const uEe=new TF,cEe=new QK,fEe=new n3,sye=[],aye=[],lye=new Float32Array(16),uye=new Float32Array(9),cye=new Float32Array(4);function QM(n,e,t){const r=n[0];if(r<=0||r>0)return n;const o=e*t;let s=sye[o];if(s===void 0&&(s=new Float32Array(o),sye[o]=s),e!==0){r.toArray(s,0);for(let c=1,d=0;c!==e;++c)d+=t,n[c].toArray(s,d)}return s}function nf(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function rf(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function kF(n,e){let t=aye[e];t===void 0&&(t=new Int32Array(e),aye[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function z8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function U8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nf(t,e))return;n.uniform2fv(this.addr,e),rf(t,e)}}function j8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(nf(t,e))return;n.uniform3fv(this.addr,e),rf(t,e)}}function H8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nf(t,e))return;n.uniform4fv(this.addr,e),rf(t,e)}}function G8e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nf(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),rf(t,e)}else{if(nf(t,r))return;cye.set(r),n.uniformMatrix2fv(this.addr,!1,cye),rf(t,r)}}function V8e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nf(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),rf(t,e)}else{if(nf(t,r))return;uye.set(r),n.uniformMatrix3fv(this.addr,!1,uye),rf(t,r)}}function W8e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nf(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),rf(t,e)}else{if(nf(t,r))return;lye.set(r),n.uniformMatrix4fv(this.addr,!1,lye),rf(t,r)}}function X8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function K8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nf(t,e))return;n.uniform2iv(this.addr,e),rf(t,e)}}function Y8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(nf(t,e))return;n.uniform3iv(this.addr,e),rf(t,e)}}function q8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nf(t,e))return;n.uniform4iv(this.addr,e),rf(t,e)}}function Q8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function J8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nf(t,e))return;n.uniform2uiv(this.addr,e),rf(t,e)}}function Z8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(nf(t,e))return;n.uniform3uiv(this.addr,e),rf(t,e)}}function $8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nf(t,e))return;n.uniform4uiv(this.addr,e),rf(t,e)}}function eUe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o);const s=this.type===n.SAMPLER_2D_SHADOW?lEe:aEe;t.setTexture2D(e||s,o)}function tUe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTexture3D(e||cEe,o)}function nUe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTextureCube(e||fEe,o)}function rUe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTexture2DArray(e||uEe,o)}function iUe(n){switch(n){case 5126:return z8e;case 35664:return U8e;case 35665:return j8e;case 35666:return H8e;case 35674:return G8e;case 35675:return V8e;case 35676:return W8e;case 5124:case 35670:return X8e;case 35667:case 35671:return K8e;case 35668:case 35672:return Y8e;case 35669:case 35673:return q8e;case 5125:return Q8e;case 36294:return J8e;case 36295:return Z8e;case 36296:return $8e;case 35678:case 36198:case 36298:case 36306:case 35682:return eUe;case 35679:case 36299:case 36307:return tUe;case 35680:case 36300:case 36308:case 36293:return nUe;case 36289:case 36303:case 36311:case 36292:return rUe}}function oUe(n,e){n.uniform1fv(this.addr,e)}function sUe(n,e){const t=QM(e,this.size,2);n.uniform2fv(this.addr,t)}function aUe(n,e){const t=QM(e,this.size,3);n.uniform3fv(this.addr,t)}function lUe(n,e){const t=QM(e,this.size,4);n.uniform4fv(this.addr,t)}function uUe(n,e){const t=QM(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function cUe(n,e){const t=QM(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function fUe(n,e){const t=QM(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function dUe(n,e){n.uniform1iv(this.addr,e)}function hUe(n,e){n.uniform2iv(this.addr,e)}function pUe(n,e){n.uniform3iv(this.addr,e)}function mUe(n,e){n.uniform4iv(this.addr,e)}function gUe(n,e){n.uniform1uiv(this.addr,e)}function vUe(n,e){n.uniform2uiv(this.addr,e)}function yUe(n,e){n.uniform3uiv(this.addr,e)}function _Ue(n,e){n.uniform4uiv(this.addr,e)}function wUe(n,e,t){const r=this.cache,o=e.length,s=kF(t,o);nf(r,s)||(n.uniform1iv(this.addr,s),rf(r,s));for(let c=0;c!==o;++c)t.setTexture2D(e[c]||aEe,s[c])}function xUe(n,e,t){const r=this.cache,o=e.length,s=kF(t,o);nf(r,s)||(n.uniform1iv(this.addr,s),rf(r,s));for(let c=0;c!==o;++c)t.setTexture3D(e[c]||cEe,s[c])}function SUe(n,e,t){const r=this.cache,o=e.length,s=kF(t,o);nf(r,s)||(n.uniform1iv(this.addr,s),rf(r,s));for(let c=0;c!==o;++c)t.setTextureCube(e[c]||fEe,s[c])}function bUe(n,e,t){const r=this.cache,o=e.length,s=kF(t,o);nf(r,s)||(n.uniform1iv(this.addr,s),rf(r,s));for(let c=0;c!==o;++c)t.setTexture2DArray(e[c]||uEe,s[c])}function EUe(n){switch(n){case 5126:return oUe;case 35664:return sUe;case 35665:return aUe;case 35666:return lUe;case 35674:return uUe;case 35675:return cUe;case 35676:return fUe;case 5124:case 35670:return dUe;case 35667:case 35671:return hUe;case 35668:case 35672:return pUe;case 35669:case 35673:return mUe;case 5125:return gUe;case 36294:return vUe;case 36295:return yUe;case 36296:return _Ue;case 35678:case 36198:case 36298:case 36306:case 35682:return wUe;case 35679:case 36299:case 36307:return xUe;case 35680:case 36300:case 36308:case 36293:return SUe;case 36289:case 36303:case 36311:case 36292:return bUe}}class AUe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=iUe(t.type)}}class CUe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=EUe(t.type)}}class MUe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const o=this.seq;for(let s=0,c=o.length;s!==c;++s){const d=o[s];d.setValue(e,t[d.id],r)}}}const AG=/(\w+)(\])?(\[|\.)?/g;function fye(n,e){n.seq.push(e),n.map[e.id]=e}function TUe(n,e,t){const r=n.name,o=r.length;for(AG.lastIndex=0;;){const s=AG.exec(r),c=AG.lastIndex;let d=s[1];const g=s[2]==="]",_=s[3];if(g&&(d=d|0),_===void 0||_==="["&&c+2===o){fye(t,_===void 0?new AUe(d,n,e):new CUe(d,n,e));break}else{let A=t.map[d];A===void 0&&(A=new MUe(d),fye(t,A)),t=A}}}class aL{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(t,o),c=e.getUniformLocation(t,s.name);TUe(s,c,this)}}setValue(e,t,r,o){const s=this.map[t];s!==void 0&&s.setValue(e,r,o)}setOptional(e,t,r){const o=t[r];o!==void 0&&this.setValue(e,r,o)}static upload(e,t,r,o){for(let s=0,c=t.length;s!==c;++s){const d=t[s],g=r[d.id];g.needsUpdate!==!1&&d.setValue(e,g.value,o)}}static seqWithValue(e,t){const r=[];for(let o=0,s=e.length;o!==s;++o){const c=e[o];c.id in t&&r.push(c)}return r}}function dye(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const PUe=37297;let kUe=0;function IUe(n,e){const t=n.split(`
`),r=[],o=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let c=o;c<s;c++){const d=c+1;r.push(`${d===e?">":" "} ${d}: ${t[c]}`)}return r.join(`
`)}function RUe(n){const e=fa.getPrimaries(fa.workingColorSpace),t=fa.getPrimaries(n);let r;switch(e===t?r="":e===PR&&t===TR?r="LinearDisplayP3ToLinearSRGB":e===TR&&t===PR&&(r="LinearSRGBToLinearDisplayP3"),n){case P1:case t3:return[r,"LinearTransferOETF"];case Mg:case MF:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function hye(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(r&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const c=parseInt(s[1]);return t.toUpperCase()+`

`+o+`

`+IUe(n.getShaderSource(e),c)}else return o}function OUe(n,e){const t=RUe(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function BUe(n,e){let t;switch(e){case bbe:t="Linear";break;case Ebe:t="Reinhard";break;case Abe:t="OptimizedCineon";break;case SF:t="ACESFilmic";break;case Mbe:t="AgX";break;case Tbe:t="Neutral";break;case Cbe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function DUe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.alphaToCoverage||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sM).join(`
`)}function NUe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(sM).join(`
`)}function LUe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function FUe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const s=n.getActiveAttrib(e,o),c=s.name;let d=1;s.type===n.FLOAT_MAT2&&(d=2),s.type===n.FLOAT_MAT3&&(d=3),s.type===n.FLOAT_MAT4&&(d=4),t[c]={type:s.type,location:n.getAttribLocation(e,c),locationSize:d}}return t}function sM(n){return n!==""}function pye(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mye(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function aX(n){return n.replace(zUe,jUe)}const UUe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function jUe(n,e){let t=Do[e];if(t===void 0){const r=UUe.get(e);if(r!==void 0)t=Do[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return aX(t)}const HUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gye(n){return n.replace(HUe,GUe)}function GUe(n,e,t,r){let o="";for(let s=parseInt(e);s<parseInt(t);s++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function vye(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	`;return n.isWebGL2&&(e+=`precision ${n.precision} sampler3D;
		precision ${n.precision} sampler2DArray;
		precision ${n.precision} sampler2DShadow;
		precision ${n.precision} samplerCubeShadow;
		precision ${n.precision} sampler2DArrayShadow;
		precision ${n.precision} isampler2D;
		precision ${n.precision} isampler3D;
		precision ${n.precision} isamplerCube;
		precision ${n.precision} isampler2DArray;
		precision ${n.precision} usampler2D;
		precision ${n.precision} usampler3D;
		precision ${n.precision} usamplerCube;
		precision ${n.precision} usampler2DArray;
		`),n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function VUe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===$R?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===jw?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Cg&&(e="SHADOWMAP_TYPE_VSM"),e}function WUe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case K0:case Qw:e="ENVMAP_TYPE_CUBE";break;case KM:e="ENVMAP_TYPE_CUBE_UV";break}return e}function XUe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qw:e="ENVMAP_MODE_REFRACTION";break}return e}function KUe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case e3:e="ENVMAP_BLENDING_MULTIPLY";break;case xbe:e="ENVMAP_BLENDING_MIX";break;case Sbe:e="ENVMAP_BLENDING_ADD";break}return e}function YUe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function qUe(n,e,t,r){const o=n.getContext(),s=t.defines;let c=t.vertexShader,d=t.fragmentShader;const g=VUe(t),_=WUe(t),b=XUe(t),A=KUe(t),P=YUe(t),N=t.isWebGL2?"":DUe(t),F=NUe(t),K=LUe(s),D=o.createProgram();let I,j,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(I=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K].filter(sM).join(`
`),I.length>0&&(I+=`
`),j=[N,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K].filter(sM).join(`
`),j.length>0&&(j+=`
`)):(I=[vye(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+b:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sM).join(`
`),j=[N,vye(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+_:"",t.envMap?"#define "+b:"",t.envMap?"#define "+A:"",P?"#define CUBEUV_TEXEL_WIDTH "+P.texelWidth:"",P?"#define CUBEUV_TEXEL_HEIGHT "+P.texelHeight:"",P?"#define CUBEUV_MAX_MIP "+P.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==jv?"#define TONE_MAPPING":"",t.toneMapping!==jv?Do.tonemapping_pars_fragment:"",t.toneMapping!==jv?BUe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Do.colorspace_pars_fragment,OUe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(sM).join(`
`)),c=aX(c),c=pye(c,t),c=mye(c,t),d=aX(d),d=pye(d,t),d=mye(d,t),c=gye(c),d=gye(d),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,I=[F,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+I,j=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===zL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===zL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+j);const Y=T+I+c,ce=T+j+d,le=dye(o,o.VERTEX_SHADER,Y),Z=dye(o,o.FRAGMENT_SHADER,ce);o.attachShader(D,le),o.attachShader(D,Z),t.index0AttributeName!==void 0?o.bindAttribLocation(D,0,t.index0AttributeName):t.morphTargets===!0&&o.bindAttribLocation(D,0,"position"),o.linkProgram(D);function Se(st){if(n.debug.checkShaderErrors){const Ue=o.getProgramInfoLog(D).trim(),Me=o.getShaderInfoLog(le).trim(),be=o.getShaderInfoLog(Z).trim();let Ke=!0,Ye=!0;if(o.getProgramParameter(D,o.LINK_STATUS)===!1)if(Ke=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,D,le,Z);else{const de=hye(o,le,"vertex"),ve=hye(o,Z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(D,o.VALIDATE_STATUS)+`

Material Name: `+st.name+`
Material Type: `+st.type+`

Program Info Log: `+Ue+`
`+de+`
`+ve)}else Ue!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ue):(Me===""||be==="")&&(Ye=!1);Ye&&(st.diagnostics={runnable:Ke,programLog:Ue,vertexShader:{log:Me,prefix:I},fragmentShader:{log:be,prefix:j}})}o.deleteShader(le),o.deleteShader(Z),Le=new aL(o,D),X=FUe(o,D)}let Le;this.getUniforms=function(){return Le===void 0&&Se(this),Le};let X;this.getAttributes=function(){return X===void 0&&Se(this),X};let fe=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return fe===!1&&(fe=o.getProgramParameter(D,PUe)),fe},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(D),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=kUe++,this.cacheKey=e,this.usedTimes=1,this.program=D,this.vertexShader=le,this.fragmentShader=Z,this}let QUe=0;class JUe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,o=this._getShaderStage(t),s=this._getShaderStage(r),c=this._getShaderCacheForMaterial(e);return c.has(o)===!1&&(c.add(o),o.usedTimes++),c.has(s)===!1&&(c.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ZUe(e),t.set(e,r)),r}}class ZUe{constructor(e){this.id=QUe++,this.code=e,this.usedTimes=0}}function $Ue(n,e,t,r,o,s,c){const d=new G0,g=new JUe,_=new Set,b=[],A=o.isWebGL2,P=o.logarithmicDepthBuffer,N=o.vertexTextures;let F=o.precision;const K={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function D(X){return _.add(X),X===0?"uv":`uv${X}`}function I(X,fe,st,Ue,Me){const be=Ue.fog,Ke=Me.geometry,Ye=X.isMeshStandardMaterial?Ue.environment:null,de=(X.isMeshStandardMaterial?t:e).get(X.envMap||Ye),ve=de&&de.mapping===KM?de.image.height:null,ye=K[X.type];X.precision!==null&&(F=o.getMaxPrecision(X.precision),F!==X.precision&&console.warn("THREE.WebGLProgram.getParameters:",X.precision,"not supported, using",F,"instead."));const _e=Ke.morphAttributes.position||Ke.morphAttributes.normal||Ke.morphAttributes.color,ge=_e!==void 0?_e.length:0;let dt=0;Ke.morphAttributes.position!==void 0&&(dt=1),Ke.morphAttributes.normal!==void 0&&(dt=2),Ke.morphAttributes.color!==void 0&&(dt=3);let qe,_t,Qe,zt;if(ye){const Di=Fv[ye];qe=Di.vertexShader,_t=Di.fragmentShader}else qe=X.vertexShader,_t=X.fragmentShader,g.update(X),Qe=g.getVertexShaderID(X),zt=g.getFragmentShaderID(X);const Lt=n.getRenderTarget(),Kt=Me.isInstancedMesh===!0,ln=Me.isBatchedMesh===!0,bn=!!X.map,Ze=!!X.matcap,nn=!!de,jt=!!X.aoMap,fn=!!X.lightMap,cn=!!X.bumpMap,Dn=!!X.normalMap,Qn=!!X.displacementMap,nr=!!X.emissiveMap,Tr=!!X.metalnessMap,ct=!!X.roughnessMap,Ne=X.anisotropy>0,rn=X.clearcoat>0,Dt=X.iridescence>0,Pn=X.sheen>0,Wn=X.transmission>0,ei=Ne&&!!X.anisotropyMap,jr=rn&&!!X.clearcoatMap,Yn=rn&&!!X.clearcoatNormalMap,vr=rn&&!!X.clearcoatRoughnessMap,Mt=Dt&&!!X.iridescenceMap,Zt=Dt&&!!X.iridescenceThicknessMap,yr=Pn&&!!X.sheenColorMap,hr=Pn&&!!X.sheenRoughnessMap,Hr=!!X.specularMap,Rr=!!X.specularColorMap,wr=!!X.specularIntensityMap,qr=Wn&&!!X.transmissionMap,ri=Wn&&!!X.thicknessMap,Nn=!!X.gradientMap,Bt=!!X.alphaMap,_r=X.alphaTest>0,Xt=!!X.alphaHash,er=!!X.extensions;let xr=jv;X.toneMapped&&(Lt===null||Lt.isXRRenderTarget===!0)&&(xr=n.toneMapping);const Mi={isWebGL2:A,shaderID:ye,shaderType:X.type,shaderName:X.name,vertexShader:qe,fragmentShader:_t,defines:X.defines,customVertexShaderID:Qe,customFragmentShaderID:zt,isRawShaderMaterial:X.isRawShaderMaterial===!0,glslVersion:X.glslVersion,precision:F,batching:ln,instancing:Kt,instancingColor:Kt&&Me.instanceColor!==null,instancingMorph:Kt&&Me.morphTexture!==null,supportsVertexTextures:N,outputColorSpace:Lt===null?n.outputColorSpace:Lt.isXRRenderTarget===!0?Lt.texture.colorSpace:P1,alphaToCoverage:!!X.alphaToCoverage,map:bn,matcap:Ze,envMap:nn,envMapMode:nn&&de.mapping,envMapCubeUVHeight:ve,aoMap:jt,lightMap:fn,bumpMap:cn,normalMap:Dn,displacementMap:N&&Qn,emissiveMap:nr,normalMapObjectSpace:Dn&&X.normalMapType===Gbe,normalMapTangentSpace:Dn&&X.normalMapType===ix,metalnessMap:Tr,roughnessMap:ct,anisotropy:Ne,anisotropyMap:ei,clearcoat:rn,clearcoatMap:jr,clearcoatNormalMap:Yn,clearcoatRoughnessMap:vr,iridescence:Dt,iridescenceMap:Mt,iridescenceThicknessMap:Zt,sheen:Pn,sheenColorMap:yr,sheenRoughnessMap:hr,specularMap:Hr,specularColorMap:Rr,specularIntensityMap:wr,transmission:Wn,transmissionMap:qr,thicknessMap:ri,gradientMap:Nn,opaque:X.transparent===!1&&X.blending===Db&&X.alphaToCoverage===!1,alphaMap:Bt,alphaTest:_r,alphaHash:Xt,combine:X.combine,mapUv:bn&&D(X.map.channel),aoMapUv:jt&&D(X.aoMap.channel),lightMapUv:fn&&D(X.lightMap.channel),bumpMapUv:cn&&D(X.bumpMap.channel),normalMapUv:Dn&&D(X.normalMap.channel),displacementMapUv:Qn&&D(X.displacementMap.channel),emissiveMapUv:nr&&D(X.emissiveMap.channel),metalnessMapUv:Tr&&D(X.metalnessMap.channel),roughnessMapUv:ct&&D(X.roughnessMap.channel),anisotropyMapUv:ei&&D(X.anisotropyMap.channel),clearcoatMapUv:jr&&D(X.clearcoatMap.channel),clearcoatNormalMapUv:Yn&&D(X.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:vr&&D(X.clearcoatRoughnessMap.channel),iridescenceMapUv:Mt&&D(X.iridescenceMap.channel),iridescenceThicknessMapUv:Zt&&D(X.iridescenceThicknessMap.channel),sheenColorMapUv:yr&&D(X.sheenColorMap.channel),sheenRoughnessMapUv:hr&&D(X.sheenRoughnessMap.channel),specularMapUv:Hr&&D(X.specularMap.channel),specularColorMapUv:Rr&&D(X.specularColorMap.channel),specularIntensityMapUv:wr&&D(X.specularIntensityMap.channel),transmissionMapUv:qr&&D(X.transmissionMap.channel),thicknessMapUv:ri&&D(X.thicknessMap.channel),alphaMapUv:Bt&&D(X.alphaMap.channel),vertexTangents:!!Ke.attributes.tangent&&(Dn||Ne),vertexColors:X.vertexColors,vertexAlphas:X.vertexColors===!0&&!!Ke.attributes.color&&Ke.attributes.color.itemSize===4,pointsUvs:Me.isPoints===!0&&!!Ke.attributes.uv&&(bn||Bt),fog:!!be,useFog:X.fog===!0,fogExp2:!!be&&be.isFogExp2,flatShading:X.flatShading===!0,sizeAttenuation:X.sizeAttenuation===!0,logarithmicDepthBuffer:P,skinning:Me.isSkinnedMesh===!0,morphTargets:Ke.morphAttributes.position!==void 0,morphNormals:Ke.morphAttributes.normal!==void 0,morphColors:Ke.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:dt,numDirLights:fe.directional.length,numPointLights:fe.point.length,numSpotLights:fe.spot.length,numSpotLightMaps:fe.spotLightMap.length,numRectAreaLights:fe.rectArea.length,numHemiLights:fe.hemi.length,numDirLightShadows:fe.directionalShadowMap.length,numPointLightShadows:fe.pointShadowMap.length,numSpotLightShadows:fe.spotShadowMap.length,numSpotLightShadowsWithMaps:fe.numSpotLightShadowsWithMaps,numLightProbes:fe.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:X.dithering,shadowMapEnabled:n.shadowMap.enabled&&st.length>0,shadowMapType:n.shadowMap.type,toneMapping:xr,useLegacyLights:n._useLegacyLights,decodeVideoTexture:bn&&X.map.isVideoTexture===!0&&fa.getTransfer(X.map.colorSpace)===rl,premultipliedAlpha:X.premultipliedAlpha,doubleSided:X.side===sh,flipSided:X.side===ep,useDepthPacking:X.depthPacking>=0,depthPacking:X.depthPacking||0,index0AttributeName:X.index0AttributeName,extensionDerivatives:er&&X.extensions.derivatives===!0,extensionFragDepth:er&&X.extensions.fragDepth===!0,extensionDrawBuffers:er&&X.extensions.drawBuffers===!0,extensionShaderTextureLOD:er&&X.extensions.shaderTextureLOD===!0,extensionClipCullDistance:er&&X.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:er&&X.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:A||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:A||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:A||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:X.customProgramCacheKey()};return Mi.vertexUv1s=_.has(1),Mi.vertexUv2s=_.has(2),Mi.vertexUv3s=_.has(3),_.clear(),Mi}function j(X){const fe=[];if(X.shaderID?fe.push(X.shaderID):(fe.push(X.customVertexShaderID),fe.push(X.customFragmentShaderID)),X.defines!==void 0)for(const st in X.defines)fe.push(st),fe.push(X.defines[st]);return X.isRawShaderMaterial===!1&&(T(fe,X),Y(fe,X),fe.push(n.outputColorSpace)),fe.push(X.customProgramCacheKey),fe.join()}function T(X,fe){X.push(fe.precision),X.push(fe.outputColorSpace),X.push(fe.envMapMode),X.push(fe.envMapCubeUVHeight),X.push(fe.mapUv),X.push(fe.alphaMapUv),X.push(fe.lightMapUv),X.push(fe.aoMapUv),X.push(fe.bumpMapUv),X.push(fe.normalMapUv),X.push(fe.displacementMapUv),X.push(fe.emissiveMapUv),X.push(fe.metalnessMapUv),X.push(fe.roughnessMapUv),X.push(fe.anisotropyMapUv),X.push(fe.clearcoatMapUv),X.push(fe.clearcoatNormalMapUv),X.push(fe.clearcoatRoughnessMapUv),X.push(fe.iridescenceMapUv),X.push(fe.iridescenceThicknessMapUv),X.push(fe.sheenColorMapUv),X.push(fe.sheenRoughnessMapUv),X.push(fe.specularMapUv),X.push(fe.specularColorMapUv),X.push(fe.specularIntensityMapUv),X.push(fe.transmissionMapUv),X.push(fe.thicknessMapUv),X.push(fe.combine),X.push(fe.fogExp2),X.push(fe.sizeAttenuation),X.push(fe.morphTargetsCount),X.push(fe.morphAttributeCount),X.push(fe.numDirLights),X.push(fe.numPointLights),X.push(fe.numSpotLights),X.push(fe.numSpotLightMaps),X.push(fe.numHemiLights),X.push(fe.numRectAreaLights),X.push(fe.numDirLightShadows),X.push(fe.numPointLightShadows),X.push(fe.numSpotLightShadows),X.push(fe.numSpotLightShadowsWithMaps),X.push(fe.numLightProbes),X.push(fe.shadowMapType),X.push(fe.toneMapping),X.push(fe.numClippingPlanes),X.push(fe.numClipIntersection),X.push(fe.depthPacking)}function Y(X,fe){d.disableAll(),fe.isWebGL2&&d.enable(0),fe.supportsVertexTextures&&d.enable(1),fe.instancing&&d.enable(2),fe.instancingColor&&d.enable(3),fe.instancingMorph&&d.enable(4),fe.matcap&&d.enable(5),fe.envMap&&d.enable(6),fe.normalMapObjectSpace&&d.enable(7),fe.normalMapTangentSpace&&d.enable(8),fe.clearcoat&&d.enable(9),fe.iridescence&&d.enable(10),fe.alphaTest&&d.enable(11),fe.vertexColors&&d.enable(12),fe.vertexAlphas&&d.enable(13),fe.vertexUv1s&&d.enable(14),fe.vertexUv2s&&d.enable(15),fe.vertexUv3s&&d.enable(16),fe.vertexTangents&&d.enable(17),fe.anisotropy&&d.enable(18),fe.alphaHash&&d.enable(19),fe.batching&&d.enable(20),X.push(d.mask),d.disableAll(),fe.fog&&d.enable(0),fe.useFog&&d.enable(1),fe.flatShading&&d.enable(2),fe.logarithmicDepthBuffer&&d.enable(3),fe.skinning&&d.enable(4),fe.morphTargets&&d.enable(5),fe.morphNormals&&d.enable(6),fe.morphColors&&d.enable(7),fe.premultipliedAlpha&&d.enable(8),fe.shadowMapEnabled&&d.enable(9),fe.useLegacyLights&&d.enable(10),fe.doubleSided&&d.enable(11),fe.flipSided&&d.enable(12),fe.useDepthPacking&&d.enable(13),fe.dithering&&d.enable(14),fe.transmission&&d.enable(15),fe.sheen&&d.enable(16),fe.opaque&&d.enable(17),fe.pointsUvs&&d.enable(18),fe.decodeVideoTexture&&d.enable(19),fe.alphaToCoverage&&d.enable(20),X.push(d.mask)}function ce(X){const fe=K[X.type];let st;if(fe){const Ue=Fv[fe];st=iEe.clone(Ue.uniforms)}else st=X.uniforms;return st}function le(X,fe){let st;for(let Ue=0,Me=b.length;Ue<Me;Ue++){const be=b[Ue];if(be.cacheKey===fe){st=be,++st.usedTimes;break}}return st===void 0&&(st=new qUe(n,fe,X,s),b.push(st)),st}function Z(X){if(--X.usedTimes===0){const fe=b.indexOf(X);b[fe]=b[b.length-1],b.pop(),X.destroy()}}function Se(X){g.remove(X)}function Le(){g.dispose()}return{getParameters:I,getProgramCacheKey:j,getUniforms:ce,acquireProgram:le,releaseProgram:Z,releaseShaderCache:Se,programs:b,dispose:Le}}function e9e(){let n=new WeakMap;function e(s){let c=n.get(s);return c===void 0&&(c={},n.set(s,c)),c}function t(s){n.delete(s)}function r(s,c,d){n.get(s)[c]=d}function o(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:o}}function t9e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yye(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function _ye(){const n=[];let e=0;const t=[],r=[],o=[];function s(){e=0,t.length=0,r.length=0,o.length=0}function c(A,P,N,F,K,D){let I=n[e];return I===void 0?(I={id:A.id,object:A,geometry:P,material:N,groupOrder:F,renderOrder:A.renderOrder,z:K,group:D},n[e]=I):(I.id=A.id,I.object=A,I.geometry=P,I.material=N,I.groupOrder=F,I.renderOrder=A.renderOrder,I.z=K,I.group=D),e++,I}function d(A,P,N,F,K,D){const I=c(A,P,N,F,K,D);N.transmission>0?r.push(I):N.transparent===!0?o.push(I):t.push(I)}function g(A,P,N,F,K,D){const I=c(A,P,N,F,K,D);N.transmission>0?r.unshift(I):N.transparent===!0?o.unshift(I):t.unshift(I)}function _(A,P){t.length>1&&t.sort(A||t9e),r.length>1&&r.sort(P||yye),o.length>1&&o.sort(P||yye)}function b(){for(let A=e,P=n.length;A<P;A++){const N=n[A];if(N.id===null)break;N.id=null,N.object=null,N.geometry=null,N.material=null,N.group=null}}return{opaque:t,transmissive:r,transparent:o,init:s,push:d,unshift:g,finish:b,sort:_}}function n9e(){let n=new WeakMap;function e(r,o){const s=n.get(r);let c;return s===void 0?(c=new _ye,n.set(r,[c])):o>=s.length?(c=new _ye,s.push(c)):c=s[o],c}function t(){n=new WeakMap}return{get:e,dispose:t}}function r9e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Je,color:new Dr};break;case"SpotLight":t={position:new Je,direction:new Je,color:new Dr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Je,color:new Dr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Je,skyColor:new Dr,groundColor:new Dr};break;case"RectAreaLight":t={color:new Dr,position:new Je,halfWidth:new Je,halfHeight:new Je};break}return n[e.id]=t,t}}}function i9e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let o9e=0;function s9e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function a9e(n,e){const t=new r9e,r=i9e(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let b=0;b<9;b++)o.probe.push(new Je);const s=new Je,c=new Ui,d=new Ui;function g(b,A){let P=0,N=0,F=0;for(let st=0;st<9;st++)o.probe[st].set(0,0,0);let K=0,D=0,I=0,j=0,T=0,Y=0,ce=0,le=0,Z=0,Se=0,Le=0;b.sort(s9e);const X=A===!0?Math.PI:1;for(let st=0,Ue=b.length;st<Ue;st++){const Me=b[st],be=Me.color,Ke=Me.intensity,Ye=Me.distance,de=Me.shadow&&Me.shadow.map?Me.shadow.map.texture:null;if(Me.isAmbientLight)P+=be.r*Ke*X,N+=be.g*Ke*X,F+=be.b*Ke*X;else if(Me.isLightProbe){for(let ve=0;ve<9;ve++)o.probe[ve].addScaledVector(Me.sh.coefficients[ve],Ke);Le++}else if(Me.isDirectionalLight){const ve=t.get(Me);if(ve.color.copy(Me.color).multiplyScalar(Me.intensity*X),Me.castShadow){const ye=Me.shadow,_e=r.get(Me);_e.shadowBias=ye.bias,_e.shadowNormalBias=ye.normalBias,_e.shadowRadius=ye.radius,_e.shadowMapSize=ye.mapSize,o.directionalShadow[K]=_e,o.directionalShadowMap[K]=de,o.directionalShadowMatrix[K]=Me.shadow.matrix,Y++}o.directional[K]=ve,K++}else if(Me.isSpotLight){const ve=t.get(Me);ve.position.setFromMatrixPosition(Me.matrixWorld),ve.color.copy(be).multiplyScalar(Ke*X),ve.distance=Ye,ve.coneCos=Math.cos(Me.angle),ve.penumbraCos=Math.cos(Me.angle*(1-Me.penumbra)),ve.decay=Me.decay,o.spot[I]=ve;const ye=Me.shadow;if(Me.map&&(o.spotLightMap[Z]=Me.map,Z++,ye.updateMatrices(Me),Me.castShadow&&Se++),o.spotLightMatrix[I]=ye.matrix,Me.castShadow){const _e=r.get(Me);_e.shadowBias=ye.bias,_e.shadowNormalBias=ye.normalBias,_e.shadowRadius=ye.radius,_e.shadowMapSize=ye.mapSize,o.spotShadow[I]=_e,o.spotShadowMap[I]=de,le++}I++}else if(Me.isRectAreaLight){const ve=t.get(Me);ve.color.copy(be).multiplyScalar(Ke),ve.halfWidth.set(Me.width*.5,0,0),ve.halfHeight.set(0,Me.height*.5,0),o.rectArea[j]=ve,j++}else if(Me.isPointLight){const ve=t.get(Me);if(ve.color.copy(Me.color).multiplyScalar(Me.intensity*X),ve.distance=Me.distance,ve.decay=Me.decay,Me.castShadow){const ye=Me.shadow,_e=r.get(Me);_e.shadowBias=ye.bias,_e.shadowNormalBias=ye.normalBias,_e.shadowRadius=ye.radius,_e.shadowMapSize=ye.mapSize,_e.shadowCameraNear=ye.camera.near,_e.shadowCameraFar=ye.camera.far,o.pointShadow[D]=_e,o.pointShadowMap[D]=de,o.pointShadowMatrix[D]=Me.shadow.matrix,ce++}o.point[D]=ve,D++}else if(Me.isHemisphereLight){const ve=t.get(Me);ve.skyColor.copy(Me.color).multiplyScalar(Ke*X),ve.groundColor.copy(Me.groundColor).multiplyScalar(Ke*X),o.hemi[T]=ve,T++}}j>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Yr.LTC_FLOAT_1,o.rectAreaLTC2=Yr.LTC_FLOAT_2):(o.rectAreaLTC1=Yr.LTC_HALF_1,o.rectAreaLTC2=Yr.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Yr.LTC_FLOAT_1,o.rectAreaLTC2=Yr.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=Yr.LTC_HALF_1,o.rectAreaLTC2=Yr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=P,o.ambient[1]=N,o.ambient[2]=F;const fe=o.hash;(fe.directionalLength!==K||fe.pointLength!==D||fe.spotLength!==I||fe.rectAreaLength!==j||fe.hemiLength!==T||fe.numDirectionalShadows!==Y||fe.numPointShadows!==ce||fe.numSpotShadows!==le||fe.numSpotMaps!==Z||fe.numLightProbes!==Le)&&(o.directional.length=K,o.spot.length=I,o.rectArea.length=j,o.point.length=D,o.hemi.length=T,o.directionalShadow.length=Y,o.directionalShadowMap.length=Y,o.pointShadow.length=ce,o.pointShadowMap.length=ce,o.spotShadow.length=le,o.spotShadowMap.length=le,o.directionalShadowMatrix.length=Y,o.pointShadowMatrix.length=ce,o.spotLightMatrix.length=le+Z-Se,o.spotLightMap.length=Z,o.numSpotLightShadowsWithMaps=Se,o.numLightProbes=Le,fe.directionalLength=K,fe.pointLength=D,fe.spotLength=I,fe.rectAreaLength=j,fe.hemiLength=T,fe.numDirectionalShadows=Y,fe.numPointShadows=ce,fe.numSpotShadows=le,fe.numSpotMaps=Z,fe.numLightProbes=Le,o.version=o9e++)}function _(b,A){let P=0,N=0,F=0,K=0,D=0;const I=A.matrixWorldInverse;for(let j=0,T=b.length;j<T;j++){const Y=b[j];if(Y.isDirectionalLight){const ce=o.directional[P];ce.direction.setFromMatrixPosition(Y.matrixWorld),s.setFromMatrixPosition(Y.target.matrixWorld),ce.direction.sub(s),ce.direction.transformDirection(I),P++}else if(Y.isSpotLight){const ce=o.spot[F];ce.position.setFromMatrixPosition(Y.matrixWorld),ce.position.applyMatrix4(I),ce.direction.setFromMatrixPosition(Y.matrixWorld),s.setFromMatrixPosition(Y.target.matrixWorld),ce.direction.sub(s),ce.direction.transformDirection(I),F++}else if(Y.isRectAreaLight){const ce=o.rectArea[K];ce.position.setFromMatrixPosition(Y.matrixWorld),ce.position.applyMatrix4(I),d.identity(),c.copy(Y.matrixWorld),c.premultiply(I),d.extractRotation(c),ce.halfWidth.set(Y.width*.5,0,0),ce.halfHeight.set(0,Y.height*.5,0),ce.halfWidth.applyMatrix4(d),ce.halfHeight.applyMatrix4(d),K++}else if(Y.isPointLight){const ce=o.point[N];ce.position.setFromMatrixPosition(Y.matrixWorld),ce.position.applyMatrix4(I),N++}else if(Y.isHemisphereLight){const ce=o.hemi[D];ce.direction.setFromMatrixPosition(Y.matrixWorld),ce.direction.transformDirection(I),D++}}}return{setup:g,setupView:_,state:o}}function wye(n,e){const t=new a9e(n,e),r=[],o=[];function s(){r.length=0,o.length=0}function c(A){r.push(A)}function d(A){o.push(A)}function g(A){t.setup(r,A)}function _(A){t.setupView(r,A)}return{init:s,state:{lightsArray:r,shadowsArray:o,lights:t},setupLights:g,setupLightsView:_,pushLight:c,pushShadow:d}}function l9e(n,e){let t=new WeakMap;function r(s,c=0){const d=t.get(s);let g;return d===void 0?(g=new wye(n,e),t.set(s,[g])):c>=d.length?(g=new wye(n,e),d.push(g)):g=d[c],g}function o(){t=new WeakMap}return{get:r,dispose:o}}class tY extends ec{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jbe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class nY extends ec{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const u9e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,c9e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function f9e(n,e,t){let r=new r3;const o=new Vn,s=new Vn,c=new Ms,d=new tY({depthPacking:Hbe}),g=new nY,_={},b=t.maxTextureSize,A={[X0]:ep,[ep]:X0,[sh]:sh},P=new Im({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:u9e,fragmentShader:c9e}),N=P.clone();N.defines.HORIZONTAL_PASS=1;const F=new po;F.setAttribute("position",new Ps(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const K=new ni(F,P),D=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$R;let I=this.type;this.render=function(le,Z,Se){if(D.enabled===!1||D.autoUpdate===!1&&D.needsUpdate===!1||le.length===0)return;const Le=n.getRenderTarget(),X=n.getActiveCubeFace(),fe=n.getActiveMipmapLevel(),st=n.state;st.setBlending(S1),st.buffers.color.setClear(1,1,1,1),st.buffers.depth.setTest(!0),st.setScissorTest(!1);const Ue=I!==Cg&&this.type===Cg,Me=I===Cg&&this.type!==Cg;for(let be=0,Ke=le.length;be<Ke;be++){const Ye=le[be],de=Ye.shadow;if(de===void 0){console.warn("THREE.WebGLShadowMap:",Ye,"has no shadow.");continue}if(de.autoUpdate===!1&&de.needsUpdate===!1)continue;o.copy(de.mapSize);const ve=de.getFrameExtents();if(o.multiply(ve),s.copy(de.mapSize),(o.x>b||o.y>b)&&(o.x>b&&(s.x=Math.floor(b/ve.x),o.x=s.x*ve.x,de.mapSize.x=s.x),o.y>b&&(s.y=Math.floor(b/ve.y),o.y=s.y*ve.y,de.mapSize.y=s.y)),de.map===null||Ue===!0||Me===!0){const _e=this.type!==Cg?{minFilter:Tu,magFilter:Tu}:{};de.map!==null&&de.map.dispose(),de.map=new zg(o.x,o.y,_e),de.map.texture.name=Ye.name+".shadowMap",de.camera.updateProjectionMatrix()}n.setRenderTarget(de.map),n.clear();const ye=de.getViewportCount();for(let _e=0;_e<ye;_e++){const ge=de.getViewport(_e);c.set(s.x*ge.x,s.y*ge.y,s.x*ge.z,s.y*ge.w),st.viewport(c),de.updateMatrices(Ye,_e),r=de.getFrustum(),Y(Z,Se,de.camera,Ye,this.type)}de.isPointLightShadow!==!0&&this.type===Cg&&j(de,Se),de.needsUpdate=!1}I=this.type,D.needsUpdate=!1,n.setRenderTarget(Le,X,fe)};function j(le,Z){const Se=e.update(K);P.defines.VSM_SAMPLES!==le.blurSamples&&(P.defines.VSM_SAMPLES=le.blurSamples,N.defines.VSM_SAMPLES=le.blurSamples,P.needsUpdate=!0,N.needsUpdate=!0),le.mapPass===null&&(le.mapPass=new zg(o.x,o.y)),P.uniforms.shadow_pass.value=le.map.texture,P.uniforms.resolution.value=le.mapSize,P.uniforms.radius.value=le.radius,n.setRenderTarget(le.mapPass),n.clear(),n.renderBufferDirect(Z,null,Se,P,K,null),N.uniforms.shadow_pass.value=le.mapPass.texture,N.uniforms.resolution.value=le.mapSize,N.uniforms.radius.value=le.radius,n.setRenderTarget(le.map),n.clear(),n.renderBufferDirect(Z,null,Se,N,K,null)}function T(le,Z,Se,Le){let X=null;const fe=Se.isPointLight===!0?le.customDistanceMaterial:le.customDepthMaterial;if(fe!==void 0)X=fe;else if(X=Se.isPointLight===!0?g:d,n.localClippingEnabled&&Z.clipShadows===!0&&Array.isArray(Z.clippingPlanes)&&Z.clippingPlanes.length!==0||Z.displacementMap&&Z.displacementScale!==0||Z.alphaMap&&Z.alphaTest>0||Z.map&&Z.alphaTest>0){const st=X.uuid,Ue=Z.uuid;let Me=_[st];Me===void 0&&(Me={},_[st]=Me);let be=Me[Ue];be===void 0&&(be=X.clone(),Me[Ue]=be,Z.addEventListener("dispose",ce)),X=be}if(X.visible=Z.visible,X.wireframe=Z.wireframe,Le===Cg?X.side=Z.shadowSide!==null?Z.shadowSide:Z.side:X.side=Z.shadowSide!==null?Z.shadowSide:A[Z.side],X.alphaMap=Z.alphaMap,X.alphaTest=Z.alphaTest,X.map=Z.map,X.clipShadows=Z.clipShadows,X.clippingPlanes=Z.clippingPlanes,X.clipIntersection=Z.clipIntersection,X.displacementMap=Z.displacementMap,X.displacementScale=Z.displacementScale,X.displacementBias=Z.displacementBias,X.wireframeLinewidth=Z.wireframeLinewidth,X.linewidth=Z.linewidth,Se.isPointLight===!0&&X.isMeshDistanceMaterial===!0){const st=n.properties.get(X);st.light=Se}return X}function Y(le,Z,Se,Le,X){if(le.visible===!1)return;if(le.layers.test(Z.layers)&&(le.isMesh||le.isLine||le.isPoints)&&(le.castShadow||le.receiveShadow&&X===Cg)&&(!le.frustumCulled||r.intersectsObject(le))){le.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,le.matrixWorld);const Ue=e.update(le),Me=le.material;if(Array.isArray(Me)){const be=Ue.groups;for(let Ke=0,Ye=be.length;Ke<Ye;Ke++){const de=be[Ke],ve=Me[de.materialIndex];if(ve&&ve.visible){const ye=T(le,ve,Le,X);le.onBeforeShadow(n,le,Z,Se,Ue,ye,de),n.renderBufferDirect(Se,null,Ue,ye,le,de),le.onAfterShadow(n,le,Z,Se,Ue,ye,de)}}}else if(Me.visible){const be=T(le,Me,Le,X);le.onBeforeShadow(n,le,Z,Se,Ue,be,null),n.renderBufferDirect(Se,null,Ue,be,le,null),le.onAfterShadow(n,le,Z,Se,Ue,be,null)}}const st=le.children;for(let Ue=0,Me=st.length;Ue<Me;Ue++)Y(st[Ue],Z,Se,Le,X)}function ce(le){le.target.removeEventListener("dispose",ce);for(const Se in _){const Le=_[Se],X=le.target.uuid;X in Le&&(Le[X].dispose(),delete Le[X])}}}function d9e(n,e,t){const r=t.isWebGL2;function o(){let Bt=!1;const _r=new Ms;let Xt=null;const er=new Ms(0,0,0,0);return{setMask:function(xr){Xt!==xr&&!Bt&&(n.colorMask(xr,xr,xr,xr),Xt=xr)},setLocked:function(xr){Bt=xr},setClear:function(xr,Mi,Di,eo,Ro){Ro===!0&&(xr*=eo,Mi*=eo,Di*=eo),_r.set(xr,Mi,Di,eo),er.equals(_r)===!1&&(n.clearColor(xr,Mi,Di,eo),er.copy(_r))},reset:function(){Bt=!1,Xt=null,er.set(-1,0,0,0)}}}function s(){let Bt=!1,_r=null,Xt=null,er=null;return{setTest:function(xr){xr?Kt(n.DEPTH_TEST):ln(n.DEPTH_TEST)},setMask:function(xr){_r!==xr&&!Bt&&(n.depthMask(xr),_r=xr)},setFunc:function(xr){if(Xt!==xr){switch(xr){case pbe:n.depthFunc(n.NEVER);break;case mbe:n.depthFunc(n.ALWAYS);break;case gbe:n.depthFunc(n.LESS);break;case bR:n.depthFunc(n.LEQUAL);break;case vbe:n.depthFunc(n.EQUAL);break;case ybe:n.depthFunc(n.GEQUAL);break;case _be:n.depthFunc(n.GREATER);break;case wbe:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Xt=xr}},setLocked:function(xr){Bt=xr},setClear:function(xr){er!==xr&&(n.clearDepth(xr),er=xr)},reset:function(){Bt=!1,_r=null,Xt=null,er=null}}}function c(){let Bt=!1,_r=null,Xt=null,er=null,xr=null,Mi=null,Di=null,eo=null,Ro=null;return{setTest:function(Ri){Bt||(Ri?Kt(n.STENCIL_TEST):ln(n.STENCIL_TEST))},setMask:function(Ri){_r!==Ri&&!Bt&&(n.stencilMask(Ri),_r=Ri)},setFunc:function(Ri,to,_s){(Xt!==Ri||er!==to||xr!==_s)&&(n.stencilFunc(Ri,to,_s),Xt=Ri,er=to,xr=_s)},setOp:function(Ri,to,_s){(Mi!==Ri||Di!==to||eo!==_s)&&(n.stencilOp(Ri,to,_s),Mi=Ri,Di=to,eo=_s)},setLocked:function(Ri){Bt=Ri},setClear:function(Ri){Ro!==Ri&&(n.clearStencil(Ri),Ro=Ri)},reset:function(){Bt=!1,_r=null,Xt=null,er=null,xr=null,Mi=null,Di=null,eo=null,Ro=null}}}const d=new o,g=new s,_=new c,b=new WeakMap,A=new WeakMap;let P={},N={},F=new WeakMap,K=[],D=null,I=!1,j=null,T=null,Y=null,ce=null,le=null,Z=null,Se=null,Le=new Dr(0,0,0),X=0,fe=!1,st=null,Ue=null,Me=null,be=null,Ke=null;const Ye=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let de=!1,ve=0;const ye=n.getParameter(n.VERSION);ye.indexOf("WebGL")!==-1?(ve=parseFloat(/^WebGL (\d)/.exec(ye)[1]),de=ve>=1):ye.indexOf("OpenGL ES")!==-1&&(ve=parseFloat(/^OpenGL ES (\d)/.exec(ye)[1]),de=ve>=2);let _e=null,ge={};const dt=n.getParameter(n.SCISSOR_BOX),qe=n.getParameter(n.VIEWPORT),_t=new Ms().fromArray(dt),Qe=new Ms().fromArray(qe);function zt(Bt,_r,Xt,er){const xr=new Uint8Array(4),Mi=n.createTexture();n.bindTexture(Bt,Mi),n.texParameteri(Bt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Bt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Di=0;Di<Xt;Di++)r&&(Bt===n.TEXTURE_3D||Bt===n.TEXTURE_2D_ARRAY)?n.texImage3D(_r,0,n.RGBA,1,1,er,0,n.RGBA,n.UNSIGNED_BYTE,xr):n.texImage2D(_r+Di,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,xr);return Mi}const Lt={};Lt[n.TEXTURE_2D]=zt(n.TEXTURE_2D,n.TEXTURE_2D,1),Lt[n.TEXTURE_CUBE_MAP]=zt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Lt[n.TEXTURE_2D_ARRAY]=zt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Lt[n.TEXTURE_3D]=zt(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),d.setClear(0,0,0,1),g.setClear(1),_.setClear(0),Kt(n.DEPTH_TEST),g.setFunc(bR),Qn(!1),nr(CW),Kt(n.CULL_FACE),cn(S1);function Kt(Bt){P[Bt]!==!0&&(n.enable(Bt),P[Bt]=!0)}function ln(Bt){P[Bt]!==!1&&(n.disable(Bt),P[Bt]=!1)}function bn(Bt,_r){return N[Bt]!==_r?(n.bindFramebuffer(Bt,_r),N[Bt]=_r,r&&(Bt===n.DRAW_FRAMEBUFFER&&(N[n.FRAMEBUFFER]=_r),Bt===n.FRAMEBUFFER&&(N[n.DRAW_FRAMEBUFFER]=_r)),!0):!1}function Ze(Bt,_r){let Xt=K,er=!1;if(Bt){Xt=F.get(_r),Xt===void 0&&(Xt=[],F.set(_r,Xt));const xr=Bt.textures;if(Xt.length!==xr.length||Xt[0]!==n.COLOR_ATTACHMENT0){for(let Mi=0,Di=xr.length;Mi<Di;Mi++)Xt[Mi]=n.COLOR_ATTACHMENT0+Mi;Xt.length=xr.length,er=!0}}else Xt[0]!==n.BACK&&(Xt[0]=n.BACK,er=!0);if(er)if(t.isWebGL2)n.drawBuffers(Xt);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Xt);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function nn(Bt){return D!==Bt?(n.useProgram(Bt),D=Bt,!0):!1}const jt={[Mw]:n.FUNC_ADD,[$Se]:n.FUNC_SUBTRACT,[ebe]:n.FUNC_REVERSE_SUBTRACT};if(r)jt[kW]=n.MIN,jt[IW]=n.MAX;else{const Bt=e.get("EXT_blend_minmax");Bt!==null&&(jt[kW]=Bt.MIN_EXT,jt[IW]=Bt.MAX_EXT)}const fn={[tbe]:n.ZERO,[nbe]:n.ONE,[rbe]:n.SRC_COLOR,[NL]:n.SRC_ALPHA,[ube]:n.SRC_ALPHA_SATURATE,[abe]:n.DST_COLOR,[obe]:n.DST_ALPHA,[ibe]:n.ONE_MINUS_SRC_COLOR,[LL]:n.ONE_MINUS_SRC_ALPHA,[lbe]:n.ONE_MINUS_DST_COLOR,[sbe]:n.ONE_MINUS_DST_ALPHA,[cbe]:n.CONSTANT_COLOR,[fbe]:n.ONE_MINUS_CONSTANT_COLOR,[dbe]:n.CONSTANT_ALPHA,[hbe]:n.ONE_MINUS_CONSTANT_ALPHA};function cn(Bt,_r,Xt,er,xr,Mi,Di,eo,Ro,Ri){if(Bt===S1){I===!0&&(ln(n.BLEND),I=!1);return}if(I===!1&&(Kt(n.BLEND),I=!0),Bt!==ZSe){if(Bt!==j||Ri!==fe){if((T!==Mw||le!==Mw)&&(n.blendEquation(n.FUNC_ADD),T=Mw,le=Mw),Ri)switch(Bt){case Db:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case MW:n.blendFunc(n.ONE,n.ONE);break;case TW:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case PW:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Bt);break}else switch(Bt){case Db:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case MW:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case TW:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case PW:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Bt);break}Y=null,ce=null,Z=null,Se=null,Le.set(0,0,0),X=0,j=Bt,fe=Ri}return}xr=xr||_r,Mi=Mi||Xt,Di=Di||er,(_r!==T||xr!==le)&&(n.blendEquationSeparate(jt[_r],jt[xr]),T=_r,le=xr),(Xt!==Y||er!==ce||Mi!==Z||Di!==Se)&&(n.blendFuncSeparate(fn[Xt],fn[er],fn[Mi],fn[Di]),Y=Xt,ce=er,Z=Mi,Se=Di),(eo.equals(Le)===!1||Ro!==X)&&(n.blendColor(eo.r,eo.g,eo.b,Ro),Le.copy(eo),X=Ro),j=Bt,fe=!1}function Dn(Bt,_r){Bt.side===sh?ln(n.CULL_FACE):Kt(n.CULL_FACE);let Xt=Bt.side===ep;_r&&(Xt=!Xt),Qn(Xt),Bt.blending===Db&&Bt.transparent===!1?cn(S1):cn(Bt.blending,Bt.blendEquation,Bt.blendSrc,Bt.blendDst,Bt.blendEquationAlpha,Bt.blendSrcAlpha,Bt.blendDstAlpha,Bt.blendColor,Bt.blendAlpha,Bt.premultipliedAlpha),g.setFunc(Bt.depthFunc),g.setTest(Bt.depthTest),g.setMask(Bt.depthWrite),d.setMask(Bt.colorWrite);const er=Bt.stencilWrite;_.setTest(er),er&&(_.setMask(Bt.stencilWriteMask),_.setFunc(Bt.stencilFunc,Bt.stencilRef,Bt.stencilFuncMask),_.setOp(Bt.stencilFail,Bt.stencilZFail,Bt.stencilZPass)),ct(Bt.polygonOffset,Bt.polygonOffsetFactor,Bt.polygonOffsetUnits),Bt.alphaToCoverage===!0?Kt(n.SAMPLE_ALPHA_TO_COVERAGE):ln(n.SAMPLE_ALPHA_TO_COVERAGE)}function Qn(Bt){st!==Bt&&(Bt?n.frontFace(n.CW):n.frontFace(n.CCW),st=Bt)}function nr(Bt){Bt!==QSe?(Kt(n.CULL_FACE),Bt!==Ue&&(Bt===CW?n.cullFace(n.BACK):Bt===JSe?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ln(n.CULL_FACE),Ue=Bt}function Tr(Bt){Bt!==Me&&(de&&n.lineWidth(Bt),Me=Bt)}function ct(Bt,_r,Xt){Bt?(Kt(n.POLYGON_OFFSET_FILL),(be!==_r||Ke!==Xt)&&(n.polygonOffset(_r,Xt),be=_r,Ke=Xt)):ln(n.POLYGON_OFFSET_FILL)}function Ne(Bt){Bt?Kt(n.SCISSOR_TEST):ln(n.SCISSOR_TEST)}function rn(Bt){Bt===void 0&&(Bt=n.TEXTURE0+Ye-1),_e!==Bt&&(n.activeTexture(Bt),_e=Bt)}function Dt(Bt,_r,Xt){Xt===void 0&&(_e===null?Xt=n.TEXTURE0+Ye-1:Xt=_e);let er=ge[Xt];er===void 0&&(er={type:void 0,texture:void 0},ge[Xt]=er),(er.type!==Bt||er.texture!==_r)&&(_e!==Xt&&(n.activeTexture(Xt),_e=Xt),n.bindTexture(Bt,_r||Lt[Bt]),er.type=Bt,er.texture=_r)}function Pn(){const Bt=ge[_e];Bt!==void 0&&Bt.type!==void 0&&(n.bindTexture(Bt.type,null),Bt.type=void 0,Bt.texture=void 0)}function Wn(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function ei(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function jr(){try{n.texSubImage2D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function Yn(){try{n.texSubImage3D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function vr(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function Mt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function Zt(){try{n.texStorage2D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function yr(){try{n.texStorage3D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function hr(){try{n.texImage2D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function Hr(){try{n.texImage3D.apply(n,arguments)}catch(Bt){console.error("THREE.WebGLState:",Bt)}}function Rr(Bt){_t.equals(Bt)===!1&&(n.scissor(Bt.x,Bt.y,Bt.z,Bt.w),_t.copy(Bt))}function wr(Bt){Qe.equals(Bt)===!1&&(n.viewport(Bt.x,Bt.y,Bt.z,Bt.w),Qe.copy(Bt))}function qr(Bt,_r){let Xt=A.get(_r);Xt===void 0&&(Xt=new WeakMap,A.set(_r,Xt));let er=Xt.get(Bt);er===void 0&&(er=n.getUniformBlockIndex(_r,Bt.name),Xt.set(Bt,er))}function ri(Bt,_r){const er=A.get(_r).get(Bt);b.get(_r)!==er&&(n.uniformBlockBinding(_r,er,Bt.__bindingPointIndex),b.set(_r,er))}function Nn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),P={},_e=null,ge={},N={},F=new WeakMap,K=[],D=null,I=!1,j=null,T=null,Y=null,ce=null,le=null,Z=null,Se=null,Le=new Dr(0,0,0),X=0,fe=!1,st=null,Ue=null,Me=null,be=null,Ke=null,_t.set(0,0,n.canvas.width,n.canvas.height),Qe.set(0,0,n.canvas.width,n.canvas.height),d.reset(),g.reset(),_.reset()}return{buffers:{color:d,depth:g,stencil:_},enable:Kt,disable:ln,bindFramebuffer:bn,drawBuffers:Ze,useProgram:nn,setBlending:cn,setMaterial:Dn,setFlipSided:Qn,setCullFace:nr,setLineWidth:Tr,setPolygonOffset:ct,setScissorTest:Ne,activeTexture:rn,bindTexture:Dt,unbindTexture:Pn,compressedTexImage2D:Wn,compressedTexImage3D:ei,texImage2D:hr,texImage3D:Hr,updateUBOMapping:qr,uniformBlockBinding:ri,texStorage2D:Zt,texStorage3D:yr,texSubImage2D:jr,texSubImage3D:Yn,compressedTexSubImage2D:vr,compressedTexSubImage3D:Mt,scissor:Rr,viewport:wr,reset:Nn}}function h9e(n,e,t,r,o,s,c){const d=o.isWebGL2,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,_=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),b=new Vn,A=new WeakMap;let P;const N=new WeakMap;let F=!1;try{F=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function K(ct,Ne){return F?new OffscreenCanvas(ct,Ne):RR("canvas")}function D(ct,Ne,rn,Dt){let Pn=1;const Wn=Tr(ct);if((Wn.width>Dt||Wn.height>Dt)&&(Pn=Dt/Math.max(Wn.width,Wn.height)),Pn<1||Ne===!0)if(typeof HTMLImageElement<"u"&&ct instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ct instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ct instanceof ImageBitmap||typeof VideoFrame<"u"&&ct instanceof VideoFrame){const ei=Ne?jL:Math.floor,jr=ei(Pn*Wn.width),Yn=ei(Pn*Wn.height);P===void 0&&(P=K(jr,Yn));const vr=rn?K(jr,Yn):P;return vr.width=jr,vr.height=Yn,vr.getContext("2d").drawImage(ct,0,0,jr,Yn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Wn.width+"x"+Wn.height+") to ("+jr+"x"+Yn+")."),vr}else return"data"in ct&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Wn.width+"x"+Wn.height+")."),ct;return ct}function I(ct){const Ne=Tr(ct);return oX(Ne.width)&&oX(Ne.height)}function j(ct){return d?!1:ct.wrapS!==yd||ct.wrapT!==yd||ct.minFilter!==Tu&&ct.minFilter!==Xs}function T(ct,Ne){return ct.generateMipmaps&&Ne&&ct.minFilter!==Tu&&ct.minFilter!==Xs}function Y(ct){n.generateMipmap(ct)}function ce(ct,Ne,rn,Dt,Pn=!1){if(d===!1)return Ne;if(ct!==null){if(n[ct]!==void 0)return n[ct];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ct+"'")}let Wn=Ne;if(Ne===n.RED&&(rn===n.FLOAT&&(Wn=n.R32F),rn===n.HALF_FLOAT&&(Wn=n.R16F),rn===n.UNSIGNED_BYTE&&(Wn=n.R8)),Ne===n.RED_INTEGER&&(rn===n.UNSIGNED_BYTE&&(Wn=n.R8UI),rn===n.UNSIGNED_SHORT&&(Wn=n.R16UI),rn===n.UNSIGNED_INT&&(Wn=n.R32UI),rn===n.BYTE&&(Wn=n.R8I),rn===n.SHORT&&(Wn=n.R16I),rn===n.INT&&(Wn=n.R32I)),Ne===n.RG&&(rn===n.FLOAT&&(Wn=n.RG32F),rn===n.HALF_FLOAT&&(Wn=n.RG16F),rn===n.UNSIGNED_BYTE&&(Wn=n.RG8)),Ne===n.RG_INTEGER&&(rn===n.UNSIGNED_BYTE&&(Wn=n.RG8UI),rn===n.UNSIGNED_SHORT&&(Wn=n.RG16UI),rn===n.UNSIGNED_INT&&(Wn=n.RG32UI),rn===n.BYTE&&(Wn=n.RG8I),rn===n.SHORT&&(Wn=n.RG16I),rn===n.INT&&(Wn=n.RG32I)),Ne===n.RGBA){const ei=Pn?MR:fa.getTransfer(Dt);rn===n.FLOAT&&(Wn=n.RGBA32F),rn===n.HALF_FLOAT&&(Wn=n.RGBA16F),rn===n.UNSIGNED_BYTE&&(Wn=ei===rl?n.SRGB8_ALPHA8:n.RGBA8),rn===n.UNSIGNED_SHORT_4_4_4_4&&(Wn=n.RGBA4),rn===n.UNSIGNED_SHORT_5_5_5_1&&(Wn=n.RGB5_A1)}return(Wn===n.R16F||Wn===n.R32F||Wn===n.RG16F||Wn===n.RG32F||Wn===n.RGBA16F||Wn===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Wn}function le(ct,Ne,rn){return T(ct,rn)===!0||ct.isFramebufferTexture&&ct.minFilter!==Tu&&ct.minFilter!==Xs?Math.log2(Math.max(Ne.width,Ne.height))+1:ct.mipmaps!==void 0&&ct.mipmaps.length>0?ct.mipmaps.length:ct.isCompressedTexture&&Array.isArray(ct.image)?Ne.mipmaps.length:1}function Z(ct){return ct===Tu||ct===AR||ct===Tw?n.NEAREST:n.LINEAR}function Se(ct){const Ne=ct.target;Ne.removeEventListener("dispose",Se),X(Ne),Ne.isVideoTexture&&A.delete(Ne)}function Le(ct){const Ne=ct.target;Ne.removeEventListener("dispose",Le),st(Ne)}function X(ct){const Ne=r.get(ct);if(Ne.__webglInit===void 0)return;const rn=ct.source,Dt=N.get(rn);if(Dt){const Pn=Dt[Ne.__cacheKey];Pn.usedTimes--,Pn.usedTimes===0&&fe(ct),Object.keys(Dt).length===0&&N.delete(rn)}r.remove(ct)}function fe(ct){const Ne=r.get(ct);n.deleteTexture(Ne.__webglTexture);const rn=ct.source,Dt=N.get(rn);delete Dt[Ne.__cacheKey],c.memory.textures--}function st(ct){const Ne=r.get(ct);if(ct.depthTexture&&ct.depthTexture.dispose(),ct.isWebGLCubeRenderTarget)for(let Dt=0;Dt<6;Dt++){if(Array.isArray(Ne.__webglFramebuffer[Dt]))for(let Pn=0;Pn<Ne.__webglFramebuffer[Dt].length;Pn++)n.deleteFramebuffer(Ne.__webglFramebuffer[Dt][Pn]);else n.deleteFramebuffer(Ne.__webglFramebuffer[Dt]);Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer[Dt])}else{if(Array.isArray(Ne.__webglFramebuffer))for(let Dt=0;Dt<Ne.__webglFramebuffer.length;Dt++)n.deleteFramebuffer(Ne.__webglFramebuffer[Dt]);else n.deleteFramebuffer(Ne.__webglFramebuffer);if(Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let Dt=0;Dt<Ne.__webglColorRenderbuffer.length;Dt++)Ne.__webglColorRenderbuffer[Dt]&&n.deleteRenderbuffer(Ne.__webglColorRenderbuffer[Dt]);Ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}const rn=ct.textures;for(let Dt=0,Pn=rn.length;Dt<Pn;Dt++){const Wn=r.get(rn[Dt]);Wn.__webglTexture&&(n.deleteTexture(Wn.__webglTexture),c.memory.textures--),r.remove(rn[Dt])}r.remove(ct)}let Ue=0;function Me(){Ue=0}function be(){const ct=Ue;return ct>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ct+" texture units while this GPU supports only "+o.maxTextures),Ue+=1,ct}function Ke(ct){const Ne=[];return Ne.push(ct.wrapS),Ne.push(ct.wrapT),Ne.push(ct.wrapR||0),Ne.push(ct.magFilter),Ne.push(ct.minFilter),Ne.push(ct.anisotropy),Ne.push(ct.internalFormat),Ne.push(ct.format),Ne.push(ct.type),Ne.push(ct.generateMipmaps),Ne.push(ct.premultiplyAlpha),Ne.push(ct.flipY),Ne.push(ct.unpackAlignment),Ne.push(ct.colorSpace),Ne.join()}function Ye(ct,Ne){const rn=r.get(ct);if(ct.isVideoTexture&&Qn(ct),ct.isRenderTargetTexture===!1&&ct.version>0&&rn.__version!==ct.version){const Dt=ct.image;if(Dt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Dt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qe(rn,ct,Ne);return}}t.bindTexture(n.TEXTURE_2D,rn.__webglTexture,n.TEXTURE0+Ne)}function de(ct,Ne){const rn=r.get(ct);if(ct.version>0&&rn.__version!==ct.version){Qe(rn,ct,Ne);return}t.bindTexture(n.TEXTURE_2D_ARRAY,rn.__webglTexture,n.TEXTURE0+Ne)}function ve(ct,Ne){const rn=r.get(ct);if(ct.version>0&&rn.__version!==ct.version){Qe(rn,ct,Ne);return}t.bindTexture(n.TEXTURE_3D,rn.__webglTexture,n.TEXTURE0+Ne)}function ye(ct,Ne){const rn=r.get(ct);if(ct.version>0&&rn.__version!==ct.version){zt(rn,ct,Ne);return}t.bindTexture(n.TEXTURE_CUBE_MAP,rn.__webglTexture,n.TEXTURE0+Ne)}const _e={[Jw]:n.REPEAT,[yd]:n.CLAMP_TO_EDGE,[kM]:n.MIRRORED_REPEAT},ge={[Tu]:n.NEAREST,[AR]:n.NEAREST_MIPMAP_NEAREST,[Tw]:n.NEAREST_MIPMAP_LINEAR,[Xs]:n.LINEAR,[vM]:n.LINEAR_MIPMAP_NEAREST,[Og]:n.LINEAR_MIPMAP_LINEAR},dt={[Vbe]:n.NEVER,[Qbe]:n.ALWAYS,[Wbe]:n.LESS,[KK]:n.LEQUAL,[Xbe]:n.EQUAL,[qbe]:n.GEQUAL,[Kbe]:n.GREATER,[Ybe]:n.NOTEQUAL};function qe(ct,Ne,rn){if(Ne.type===kc&&e.has("OES_texture_float_linear")===!1&&(Ne.magFilter===Xs||Ne.magFilter===vM||Ne.magFilter===Tw||Ne.magFilter===Og||Ne.minFilter===Xs||Ne.minFilter===vM||Ne.minFilter===Tw||Ne.minFilter===Og)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),rn?(n.texParameteri(ct,n.TEXTURE_WRAP_S,_e[Ne.wrapS]),n.texParameteri(ct,n.TEXTURE_WRAP_T,_e[Ne.wrapT]),(ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ct,n.TEXTURE_WRAP_R,_e[Ne.wrapR]),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,ge[Ne.magFilter]),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,ge[Ne.minFilter])):(n.texParameteri(ct,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(ct,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ct,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(Ne.wrapS!==yd||Ne.wrapT!==yd)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,Z(Ne.magFilter)),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,Z(Ne.minFilter)),Ne.minFilter!==Tu&&Ne.minFilter!==Xs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Ne.compareFunction&&(n.texParameteri(ct,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ct,n.TEXTURE_COMPARE_FUNC,dt[Ne.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Ne.magFilter===Tu||Ne.minFilter!==Tw&&Ne.minFilter!==Og||Ne.type===kc&&e.has("OES_texture_float_linear")===!1||d===!1&&Ne.type===lh&&e.has("OES_texture_half_float_linear")===!1)return;if(Ne.anisotropy>1||r.get(Ne).__currentAnisotropy){const Dt=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ct,Dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ne.anisotropy,o.getMaxAnisotropy())),r.get(Ne).__currentAnisotropy=Ne.anisotropy}}}function _t(ct,Ne){let rn=!1;ct.__webglInit===void 0&&(ct.__webglInit=!0,Ne.addEventListener("dispose",Se));const Dt=Ne.source;let Pn=N.get(Dt);Pn===void 0&&(Pn={},N.set(Dt,Pn));const Wn=Ke(Ne);if(Wn!==ct.__cacheKey){Pn[Wn]===void 0&&(Pn[Wn]={texture:n.createTexture(),usedTimes:0},c.memory.textures++,rn=!0),Pn[Wn].usedTimes++;const ei=Pn[ct.__cacheKey];ei!==void 0&&(Pn[ct.__cacheKey].usedTimes--,ei.usedTimes===0&&fe(Ne)),ct.__cacheKey=Wn,ct.__webglTexture=Pn[Wn].texture}return rn}function Qe(ct,Ne,rn){let Dt=n.TEXTURE_2D;(Ne.isDataArrayTexture||Ne.isCompressedArrayTexture)&&(Dt=n.TEXTURE_2D_ARRAY),Ne.isData3DTexture&&(Dt=n.TEXTURE_3D);const Pn=_t(ct,Ne),Wn=Ne.source;t.bindTexture(Dt,ct.__webglTexture,n.TEXTURE0+rn);const ei=r.get(Wn);if(Wn.version!==ei.__version||Pn===!0){t.activeTexture(n.TEXTURE0+rn);const jr=fa.getPrimaries(fa.workingColorSpace),Yn=Ne.colorSpace===f1?null:fa.getPrimaries(Ne.colorSpace),vr=Ne.colorSpace===f1||jr===Yn?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Ne.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Ne.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vr);const Mt=j(Ne)&&I(Ne.image)===!1;let Zt=D(Ne.image,Mt,!1,o.maxTextureSize);Zt=nr(Ne,Zt);const yr=I(Zt)||d,hr=s.convert(Ne.format,Ne.colorSpace);let Hr=s.convert(Ne.type),Rr=ce(Ne.internalFormat,hr,Hr,Ne.colorSpace,Ne.isVideoTexture);qe(Dt,Ne,yr);let wr;const qr=Ne.mipmaps,ri=d&&Ne.isVideoTexture!==!0&&Rr!==VK,Nn=ei.__version===void 0||Pn===!0,Bt=Wn.dataReady,_r=le(Ne,Zt,yr);if(Ne.isDepthTexture)Rr=n.DEPTH_COMPONENT,d?Ne.type===kc?Rr=n.DEPTH_COMPONENT32F:Ne.type===m1?Rr=n.DEPTH_COMPONENT24:Ne.type===Hw?Rr=n.DEPTH24_STENCIL8:Rr=n.DEPTH_COMPONENT16:Ne.type===kc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ne.format===Gw&&Rr===n.DEPTH_COMPONENT&&Ne.type!==EF&&Ne.type!==m1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ne.type=m1,Hr=s.convert(Ne.type)),Ne.format===Xb&&Rr===n.DEPTH_COMPONENT&&(Rr=n.DEPTH_STENCIL,Ne.type!==Hw&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ne.type=Hw,Hr=s.convert(Ne.type))),Nn&&(ri?t.texStorage2D(n.TEXTURE_2D,1,Rr,Zt.width,Zt.height):t.texImage2D(n.TEXTURE_2D,0,Rr,Zt.width,Zt.height,0,hr,Hr,null));else if(Ne.isDataTexture)if(qr.length>0&&yr){ri&&Nn&&t.texStorage2D(n.TEXTURE_2D,_r,Rr,qr[0].width,qr[0].height);for(let Xt=0,er=qr.length;Xt<er;Xt++)wr=qr[Xt],ri?Bt&&t.texSubImage2D(n.TEXTURE_2D,Xt,0,0,wr.width,wr.height,hr,Hr,wr.data):t.texImage2D(n.TEXTURE_2D,Xt,Rr,wr.width,wr.height,0,hr,Hr,wr.data);Ne.generateMipmaps=!1}else ri?(Nn&&t.texStorage2D(n.TEXTURE_2D,_r,Rr,Zt.width,Zt.height),Bt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Zt.width,Zt.height,hr,Hr,Zt.data)):t.texImage2D(n.TEXTURE_2D,0,Rr,Zt.width,Zt.height,0,hr,Hr,Zt.data);else if(Ne.isCompressedTexture)if(Ne.isCompressedArrayTexture){ri&&Nn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_r,Rr,qr[0].width,qr[0].height,Zt.depth);for(let Xt=0,er=qr.length;Xt<er;Xt++)wr=qr[Xt],Ne.format!==_d?hr!==null?ri?Bt&&t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Xt,0,0,0,wr.width,wr.height,Zt.depth,hr,wr.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Xt,Rr,wr.width,wr.height,Zt.depth,0,wr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ri?Bt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Xt,0,0,0,wr.width,wr.height,Zt.depth,hr,Hr,wr.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Xt,Rr,wr.width,wr.height,Zt.depth,0,hr,Hr,wr.data)}else{ri&&Nn&&t.texStorage2D(n.TEXTURE_2D,_r,Rr,qr[0].width,qr[0].height);for(let Xt=0,er=qr.length;Xt<er;Xt++)wr=qr[Xt],Ne.format!==_d?hr!==null?ri?Bt&&t.compressedTexSubImage2D(n.TEXTURE_2D,Xt,0,0,wr.width,wr.height,hr,wr.data):t.compressedTexImage2D(n.TEXTURE_2D,Xt,Rr,wr.width,wr.height,0,wr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ri?Bt&&t.texSubImage2D(n.TEXTURE_2D,Xt,0,0,wr.width,wr.height,hr,Hr,wr.data):t.texImage2D(n.TEXTURE_2D,Xt,Rr,wr.width,wr.height,0,hr,Hr,wr.data)}else if(Ne.isDataArrayTexture)ri?(Nn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_r,Rr,Zt.width,Zt.height,Zt.depth),Bt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Zt.width,Zt.height,Zt.depth,hr,Hr,Zt.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Rr,Zt.width,Zt.height,Zt.depth,0,hr,Hr,Zt.data);else if(Ne.isData3DTexture)ri?(Nn&&t.texStorage3D(n.TEXTURE_3D,_r,Rr,Zt.width,Zt.height,Zt.depth),Bt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Zt.width,Zt.height,Zt.depth,hr,Hr,Zt.data)):t.texImage3D(n.TEXTURE_3D,0,Rr,Zt.width,Zt.height,Zt.depth,0,hr,Hr,Zt.data);else if(Ne.isFramebufferTexture){if(Nn)if(ri)t.texStorage2D(n.TEXTURE_2D,_r,Rr,Zt.width,Zt.height);else{let Xt=Zt.width,er=Zt.height;for(let xr=0;xr<_r;xr++)t.texImage2D(n.TEXTURE_2D,xr,Rr,Xt,er,0,hr,Hr,null),Xt>>=1,er>>=1}}else if(qr.length>0&&yr){if(ri&&Nn){const Xt=Tr(qr[0]);t.texStorage2D(n.TEXTURE_2D,_r,Rr,Xt.width,Xt.height)}for(let Xt=0,er=qr.length;Xt<er;Xt++)wr=qr[Xt],ri?Bt&&t.texSubImage2D(n.TEXTURE_2D,Xt,0,0,hr,Hr,wr):t.texImage2D(n.TEXTURE_2D,Xt,Rr,hr,Hr,wr);Ne.generateMipmaps=!1}else if(ri){if(Nn){const Xt=Tr(Zt);t.texStorage2D(n.TEXTURE_2D,_r,Rr,Xt.width,Xt.height)}Bt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,hr,Hr,Zt)}else t.texImage2D(n.TEXTURE_2D,0,Rr,hr,Hr,Zt);T(Ne,yr)&&Y(Dt),ei.__version=Wn.version,Ne.onUpdate&&Ne.onUpdate(Ne)}ct.__version=Ne.version}function zt(ct,Ne,rn){if(Ne.image.length!==6)return;const Dt=_t(ct,Ne),Pn=Ne.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ct.__webglTexture,n.TEXTURE0+rn);const Wn=r.get(Pn);if(Pn.version!==Wn.__version||Dt===!0){t.activeTexture(n.TEXTURE0+rn);const ei=fa.getPrimaries(fa.workingColorSpace),jr=Ne.colorSpace===f1?null:fa.getPrimaries(Ne.colorSpace),Yn=Ne.colorSpace===f1||ei===jr?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Ne.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Ne.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yn);const vr=Ne.isCompressedTexture||Ne.image[0].isCompressedTexture,Mt=Ne.image[0]&&Ne.image[0].isDataTexture,Zt=[];for(let Xt=0;Xt<6;Xt++)!vr&&!Mt?Zt[Xt]=D(Ne.image[Xt],!1,!0,o.maxCubemapSize):Zt[Xt]=Mt?Ne.image[Xt].image:Ne.image[Xt],Zt[Xt]=nr(Ne,Zt[Xt]);const yr=Zt[0],hr=I(yr)||d,Hr=s.convert(Ne.format,Ne.colorSpace),Rr=s.convert(Ne.type),wr=ce(Ne.internalFormat,Hr,Rr,Ne.colorSpace),qr=d&&Ne.isVideoTexture!==!0,ri=Wn.__version===void 0||Dt===!0,Nn=Pn.dataReady;let Bt=le(Ne,yr,hr);qe(n.TEXTURE_CUBE_MAP,Ne,hr);let _r;if(vr){qr&&ri&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Bt,wr,yr.width,yr.height);for(let Xt=0;Xt<6;Xt++){_r=Zt[Xt].mipmaps;for(let er=0;er<_r.length;er++){const xr=_r[er];Ne.format!==_d?Hr!==null?qr?Nn&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er,0,0,xr.width,xr.height,Hr,xr.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er,wr,xr.width,xr.height,0,xr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qr?Nn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er,0,0,xr.width,xr.height,Hr,Rr,xr.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er,wr,xr.width,xr.height,0,Hr,Rr,xr.data)}}}else{if(_r=Ne.mipmaps,qr&&ri){_r.length>0&&Bt++;const Xt=Tr(Zt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Bt,wr,Xt.width,Xt.height)}for(let Xt=0;Xt<6;Xt++)if(Mt){qr?Nn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,0,0,0,Zt[Xt].width,Zt[Xt].height,Hr,Rr,Zt[Xt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,0,wr,Zt[Xt].width,Zt[Xt].height,0,Hr,Rr,Zt[Xt].data);for(let er=0;er<_r.length;er++){const Mi=_r[er].image[Xt].image;qr?Nn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er+1,0,0,Mi.width,Mi.height,Hr,Rr,Mi.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er+1,wr,Mi.width,Mi.height,0,Hr,Rr,Mi.data)}}else{qr?Nn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,0,0,0,Hr,Rr,Zt[Xt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,0,wr,Hr,Rr,Zt[Xt]);for(let er=0;er<_r.length;er++){const xr=_r[er];qr?Nn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er+1,0,0,Hr,Rr,xr.image[Xt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Xt,er+1,wr,Hr,Rr,xr.image[Xt])}}}T(Ne,hr)&&Y(n.TEXTURE_CUBE_MAP),Wn.__version=Pn.version,Ne.onUpdate&&Ne.onUpdate(Ne)}ct.__version=Ne.version}function Lt(ct,Ne,rn,Dt,Pn,Wn){const ei=s.convert(rn.format,rn.colorSpace),jr=s.convert(rn.type),Yn=ce(rn.internalFormat,ei,jr,rn.colorSpace);if(!r.get(Ne).__hasExternalTextures){const Mt=Math.max(1,Ne.width>>Wn),Zt=Math.max(1,Ne.height>>Wn);Pn===n.TEXTURE_3D||Pn===n.TEXTURE_2D_ARRAY?t.texImage3D(Pn,Wn,Yn,Mt,Zt,Ne.depth,0,ei,jr,null):t.texImage2D(Pn,Wn,Yn,Mt,Zt,0,ei,jr,null)}t.bindFramebuffer(n.FRAMEBUFFER,ct),Dn(Ne)?g.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Dt,Pn,r.get(rn).__webglTexture,0,cn(Ne)):(Pn===n.TEXTURE_2D||Pn>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Pn<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Dt,Pn,r.get(rn).__webglTexture,Wn),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Kt(ct,Ne,rn){if(n.bindRenderbuffer(n.RENDERBUFFER,ct),Ne.depthBuffer&&!Ne.stencilBuffer){let Dt=d===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(rn||Dn(Ne)){const Pn=Ne.depthTexture;Pn&&Pn.isDepthTexture&&(Pn.type===kc?Dt=n.DEPTH_COMPONENT32F:Pn.type===m1&&(Dt=n.DEPTH_COMPONENT24));const Wn=cn(Ne);Dn(Ne)?g.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Wn,Dt,Ne.width,Ne.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Wn,Dt,Ne.width,Ne.height)}else n.renderbufferStorage(n.RENDERBUFFER,Dt,Ne.width,Ne.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,ct)}else if(Ne.depthBuffer&&Ne.stencilBuffer){const Dt=cn(Ne);rn&&Dn(Ne)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,n.DEPTH24_STENCIL8,Ne.width,Ne.height):Dn(Ne)?g.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Dt,n.DEPTH24_STENCIL8,Ne.width,Ne.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,Ne.width,Ne.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,ct)}else{const Dt=Ne.textures;for(let Pn=0;Pn<Dt.length;Pn++){const Wn=Dt[Pn],ei=s.convert(Wn.format,Wn.colorSpace),jr=s.convert(Wn.type),Yn=ce(Wn.internalFormat,ei,jr,Wn.colorSpace),vr=cn(Ne);rn&&Dn(Ne)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,vr,Yn,Ne.width,Ne.height):Dn(Ne)?g.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vr,Yn,Ne.width,Ne.height):n.renderbufferStorage(n.RENDERBUFFER,Yn,Ne.width,Ne.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ln(ct,Ne){if(Ne&&Ne.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ct),!(Ne.depthTexture&&Ne.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Ne.depthTexture).__webglTexture||Ne.depthTexture.image.width!==Ne.width||Ne.depthTexture.image.height!==Ne.height)&&(Ne.depthTexture.image.width=Ne.width,Ne.depthTexture.image.height=Ne.height,Ne.depthTexture.needsUpdate=!0),Ye(Ne.depthTexture,0);const Dt=r.get(Ne.depthTexture).__webglTexture,Pn=cn(Ne);if(Ne.depthTexture.format===Gw)Dn(Ne)?g.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Dt,0,Pn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Dt,0);else if(Ne.depthTexture.format===Xb)Dn(Ne)?g.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Dt,0,Pn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Dt,0);else throw new Error("Unknown depthTexture format")}function bn(ct){const Ne=r.get(ct),rn=ct.isWebGLCubeRenderTarget===!0;if(ct.depthTexture&&!Ne.__autoAllocateDepthBuffer){if(rn)throw new Error("target.depthTexture not supported in Cube render targets");ln(Ne.__webglFramebuffer,ct)}else if(rn){Ne.__webglDepthbuffer=[];for(let Dt=0;Dt<6;Dt++)t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer[Dt]),Ne.__webglDepthbuffer[Dt]=n.createRenderbuffer(),Kt(Ne.__webglDepthbuffer[Dt],ct,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),Ne.__webglDepthbuffer=n.createRenderbuffer(),Kt(Ne.__webglDepthbuffer,ct,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ze(ct,Ne,rn){const Dt=r.get(ct);Ne!==void 0&&Lt(Dt.__webglFramebuffer,ct,ct.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),rn!==void 0&&bn(ct)}function nn(ct){const Ne=ct.texture,rn=r.get(ct),Dt=r.get(Ne);ct.addEventListener("dispose",Le);const Pn=ct.textures,Wn=ct.isWebGLCubeRenderTarget===!0,ei=Pn.length>1,jr=I(ct)||d;if(ei||(Dt.__webglTexture===void 0&&(Dt.__webglTexture=n.createTexture()),Dt.__version=Ne.version,c.memory.textures++),Wn){rn.__webglFramebuffer=[];for(let Yn=0;Yn<6;Yn++)if(d&&Ne.mipmaps&&Ne.mipmaps.length>0){rn.__webglFramebuffer[Yn]=[];for(let vr=0;vr<Ne.mipmaps.length;vr++)rn.__webglFramebuffer[Yn][vr]=n.createFramebuffer()}else rn.__webglFramebuffer[Yn]=n.createFramebuffer()}else{if(d&&Ne.mipmaps&&Ne.mipmaps.length>0){rn.__webglFramebuffer=[];for(let Yn=0;Yn<Ne.mipmaps.length;Yn++)rn.__webglFramebuffer[Yn]=n.createFramebuffer()}else rn.__webglFramebuffer=n.createFramebuffer();if(ei)if(o.drawBuffers)for(let Yn=0,vr=Pn.length;Yn<vr;Yn++){const Mt=r.get(Pn[Yn]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=n.createTexture(),c.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&ct.samples>0&&Dn(ct)===!1){rn.__webglMultisampledFramebuffer=n.createFramebuffer(),rn.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,rn.__webglMultisampledFramebuffer);for(let Yn=0;Yn<Pn.length;Yn++){const vr=Pn[Yn];rn.__webglColorRenderbuffer[Yn]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,rn.__webglColorRenderbuffer[Yn]);const Mt=s.convert(vr.format,vr.colorSpace),Zt=s.convert(vr.type),yr=ce(vr.internalFormat,Mt,Zt,vr.colorSpace,ct.isXRRenderTarget===!0),hr=cn(ct);n.renderbufferStorageMultisample(n.RENDERBUFFER,hr,yr,ct.width,ct.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Yn,n.RENDERBUFFER,rn.__webglColorRenderbuffer[Yn])}n.bindRenderbuffer(n.RENDERBUFFER,null),ct.depthBuffer&&(rn.__webglDepthRenderbuffer=n.createRenderbuffer(),Kt(rn.__webglDepthRenderbuffer,ct,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Wn){t.bindTexture(n.TEXTURE_CUBE_MAP,Dt.__webglTexture),qe(n.TEXTURE_CUBE_MAP,Ne,jr);for(let Yn=0;Yn<6;Yn++)if(d&&Ne.mipmaps&&Ne.mipmaps.length>0)for(let vr=0;vr<Ne.mipmaps.length;vr++)Lt(rn.__webglFramebuffer[Yn][vr],ct,Ne,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Yn,vr);else Lt(rn.__webglFramebuffer[Yn],ct,Ne,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Yn,0);T(Ne,jr)&&Y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ei){for(let Yn=0,vr=Pn.length;Yn<vr;Yn++){const Mt=Pn[Yn],Zt=r.get(Mt);t.bindTexture(n.TEXTURE_2D,Zt.__webglTexture),qe(n.TEXTURE_2D,Mt,jr),Lt(rn.__webglFramebuffer,ct,Mt,n.COLOR_ATTACHMENT0+Yn,n.TEXTURE_2D,0),T(Mt,jr)&&Y(n.TEXTURE_2D)}t.unbindTexture()}else{let Yn=n.TEXTURE_2D;if((ct.isWebGL3DRenderTarget||ct.isWebGLArrayRenderTarget)&&(d?Yn=ct.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Yn,Dt.__webglTexture),qe(Yn,Ne,jr),d&&Ne.mipmaps&&Ne.mipmaps.length>0)for(let vr=0;vr<Ne.mipmaps.length;vr++)Lt(rn.__webglFramebuffer[vr],ct,Ne,n.COLOR_ATTACHMENT0,Yn,vr);else Lt(rn.__webglFramebuffer,ct,Ne,n.COLOR_ATTACHMENT0,Yn,0);T(Ne,jr)&&Y(Yn),t.unbindTexture()}ct.depthBuffer&&bn(ct)}function jt(ct){const Ne=I(ct)||d,rn=ct.textures;for(let Dt=0,Pn=rn.length;Dt<Pn;Dt++){const Wn=rn[Dt];if(T(Wn,Ne)){const ei=ct.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,jr=r.get(Wn).__webglTexture;t.bindTexture(ei,jr),Y(ei),t.unbindTexture()}}}function fn(ct){if(d&&ct.samples>0&&Dn(ct)===!1){const Ne=ct.textures,rn=ct.width,Dt=ct.height;let Pn=n.COLOR_BUFFER_BIT;const Wn=[],ei=ct.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,jr=r.get(ct),Yn=Ne.length>1;if(Yn)for(let vr=0;vr<Ne.length;vr++)t.bindFramebuffer(n.FRAMEBUFFER,jr.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vr,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,jr.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vr,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,jr.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,jr.__webglFramebuffer);for(let vr=0;vr<Ne.length;vr++){Wn.push(n.COLOR_ATTACHMENT0+vr),ct.depthBuffer&&Wn.push(ei);const Mt=jr.__ignoreDepthValues!==void 0?jr.__ignoreDepthValues:!1;if(Mt===!1&&(ct.depthBuffer&&(Pn|=n.DEPTH_BUFFER_BIT),ct.stencilBuffer&&(Pn|=n.STENCIL_BUFFER_BIT)),Yn&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,jr.__webglColorRenderbuffer[vr]),Mt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[ei]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ei])),Yn){const Zt=r.get(Ne[vr]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Zt,0)}n.blitFramebuffer(0,0,rn,Dt,0,0,rn,Dt,Pn,n.NEAREST),_&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Wn)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Yn)for(let vr=0;vr<Ne.length;vr++){t.bindFramebuffer(n.FRAMEBUFFER,jr.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vr,n.RENDERBUFFER,jr.__webglColorRenderbuffer[vr]);const Mt=r.get(Ne[vr]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,jr.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vr,n.TEXTURE_2D,Mt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,jr.__webglMultisampledFramebuffer)}}function cn(ct){return Math.min(o.maxSamples,ct.samples)}function Dn(ct){const Ne=r.get(ct);return d&&ct.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Ne.__useRenderToTexture!==!1}function Qn(ct){const Ne=c.render.frame;A.get(ct)!==Ne&&(A.set(ct,Ne),ct.update())}function nr(ct,Ne){const rn=ct.colorSpace,Dt=ct.format,Pn=ct.type;return ct.isCompressedTexture===!0||ct.isVideoTexture===!0||ct.format===UL||rn!==P1&&rn!==f1&&(fa.getTransfer(rn)===rl?d===!1?e.has("EXT_sRGB")===!0&&Dt===_d?(ct.format=UL,ct.minFilter=Xs,ct.generateMipmaps=!1):Ne=qK.sRGBToLinear(Ne):(Dt!==_d||Pn!==Hv)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",rn)),Ne}function Tr(ct){return typeof HTMLImageElement<"u"&&ct instanceof HTMLImageElement?(b.width=ct.naturalWidth||ct.width,b.height=ct.naturalHeight||ct.height):typeof VideoFrame<"u"&&ct instanceof VideoFrame?(b.width=ct.displayWidth,b.height=ct.displayHeight):(b.width=ct.width,b.height=ct.height),b}this.allocateTextureUnit=be,this.resetTextureUnits=Me,this.setTexture2D=Ye,this.setTexture2DArray=de,this.setTexture3D=ve,this.setTextureCube=ye,this.rebindTextures=Ze,this.setupRenderTarget=nn,this.updateRenderTargetMipmap=jt,this.updateMultisampleRenderTarget=fn,this.setupDepthRenderbuffer=bn,this.setupFrameBufferTexture=Lt,this.useMultisampledRTT=Dn}function dEe(n,e,t){const r=t.isWebGL2;function o(s,c=f1){let d;const g=fa.getTransfer(c);if(s===Hv)return n.UNSIGNED_BYTE;if(s===zK)return n.UNSIGNED_SHORT_4_4_4_4;if(s===UK)return n.UNSIGNED_SHORT_5_5_5_1;if(s===kbe)return n.BYTE;if(s===Ibe)return n.SHORT;if(s===EF)return n.UNSIGNED_SHORT;if(s===FK)return n.INT;if(s===m1)return n.UNSIGNED_INT;if(s===kc)return n.FLOAT;if(s===lh)return r?n.HALF_FLOAT:(d=e.get("OES_texture_half_float"),d!==null?d.HALF_FLOAT_OES:null);if(s===Rbe)return n.ALPHA;if(s===_d)return n.RGBA;if(s===Obe)return n.LUMINANCE;if(s===Bbe)return n.LUMINANCE_ALPHA;if(s===Gw)return n.DEPTH_COMPONENT;if(s===Xb)return n.DEPTH_STENCIL;if(s===UL)return d=e.get("EXT_sRGB"),d!==null?d.SRGB_ALPHA_EXT:null;if(s===AF)return n.RED;if(s===jK)return n.RED_INTEGER;if(s===Dbe)return n.RG;if(s===HK)return n.RG_INTEGER;if(s===GK)return n.RGBA_INTEGER;if(s===tL||s===nL||s===rL||s===iL)if(g===rl)if(d=e.get("WEBGL_compressed_texture_s3tc_srgb"),d!==null){if(s===tL)return d.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===nL)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===rL)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===iL)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(d=e.get("WEBGL_compressed_texture_s3tc"),d!==null){if(s===tL)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===nL)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===rL)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===iL)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===OW||s===BW||s===DW||s===NW)if(d=e.get("WEBGL_compressed_texture_pvrtc"),d!==null){if(s===OW)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===BW)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===DW)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===NW)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===VK)return d=e.get("WEBGL_compressed_texture_etc1"),d!==null?d.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===LW||s===FW)if(d=e.get("WEBGL_compressed_texture_etc"),d!==null){if(s===LW)return g===rl?d.COMPRESSED_SRGB8_ETC2:d.COMPRESSED_RGB8_ETC2;if(s===FW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:d.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===zW||s===UW||s===jW||s===HW||s===GW||s===VW||s===WW||s===XW||s===KW||s===YW||s===qW||s===QW||s===JW||s===ZW)if(d=e.get("WEBGL_compressed_texture_astc"),d!==null){if(s===zW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:d.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===UW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:d.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===jW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:d.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===HW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:d.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===GW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:d.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===VW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:d.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===WW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:d.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===XW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:d.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===KW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:d.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===YW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:d.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===qW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:d.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===QW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:d.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===JW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:d.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ZW)return g===rl?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:d.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===oL||s===$W||s===eX)if(d=e.get("EXT_texture_compression_bptc"),d!==null){if(s===oL)return g===rl?d.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:d.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===$W)return d.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===eX)return d.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Nbe||s===tX||s===nX||s===rX)if(d=e.get("EXT_texture_compression_rgtc"),d!==null){if(s===oL)return d.COMPRESSED_RED_RGTC1_EXT;if(s===tX)return d.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===nX)return d.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===rX)return d.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Hw?r?n.UNSIGNED_INT_24_8:(d=e.get("WEBGL_depth_texture"),d!==null?d.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:o}}class hEe extends bl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class U0 extends Ho{constructor(){super(),this.isGroup=!0,this.type="Group"}}const p9e={type:"move"};class CG{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new U0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new U0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new U0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let o=null,s=null,c=null;const d=this._targetRay,g=this._grip,_=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(_&&e.hand){c=!0;for(const K of e.hand.values()){const D=t.getJointPose(K,r),I=this._getHandJoint(_,K);D!==null&&(I.matrix.fromArray(D.transform.matrix),I.matrix.decompose(I.position,I.rotation,I.scale),I.matrixWorldNeedsUpdate=!0,I.jointRadius=D.radius),I.visible=D!==null}const b=_.joints["index-finger-tip"],A=_.joints["thumb-tip"],P=b.position.distanceTo(A.position),N=.02,F=.005;_.inputState.pinching&&P>N+F?(_.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!_.inputState.pinching&&P<=N-F&&(_.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else g!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(g.matrix.fromArray(s.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,s.linearVelocity?(g.hasLinearVelocity=!0,g.linearVelocity.copy(s.linearVelocity)):g.hasLinearVelocity=!1,s.angularVelocity?(g.hasAngularVelocity=!0,g.angularVelocity.copy(s.angularVelocity)):g.hasAngularVelocity=!1));d!==null&&(o=t.getPose(e.targetRaySpace,r),o===null&&s!==null&&(o=s),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(p9e)))}return d!==null&&(d.visible=o!==null),g!==null&&(g.visible=s!==null),_!==null&&(_.visible=c!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new U0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const m9e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,g9e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class v9e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const o=new za,s=e.properties.get(o);s.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=o}}render(e,t){if(this.texture!==null){if(this.mesh===null){const r=t.cameras[0].viewport,o=new Im({extensions:{fragDepth:!0},vertexShader:m9e,fragmentShader:g9e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new ni(new Up(20,20),o)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class y9e extends Y0{constructor(e,t){super();const r=this;let o=null,s=1,c=null,d="local-floor",g=1,_=null,b=null,A=null,P=null,N=null,F=null;const K=new v9e,D=t.getContextAttributes();let I=null,j=null;const T=[],Y=[],ce=new Vn;let le=null;const Z=new bl;Z.layers.enable(1),Z.viewport=new Ms;const Se=new bl;Se.layers.enable(2),Se.viewport=new Ms;const Le=[Z,Se],X=new hEe;X.layers.enable(1),X.layers.enable(2);let fe=null,st=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(qe){let _t=T[qe];return _t===void 0&&(_t=new CG,T[qe]=_t),_t.getTargetRaySpace()},this.getControllerGrip=function(qe){let _t=T[qe];return _t===void 0&&(_t=new CG,T[qe]=_t),_t.getGripSpace()},this.getHand=function(qe){let _t=T[qe];return _t===void 0&&(_t=new CG,T[qe]=_t),_t.getHandSpace()};function Ue(qe){const _t=Y.indexOf(qe.inputSource);if(_t===-1)return;const Qe=T[_t];Qe!==void 0&&(Qe.update(qe.inputSource,qe.frame,_||c),Qe.dispatchEvent({type:qe.type,data:qe.inputSource}))}function Me(){o.removeEventListener("select",Ue),o.removeEventListener("selectstart",Ue),o.removeEventListener("selectend",Ue),o.removeEventListener("squeeze",Ue),o.removeEventListener("squeezestart",Ue),o.removeEventListener("squeezeend",Ue),o.removeEventListener("end",Me),o.removeEventListener("inputsourceschange",be);for(let qe=0;qe<T.length;qe++){const _t=Y[qe];_t!==null&&(Y[qe]=null,T[qe].disconnect(_t))}fe=null,st=null,K.reset(),e.setRenderTarget(I),N=null,P=null,A=null,o=null,j=null,dt.stop(),r.isPresenting=!1,e.setPixelRatio(le),e.setSize(ce.width,ce.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(qe){s=qe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(qe){d=qe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _||c},this.setReferenceSpace=function(qe){_=qe},this.getBaseLayer=function(){return P!==null?P:N},this.getBinding=function(){return A},this.getFrame=function(){return F},this.getSession=function(){return o},this.setSession=async function(qe){if(o=qe,o!==null){if(I=e.getRenderTarget(),o.addEventListener("select",Ue),o.addEventListener("selectstart",Ue),o.addEventListener("selectend",Ue),o.addEventListener("squeeze",Ue),o.addEventListener("squeezestart",Ue),o.addEventListener("squeezeend",Ue),o.addEventListener("end",Me),o.addEventListener("inputsourceschange",be),D.xrCompatible!==!0&&await t.makeXRCompatible(),le=e.getPixelRatio(),e.getSize(ce),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const _t={antialias:o.renderState.layers===void 0?D.antialias:!0,alpha:!0,depth:D.depth,stencil:D.stencil,framebufferScaleFactor:s};N=new XRWebGLLayer(o,t,_t),o.updateRenderState({baseLayer:N}),e.setPixelRatio(1),e.setSize(N.framebufferWidth,N.framebufferHeight,!1),j=new zg(N.framebufferWidth,N.framebufferHeight,{format:_d,type:Hv,colorSpace:e.outputColorSpace,stencilBuffer:D.stencil})}else{let _t=null,Qe=null,zt=null;D.depth&&(zt=D.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_t=D.stencil?Xb:Gw,Qe=D.stencil?Hw:m1);const Lt={colorFormat:t.RGBA8,depthFormat:zt,scaleFactor:s};A=new XRWebGLBinding(o,t),P=A.createProjectionLayer(Lt),o.updateRenderState({layers:[P]}),e.setPixelRatio(1),e.setSize(P.textureWidth,P.textureHeight,!1),j=new zg(P.textureWidth,P.textureHeight,{format:_d,type:Hv,depthTexture:new PF(P.textureWidth,P.textureHeight,Qe,void 0,void 0,void 0,void 0,void 0,void 0,_t),stencilBuffer:D.stencil,colorSpace:e.outputColorSpace,samples:D.antialias?4:0});const Kt=e.properties.get(j);Kt.__ignoreDepthValues=P.ignoreDepthValues}j.isXRRenderTarget=!0,this.setFoveation(g),_=null,c=await o.requestReferenceSpace(d),dt.setContext(o),dt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function be(qe){for(let _t=0;_t<qe.removed.length;_t++){const Qe=qe.removed[_t],zt=Y.indexOf(Qe);zt>=0&&(Y[zt]=null,T[zt].disconnect(Qe))}for(let _t=0;_t<qe.added.length;_t++){const Qe=qe.added[_t];let zt=Y.indexOf(Qe);if(zt===-1){for(let Kt=0;Kt<T.length;Kt++)if(Kt>=Y.length){Y.push(Qe),zt=Kt;break}else if(Y[Kt]===null){Y[Kt]=Qe,zt=Kt;break}if(zt===-1)break}const Lt=T[zt];Lt&&Lt.connect(Qe)}}const Ke=new Je,Ye=new Je;function de(qe,_t,Qe){Ke.setFromMatrixPosition(_t.matrixWorld),Ye.setFromMatrixPosition(Qe.matrixWorld);const zt=Ke.distanceTo(Ye),Lt=_t.projectionMatrix.elements,Kt=Qe.projectionMatrix.elements,ln=Lt[14]/(Lt[10]-1),bn=Lt[14]/(Lt[10]+1),Ze=(Lt[9]+1)/Lt[5],nn=(Lt[9]-1)/Lt[5],jt=(Lt[8]-1)/Lt[0],fn=(Kt[8]+1)/Kt[0],cn=ln*jt,Dn=ln*fn,Qn=zt/(-jt+fn),nr=Qn*-jt;_t.matrixWorld.decompose(qe.position,qe.quaternion,qe.scale),qe.translateX(nr),qe.translateZ(Qn),qe.matrixWorld.compose(qe.position,qe.quaternion,qe.scale),qe.matrixWorldInverse.copy(qe.matrixWorld).invert();const Tr=ln+Qn,ct=bn+Qn,Ne=cn-nr,rn=Dn+(zt-nr),Dt=Ze*bn/ct*Tr,Pn=nn*bn/ct*Tr;qe.projectionMatrix.makePerspective(Ne,rn,Dt,Pn,Tr,ct),qe.projectionMatrixInverse.copy(qe.projectionMatrix).invert()}function ve(qe,_t){_t===null?qe.matrixWorld.copy(qe.matrix):qe.matrixWorld.multiplyMatrices(_t.matrixWorld,qe.matrix),qe.matrixWorldInverse.copy(qe.matrixWorld).invert()}this.updateCamera=function(qe){if(o===null)return;K.texture!==null&&(qe.near=K.depthNear,qe.far=K.depthFar),X.near=Se.near=Z.near=qe.near,X.far=Se.far=Z.far=qe.far,(fe!==X.near||st!==X.far)&&(o.updateRenderState({depthNear:X.near,depthFar:X.far}),fe=X.near,st=X.far,Z.near=fe,Z.far=st,Se.near=fe,Se.far=st,Z.updateProjectionMatrix(),Se.updateProjectionMatrix(),qe.updateProjectionMatrix());const _t=qe.parent,Qe=X.cameras;ve(X,_t);for(let zt=0;zt<Qe.length;zt++)ve(Qe[zt],_t);Qe.length===2?de(X,Z,Se):X.projectionMatrix.copy(Z.projectionMatrix),ye(qe,X,_t)};function ye(qe,_t,Qe){Qe===null?qe.matrix.copy(_t.matrixWorld):(qe.matrix.copy(Qe.matrixWorld),qe.matrix.invert(),qe.matrix.multiply(_t.matrixWorld)),qe.matrix.decompose(qe.position,qe.quaternion,qe.scale),qe.updateMatrixWorld(!0),qe.projectionMatrix.copy(_t.projectionMatrix),qe.projectionMatrixInverse.copy(_t.projectionMatrixInverse),qe.isPerspectiveCamera&&(qe.fov=RM*2*Math.atan(1/qe.projectionMatrix.elements[5]),qe.zoom=1)}this.getCamera=function(){return X},this.getFoveation=function(){if(!(P===null&&N===null))return g},this.setFoveation=function(qe){g=qe,P!==null&&(P.fixedFoveation=qe),N!==null&&N.fixedFoveation!==void 0&&(N.fixedFoveation=qe)},this.hasDepthSensing=function(){return K.texture!==null};let _e=null;function ge(qe,_t){if(b=_t.getViewerPose(_||c),F=_t,b!==null){const Qe=b.views;N!==null&&(e.setRenderTargetFramebuffer(j,N.framebuffer),e.setRenderTarget(j));let zt=!1;Qe.length!==X.cameras.length&&(X.cameras.length=0,zt=!0);for(let Kt=0;Kt<Qe.length;Kt++){const ln=Qe[Kt];let bn=null;if(N!==null)bn=N.getViewport(ln);else{const nn=A.getViewSubImage(P,ln);bn=nn.viewport,Kt===0&&(e.setRenderTargetTextures(j,nn.colorTexture,P.ignoreDepthValues?void 0:nn.depthStencilTexture),e.setRenderTarget(j))}let Ze=Le[Kt];Ze===void 0&&(Ze=new bl,Ze.layers.enable(Kt),Ze.viewport=new Ms,Le[Kt]=Ze),Ze.matrix.fromArray(ln.transform.matrix),Ze.matrix.decompose(Ze.position,Ze.quaternion,Ze.scale),Ze.projectionMatrix.fromArray(ln.projectionMatrix),Ze.projectionMatrixInverse.copy(Ze.projectionMatrix).invert(),Ze.viewport.set(bn.x,bn.y,bn.width,bn.height),Kt===0&&(X.matrix.copy(Ze.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale)),zt===!0&&X.cameras.push(Ze)}const Lt=o.enabledFeatures;if(Lt&&Lt.includes("depth-sensing")){const Kt=A.getDepthInformation(Qe[0]);Kt&&Kt.isValid&&Kt.texture&&K.init(e,Kt,o.renderState)}}for(let Qe=0;Qe<T.length;Qe++){const zt=Y[Qe],Lt=T[Qe];zt!==null&&Lt!==void 0&&Lt.update(zt,_t,_||c)}K.render(e,X),_e&&_e(qe,_t),_t.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:_t}),F=null}const dt=new sEe;dt.setAnimationLoop(ge),this.setAnimationLoop=function(qe){_e=qe},this.dispose=function(){}}}const ib=new tp,_9e=new Ui;function w9e(n,e){function t(D,I){D.matrixAutoUpdate===!0&&D.updateMatrix(),I.value.copy(D.matrix)}function r(D,I){I.color.getRGB(D.fogColor.value,rEe(n)),I.isFog?(D.fogNear.value=I.near,D.fogFar.value=I.far):I.isFogExp2&&(D.fogDensity.value=I.density)}function o(D,I,j,T,Y){I.isMeshBasicMaterial||I.isMeshLambertMaterial?s(D,I):I.isMeshToonMaterial?(s(D,I),A(D,I)):I.isMeshPhongMaterial?(s(D,I),b(D,I)):I.isMeshStandardMaterial?(s(D,I),P(D,I),I.isMeshPhysicalMaterial&&N(D,I,Y)):I.isMeshMatcapMaterial?(s(D,I),F(D,I)):I.isMeshDepthMaterial?s(D,I):I.isMeshDistanceMaterial?(s(D,I),K(D,I)):I.isMeshNormalMaterial?s(D,I):I.isLineBasicMaterial?(c(D,I),I.isLineDashedMaterial&&d(D,I)):I.isPointsMaterial?g(D,I,j,T):I.isSpriteMaterial?_(D,I):I.isShadowMaterial?(D.color.value.copy(I.color),D.opacity.value=I.opacity):I.isShaderMaterial&&(I.uniformsNeedUpdate=!1)}function s(D,I){D.opacity.value=I.opacity,I.color&&D.diffuse.value.copy(I.color),I.emissive&&D.emissive.value.copy(I.emissive).multiplyScalar(I.emissiveIntensity),I.map&&(D.map.value=I.map,t(I.map,D.mapTransform)),I.alphaMap&&(D.alphaMap.value=I.alphaMap,t(I.alphaMap,D.alphaMapTransform)),I.bumpMap&&(D.bumpMap.value=I.bumpMap,t(I.bumpMap,D.bumpMapTransform),D.bumpScale.value=I.bumpScale,I.side===ep&&(D.bumpScale.value*=-1)),I.normalMap&&(D.normalMap.value=I.normalMap,t(I.normalMap,D.normalMapTransform),D.normalScale.value.copy(I.normalScale),I.side===ep&&D.normalScale.value.negate()),I.displacementMap&&(D.displacementMap.value=I.displacementMap,t(I.displacementMap,D.displacementMapTransform),D.displacementScale.value=I.displacementScale,D.displacementBias.value=I.displacementBias),I.emissiveMap&&(D.emissiveMap.value=I.emissiveMap,t(I.emissiveMap,D.emissiveMapTransform)),I.specularMap&&(D.specularMap.value=I.specularMap,t(I.specularMap,D.specularMapTransform)),I.alphaTest>0&&(D.alphaTest.value=I.alphaTest);const j=e.get(I),T=j.envMap,Y=j.envMapRotation;if(T&&(D.envMap.value=T,ib.copy(Y),ib.x*=-1,ib.y*=-1,ib.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ib.y*=-1,ib.z*=-1),D.envMapRotation.value.setFromMatrix4(_9e.makeRotationFromEuler(ib)),D.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,D.reflectivity.value=I.reflectivity,D.ior.value=I.ior,D.refractionRatio.value=I.refractionRatio),I.lightMap){D.lightMap.value=I.lightMap;const ce=n._useLegacyLights===!0?Math.PI:1;D.lightMapIntensity.value=I.lightMapIntensity*ce,t(I.lightMap,D.lightMapTransform)}I.aoMap&&(D.aoMap.value=I.aoMap,D.aoMapIntensity.value=I.aoMapIntensity,t(I.aoMap,D.aoMapTransform))}function c(D,I){D.diffuse.value.copy(I.color),D.opacity.value=I.opacity,I.map&&(D.map.value=I.map,t(I.map,D.mapTransform))}function d(D,I){D.dashSize.value=I.dashSize,D.totalSize.value=I.dashSize+I.gapSize,D.scale.value=I.scale}function g(D,I,j,T){D.diffuse.value.copy(I.color),D.opacity.value=I.opacity,D.size.value=I.size*j,D.scale.value=T*.5,I.map&&(D.map.value=I.map,t(I.map,D.uvTransform)),I.alphaMap&&(D.alphaMap.value=I.alphaMap,t(I.alphaMap,D.alphaMapTransform)),I.alphaTest>0&&(D.alphaTest.value=I.alphaTest)}function _(D,I){D.diffuse.value.copy(I.color),D.opacity.value=I.opacity,D.rotation.value=I.rotation,I.map&&(D.map.value=I.map,t(I.map,D.mapTransform)),I.alphaMap&&(D.alphaMap.value=I.alphaMap,t(I.alphaMap,D.alphaMapTransform)),I.alphaTest>0&&(D.alphaTest.value=I.alphaTest)}function b(D,I){D.specular.value.copy(I.specular),D.shininess.value=Math.max(I.shininess,1e-4)}function A(D,I){I.gradientMap&&(D.gradientMap.value=I.gradientMap)}function P(D,I){D.metalness.value=I.metalness,I.metalnessMap&&(D.metalnessMap.value=I.metalnessMap,t(I.metalnessMap,D.metalnessMapTransform)),D.roughness.value=I.roughness,I.roughnessMap&&(D.roughnessMap.value=I.roughnessMap,t(I.roughnessMap,D.roughnessMapTransform)),e.get(I).envMap&&(D.envMapIntensity.value=I.envMapIntensity)}function N(D,I,j){D.ior.value=I.ior,I.sheen>0&&(D.sheenColor.value.copy(I.sheenColor).multiplyScalar(I.sheen),D.sheenRoughness.value=I.sheenRoughness,I.sheenColorMap&&(D.sheenColorMap.value=I.sheenColorMap,t(I.sheenColorMap,D.sheenColorMapTransform)),I.sheenRoughnessMap&&(D.sheenRoughnessMap.value=I.sheenRoughnessMap,t(I.sheenRoughnessMap,D.sheenRoughnessMapTransform))),I.clearcoat>0&&(D.clearcoat.value=I.clearcoat,D.clearcoatRoughness.value=I.clearcoatRoughness,I.clearcoatMap&&(D.clearcoatMap.value=I.clearcoatMap,t(I.clearcoatMap,D.clearcoatMapTransform)),I.clearcoatRoughnessMap&&(D.clearcoatRoughnessMap.value=I.clearcoatRoughnessMap,t(I.clearcoatRoughnessMap,D.clearcoatRoughnessMapTransform)),I.clearcoatNormalMap&&(D.clearcoatNormalMap.value=I.clearcoatNormalMap,t(I.clearcoatNormalMap,D.clearcoatNormalMapTransform),D.clearcoatNormalScale.value.copy(I.clearcoatNormalScale),I.side===ep&&D.clearcoatNormalScale.value.negate())),I.iridescence>0&&(D.iridescence.value=I.iridescence,D.iridescenceIOR.value=I.iridescenceIOR,D.iridescenceThicknessMinimum.value=I.iridescenceThicknessRange[0],D.iridescenceThicknessMaximum.value=I.iridescenceThicknessRange[1],I.iridescenceMap&&(D.iridescenceMap.value=I.iridescenceMap,t(I.iridescenceMap,D.iridescenceMapTransform)),I.iridescenceThicknessMap&&(D.iridescenceThicknessMap.value=I.iridescenceThicknessMap,t(I.iridescenceThicknessMap,D.iridescenceThicknessMapTransform))),I.transmission>0&&(D.transmission.value=I.transmission,D.transmissionSamplerMap.value=j.texture,D.transmissionSamplerSize.value.set(j.width,j.height),I.transmissionMap&&(D.transmissionMap.value=I.transmissionMap,t(I.transmissionMap,D.transmissionMapTransform)),D.thickness.value=I.thickness,I.thicknessMap&&(D.thicknessMap.value=I.thicknessMap,t(I.thicknessMap,D.thicknessMapTransform)),D.attenuationDistance.value=I.attenuationDistance,D.attenuationColor.value.copy(I.attenuationColor)),I.anisotropy>0&&(D.anisotropyVector.value.set(I.anisotropy*Math.cos(I.anisotropyRotation),I.anisotropy*Math.sin(I.anisotropyRotation)),I.anisotropyMap&&(D.anisotropyMap.value=I.anisotropyMap,t(I.anisotropyMap,D.anisotropyMapTransform))),D.specularIntensity.value=I.specularIntensity,D.specularColor.value.copy(I.specularColor),I.specularColorMap&&(D.specularColorMap.value=I.specularColorMap,t(I.specularColorMap,D.specularColorMapTransform)),I.specularIntensityMap&&(D.specularIntensityMap.value=I.specularIntensityMap,t(I.specularIntensityMap,D.specularIntensityMapTransform))}function F(D,I){I.matcap&&(D.matcap.value=I.matcap)}function K(D,I){const j=e.get(I).light;D.referencePosition.value.setFromMatrixPosition(j.matrixWorld),D.nearDistance.value=j.shadow.camera.near,D.farDistance.value=j.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function x9e(n,e,t,r){let o={},s={},c=[];const d=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function g(j,T){const Y=T.program;r.uniformBlockBinding(j,Y)}function _(j,T){let Y=o[j.id];Y===void 0&&(F(j),Y=b(j),o[j.id]=Y,j.addEventListener("dispose",D));const ce=T.program;r.updateUBOMapping(j,ce);const le=e.render.frame;s[j.id]!==le&&(P(j),s[j.id]=le)}function b(j){const T=A();j.__bindingPointIndex=T;const Y=n.createBuffer(),ce=j.__size,le=j.usage;return n.bindBuffer(n.UNIFORM_BUFFER,Y),n.bufferData(n.UNIFORM_BUFFER,ce,le),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,Y),Y}function A(){for(let j=0;j<d;j++)if(c.indexOf(j)===-1)return c.push(j),j;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function P(j){const T=o[j.id],Y=j.uniforms,ce=j.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let le=0,Z=Y.length;le<Z;le++){const Se=Array.isArray(Y[le])?Y[le]:[Y[le]];for(let Le=0,X=Se.length;Le<X;Le++){const fe=Se[Le];if(N(fe,le,Le,ce)===!0){const st=fe.__offset,Ue=Array.isArray(fe.value)?fe.value:[fe.value];let Me=0;for(let be=0;be<Ue.length;be++){const Ke=Ue[be],Ye=K(Ke);typeof Ke=="number"||typeof Ke=="boolean"?(fe.__data[0]=Ke,n.bufferSubData(n.UNIFORM_BUFFER,st+Me,fe.__data)):Ke.isMatrix3?(fe.__data[0]=Ke.elements[0],fe.__data[1]=Ke.elements[1],fe.__data[2]=Ke.elements[2],fe.__data[3]=0,fe.__data[4]=Ke.elements[3],fe.__data[5]=Ke.elements[4],fe.__data[6]=Ke.elements[5],fe.__data[7]=0,fe.__data[8]=Ke.elements[6],fe.__data[9]=Ke.elements[7],fe.__data[10]=Ke.elements[8],fe.__data[11]=0):(Ke.toArray(fe.__data,Me),Me+=Ye.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,st,fe.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function N(j,T,Y,ce){const le=j.value,Z=T+"_"+Y;if(ce[Z]===void 0)return typeof le=="number"||typeof le=="boolean"?ce[Z]=le:ce[Z]=le.clone(),!0;{const Se=ce[Z];if(typeof le=="number"||typeof le=="boolean"){if(Se!==le)return ce[Z]=le,!0}else if(Se.equals(le)===!1)return Se.copy(le),!0}return!1}function F(j){const T=j.uniforms;let Y=0;const ce=16;for(let Z=0,Se=T.length;Z<Se;Z++){const Le=Array.isArray(T[Z])?T[Z]:[T[Z]];for(let X=0,fe=Le.length;X<fe;X++){const st=Le[X],Ue=Array.isArray(st.value)?st.value:[st.value];for(let Me=0,be=Ue.length;Me<be;Me++){const Ke=Ue[Me],Ye=K(Ke),de=Y%ce;de!==0&&ce-de<Ye.boundary&&(Y+=ce-de),st.__data=new Float32Array(Ye.storage/Float32Array.BYTES_PER_ELEMENT),st.__offset=Y,Y+=Ye.storage}}}const le=Y%ce;return le>0&&(Y+=ce-le),j.__size=Y,j.__cache={},this}function K(j){const T={boundary:0,storage:0};return typeof j=="number"||typeof j=="boolean"?(T.boundary=4,T.storage=4):j.isVector2?(T.boundary=8,T.storage=8):j.isVector3||j.isColor?(T.boundary=16,T.storage=12):j.isVector4?(T.boundary=16,T.storage=16):j.isMatrix3?(T.boundary=48,T.storage=48):j.isMatrix4?(T.boundary=64,T.storage=64):j.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",j),T}function D(j){const T=j.target;T.removeEventListener("dispose",D);const Y=c.indexOf(T.__bindingPointIndex);c.splice(Y,1),n.deleteBuffer(o[T.id]),delete o[T.id],delete s[T.id]}function I(){for(const j in o)n.deleteBuffer(o[j]);c=[],o={},s={}}return{bind:g,update:_,dispose:I}}class IF{constructor(e={}){const{canvas:t=$be(),context:r=null,depth:o=!0,stencil:s=!0,alpha:c=!1,antialias:d=!1,premultipliedAlpha:g=!0,preserveDrawingBuffer:_=!1,powerPreference:b="default",failIfMajorPerformanceCaveat:A=!1}=e;this.isWebGLRenderer=!0;let P;r!==null?P=r.getContextAttributes().alpha:P=c;const N=new Uint32Array(4),F=new Int32Array(4);let K=null,D=null;const I=[],j=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mg,this._useLegacyLights=!1,this.toneMapping=jv,this.toneMappingExposure=1;const T=this;let Y=!1,ce=0,le=0,Z=null,Se=-1,Le=null;const X=new Ms,fe=new Ms;let st=null;const Ue=new Dr(0);let Me=0,be=t.width,Ke=t.height,Ye=1,de=null,ve=null;const ye=new Ms(0,0,be,Ke),_e=new Ms(0,0,be,Ke);let ge=!1;const dt=new r3;let qe=!1,_t=!1,Qe=null;const zt=new Ui,Lt=new Vn,Kt=new Je,ln={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function bn(){return Z===null?Ye:1}let Ze=r;function nn(Pe,at){for(let pt=0;pt<Pe.length;pt++){const St=Pe[pt],yt=t.getContext(St,at);if(yt!==null)return yt}return null}try{const Pe={alpha:!0,depth:o,stencil:s,antialias:d,premultipliedAlpha:g,preserveDrawingBuffer:_,powerPreference:b,failIfMajorPerformanceCaveat:A};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${XM}`),t.addEventListener("webglcontextlost",Nn,!1),t.addEventListener("webglcontextrestored",Bt,!1),t.addEventListener("webglcontextcreationerror",_r,!1),Ze===null){const at=["webgl2","webgl","experimental-webgl"];if(T.isWebGL1Renderer===!0&&at.shift(),Ze=nn(at,Pe),Ze===null)throw nn(at)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Ze instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Ze.getShaderPrecisionFormat===void 0&&(Ze.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}let jt,fn,cn,Dn,Qn,nr,Tr,ct,Ne,rn,Dt,Pn,Wn,ei,jr,Yn,vr,Mt,Zt,yr,hr,Hr,Rr,wr;function qr(){jt=new I8e(Ze),fn=new A8e(Ze,jt,e),jt.init(fn),Hr=new dEe(Ze,jt,fn),cn=new d9e(Ze,jt,fn),Dn=new B8e(Ze),Qn=new e9e,nr=new h9e(Ze,jt,cn,Qn,fn,Hr,Dn),Tr=new M8e(T),ct=new k8e(T),Ne=new UFe(Ze,fn),Rr=new b8e(Ze,jt,Ne,fn),rn=new R8e(Ze,Ne,Dn,Rr),Dt=new F8e(Ze,rn,Ne,Dn),Zt=new L8e(Ze,fn,nr),Yn=new C8e(Qn),Pn=new $Ue(T,Tr,ct,jt,fn,Rr,Yn),Wn=new w9e(T,Qn),ei=new n9e,jr=new l9e(jt,fn),Mt=new S8e(T,Tr,ct,cn,Dt,P,g),vr=new f9e(T,Dt,fn),wr=new x9e(Ze,Dn,fn,cn),yr=new E8e(Ze,jt,Dn,fn),hr=new O8e(Ze,jt,Dn,fn),Dn.programs=Pn.programs,T.capabilities=fn,T.extensions=jt,T.properties=Qn,T.renderLists=ei,T.shadowMap=vr,T.state=cn,T.info=Dn}qr();const ri=new y9e(T,Ze);this.xr=ri,this.getContext=function(){return Ze},this.getContextAttributes=function(){return Ze.getContextAttributes()},this.forceContextLoss=function(){const Pe=jt.get("WEBGL_lose_context");Pe&&Pe.loseContext()},this.forceContextRestore=function(){const Pe=jt.get("WEBGL_lose_context");Pe&&Pe.restoreContext()},this.getPixelRatio=function(){return Ye},this.setPixelRatio=function(Pe){Pe!==void 0&&(Ye=Pe,this.setSize(be,Ke,!1))},this.getSize=function(Pe){return Pe.set(be,Ke)},this.setSize=function(Pe,at,pt=!0){if(ri.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}be=Pe,Ke=at,t.width=Math.floor(Pe*Ye),t.height=Math.floor(at*Ye),pt===!0&&(t.style.width=Pe+"px",t.style.height=at+"px"),this.setViewport(0,0,Pe,at)},this.getDrawingBufferSize=function(Pe){return Pe.set(be*Ye,Ke*Ye).floor()},this.setDrawingBufferSize=function(Pe,at,pt){be=Pe,Ke=at,Ye=pt,t.width=Math.floor(Pe*pt),t.height=Math.floor(at*pt),this.setViewport(0,0,Pe,at)},this.getCurrentViewport=function(Pe){return Pe.copy(X)},this.getViewport=function(Pe){return Pe.copy(ye)},this.setViewport=function(Pe,at,pt,St){Pe.isVector4?ye.set(Pe.x,Pe.y,Pe.z,Pe.w):ye.set(Pe,at,pt,St),cn.viewport(X.copy(ye).multiplyScalar(Ye).round())},this.getScissor=function(Pe){return Pe.copy(_e)},this.setScissor=function(Pe,at,pt,St){Pe.isVector4?_e.set(Pe.x,Pe.y,Pe.z,Pe.w):_e.set(Pe,at,pt,St),cn.scissor(fe.copy(_e).multiplyScalar(Ye).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function(Pe){cn.setScissorTest(ge=Pe)},this.setOpaqueSort=function(Pe){de=Pe},this.setTransparentSort=function(Pe){ve=Pe},this.getClearColor=function(Pe){return Pe.copy(Mt.getClearColor())},this.setClearColor=function(){Mt.setClearColor.apply(Mt,arguments)},this.getClearAlpha=function(){return Mt.getClearAlpha()},this.setClearAlpha=function(){Mt.setClearAlpha.apply(Mt,arguments)},this.clear=function(Pe=!0,at=!0,pt=!0){let St=0;if(Pe){let yt=!1;if(Z!==null){const on=Z.texture.format;yt=on===GK||on===HK||on===jK}if(yt){const on=Z.texture.type,Sn=on===Hv||on===m1||on===EF||on===Hw||on===zK||on===UK,In=Mt.getClearColor(),kn=Mt.getClearAlpha(),sr=In.r,Un=In.g,qn=In.b;Sn?(N[0]=sr,N[1]=Un,N[2]=qn,N[3]=kn,Ze.clearBufferuiv(Ze.COLOR,0,N)):(F[0]=sr,F[1]=Un,F[2]=qn,F[3]=kn,Ze.clearBufferiv(Ze.COLOR,0,F))}else St|=Ze.COLOR_BUFFER_BIT}at&&(St|=Ze.DEPTH_BUFFER_BIT),pt&&(St|=Ze.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ze.clear(St)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Nn,!1),t.removeEventListener("webglcontextrestored",Bt,!1),t.removeEventListener("webglcontextcreationerror",_r,!1),ei.dispose(),jr.dispose(),Qn.dispose(),Tr.dispose(),ct.dispose(),Dt.dispose(),Rr.dispose(),wr.dispose(),Pn.dispose(),ri.dispose(),ri.removeEventListener("sessionstart",Ro),ri.removeEventListener("sessionend",Ri),Qe&&(Qe.dispose(),Qe=null),to.stop()};function Nn(Pe){Pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Y=!0}function Bt(){console.log("THREE.WebGLRenderer: Context Restored."),Y=!1;const Pe=Dn.autoReset,at=vr.enabled,pt=vr.autoUpdate,St=vr.needsUpdate,yt=vr.type;qr(),Dn.autoReset=Pe,vr.enabled=at,vr.autoUpdate=pt,vr.needsUpdate=St,vr.type=yt}function _r(Pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Pe.statusMessage)}function Xt(Pe){const at=Pe.target;at.removeEventListener("dispose",Xt),er(at)}function er(Pe){xr(Pe),Qn.remove(Pe)}function xr(Pe){const at=Qn.get(Pe).programs;at!==void 0&&(at.forEach(function(pt){Pn.releaseProgram(pt)}),Pe.isShaderMaterial&&Pn.releaseShaderCache(Pe))}this.renderBufferDirect=function(Pe,at,pt,St,yt,on){at===null&&(at=ln);const Sn=yt.isMesh&&yt.matrixWorld.determinant()<0,In=Re(Pe,at,pt,St,yt);cn.setMaterial(St,Sn);let kn=pt.index,sr=1;if(St.wireframe===!0){if(kn=rn.getWireframeAttribute(pt),kn===void 0)return;sr=2}const Un=pt.drawRange,qn=pt.attributes.position;let Er=Un.start*sr,Qr=(Un.start+Un.count)*sr;on!==null&&(Er=Math.max(Er,on.start*sr),Qr=Math.min(Qr,(on.start+on.count)*sr)),kn!==null?(Er=Math.max(Er,0),Qr=Math.min(Qr,kn.count)):qn!=null&&(Er=Math.max(Er,0),Qr=Math.min(Qr,qn.count));const li=Qr-Er;if(li<0||li===1/0)return;Rr.setup(yt,St,In,pt,kn);let ii,Sr=yr;if(kn!==null&&(ii=Ne.get(kn),Sr=hr,Sr.setIndex(ii)),yt.isMesh)St.wireframe===!0?(cn.setLineWidth(St.wireframeLinewidth*bn()),Sr.setMode(Ze.LINES)):Sr.setMode(Ze.TRIANGLES);else if(yt.isLine){let Ln=St.linewidth;Ln===void 0&&(Ln=1),cn.setLineWidth(Ln*bn()),yt.isLineSegments?Sr.setMode(Ze.LINES):yt.isLineLoop?Sr.setMode(Ze.LINE_LOOP):Sr.setMode(Ze.LINE_STRIP)}else yt.isPoints?Sr.setMode(Ze.POINTS):yt.isSprite&&Sr.setMode(Ze.TRIANGLES);if(yt.isBatchedMesh)Sr.renderMultiDraw(yt._multiDrawStarts,yt._multiDrawCounts,yt._multiDrawCount);else if(yt.isInstancedMesh)Sr.renderInstances(Er,li,yt.count);else if(pt.isInstancedBufferGeometry){const Ln=pt._maxInstanceCount!==void 0?pt._maxInstanceCount:1/0,Gr=Math.min(pt.instanceCount,Ln);Sr.renderInstances(Er,li,Gr)}else Sr.render(Er,li)};function Mi(Pe,at,pt){Pe.transparent===!0&&Pe.side===sh&&Pe.forceSinglePass===!1?(Pe.side=ep,Pe.needsUpdate=!0,fi(Pe,at,pt),Pe.side=X0,Pe.needsUpdate=!0,fi(Pe,at,pt),Pe.side=sh):fi(Pe,at,pt)}this.compile=function(Pe,at,pt=null){pt===null&&(pt=Pe),D=jr.get(pt),D.init(),j.push(D),pt.traverseVisible(function(yt){yt.isLight&&yt.layers.test(at.layers)&&(D.pushLight(yt),yt.castShadow&&D.pushShadow(yt))}),Pe!==pt&&Pe.traverseVisible(function(yt){yt.isLight&&yt.layers.test(at.layers)&&(D.pushLight(yt),yt.castShadow&&D.pushShadow(yt))}),D.setupLights(T._useLegacyLights);const St=new Set;return Pe.traverse(function(yt){const on=yt.material;if(on)if(Array.isArray(on))for(let Sn=0;Sn<on.length;Sn++){const In=on[Sn];Mi(In,pt,yt),St.add(In)}else Mi(on,pt,yt),St.add(on)}),j.pop(),D=null,St},this.compileAsync=function(Pe,at,pt=null){const St=this.compile(Pe,at,pt);return new Promise(yt=>{function on(){if(St.forEach(function(Sn){Qn.get(Sn).currentProgram.isReady()&&St.delete(Sn)}),St.size===0){yt(Pe);return}setTimeout(on,10)}jt.get("KHR_parallel_shader_compile")!==null?on():setTimeout(on,10)})};let Di=null;function eo(Pe){Di&&Di(Pe)}function Ro(){to.stop()}function Ri(){to.start()}const to=new sEe;to.setAnimationLoop(eo),typeof self<"u"&&to.setContext(self),this.setAnimationLoop=function(Pe){Di=Pe,ri.setAnimationLoop(Pe),Pe===null?to.stop():to.start()},ri.addEventListener("sessionstart",Ro),ri.addEventListener("sessionend",Ri),this.render=function(Pe,at){if(at!==void 0&&at.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Y===!0)return;Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),at.parent===null&&at.matrixWorldAutoUpdate===!0&&at.updateMatrixWorld(),ri.enabled===!0&&ri.isPresenting===!0&&(ri.cameraAutoUpdate===!0&&ri.updateCamera(at),at=ri.getCamera()),Pe.isScene===!0&&Pe.onBeforeRender(T,Pe,at,Z),D=jr.get(Pe,j.length),D.init(),j.push(D),zt.multiplyMatrices(at.projectionMatrix,at.matrixWorldInverse),dt.setFromProjectionMatrix(zt),_t=this.localClippingEnabled,qe=Yn.init(this.clippingPlanes,_t),K=ei.get(Pe,I.length),K.init(),I.push(K),_s(Pe,at,0,T.sortObjects),K.finish(),T.sortObjects===!0&&K.sort(de,ve),this.info.render.frame++,qe===!0&&Yn.beginShadows();const pt=D.state.shadowsArray;if(vr.render(pt,Pe,at),qe===!0&&Yn.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ri.enabled===!1||ri.isPresenting===!1||ri.hasDepthSensing()===!1)&&Mt.render(K,Pe),D.setupLights(T._useLegacyLights),at.isArrayCamera){const St=at.cameras;for(let yt=0,on=St.length;yt<on;yt++){const Sn=St[yt];zs(K,Pe,Sn,Sn.viewport)}}else zs(K,Pe,at);Z!==null&&(nr.updateMultisampleRenderTarget(Z),nr.updateRenderTargetMipmap(Z)),Pe.isScene===!0&&Pe.onAfterRender(T,Pe,at),Rr.resetDefaultState(),Se=-1,Le=null,j.pop(),j.length>0?D=j[j.length-1]:D=null,I.pop(),I.length>0?K=I[I.length-1]:K=null};function _s(Pe,at,pt,St){if(Pe.visible===!1)return;if(Pe.layers.test(at.layers)){if(Pe.isGroup)pt=Pe.renderOrder;else if(Pe.isLOD)Pe.autoUpdate===!0&&Pe.update(at);else if(Pe.isLight)D.pushLight(Pe),Pe.castShadow&&D.pushShadow(Pe);else if(Pe.isSprite){if(!Pe.frustumCulled||dt.intersectsSprite(Pe)){St&&Kt.setFromMatrixPosition(Pe.matrixWorld).applyMatrix4(zt);const Sn=Dt.update(Pe),In=Pe.material;In.visible&&K.push(Pe,Sn,In,pt,Kt.z,null)}}else if((Pe.isMesh||Pe.isLine||Pe.isPoints)&&(!Pe.frustumCulled||dt.intersectsObject(Pe))){const Sn=Dt.update(Pe),In=Pe.material;if(St&&(Pe.boundingSphere!==void 0?(Pe.boundingSphere===null&&Pe.computeBoundingSphere(),Kt.copy(Pe.boundingSphere.center)):(Sn.boundingSphere===null&&Sn.computeBoundingSphere(),Kt.copy(Sn.boundingSphere.center)),Kt.applyMatrix4(Pe.matrixWorld).applyMatrix4(zt)),Array.isArray(In)){const kn=Sn.groups;for(let sr=0,Un=kn.length;sr<Un;sr++){const qn=kn[sr],Er=In[qn.materialIndex];Er&&Er.visible&&K.push(Pe,Sn,Er,pt,Kt.z,qn)}}else In.visible&&K.push(Pe,Sn,In,pt,Kt.z,null)}}const on=Pe.children;for(let Sn=0,In=on.length;Sn<In;Sn++)_s(on[Sn],at,pt,St)}function zs(Pe,at,pt,St){const yt=Pe.opaque,on=Pe.transmissive,Sn=Pe.transparent;D.setupLightsView(pt),qe===!0&&Yn.setGlobalState(T.clippingPlanes,pt),on.length>0&&ol(yt,on,at,pt),St&&cn.viewport(X.copy(St)),yt.length>0&&ss(yt,at,pt),on.length>0&&ss(on,at,pt),Sn.length>0&&ss(Sn,at,pt),cn.buffers.depth.setTest(!0),cn.buffers.depth.setMask(!0),cn.buffers.color.setMask(!0),cn.setPolygonOffset(!1)}function ol(Pe,at,pt,St){if((pt.isScene===!0?pt.overrideMaterial:null)!==null)return;const on=fn.isWebGL2;Qe===null&&(Qe=new zg(1,1,{generateMipmaps:!0,type:jt.has("EXT_color_buffer_half_float")?lh:Hv,minFilter:Og,samples:on?4:0})),T.getDrawingBufferSize(Lt),on?Qe.setSize(Lt.x,Lt.y):Qe.setSize(jL(Lt.x),jL(Lt.y));const Sn=T.getRenderTarget();T.setRenderTarget(Qe),T.getClearColor(Ue),Me=T.getClearAlpha(),Me<1&&T.setClearColor(16777215,.5),T.clear();const In=T.toneMapping;T.toneMapping=jv,ss(Pe,pt,St),nr.updateMultisampleRenderTarget(Qe),nr.updateRenderTargetMipmap(Qe);let kn=!1;for(let sr=0,Un=at.length;sr<Un;sr++){const qn=at[sr],Er=qn.object,Qr=qn.geometry,li=qn.material,ii=qn.group;if(li.side===sh&&Er.layers.test(St.layers)){const Sr=li.side;li.side=ep,li.needsUpdate=!0,ks(Er,pt,St,Qr,li,ii),li.side=Sr,li.needsUpdate=!0,kn=!0}}kn===!0&&(nr.updateMultisampleRenderTarget(Qe),nr.updateRenderTargetMipmap(Qe)),T.setRenderTarget(Sn),T.setClearColor(Ue,Me),T.toneMapping=In}function ss(Pe,at,pt){const St=at.isScene===!0?at.overrideMaterial:null;for(let yt=0,on=Pe.length;yt<on;yt++){const Sn=Pe[yt],In=Sn.object,kn=Sn.geometry,sr=St===null?Sn.material:St,Un=Sn.group;In.layers.test(pt.layers)&&ks(In,at,pt,kn,sr,Un)}}function ks(Pe,at,pt,St,yt,on){Pe.onBeforeRender(T,at,pt,St,yt,on),Pe.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,Pe.matrixWorld),Pe.normalMatrix.getNormalMatrix(Pe.modelViewMatrix),yt.onBeforeRender(T,at,pt,St,Pe,on),yt.transparent===!0&&yt.side===sh&&yt.forceSinglePass===!1?(yt.side=ep,yt.needsUpdate=!0,T.renderBufferDirect(pt,at,St,yt,Pe,on),yt.side=X0,yt.needsUpdate=!0,T.renderBufferDirect(pt,at,St,yt,Pe,on),yt.side=sh):T.renderBufferDirect(pt,at,St,yt,Pe,on),Pe.onAfterRender(T,at,pt,St,yt,on)}function fi(Pe,at,pt){at.isScene!==!0&&(at=ln);const St=Qn.get(Pe),yt=D.state.lights,on=D.state.shadowsArray,Sn=yt.state.version,In=Pn.getParameters(Pe,yt.state,on,at,pt),kn=Pn.getProgramCacheKey(In);let sr=St.programs;St.environment=Pe.isMeshStandardMaterial?at.environment:null,St.fog=at.fog,St.envMap=(Pe.isMeshStandardMaterial?ct:Tr).get(Pe.envMap||St.environment),St.envMapRotation=St.environment!==null&&Pe.envMap===null?at.environmentRotation:Pe.envMapRotation,sr===void 0&&(Pe.addEventListener("dispose",Xt),sr=new Map,St.programs=sr);let Un=sr.get(kn);if(Un!==void 0){if(St.currentProgram===Un&&St.lightsStateVersion===Sn)return su(Pe,In),Un}else In.uniforms=Pn.getUniforms(Pe),Pe.onBuild(pt,In,T),Pe.onBeforeCompile(In,T),Un=Pn.acquireProgram(In,kn),sr.set(kn,Un),St.uniforms=In.uniforms;const qn=St.uniforms;return(!Pe.isShaderMaterial&&!Pe.isRawShaderMaterial||Pe.clipping===!0)&&(qn.clippingPlanes=Yn.uniform),su(Pe,In),St.needsLights=At(Pe),St.lightsStateVersion=Sn,St.needsLights&&(qn.ambientLightColor.value=yt.state.ambient,qn.lightProbe.value=yt.state.probe,qn.directionalLights.value=yt.state.directional,qn.directionalLightShadows.value=yt.state.directionalShadow,qn.spotLights.value=yt.state.spot,qn.spotLightShadows.value=yt.state.spotShadow,qn.rectAreaLights.value=yt.state.rectArea,qn.ltc_1.value=yt.state.rectAreaLTC1,qn.ltc_2.value=yt.state.rectAreaLTC2,qn.pointLights.value=yt.state.point,qn.pointLightShadows.value=yt.state.pointShadow,qn.hemisphereLights.value=yt.state.hemi,qn.directionalShadowMap.value=yt.state.directionalShadowMap,qn.directionalShadowMatrix.value=yt.state.directionalShadowMatrix,qn.spotShadowMap.value=yt.state.spotShadowMap,qn.spotLightMatrix.value=yt.state.spotLightMatrix,qn.spotLightMap.value=yt.state.spotLightMap,qn.pointShadowMap.value=yt.state.pointShadowMap,qn.pointShadowMatrix.value=yt.state.pointShadowMatrix),St.currentProgram=Un,St.uniformsList=null,Un}function ba(Pe){if(Pe.uniformsList===null){const at=Pe.currentProgram.getUniforms();Pe.uniformsList=aL.seqWithValue(at.seq,Pe.uniforms)}return Pe.uniformsList}function su(Pe,at){const pt=Qn.get(Pe);pt.outputColorSpace=at.outputColorSpace,pt.batching=at.batching,pt.instancing=at.instancing,pt.instancingColor=at.instancingColor,pt.instancingMorph=at.instancingMorph,pt.skinning=at.skinning,pt.morphTargets=at.morphTargets,pt.morphNormals=at.morphNormals,pt.morphColors=at.morphColors,pt.morphTargetsCount=at.morphTargetsCount,pt.numClippingPlanes=at.numClippingPlanes,pt.numIntersection=at.numClipIntersection,pt.vertexAlphas=at.vertexAlphas,pt.vertexTangents=at.vertexTangents,pt.toneMapping=at.toneMapping}function Re(Pe,at,pt,St,yt){at.isScene!==!0&&(at=ln),nr.resetTextureUnits();const on=at.fog,Sn=St.isMeshStandardMaterial?at.environment:null,In=Z===null?T.outputColorSpace:Z.isXRRenderTarget===!0?Z.texture.colorSpace:P1,kn=(St.isMeshStandardMaterial?ct:Tr).get(St.envMap||Sn),sr=St.vertexColors===!0&&!!pt.attributes.color&&pt.attributes.color.itemSize===4,Un=!!pt.attributes.tangent&&(!!St.normalMap||St.anisotropy>0),qn=!!pt.morphAttributes.position,Er=!!pt.morphAttributes.normal,Qr=!!pt.morphAttributes.color;let li=jv;St.toneMapped&&(Z===null||Z.isXRRenderTarget===!0)&&(li=T.toneMapping);const ii=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,Sr=ii!==void 0?ii.length:0,Ln=Qn.get(St),Gr=D.state.lights;if(qe===!0&&(_t===!0||Pe!==Le)){const ae=Pe===Le&&St.id===Se;Yn.setState(St,Pe,ae)}let zr=!1;St.version===Ln.__version?(Ln.needsLights&&Ln.lightsStateVersion!==Gr.state.version||Ln.outputColorSpace!==In||yt.isBatchedMesh&&Ln.batching===!1||!yt.isBatchedMesh&&Ln.batching===!0||yt.isInstancedMesh&&Ln.instancing===!1||!yt.isInstancedMesh&&Ln.instancing===!0||yt.isSkinnedMesh&&Ln.skinning===!1||!yt.isSkinnedMesh&&Ln.skinning===!0||yt.isInstancedMesh&&Ln.instancingColor===!0&&yt.instanceColor===null||yt.isInstancedMesh&&Ln.instancingColor===!1&&yt.instanceColor!==null||yt.isInstancedMesh&&Ln.instancingMorph===!0&&yt.morphTexture===null||yt.isInstancedMesh&&Ln.instancingMorph===!1&&yt.morphTexture!==null||Ln.envMap!==kn||St.fog===!0&&Ln.fog!==on||Ln.numClippingPlanes!==void 0&&(Ln.numClippingPlanes!==Yn.numPlanes||Ln.numIntersection!==Yn.numIntersection)||Ln.vertexAlphas!==sr||Ln.vertexTangents!==Un||Ln.morphTargets!==qn||Ln.morphNormals!==Er||Ln.morphColors!==Qr||Ln.toneMapping!==li||fn.isWebGL2===!0&&Ln.morphTargetsCount!==Sr)&&(zr=!0):(zr=!0,Ln.__version=St.version);let Wr=Ln.currentProgram;zr===!0&&(Wr=fi(St,at,yt));let wi=!1,mo=!1,Gi=!1;const si=Wr.getUniforms(),Ti=Ln.uniforms;if(cn.useProgram(Wr.program)&&(wi=!0,mo=!0,Gi=!0),St.id!==Se&&(Se=St.id,mo=!0),wi||Le!==Pe){si.setValue(Ze,"projectionMatrix",Pe.projectionMatrix),si.setValue(Ze,"viewMatrix",Pe.matrixWorldInverse);const ae=si.map.cameraPosition;ae!==void 0&&ae.setValue(Ze,Kt.setFromMatrixPosition(Pe.matrixWorld)),fn.logarithmicDepthBuffer&&si.setValue(Ze,"logDepthBufFC",2/(Math.log(Pe.far+1)/Math.LN2)),(St.isMeshPhongMaterial||St.isMeshToonMaterial||St.isMeshLambertMaterial||St.isMeshBasicMaterial||St.isMeshStandardMaterial||St.isShaderMaterial)&&si.setValue(Ze,"isOrthographic",Pe.isOrthographicCamera===!0),Le!==Pe&&(Le=Pe,mo=!0,Gi=!0)}if(yt.isSkinnedMesh){si.setOptional(Ze,yt,"bindMatrix"),si.setOptional(Ze,yt,"bindMatrixInverse");const ae=yt.skeleton;ae&&(fn.floatVertexTextures?(ae.boneTexture===null&&ae.computeBoneTexture(),si.setValue(Ze,"boneTexture",ae.boneTexture,nr)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}yt.isBatchedMesh&&(si.setOptional(Ze,yt,"batchingTexture"),si.setValue(Ze,"batchingTexture",yt._matricesTexture,nr));const So=pt.morphAttributes;if((So.position!==void 0||So.normal!==void 0||So.color!==void 0&&fn.isWebGL2===!0)&&Zt.update(yt,pt,Wr),(mo||Ln.receiveShadow!==yt.receiveShadow)&&(Ln.receiveShadow=yt.receiveShadow,si.setValue(Ze,"receiveShadow",yt.receiveShadow)),St.isMeshGouraudMaterial&&St.envMap!==null&&(Ti.envMap.value=kn,Ti.flipEnvMap.value=kn.isCubeTexture&&kn.isRenderTargetTexture===!1?-1:1),mo&&(si.setValue(Ze,"toneMappingExposure",T.toneMappingExposure),Ln.needsLights&&$e(Ti,Gi),on&&St.fog===!0&&Wn.refreshFogUniforms(Ti,on),Wn.refreshMaterialUniforms(Ti,St,Ye,Ke,Qe),aL.upload(Ze,ba(Ln),Ti,nr)),St.isShaderMaterial&&St.uniformsNeedUpdate===!0&&(aL.upload(Ze,ba(Ln),Ti,nr),St.uniformsNeedUpdate=!1),St.isSpriteMaterial&&si.setValue(Ze,"center",yt.center),si.setValue(Ze,"modelViewMatrix",yt.modelViewMatrix),si.setValue(Ze,"normalMatrix",yt.normalMatrix),si.setValue(Ze,"modelMatrix",yt.matrixWorld),St.isShaderMaterial||St.isRawShaderMaterial){const ae=St.uniformsGroups;for(let Ae=0,Ge=ae.length;Ae<Ge;Ae++)if(fn.isWebGL2){const ut=ae[Ae];wr.update(ut,Wr),wr.bind(ut,Wr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Wr}function $e(Pe,at){Pe.ambientLightColor.needsUpdate=at,Pe.lightProbe.needsUpdate=at,Pe.directionalLights.needsUpdate=at,Pe.directionalLightShadows.needsUpdate=at,Pe.pointLights.needsUpdate=at,Pe.pointLightShadows.needsUpdate=at,Pe.spotLights.needsUpdate=at,Pe.spotLightShadows.needsUpdate=at,Pe.rectAreaLights.needsUpdate=at,Pe.hemisphereLights.needsUpdate=at}function At(Pe){return Pe.isMeshLambertMaterial||Pe.isMeshToonMaterial||Pe.isMeshPhongMaterial||Pe.isMeshStandardMaterial||Pe.isShadowMaterial||Pe.isShaderMaterial&&Pe.lights===!0}this.getActiveCubeFace=function(){return ce},this.getActiveMipmapLevel=function(){return le},this.getRenderTarget=function(){return Z},this.setRenderTargetTextures=function(Pe,at,pt){Qn.get(Pe.texture).__webglTexture=at,Qn.get(Pe.depthTexture).__webglTexture=pt;const St=Qn.get(Pe);St.__hasExternalTextures=!0,St.__autoAllocateDepthBuffer=pt===void 0,St.__autoAllocateDepthBuffer||jt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),St.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Pe,at){const pt=Qn.get(Pe);pt.__webglFramebuffer=at,pt.__useDefaultFramebuffer=at===void 0},this.setRenderTarget=function(Pe,at=0,pt=0){Z=Pe,ce=at,le=pt;let St=!0,yt=null,on=!1,Sn=!1;if(Pe){const kn=Qn.get(Pe);kn.__useDefaultFramebuffer!==void 0?(cn.bindFramebuffer(Ze.FRAMEBUFFER,null),St=!1):kn.__webglFramebuffer===void 0?nr.setupRenderTarget(Pe):kn.__hasExternalTextures&&nr.rebindTextures(Pe,Qn.get(Pe.texture).__webglTexture,Qn.get(Pe.depthTexture).__webglTexture);const sr=Pe.texture;(sr.isData3DTexture||sr.isDataArrayTexture||sr.isCompressedArrayTexture)&&(Sn=!0);const Un=Qn.get(Pe).__webglFramebuffer;Pe.isWebGLCubeRenderTarget?(Array.isArray(Un[at])?yt=Un[at][pt]:yt=Un[at],on=!0):fn.isWebGL2&&Pe.samples>0&&nr.useMultisampledRTT(Pe)===!1?yt=Qn.get(Pe).__webglMultisampledFramebuffer:Array.isArray(Un)?yt=Un[pt]:yt=Un,X.copy(Pe.viewport),fe.copy(Pe.scissor),st=Pe.scissorTest}else X.copy(ye).multiplyScalar(Ye).floor(),fe.copy(_e).multiplyScalar(Ye).floor(),st=ge;if(cn.bindFramebuffer(Ze.FRAMEBUFFER,yt)&&fn.drawBuffers&&St&&cn.drawBuffers(Pe,yt),cn.viewport(X),cn.scissor(fe),cn.setScissorTest(st),on){const kn=Qn.get(Pe.texture);Ze.framebufferTexture2D(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_CUBE_MAP_POSITIVE_X+at,kn.__webglTexture,pt)}else if(Sn){const kn=Qn.get(Pe.texture),sr=at||0;Ze.framebufferTextureLayer(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,kn.__webglTexture,pt||0,sr)}Se=-1},this.readRenderTargetPixels=function(Pe,at,pt,St,yt,on,Sn){if(!(Pe&&Pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let In=Qn.get(Pe).__webglFramebuffer;if(Pe.isWebGLCubeRenderTarget&&Sn!==void 0&&(In=In[Sn]),In){cn.bindFramebuffer(Ze.FRAMEBUFFER,In);try{const kn=Pe.texture,sr=kn.format,Un=kn.type;if(sr!==_d&&Hr.convert(sr)!==Ze.getParameter(Ze.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const qn=Un===lh&&(jt.has("EXT_color_buffer_half_float")||fn.isWebGL2&&jt.has("EXT_color_buffer_float"));if(Un!==Hv&&Hr.convert(Un)!==Ze.getParameter(Ze.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Un===kc&&(fn.isWebGL2||jt.has("OES_texture_float")||jt.has("WEBGL_color_buffer_float")))&&!qn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}at>=0&&at<=Pe.width-St&&pt>=0&&pt<=Pe.height-yt&&Ze.readPixels(at,pt,St,yt,Hr.convert(sr),Hr.convert(Un),on)}finally{const kn=Z!==null?Qn.get(Z).__webglFramebuffer:null;cn.bindFramebuffer(Ze.FRAMEBUFFER,kn)}}},this.copyFramebufferToTexture=function(Pe,at,pt=0){const St=Math.pow(2,-pt),yt=Math.floor(at.image.width*St),on=Math.floor(at.image.height*St);nr.setTexture2D(at,0),Ze.copyTexSubImage2D(Ze.TEXTURE_2D,pt,0,0,Pe.x,Pe.y,yt,on),cn.unbindTexture()},this.copyTextureToTexture=function(Pe,at,pt,St=0){const yt=at.image.width,on=at.image.height,Sn=Hr.convert(pt.format),In=Hr.convert(pt.type);nr.setTexture2D(pt,0),Ze.pixelStorei(Ze.UNPACK_FLIP_Y_WEBGL,pt.flipY),Ze.pixelStorei(Ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pt.premultiplyAlpha),Ze.pixelStorei(Ze.UNPACK_ALIGNMENT,pt.unpackAlignment),at.isDataTexture?Ze.texSubImage2D(Ze.TEXTURE_2D,St,Pe.x,Pe.y,yt,on,Sn,In,at.image.data):at.isCompressedTexture?Ze.compressedTexSubImage2D(Ze.TEXTURE_2D,St,Pe.x,Pe.y,at.mipmaps[0].width,at.mipmaps[0].height,Sn,at.mipmaps[0].data):Ze.texSubImage2D(Ze.TEXTURE_2D,St,Pe.x,Pe.y,Sn,In,at.image),St===0&&pt.generateMipmaps&&Ze.generateMipmap(Ze.TEXTURE_2D),cn.unbindTexture()},this.copyTextureToTexture3D=function(Pe,at,pt,St,yt=0){if(T.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const on=Math.round(Pe.max.x-Pe.min.x),Sn=Math.round(Pe.max.y-Pe.min.y),In=Pe.max.z-Pe.min.z+1,kn=Hr.convert(St.format),sr=Hr.convert(St.type);let Un;if(St.isData3DTexture)nr.setTexture3D(St,0),Un=Ze.TEXTURE_3D;else if(St.isDataArrayTexture||St.isCompressedArrayTexture)nr.setTexture2DArray(St,0),Un=Ze.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ze.pixelStorei(Ze.UNPACK_FLIP_Y_WEBGL,St.flipY),Ze.pixelStorei(Ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,St.premultiplyAlpha),Ze.pixelStorei(Ze.UNPACK_ALIGNMENT,St.unpackAlignment);const qn=Ze.getParameter(Ze.UNPACK_ROW_LENGTH),Er=Ze.getParameter(Ze.UNPACK_IMAGE_HEIGHT),Qr=Ze.getParameter(Ze.UNPACK_SKIP_PIXELS),li=Ze.getParameter(Ze.UNPACK_SKIP_ROWS),ii=Ze.getParameter(Ze.UNPACK_SKIP_IMAGES),Sr=pt.isCompressedTexture?pt.mipmaps[yt]:pt.image;Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,Sr.width),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,Sr.height),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,Pe.min.x),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,Pe.min.y),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,Pe.min.z),pt.isDataTexture||pt.isData3DTexture?Ze.texSubImage3D(Un,yt,at.x,at.y,at.z,on,Sn,In,kn,sr,Sr.data):St.isCompressedArrayTexture?Ze.compressedTexSubImage3D(Un,yt,at.x,at.y,at.z,on,Sn,In,kn,Sr.data):Ze.texSubImage3D(Un,yt,at.x,at.y,at.z,on,Sn,In,kn,sr,Sr),Ze.pixelStorei(Ze.UNPACK_ROW_LENGTH,qn),Ze.pixelStorei(Ze.UNPACK_IMAGE_HEIGHT,Er),Ze.pixelStorei(Ze.UNPACK_SKIP_PIXELS,Qr),Ze.pixelStorei(Ze.UNPACK_SKIP_ROWS,li),Ze.pixelStorei(Ze.UNPACK_SKIP_IMAGES,ii),yt===0&&St.generateMipmaps&&Ze.generateMipmap(Un),cn.unbindTexture()},this.initTexture=function(Pe){Pe.isCubeTexture?nr.setTextureCube(Pe,0):Pe.isData3DTexture?nr.setTexture3D(Pe,0):Pe.isDataArrayTexture||Pe.isCompressedArrayTexture?nr.setTexture2DArray(Pe,0):nr.setTexture2D(Pe,0),cn.unbindTexture()},this.resetState=function(){ce=0,le=0,Z=null,cn.reset(),Rr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return z0}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===MF?"display-p3":"srgb",t.unpackColorSpace=fa.workingColorSpace===t3?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class pEe extends IF{}pEe.prototype.isWebGL1Renderer=!0;class RF{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Dr(e),this.density=t}clone(){return new RF(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OF{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Dr(e),this.near=t,this.far=r}clone(){return new OF(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Yb=class extends Ho{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new tp,this.environmentRotation=new tp,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class i3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=kR,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Pm()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return eEe("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=t.array[r+o];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pm()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pm()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Yh=new Je;class Zw{constructor(e,t,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Yh.fromBufferAttribute(this,t),Yh.applyMatrix4(e),this.setXYZ(t,Yh.x,Yh.y,Yh.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Yh.fromBufferAttribute(this,t),Yh.applyNormalMatrix(e),this.setXYZ(t,Yh.x,Yh.y,Yh.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Yh.fromBufferAttribute(this,t),Yh.transformDirection(e),this.setXYZ(t,Yh.x,Yh.y,Yh.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Zh(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Io(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Io(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Io(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Io(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Io(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Zh(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Zh(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Zh(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Zh(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,t,r,o,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Io(t,this.array),r=Io(r,this.array),o=Io(o,this.array),s=Io(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[o+s])}return new Ps(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zw(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rY extends ec{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Dr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let bC;const hI=new Je,EC=new Je,AC=new Je,CC=new Vn,pI=new Vn,mEe=new Ui,r5=new Je,mI=new Je,i5=new Je,xye=new Vn,MG=new Vn,Sye=new Vn;class gEe extends Ho{constructor(e=new rY){if(super(),this.isSprite=!0,this.type="Sprite",bC===void 0){bC=new po;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new i3(t,5);bC.setIndex([0,1,2,0,2,3]),bC.setAttribute("position",new Zw(r,3,0,!1)),bC.setAttribute("uv",new Zw(r,2,3,!1))}this.geometry=bC,this.material=e,this.center=new Vn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),EC.setFromMatrixScale(this.matrixWorld),mEe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),AC.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&EC.multiplyScalar(-AC.z);const r=this.material.rotation;let o,s;r!==0&&(s=Math.cos(r),o=Math.sin(r));const c=this.center;o5(r5.set(-.5,-.5,0),AC,c,EC,o,s),o5(mI.set(.5,-.5,0),AC,c,EC,o,s),o5(i5.set(.5,.5,0),AC,c,EC,o,s),xye.set(0,0),MG.set(1,0),Sye.set(1,1);let d=e.ray.intersectTriangle(r5,mI,i5,!1,hI);if(d===null&&(o5(mI.set(-.5,.5,0),AC,c,EC,o,s),MG.set(0,1),d=e.ray.intersectTriangle(r5,i5,mI,!1,hI),d===null))return;const g=e.ray.origin.distanceTo(hI);g<e.near||g>e.far||t.push({distance:g,point:hI.clone(),uv:Am.getInterpolation(hI,r5,mI,i5,xye,MG,Sye,new Vn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function o5(n,e,t,r,o,s){CC.subVectors(n,t).addScalar(.5).multiply(r),o!==void 0?(pI.x=s*CC.x-o*CC.y,pI.y=o*CC.x+s*CC.y):pI.copy(CC),n.copy(e),n.x+=pI.x,n.y+=pI.y,n.applyMatrix4(mEe)}const s5=new Je,bye=new Je;class vEe extends Ho{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,o=t.length;r<o;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const o=this.levels;let s;for(s=0;s<o.length&&!(t<o[s].distance);s++);return o.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,o;for(r=1,o=t.length;r<o;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){s5.setFromMatrixPosition(this.matrixWorld);const o=e.ray.origin.distanceTo(s5);this.getObjectForDistance(o).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){s5.setFromMatrixPosition(e.matrixWorld),bye.setFromMatrixPosition(this.matrixWorld);const r=s5.distanceTo(bye)/e.zoom;t[0].object.visible=!0;let o,s;for(o=1,s=t.length;o<s;o++){let c=t[o].distance;if(t[o].object.visible&&(c-=c*t[o].hysteresis),r>=c)t[o-1].object.visible=!1,t[o].object.visible=!0;else break}for(this._currentLevel=o-1;o<s;o++)t[o].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let o=0,s=r.length;o<s;o++){const c=r[o];t.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return t}}const Eye=new Je,Aye=new Ms,Cye=new Ms,S9e=new Je,Mye=new Ui,a5=new Je,TG=new Sd,Tye=new Ui,PG=new YM;class iY extends ni{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=RW,this.bindMatrix=new Ui,this.bindMatrixInverse=new Ui,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ch),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,a5),this.boundingBox.expandByPoint(a5)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sd),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,a5),this.boundingSphere.expandByPoint(a5)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,o=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),TG.copy(this.boundingSphere),TG.applyMatrix4(o),e.ray.intersectsSphere(TG)!==!1&&(Tye.copy(o).invert(),PG.copy(e.ray).applyMatrix4(Tye),!(this.boundingBox!==null&&PG.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,PG)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ms,t=this.geometry.attributes.skinWeight;for(let r=0,o=t.count;r<o;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===RW?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Pbe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,o=this.geometry;Aye.fromBufferAttribute(o.attributes.skinIndex,e),Cye.fromBufferAttribute(o.attributes.skinWeight,e),Eye.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const c=Cye.getComponent(s);if(c!==0){const d=Aye.getComponent(s);Mye.multiplyMatrices(r.bones[d].matrixWorld,r.boneInverses[d]),t.addScaledVector(S9e.copy(Eye).applyMatrix4(Mye),c)}}return t.applyMatrix4(this.bindMatrixInverse)}}class BF extends Ho{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Vw extends za{constructor(e=null,t=1,r=1,o,s,c,d,g,_=Tu,b=Tu,A,P){super(null,c,d,g,_,b,o,s,A,P),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Pye=new Ui,b9e=new Ui;class o3{constructor(e=[],t=[]){this.uuid=Pm(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new Ui)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ui;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let s=0,c=e.length;s<c;s++){const d=e[s]?e[s].matrixWorld:b9e;Pye.multiplyMatrices(d,t[s]),Pye.toArray(r,s*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new o3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Vw(t,e,e,_d,kc);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const s=e.bones[r];let c=t[s];c===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),c=new BF),this.bones.push(c),this.boneInverses.push(new Ui().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let o=0,s=t.length;o<s;o++){const c=t[o];e.bones.push(c.uuid);const d=r[o];e.boneInverses.push(d.toArray())}return e}}class BM extends Ps{constructor(e,t,r,o=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const MC=new Ui,kye=new Ui,l5=[],Iye=new ch,E9e=new Ui,gI=new ni,vI=new Sd;class oY extends ni{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new BM(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,E9e)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ch),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,MC),Iye.copy(e.boundingBox).applyMatrix4(MC),this.boundingBox.union(Iye)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sd),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,MC),vI.copy(e.boundingSphere).applyMatrix4(MC),this.boundingSphere.union(vI)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,o=this.morphTexture.source.data.data,s=r.length+1,c=e*s+1;for(let d=0;d<r.length;d++)r[d]=o[c+d]}raycast(e,t){const r=this.matrixWorld,o=this.count;if(gI.geometry=this.geometry,gI.material=this.material,gI.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vI.copy(this.boundingSphere),vI.applyMatrix4(r),e.ray.intersectsSphere(vI)!==!1))for(let s=0;s<o;s++){this.getMatrixAt(s,MC),kye.multiplyMatrices(r,MC),gI.matrixWorld=kye,gI.raycast(e,l5);for(let c=0,d=l5.length;c<d;c++){const g=l5[c];g.instanceId=s,g.object=this,t.push(g)}l5.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new BM(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,o=r.length+1;this.morphTexture===null&&(this.morphTexture=new Vw(new Float32Array(o*this.count),o,this.count,AF,kc));const s=this.morphTexture.source.data.data;let c=0;for(let _=0;_<r.length;_++)c+=r[_];const d=this.geometry.morphTargetsRelative?1:1-c,g=o*e;s[g]=d,s.set(r,g+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function A9e(n,e){return n.z-e.z}function C9e(n,e){return e.z-n.z}class M9e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];o.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const TC="batchId",gw=new Ui,Rye=new Ui,T9e=new Ui,Oye=new Ui,kG=new r3,u5=new ch,ob=new Sd,yI=new Je,IG=new M9e,rh=new ni,c5=[];function P9e(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const o=n.count;for(let s=0;s<o;s++)for(let c=0;c<r;c++)e.setComponent(s+t,c,n.getComponent(s,c))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class yEe extends ni{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,o){super(new po,o),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Vw(t,e,e,_d,kc);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,o=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const d in e.attributes){const g=e.getAttribute(d),{array:_,itemSize:b,normalized:A}=g,P=new _.constructor(r*b),N=new g.constructor(P,b,A);N.setUsage(g.usage),t.setAttribute(d,N)}if(e.getIndex()!==null){const d=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Ps(d,1))}const c=o>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(TC,new Ps(c,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(TC))throw new Error(`BatchedMesh: Geometry cannot use attribute "${TC}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===TC)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const o=e.getAttribute(r),s=t.getAttribute(r);if(o.itemSize!==s.itemSize||o.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ch);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let o=0;o<e;o++)r[o]!==!1&&(this.getMatrixAt(o,gw),this.getBoundingBoxAt(o,u5).applyMatrix4(gw),t.union(u5))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sd);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let o=0;o<e;o++)r[o]!==!1&&(this.getMatrixAt(o,gw),this.getBoundingSphereAt(o,ob).applyMatrix4(gw),t.union(ob))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const o={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const c=this._reservedRanges,d=this._drawRanges,g=this._bounds;this._geometryCount!==0&&(s=c[c.length-1]),t===-1?o.vertexCount=e.getAttribute("position").count:o.vertexCount=t,s===null?o.vertexStart=0:o.vertexStart=s.vertexStart+s.vertexCount;const _=e.getIndex(),b=_!==null;if(b&&(r===-1?o.indexCount=_.count:o.indexCount=r,s===null?o.indexStart=0:o.indexStart=s.indexStart+s.indexCount),o.indexStart!==-1&&o.indexStart+o.indexCount>this._maxIndexCount||o.vertexStart+o.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const A=this._visibility,P=this._active,N=this._matricesTexture,F=this._matricesTexture.image.data;A.push(!0),P.push(!0);const K=this._geometryCount;this._geometryCount++,T9e.toArray(F,K*16),N.needsUpdate=!0,c.push(o),d.push({start:b?o.indexStart:o.vertexStart,count:-1}),g.push({boxInitialized:!1,box:new ch,sphereInitialized:!1,sphere:new Sd});const D=this.geometry.getAttribute(TC);for(let I=0;I<o.vertexCount;I++)D.setX(o.vertexStart+I,K);return D.needsUpdate=!0,this.setGeometryAt(K,e),K}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,o=r.getIndex()!==null,s=r.getIndex(),c=t.getIndex(),d=this._reservedRanges[e];if(o&&c.count>d.indexCount||t.attributes.position.count>d.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const g=d.vertexStart,_=d.vertexCount;for(const N in r.attributes){if(N===TC)continue;const F=t.getAttribute(N),K=r.getAttribute(N);P9e(F,K,g);const D=F.itemSize;for(let I=F.count,j=_;I<j;I++){const T=g+I;for(let Y=0;Y<D;Y++)K.setComponent(T,Y,0)}K.needsUpdate=!0}if(o){const N=d.indexStart;for(let F=0;F<c.count;F++)s.setX(N+F,g+c.getX(F));for(let F=c.count,K=d.indexCount;F<K;F++)s.setX(N+F,g);s.needsUpdate=!0}const b=this._bounds[e];t.boundingBox!==null?(b.box.copy(t.boundingBox),b.boxInitialized=!0):b.boxInitialized=!1,t.boundingSphere!==null?(b.sphere.copy(t.boundingSphere),b.sphereInitialized=!0):b.sphereInitialized=!1;const A=this._drawRanges[e],P=t.getAttribute("position");return A.count=o?c.count:P.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const o=this._bounds[e],s=o.box,c=this.geometry;if(o.boxInitialized===!1){s.makeEmpty();const d=c.index,g=c.attributes.position,_=this._drawRanges[e];for(let b=_.start,A=_.start+_.count;b<A;b++){let P=b;d&&(P=d.getX(P)),s.expandByPoint(yI.fromBufferAttribute(g,P))}o.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const o=this._bounds[e],s=o.sphere,c=this.geometry;if(o.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,u5),u5.getCenter(s.center);const d=c.index,g=c.attributes.position,_=this._drawRanges[e];let b=0;for(let A=_.start,P=_.start+_.count;A<P;A++){let N=A;d&&(N=d.getX(N)),yI.fromBufferAttribute(g,N),b=Math.max(b,s.center.distanceToSquared(yI))}s.radius=Math.sqrt(b),o.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,o=this._matricesTexture,s=this._matricesTexture.image.data,c=this._geometryCount;return e>=c||r[e]===!1?this:(t.toArray(s,e*16),o.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,o=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(o,e*16)}setVisibleAt(e,t){const r=this._visibility,o=this._active,s=this._geometryCount;return e>=s||o[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,o=this._geometryCount;return e>=o||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,o=this._active,s=this._drawRanges,c=this._geometryCount,d=this.matrixWorld,g=this.geometry;rh.material=this.material,rh.geometry.index=g.index,rh.geometry.attributes=g.attributes,rh.geometry.boundingBox===null&&(rh.geometry.boundingBox=new ch),rh.geometry.boundingSphere===null&&(rh.geometry.boundingSphere=new Sd);for(let _=0;_<c;_++){if(!r[_]||!o[_])continue;const b=s[_];rh.geometry.setDrawRange(b.start,b.count),this.getMatrixAt(_,rh.matrixWorld).premultiply(d),this.getBoundingBoxAt(_,rh.geometry.boundingBox),this.getBoundingSphereAt(_,rh.geometry.boundingSphere),rh.raycast(e,c5);for(let A=0,P=c5.length;A<P;A++){const N=c5[A];N.object=this,N.batchId=_,t.push(N)}c5.length=0}rh.material=null,rh.geometry.index=null,rh.geometry.attributes={},rh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,o,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const c=o.getIndex(),d=c===null?1:c.array.BYTES_PER_ELEMENT,g=this._active,_=this._visibility,b=this._multiDrawStarts,A=this._multiDrawCounts,P=this._drawRanges,N=this.perObjectFrustumCulled;N&&(Oye.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),kG.setFromProjectionMatrix(Oye,e.coordinateSystem));let F=0;if(this.sortObjects){Rye.copy(this.matrixWorld).invert(),yI.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Rye);for(let I=0,j=_.length;I<j;I++)if(_[I]&&g[I]){this.getMatrixAt(I,gw),this.getBoundingSphereAt(I,ob).applyMatrix4(gw);let T=!1;if(N&&(T=!kG.intersectsSphere(ob)),!T){const Y=yI.distanceTo(ob.center);IG.push(P[I],Y)}}const K=IG.list,D=this.customSort;D===null?K.sort(s.transparent?C9e:A9e):D.call(this,K,r);for(let I=0,j=K.length;I<j;I++){const T=K[I];b[F]=T.start*d,A[F]=T.count,F++}IG.reset()}else for(let K=0,D=_.length;K<D;K++)if(_[K]&&g[K]){let I=!1;if(N&&(this.getMatrixAt(K,gw),this.getBoundingSphereAt(K,ob).applyMatrix4(gw),I=!kG.intersectsSphere(ob)),!I){const j=P[K];b[F]=j.start*d,A[F]=j.count,F++}}this._multiDrawCount=F,this._visibilityChanged=!1}onBeforeShadow(e,t,r,o,s,c){this.onBeforeRender(e,null,o,s,c)}}class Ed extends ec{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Dr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Bye=new Je,Dye=new Je,Nye=new Ui,RG=new YM,f5=new Sd;class zo extends Ho{constructor(e=new po,t=new Ed){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let o=1,s=t.count;o<s;o++)Bye.fromBufferAttribute(t,o-1),Dye.fromBufferAttribute(t,o),r[o]=r[o-1],r[o]+=Bye.distanceTo(Dye);e.setAttribute("lineDistance",new Ei(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,c=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),f5.copy(r.boundingSphere),f5.applyMatrix4(o),f5.radius+=s,e.ray.intersectsSphere(f5)===!1)return;Nye.copy(o).invert(),RG.copy(e.ray).applyMatrix4(Nye);const d=s/((this.scale.x+this.scale.y+this.scale.z)/3),g=d*d,_=new Je,b=new Je,A=new Je,P=new Je,N=this.isLineSegments?2:1,F=r.index,D=r.attributes.position;if(F!==null){const I=Math.max(0,c.start),j=Math.min(F.count,c.start+c.count);for(let T=I,Y=j-1;T<Y;T+=N){const ce=F.getX(T),le=F.getX(T+1);if(_.fromBufferAttribute(D,ce),b.fromBufferAttribute(D,le),RG.distanceSqToSegment(_,b,P,A)>g)continue;P.applyMatrix4(this.matrixWorld);const Se=e.ray.origin.distanceTo(P);Se<e.near||Se>e.far||t.push({distance:Se,point:A.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const I=Math.max(0,c.start),j=Math.min(D.count,c.start+c.count);for(let T=I,Y=j-1;T<Y;T+=N){if(_.fromBufferAttribute(D,T),b.fromBufferAttribute(D,T+1),RG.distanceSqToSegment(_,b,P,A)>g)continue;P.applyMatrix4(this.matrixWorld);const le=e.ray.origin.distanceTo(P);le<e.near||le>e.far||t.push({distance:le,point:A.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,c=o.length;s<c;s++){const d=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=s}}}}}const Lye=new Je,Fye=new Je;class Vv extends zo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let o=0,s=t.count;o<s;o+=2)Lye.fromBufferAttribute(t,o),Fye.fromBufferAttribute(t,o+1),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+Lye.distanceTo(Fye);e.setAttribute("lineDistance",new Ei(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sY extends zo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class DF extends ec{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Dr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const zye=new Ui,lX=new YM,d5=new Sd,h5=new Je;class aY extends Ho{constructor(e=new po,t=new DF){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,o=this.matrixWorld,s=e.params.Points.threshold,c=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),d5.copy(r.boundingSphere),d5.applyMatrix4(o),d5.radius+=s,e.ray.intersectsSphere(d5)===!1)return;zye.copy(o).invert(),lX.copy(e.ray).applyMatrix4(zye);const d=s/((this.scale.x+this.scale.y+this.scale.z)/3),g=d*d,_=r.index,A=r.attributes.position;if(_!==null){const P=Math.max(0,c.start),N=Math.min(_.count,c.start+c.count);for(let F=P,K=N;F<K;F++){const D=_.getX(F);h5.fromBufferAttribute(A,D),Uye(h5,D,g,o,e,t,this)}}else{const P=Math.max(0,c.start),N=Math.min(A.count,c.start+c.count);for(let F=P,K=N;F<K;F++)h5.fromBufferAttribute(A,F),Uye(h5,F,g,o,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,c=o.length;s<c;s++){const d=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=s}}}}}function Uye(n,e,t,r,o,s,c){const d=lX.distanceSqToPoint(n);if(d<t){const g=new Je;lX.closestPointToPoint(n,g),g.applyMatrix4(r);const _=o.ray.origin.distanceTo(g);if(_<o.near||_>o.far)return;s.push({distance:_,distanceToRay:Math.sqrt(d),point:g,index:e,face:null,object:c})}}class k9e extends za{constructor(e,t,r,o,s,c,d,g,_){super(e,t,r,o,s,c,d,g,_),this.isVideoTexture=!0,this.minFilter=c!==void 0?c:Xs,this.magFilter=s!==void 0?s:Xs,this.generateMipmaps=!1;const b=this;function A(){b.needsUpdate=!0,e.requestVideoFrameCallback(A)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(A)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class I9e extends za{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Tu,this.minFilter=Tu,this.generateMipmaps=!1,this.needsUpdate=!0}}class NF extends za{constructor(e,t,r,o,s,c,d,g,_,b,A,P){super(null,c,d,g,_,b,o,s,A,P),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class R9e extends NF{constructor(e,t,r,o,s,c){super(e,t,r,s,c),this.isCompressedArrayTexture=!0,this.image.depth=o,this.wrapR=yd}}class O9e extends NF{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,K0),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class B9e extends za{constructor(e,t,r,o,s,c,d,g,_){super(e,t,r,o,s,c,d,g,_),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Wv{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,o=this.getPoint(0),s=0;t.push(0);for(let c=1;c<=e;c++)r=this.getPoint(c/e),s+=r.distanceTo(o),t.push(s),o=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let o=0;const s=r.length;let c;t?c=t:c=e*r[s-1];let d=0,g=s-1,_;for(;d<=g;)if(o=Math.floor(d+(g-d)/2),_=r[o]-c,_<0)d=o+1;else if(_>0)g=o-1;else{g=o;break}if(o=g,r[o]===c)return o/(s-1);const b=r[o],P=r[o+1]-b,N=(c-b)/P;return(o+N)/(s-1)}getTangent(e,t){let o=e-1e-4,s=e+1e-4;o<0&&(o=0),s>1&&(s=1);const c=this.getPoint(o),d=this.getPoint(s),g=t||(c.isVector2?new Vn:new Je);return g.copy(d).sub(c).normalize(),g}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Je,o=[],s=[],c=[],d=new Je,g=new Ui;for(let N=0;N<=e;N++){const F=N/e;o[N]=this.getTangentAt(F,new Je)}s[0]=new Je,c[0]=new Je;let _=Number.MAX_VALUE;const b=Math.abs(o[0].x),A=Math.abs(o[0].y),P=Math.abs(o[0].z);b<=_&&(_=b,r.set(1,0,0)),A<=_&&(_=A,r.set(0,1,0)),P<=_&&r.set(0,0,1),d.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],d),c[0].crossVectors(o[0],s[0]);for(let N=1;N<=e;N++){if(s[N]=s[N-1].clone(),c[N]=c[N-1].clone(),d.crossVectors(o[N-1],o[N]),d.length()>Number.EPSILON){d.normalize();const F=Math.acos(Pu(o[N-1].dot(o[N]),-1,1));s[N].applyMatrix4(g.makeRotationAxis(d,F))}c[N].crossVectors(o[N],s[N])}if(t===!0){let N=Math.acos(Pu(s[0].dot(s[e]),-1,1));N/=e,o[0].dot(d.crossVectors(s[0],s[e]))>0&&(N=-N);for(let F=1;F<=e;F++)s[F].applyMatrix4(g.makeRotationAxis(o[F],N*F)),c[F].crossVectors(o[F],s[F])}return{tangents:o,normals:s,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class LF extends Wv{constructor(e=0,t=0,r=1,o=1,s=0,c=Math.PI*2,d=!1,g=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=c,this.aClockwise=d,this.aRotation=g}getPoint(e,t=new Vn){const r=t,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const c=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(c?s=0:s=o),this.aClockwise===!0&&!c&&(s===o?s=-o:s=s-o);const d=this.aStartAngle+e*s;let g=this.aX+this.xRadius*Math.cos(d),_=this.aY+this.yRadius*Math.sin(d);if(this.aRotation!==0){const b=Math.cos(this.aRotation),A=Math.sin(this.aRotation),P=g-this.aX,N=_-this.aY;g=P*b-N*A+this.aX,_=P*A+N*b+this.aY}return r.set(g,_)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class _Ee extends LF{constructor(e,t,r,o,s,c){super(e,t,r,r,o,s,c),this.isArcCurve=!0,this.type="ArcCurve"}}function lY(){let n=0,e=0,t=0,r=0;function o(s,c,d,g){n=s,e=d,t=-3*s+3*c-2*d-g,r=2*s-2*c+d+g}return{initCatmullRom:function(s,c,d,g,_){o(c,d,_*(d-s),_*(g-c))},initNonuniformCatmullRom:function(s,c,d,g,_,b,A){let P=(c-s)/_-(d-s)/(_+b)+(d-c)/b,N=(d-c)/b-(g-c)/(b+A)+(g-d)/A;P*=b,N*=b,o(c,d,P,N)},calc:function(s){const c=s*s,d=c*s;return n+e*s+t*c+r*d}}}const p5=new Je,OG=new lY,BG=new lY,DG=new lY;class wEe extends Wv{constructor(e=[],t=!1,r="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=o}getPoint(e,t=new Je){const r=t,o=this.points,s=o.length,c=(s-(this.closed?0:1))*e;let d=Math.floor(c),g=c-d;this.closed?d+=d>0?0:(Math.floor(Math.abs(d)/s)+1)*s:g===0&&d===s-1&&(d=s-2,g=1);let _,b;this.closed||d>0?_=o[(d-1)%s]:(p5.subVectors(o[0],o[1]).add(o[0]),_=p5);const A=o[d%s],P=o[(d+1)%s];if(this.closed||d+2<s?b=o[(d+2)%s]:(p5.subVectors(o[s-1],o[s-2]).add(o[s-1]),b=p5),this.curveType==="centripetal"||this.curveType==="chordal"){const N=this.curveType==="chordal"?.5:.25;let F=Math.pow(_.distanceToSquared(A),N),K=Math.pow(A.distanceToSquared(P),N),D=Math.pow(P.distanceToSquared(b),N);K<1e-4&&(K=1),F<1e-4&&(F=K),D<1e-4&&(D=K),OG.initNonuniformCatmullRom(_.x,A.x,P.x,b.x,F,K,D),BG.initNonuniformCatmullRom(_.y,A.y,P.y,b.y,F,K,D),DG.initNonuniformCatmullRom(_.z,A.z,P.z,b.z,F,K,D)}else this.curveType==="catmullrom"&&(OG.initCatmullRom(_.x,A.x,P.x,b.x,this.tension),BG.initCatmullRom(_.y,A.y,P.y,b.y,this.tension),DG.initCatmullRom(_.z,A.z,P.z,b.z,this.tension));return r.set(OG.calc(g),BG.calc(g),DG.calc(g)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const o=this.points[t];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(new Je().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function jye(n,e,t,r,o){const s=(r-e)*.5,c=(o-t)*.5,d=n*n,g=n*d;return(2*t-2*r+s+c)*g+(-3*t+3*r-2*s-c)*d+s*n+t}function D9e(n,e){const t=1-n;return t*t*e}function N9e(n,e){return 2*(1-n)*n*e}function L9e(n,e){return n*n*e}function $I(n,e,t,r){return D9e(n,e)+N9e(n,t)+L9e(n,r)}function F9e(n,e){const t=1-n;return t*t*t*e}function z9e(n,e){const t=1-n;return 3*t*t*n*e}function U9e(n,e){return 3*(1-n)*n*n*e}function j9e(n,e){return n*n*n*e}function eR(n,e,t,r,o){return F9e(n,e)+z9e(n,t)+U9e(n,r)+j9e(n,o)}class uY extends Wv{constructor(e=new Vn,t=new Vn,r=new Vn,o=new Vn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=o}getPoint(e,t=new Vn){const r=t,o=this.v0,s=this.v1,c=this.v2,d=this.v3;return r.set(eR(e,o.x,s.x,c.x,d.x),eR(e,o.y,s.y,c.y,d.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xEe extends Wv{constructor(e=new Je,t=new Je,r=new Je,o=new Je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=o}getPoint(e,t=new Je){const r=t,o=this.v0,s=this.v1,c=this.v2,d=this.v3;return r.set(eR(e,o.x,s.x,c.x,d.x),eR(e,o.y,s.y,c.y,d.y),eR(e,o.z,s.z,c.z,d.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cY extends Wv{constructor(e=new Vn,t=new Vn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Vn){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Vn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SEe extends Wv{constructor(e=new Je,t=new Je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Je){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fY extends Wv{constructor(e=new Vn,t=new Vn,r=new Vn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Vn){const r=t,o=this.v0,s=this.v1,c=this.v2;return r.set($I(e,o.x,s.x,c.x),$I(e,o.y,s.y,c.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dY extends Wv{constructor(e=new Je,t=new Je,r=new Je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Je){const r=t,o=this.v0,s=this.v1,c=this.v2;return r.set($I(e,o.x,s.x,c.x),$I(e,o.y,s.y,c.y),$I(e,o.z,s.z,c.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hY extends Wv{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Vn){const r=t,o=this.points,s=(o.length-1)*e,c=Math.floor(s),d=s-c,g=o[c===0?c:c-1],_=o[c],b=o[c>o.length-2?o.length-1:c+1],A=o[c>o.length-3?o.length-1:c+2];return r.set(jye(d,g.x,_.x,b.x,A.x),jye(d,g.y,_.y,b.y,A.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const o=this.points[t];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(new Vn().fromArray(o))}return this}}var HL=Object.freeze({__proto__:null,ArcCurve:_Ee,CatmullRomCurve3:wEe,CubicBezierCurve:uY,CubicBezierCurve3:xEe,EllipseCurve:LF,LineCurve:cY,LineCurve3:SEe,QuadraticBezierCurve:fY,QuadraticBezierCurve3:dY,SplineCurve:hY});class bEe extends Wv{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new HL[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),o=this.getCurveLengths();let s=0;for(;s<o.length;){if(o[s]>=r){const c=o[s]-r,d=this.curves[s],g=d.getLength(),_=g===0?0:1-c/g;return d.getPointAt(_,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,o=this.curves.length;r<o;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let o=0,s=this.curves;o<s.length;o++){const c=s[o],d=c.isEllipseCurve?e*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?e*c.points.length:e,g=c.getPoints(d);for(let _=0;_<g.length;_++){const b=g[_];r&&r.equals(b)||(t.push(b),r=b)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const o=e.curves[t];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const o=this.curves[t];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const o=e.curves[t];this.curves.push(new HL[o.type]().fromJSON(o))}return this}}class OR extends bEe{constructor(e){super(),this.type="Path",this.currentPoint=new Vn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new cY(this.currentPoint.clone(),new Vn(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,o){const s=new fY(this.currentPoint.clone(),new Vn(e,t),new Vn(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}bezierCurveTo(e,t,r,o,s,c){const d=new uY(this.currentPoint.clone(),new Vn(e,t),new Vn(r,o),new Vn(s,c));return this.curves.push(d),this.currentPoint.set(s,c),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new hY(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,o,s,c){const d=this.currentPoint.x,g=this.currentPoint.y;return this.absarc(e+d,t+g,r,o,s,c),this}absarc(e,t,r,o,s,c){return this.absellipse(e,t,r,r,o,s,c),this}ellipse(e,t,r,o,s,c,d,g){const _=this.currentPoint.x,b=this.currentPoint.y;return this.absellipse(e+_,t+b,r,o,s,c,d,g),this}absellipse(e,t,r,o,s,c,d,g){const _=new LF(e,t,r,o,s,c,d,g);if(this.curves.length>0){const A=_.getPoint(0);A.equals(this.currentPoint)||this.lineTo(A.x,A.y)}this.curves.push(_);const b=_.getPoint(1);return this.currentPoint.copy(b),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class s3 extends po{constructor(e=[new Vn(0,-.5),new Vn(.5,0),new Vn(0,.5)],t=12,r=0,o=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:o},t=Math.floor(t),o=Pu(o,0,Math.PI*2);const s=[],c=[],d=[],g=[],_=[],b=1/t,A=new Je,P=new Vn,N=new Je,F=new Je,K=new Je;let D=0,I=0;for(let j=0;j<=e.length-1;j++)switch(j){case 0:D=e[j+1].x-e[j].x,I=e[j+1].y-e[j].y,N.x=I*1,N.y=-D,N.z=I*0,K.copy(N),N.normalize(),g.push(N.x,N.y,N.z);break;case e.length-1:g.push(K.x,K.y,K.z);break;default:D=e[j+1].x-e[j].x,I=e[j+1].y-e[j].y,N.x=I*1,N.y=-D,N.z=I*0,F.copy(N),N.x+=K.x,N.y+=K.y,N.z+=K.z,N.normalize(),g.push(N.x,N.y,N.z),K.copy(F)}for(let j=0;j<=t;j++){const T=r+j*b*o,Y=Math.sin(T),ce=Math.cos(T);for(let le=0;le<=e.length-1;le++){A.x=e[le].x*Y,A.y=e[le].y,A.z=e[le].x*ce,c.push(A.x,A.y,A.z),P.x=j/t,P.y=le/(e.length-1),d.push(P.x,P.y);const Z=g[3*le+0]*Y,Se=g[3*le+1],Le=g[3*le+0]*ce;_.push(Z,Se,Le)}}for(let j=0;j<t;j++)for(let T=0;T<e.length-1;T++){const Y=T+j*e.length,ce=Y,le=Y+e.length,Z=Y+e.length+1,Se=Y+1;s.push(ce,le,Se),s.push(Z,Se,le)}this.setIndex(s),this.setAttribute("position",new Ei(c,3)),this.setAttribute("uv",new Ei(d,2)),this.setAttribute("normal",new Ei(_,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s3(e.points,e.segments,e.phiStart,e.phiLength)}}class FF extends s3{constructor(e=1,t=1,r=4,o=8){const s=new OR;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),o),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:o}}static fromJSON(e){return new FF(e.radius,e.length,e.capSegments,e.radialSegments)}}class zF extends po{constructor(e=1,t=32,r=0,o=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:o},t=Math.max(3,t);const s=[],c=[],d=[],g=[],_=new Je,b=new Vn;c.push(0,0,0),d.push(0,0,1),g.push(.5,.5);for(let A=0,P=3;A<=t;A++,P+=3){const N=r+A/t*o;_.x=e*Math.cos(N),_.y=e*Math.sin(N),c.push(_.x,_.y,_.z),d.push(0,0,1),b.x=(c[P]/e+1)/2,b.y=(c[P+1]/e+1)/2,g.push(b.x,b.y)}for(let A=1;A<=t;A++)s.push(A,A+1,0);this.setIndex(s),this.setAttribute("position",new Ei(c,3)),this.setAttribute("normal",new Ei(d,3)),this.setAttribute("uv",new Ei(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zF(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vd extends po{constructor(e=1,t=1,r=1,o=32,s=1,c=!1,d=0,g=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:o,heightSegments:s,openEnded:c,thetaStart:d,thetaLength:g};const _=this;o=Math.floor(o),s=Math.floor(s);const b=[],A=[],P=[],N=[];let F=0;const K=[],D=r/2;let I=0;j(),c===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(b),this.setAttribute("position",new Ei(A,3)),this.setAttribute("normal",new Ei(P,3)),this.setAttribute("uv",new Ei(N,2));function j(){const Y=new Je,ce=new Je;let le=0;const Z=(t-e)/r;for(let Se=0;Se<=s;Se++){const Le=[],X=Se/s,fe=X*(t-e)+e;for(let st=0;st<=o;st++){const Ue=st/o,Me=Ue*g+d,be=Math.sin(Me),Ke=Math.cos(Me);ce.x=fe*be,ce.y=-X*r+D,ce.z=fe*Ke,A.push(ce.x,ce.y,ce.z),Y.set(be,Z,Ke).normalize(),P.push(Y.x,Y.y,Y.z),N.push(Ue,1-X),Le.push(F++)}K.push(Le)}for(let Se=0;Se<o;Se++)for(let Le=0;Le<s;Le++){const X=K[Le][Se],fe=K[Le+1][Se],st=K[Le+1][Se+1],Ue=K[Le][Se+1];b.push(X,fe,Ue),b.push(fe,st,Ue),le+=6}_.addGroup(I,le,0),I+=le}function T(Y){const ce=F,le=new Vn,Z=new Je;let Se=0;const Le=Y===!0?e:t,X=Y===!0?1:-1;for(let st=1;st<=o;st++)A.push(0,D*X,0),P.push(0,X,0),N.push(.5,.5),F++;const fe=F;for(let st=0;st<=o;st++){const Me=st/o*g+d,be=Math.cos(Me),Ke=Math.sin(Me);Z.x=Le*Ke,Z.y=D*X,Z.z=Le*be,A.push(Z.x,Z.y,Z.z),P.push(0,X,0),le.x=be*.5+.5,le.y=Ke*.5*X+.5,N.push(le.x,le.y),F++}for(let st=0;st<o;st++){const Ue=ce+st,Me=fe+st;Y===!0?b.push(Me,Me+1,Ue):b.push(Me+1,Me,Ue),Se+=3}_.addGroup(I,Se,Y===!0?1:2),I+=Se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class UF extends vd{constructor(e=1,t=1,r=32,o=1,s=!1,c=0,d=Math.PI*2){super(0,e,t,r,o,s,c,d),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:c,thetaLength:d}}static fromJSON(e){return new UF(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ox extends po{constructor(e=[],t=[],r=1,o=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:o};const s=[],c=[];d(o),_(r),b(),this.setAttribute("position",new Ei(s,3)),this.setAttribute("normal",new Ei(s.slice(),3)),this.setAttribute("uv",new Ei(c,2)),o===0?this.computeVertexNormals():this.normalizeNormals();function d(j){const T=new Je,Y=new Je,ce=new Je;for(let le=0;le<t.length;le+=3)N(t[le+0],T),N(t[le+1],Y),N(t[le+2],ce),g(T,Y,ce,j)}function g(j,T,Y,ce){const le=ce+1,Z=[];for(let Se=0;Se<=le;Se++){Z[Se]=[];const Le=j.clone().lerp(Y,Se/le),X=T.clone().lerp(Y,Se/le),fe=le-Se;for(let st=0;st<=fe;st++)st===0&&Se===le?Z[Se][st]=Le:Z[Se][st]=Le.clone().lerp(X,st/fe)}for(let Se=0;Se<le;Se++)for(let Le=0;Le<2*(le-Se)-1;Le++){const X=Math.floor(Le/2);Le%2===0?(P(Z[Se][X+1]),P(Z[Se+1][X]),P(Z[Se][X])):(P(Z[Se][X+1]),P(Z[Se+1][X+1]),P(Z[Se+1][X]))}}function _(j){const T=new Je;for(let Y=0;Y<s.length;Y+=3)T.x=s[Y+0],T.y=s[Y+1],T.z=s[Y+2],T.normalize().multiplyScalar(j),s[Y+0]=T.x,s[Y+1]=T.y,s[Y+2]=T.z}function b(){const j=new Je;for(let T=0;T<s.length;T+=3){j.x=s[T+0],j.y=s[T+1],j.z=s[T+2];const Y=D(j)/2/Math.PI+.5,ce=I(j)/Math.PI+.5;c.push(Y,1-ce)}F(),A()}function A(){for(let j=0;j<c.length;j+=6){const T=c[j+0],Y=c[j+2],ce=c[j+4],le=Math.max(T,Y,ce),Z=Math.min(T,Y,ce);le>.9&&Z<.1&&(T<.2&&(c[j+0]+=1),Y<.2&&(c[j+2]+=1),ce<.2&&(c[j+4]+=1))}}function P(j){s.push(j.x,j.y,j.z)}function N(j,T){const Y=j*3;T.x=e[Y+0],T.y=e[Y+1],T.z=e[Y+2]}function F(){const j=new Je,T=new Je,Y=new Je,ce=new Je,le=new Vn,Z=new Vn,Se=new Vn;for(let Le=0,X=0;Le<s.length;Le+=9,X+=6){j.set(s[Le+0],s[Le+1],s[Le+2]),T.set(s[Le+3],s[Le+4],s[Le+5]),Y.set(s[Le+6],s[Le+7],s[Le+8]),le.set(c[X+0],c[X+1]),Z.set(c[X+2],c[X+3]),Se.set(c[X+4],c[X+5]),ce.copy(j).add(T).add(Y).divideScalar(3);const fe=D(ce);K(le,X+0,j,fe),K(Z,X+2,T,fe),K(Se,X+4,Y,fe)}}function K(j,T,Y,ce){ce<0&&j.x===1&&(c[T]=j.x-1),Y.x===0&&Y.z===0&&(c[T]=ce/2/Math.PI+.5)}function D(j){return Math.atan2(j.z,-j.x)}function I(j){return Math.atan2(-j.y,Math.sqrt(j.x*j.x+j.z*j.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ox(e.vertices,e.indices,e.radius,e.details)}}class jF extends ox{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,o=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-r,0,-o,r,0,o,-r,0,o,r,-o,-r,0,-o,r,0,o,-r,0,o,r,0,-r,0,-o,r,0,-o,-r,0,o,r,0,o],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,c,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jF(e.radius,e.detail)}}const m5=new Je,g5=new Je,NG=new Je,v5=new Am;class EEe extends po{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const o=Math.pow(10,4),s=Math.cos(Nb*t),c=e.getIndex(),d=e.getAttribute("position"),g=c?c.count:d.count,_=[0,0,0],b=["a","b","c"],A=new Array(3),P={},N=[];for(let F=0;F<g;F+=3){c?(_[0]=c.getX(F),_[1]=c.getX(F+1),_[2]=c.getX(F+2)):(_[0]=F,_[1]=F+1,_[2]=F+2);const{a:K,b:D,c:I}=v5;if(K.fromBufferAttribute(d,_[0]),D.fromBufferAttribute(d,_[1]),I.fromBufferAttribute(d,_[2]),v5.getNormal(NG),A[0]=`${Math.round(K.x*o)},${Math.round(K.y*o)},${Math.round(K.z*o)}`,A[1]=`${Math.round(D.x*o)},${Math.round(D.y*o)},${Math.round(D.z*o)}`,A[2]=`${Math.round(I.x*o)},${Math.round(I.y*o)},${Math.round(I.z*o)}`,!(A[0]===A[1]||A[1]===A[2]||A[2]===A[0]))for(let j=0;j<3;j++){const T=(j+1)%3,Y=A[j],ce=A[T],le=v5[b[j]],Z=v5[b[T]],Se=`${Y}_${ce}`,Le=`${ce}_${Y}`;Le in P&&P[Le]?(NG.dot(P[Le].normal)<=s&&(N.push(le.x,le.y,le.z),N.push(Z.x,Z.y,Z.z)),P[Le]=null):Se in P||(P[Se]={index0:_[j],index1:_[T],normal:NG.clone()})}}for(const F in P)if(P[F]){const{index0:K,index1:D}=P[F];m5.fromBufferAttribute(d,K),g5.fromBufferAttribute(d,D),N.push(m5.x,m5.y,m5.z),N.push(g5.x,g5.y,g5.z)}this.setAttribute("position",new Ei(N,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Lb extends OR{constructor(e){super(e),this.uuid=Pm(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,o=this.holes.length;r<o;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const o=e.holes[t];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const o=this.holes[t];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const o=e.holes[t];this.holes.push(new OR().fromJSON(o))}return this}}const H9e={triangulate:function(n,e,t=2){const r=e&&e.length,o=r?e[0]*t:n.length;let s=AEe(n,0,o,t,!0);const c=[];if(!s||s.next===s.prev)return c;let d,g,_,b,A,P,N;if(r&&(s=K9e(n,e,s,t)),n.length>80*t){d=_=n[0],g=b=n[1];for(let F=t;F<o;F+=t)A=n[F],P=n[F+1],A<d&&(d=A),P<g&&(g=P),A>_&&(_=A),P>b&&(b=P);N=Math.max(_-d,b-g),N=N!==0?32767/N:0}return BR(s,c,t,d,g,N,0),c}};function AEe(n,e,t,r,o){let s,c;if(o===ije(n,e,t,r)>0)for(s=e;s<t;s+=r)c=Hye(s,n[s],n[s+1],c);else for(s=t-r;s>=e;s-=r)c=Hye(s,n[s],n[s+1],c);return c&&HF(c,c.next)&&(NR(c),c=c.next),c}function qb(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(HF(t,t.next)||nu(t.prev,t,t.next)===0)){if(NR(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function BR(n,e,t,r,o,s,c){if(!n)return;!c&&s&&Z9e(n,r,o,s);let d=n,g,_;for(;n.prev!==n.next;){if(g=n.prev,_=n.next,s?V9e(n,r,o,s):G9e(n)){e.push(g.i/t|0),e.push(n.i/t|0),e.push(_.i/t|0),NR(n),n=_.next,d=_.next;continue}if(n=_,n===d){c?c===1?(n=W9e(qb(n),e,t),BR(n,e,t,r,o,s,2)):c===2&&X9e(n,e,t,r,o,s):BR(qb(n),e,t,r,o,s,1);break}}}function G9e(n){const e=n.prev,t=n,r=n.next;if(nu(e,t,r)>=0)return!1;const o=e.x,s=t.x,c=r.x,d=e.y,g=t.y,_=r.y,b=o<s?o<c?o:c:s<c?s:c,A=d<g?d<_?d:_:g<_?g:_,P=o>s?o>c?o:c:s>c?s:c,N=d>g?d>_?d:_:g>_?g:_;let F=r.next;for(;F!==e;){if(F.x>=b&&F.x<=P&&F.y>=A&&F.y<=N&&aM(o,d,s,g,c,_,F.x,F.y)&&nu(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function V9e(n,e,t,r){const o=n.prev,s=n,c=n.next;if(nu(o,s,c)>=0)return!1;const d=o.x,g=s.x,_=c.x,b=o.y,A=s.y,P=c.y,N=d<g?d<_?d:_:g<_?g:_,F=b<A?b<P?b:P:A<P?A:P,K=d>g?d>_?d:_:g>_?g:_,D=b>A?b>P?b:P:A>P?A:P,I=uX(N,F,e,t,r),j=uX(K,D,e,t,r);let T=n.prevZ,Y=n.nextZ;for(;T&&T.z>=I&&Y&&Y.z<=j;){if(T.x>=N&&T.x<=K&&T.y>=F&&T.y<=D&&T!==o&&T!==c&&aM(d,b,g,A,_,P,T.x,T.y)&&nu(T.prev,T,T.next)>=0||(T=T.prevZ,Y.x>=N&&Y.x<=K&&Y.y>=F&&Y.y<=D&&Y!==o&&Y!==c&&aM(d,b,g,A,_,P,Y.x,Y.y)&&nu(Y.prev,Y,Y.next)>=0))return!1;Y=Y.nextZ}for(;T&&T.z>=I;){if(T.x>=N&&T.x<=K&&T.y>=F&&T.y<=D&&T!==o&&T!==c&&aM(d,b,g,A,_,P,T.x,T.y)&&nu(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;Y&&Y.z<=j;){if(Y.x>=N&&Y.x<=K&&Y.y>=F&&Y.y<=D&&Y!==o&&Y!==c&&aM(d,b,g,A,_,P,Y.x,Y.y)&&nu(Y.prev,Y,Y.next)>=0)return!1;Y=Y.nextZ}return!0}function W9e(n,e,t){let r=n;do{const o=r.prev,s=r.next.next;!HF(o,s)&&CEe(o,r,r.next,s)&&DR(o,s)&&DR(s,o)&&(e.push(o.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),NR(r),NR(r.next),r=n=s),r=r.next}while(r!==n);return qb(r)}function X9e(n,e,t,r,o,s){let c=n;do{let d=c.next.next;for(;d!==c.prev;){if(c.i!==d.i&&tje(c,d)){let g=MEe(c,d);c=qb(c,c.next),g=qb(g,g.next),BR(c,e,t,r,o,s,0),BR(g,e,t,r,o,s,0);return}d=d.next}c=c.next}while(c!==n)}function K9e(n,e,t,r){const o=[];let s,c,d,g,_;for(s=0,c=e.length;s<c;s++)d=e[s]*r,g=s<c-1?e[s+1]*r:n.length,_=AEe(n,d,g,r,!1),_===_.next&&(_.steiner=!0),o.push(eje(_));for(o.sort(Y9e),s=0;s<o.length;s++)t=q9e(o[s],t);return t}function Y9e(n,e){return n.x-e.x}function q9e(n,e){const t=Q9e(n,e);if(!t)return e;const r=MEe(t,n);return qb(r,r.next),qb(t,t.next)}function Q9e(n,e){let t=e,r=-1/0,o;const s=n.x,c=n.y;do{if(c<=t.y&&c>=t.next.y&&t.next.y!==t.y){const P=t.x+(c-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(P<=s&&P>r&&(r=P,o=t.x<t.next.x?t:t.next,P===s))return o}t=t.next}while(t!==e);if(!o)return null;const d=o,g=o.x,_=o.y;let b=1/0,A;t=o;do s>=t.x&&t.x>=g&&s!==t.x&&aM(c<_?s:r,c,g,_,c<_?r:s,c,t.x,t.y)&&(A=Math.abs(c-t.y)/(s-t.x),DR(t,n)&&(A<b||A===b&&(t.x>o.x||t.x===o.x&&J9e(o,t)))&&(o=t,b=A)),t=t.next;while(t!==d);return o}function J9e(n,e){return nu(n.prev,n,e.prev)<0&&nu(e.next,n,n.next)<0}function Z9e(n,e,t,r){let o=n;do o.z===0&&(o.z=uX(o.x,o.y,e,t,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==n);o.prevZ.nextZ=null,o.prevZ=null,$9e(o)}function $9e(n){let e,t,r,o,s,c,d,g,_=1;do{for(t=n,n=null,s=null,c=0;t;){for(c++,r=t,d=0,e=0;e<_&&(d++,r=r.nextZ,!!r);e++);for(g=_;d>0||g>0&&r;)d!==0&&(g===0||!r||t.z<=r.z)?(o=t,t=t.nextZ,d--):(o=r,r=r.nextZ,g--),s?s.nextZ=o:n=o,o.prevZ=s,s=o;t=r}s.nextZ=null,_*=2}while(c>1);return n}function uX(n,e,t,r,o){return n=(n-t)*o|0,e=(e-r)*o|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function eje(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function aM(n,e,t,r,o,s,c,d){return(o-c)*(e-d)>=(n-c)*(s-d)&&(n-c)*(r-d)>=(t-c)*(e-d)&&(t-c)*(s-d)>=(o-c)*(r-d)}function tje(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!nje(n,e)&&(DR(n,e)&&DR(e,n)&&rje(n,e)&&(nu(n.prev,n,e.prev)||nu(n,e.prev,e))||HF(n,e)&&nu(n.prev,n,n.next)>0&&nu(e.prev,e,e.next)>0)}function nu(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function HF(n,e){return n.x===e.x&&n.y===e.y}function CEe(n,e,t,r){const o=_5(nu(n,e,t)),s=_5(nu(n,e,r)),c=_5(nu(t,r,n)),d=_5(nu(t,r,e));return!!(o!==s&&c!==d||o===0&&y5(n,t,e)||s===0&&y5(n,r,e)||c===0&&y5(t,n,r)||d===0&&y5(t,e,r))}function y5(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function _5(n){return n>0?1:n<0?-1:0}function nje(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&CEe(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function DR(n,e){return nu(n.prev,n,n.next)<0?nu(n,e,n.next)>=0&&nu(n,n.prev,e)>=0:nu(n,e,n.prev)<0||nu(n,n.next,e)<0}function rje(n,e){let t=n,r=!1;const o=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&o<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function MEe(n,e){const t=new cX(n.i,n.x,n.y),r=new cX(e.i,e.x,e.y),o=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=o,o.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Hye(n,e,t,r){const o=new cX(n,e,t);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function NR(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function cX(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ije(n,e,t,r){let o=0;for(let s=e,c=t-r;s<t;s+=r)o+=(n[c]-n[s])*(n[s+1]+n[c+1]),c=s;return o}class V0{static area(e){const t=e.length;let r=0;for(let o=t-1,s=0;s<t;o=s++)r+=e[o].x*e[s].y-e[s].x*e[o].y;return r*.5}static isClockWise(e){return V0.area(e)<0}static triangulateShape(e,t){const r=[],o=[],s=[];Gye(e),Vye(r,e);let c=e.length;t.forEach(Gye);for(let g=0;g<t.length;g++)o.push(c),c+=t[g].length,Vye(r,t[g]);const d=H9e.triangulate(r,o);for(let g=0;g<d.length;g+=3)s.push(d.slice(g,g+3));return s}}function Gye(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Vye(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class GF extends po{constructor(e=new Lb([new Vn(.5,.5),new Vn(-.5,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,o=[],s=[];for(let d=0,g=e.length;d<g;d++){const _=e[d];c(_)}this.setAttribute("position",new Ei(o,3)),this.setAttribute("uv",new Ei(s,2)),this.computeVertexNormals();function c(d){const g=[],_=t.curveSegments!==void 0?t.curveSegments:12,b=t.steps!==void 0?t.steps:1,A=t.depth!==void 0?t.depth:1;let P=t.bevelEnabled!==void 0?t.bevelEnabled:!0,N=t.bevelThickness!==void 0?t.bevelThickness:.2,F=t.bevelSize!==void 0?t.bevelSize:N-.1,K=t.bevelOffset!==void 0?t.bevelOffset:0,D=t.bevelSegments!==void 0?t.bevelSegments:3;const I=t.extrudePath,j=t.UVGenerator!==void 0?t.UVGenerator:oje;let T,Y=!1,ce,le,Z,Se;I&&(T=I.getSpacedPoints(b),Y=!0,P=!1,ce=I.computeFrenetFrames(b,!1),le=new Je,Z=new Je,Se=new Je),P||(D=0,N=0,F=0,K=0);const Le=d.extractPoints(_);let X=Le.shape;const fe=Le.holes;if(!V0.isClockWise(X)){X=X.reverse();for(let Ze=0,nn=fe.length;Ze<nn;Ze++){const jt=fe[Ze];V0.isClockWise(jt)&&(fe[Ze]=jt.reverse())}}const Ue=V0.triangulateShape(X,fe),Me=X;for(let Ze=0,nn=fe.length;Ze<nn;Ze++){const jt=fe[Ze];X=X.concat(jt)}function be(Ze,nn,jt){return nn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ze.clone().addScaledVector(nn,jt)}const Ke=X.length,Ye=Ue.length;function de(Ze,nn,jt){let fn,cn,Dn;const Qn=Ze.x-nn.x,nr=Ze.y-nn.y,Tr=jt.x-Ze.x,ct=jt.y-Ze.y,Ne=Qn*Qn+nr*nr,rn=Qn*ct-nr*Tr;if(Math.abs(rn)>Number.EPSILON){const Dt=Math.sqrt(Ne),Pn=Math.sqrt(Tr*Tr+ct*ct),Wn=nn.x-nr/Dt,ei=nn.y+Qn/Dt,jr=jt.x-ct/Pn,Yn=jt.y+Tr/Pn,vr=((jr-Wn)*ct-(Yn-ei)*Tr)/(Qn*ct-nr*Tr);fn=Wn+Qn*vr-Ze.x,cn=ei+nr*vr-Ze.y;const Mt=fn*fn+cn*cn;if(Mt<=2)return new Vn(fn,cn);Dn=Math.sqrt(Mt/2)}else{let Dt=!1;Qn>Number.EPSILON?Tr>Number.EPSILON&&(Dt=!0):Qn<-Number.EPSILON?Tr<-Number.EPSILON&&(Dt=!0):Math.sign(nr)===Math.sign(ct)&&(Dt=!0),Dt?(fn=-nr,cn=Qn,Dn=Math.sqrt(Ne)):(fn=Qn,cn=nr,Dn=Math.sqrt(Ne/2))}return new Vn(fn/Dn,cn/Dn)}const ve=[];for(let Ze=0,nn=Me.length,jt=nn-1,fn=Ze+1;Ze<nn;Ze++,jt++,fn++)jt===nn&&(jt=0),fn===nn&&(fn=0),ve[Ze]=de(Me[Ze],Me[jt],Me[fn]);const ye=[];let _e,ge=ve.concat();for(let Ze=0,nn=fe.length;Ze<nn;Ze++){const jt=fe[Ze];_e=[];for(let fn=0,cn=jt.length,Dn=cn-1,Qn=fn+1;fn<cn;fn++,Dn++,Qn++)Dn===cn&&(Dn=0),Qn===cn&&(Qn=0),_e[fn]=de(jt[fn],jt[Dn],jt[Qn]);ye.push(_e),ge=ge.concat(_e)}for(let Ze=0;Ze<D;Ze++){const nn=Ze/D,jt=N*Math.cos(nn*Math.PI/2),fn=F*Math.sin(nn*Math.PI/2)+K;for(let cn=0,Dn=Me.length;cn<Dn;cn++){const Qn=be(Me[cn],ve[cn],fn);zt(Qn.x,Qn.y,-jt)}for(let cn=0,Dn=fe.length;cn<Dn;cn++){const Qn=fe[cn];_e=ye[cn];for(let nr=0,Tr=Qn.length;nr<Tr;nr++){const ct=be(Qn[nr],_e[nr],fn);zt(ct.x,ct.y,-jt)}}}const dt=F+K;for(let Ze=0;Ze<Ke;Ze++){const nn=P?be(X[Ze],ge[Ze],dt):X[Ze];Y?(Z.copy(ce.normals[0]).multiplyScalar(nn.x),le.copy(ce.binormals[0]).multiplyScalar(nn.y),Se.copy(T[0]).add(Z).add(le),zt(Se.x,Se.y,Se.z)):zt(nn.x,nn.y,0)}for(let Ze=1;Ze<=b;Ze++)for(let nn=0;nn<Ke;nn++){const jt=P?be(X[nn],ge[nn],dt):X[nn];Y?(Z.copy(ce.normals[Ze]).multiplyScalar(jt.x),le.copy(ce.binormals[Ze]).multiplyScalar(jt.y),Se.copy(T[Ze]).add(Z).add(le),zt(Se.x,Se.y,Se.z)):zt(jt.x,jt.y,A/b*Ze)}for(let Ze=D-1;Ze>=0;Ze--){const nn=Ze/D,jt=N*Math.cos(nn*Math.PI/2),fn=F*Math.sin(nn*Math.PI/2)+K;for(let cn=0,Dn=Me.length;cn<Dn;cn++){const Qn=be(Me[cn],ve[cn],fn);zt(Qn.x,Qn.y,A+jt)}for(let cn=0,Dn=fe.length;cn<Dn;cn++){const Qn=fe[cn];_e=ye[cn];for(let nr=0,Tr=Qn.length;nr<Tr;nr++){const ct=be(Qn[nr],_e[nr],fn);Y?zt(ct.x,ct.y+T[b-1].y,T[b-1].x+jt):zt(ct.x,ct.y,A+jt)}}}qe(),_t();function qe(){const Ze=o.length/3;if(P){let nn=0,jt=Ke*nn;for(let fn=0;fn<Ye;fn++){const cn=Ue[fn];Lt(cn[2]+jt,cn[1]+jt,cn[0]+jt)}nn=b+D*2,jt=Ke*nn;for(let fn=0;fn<Ye;fn++){const cn=Ue[fn];Lt(cn[0]+jt,cn[1]+jt,cn[2]+jt)}}else{for(let nn=0;nn<Ye;nn++){const jt=Ue[nn];Lt(jt[2],jt[1],jt[0])}for(let nn=0;nn<Ye;nn++){const jt=Ue[nn];Lt(jt[0]+Ke*b,jt[1]+Ke*b,jt[2]+Ke*b)}}r.addGroup(Ze,o.length/3-Ze,0)}function _t(){const Ze=o.length/3;let nn=0;Qe(Me,nn),nn+=Me.length;for(let jt=0,fn=fe.length;jt<fn;jt++){const cn=fe[jt];Qe(cn,nn),nn+=cn.length}r.addGroup(Ze,o.length/3-Ze,1)}function Qe(Ze,nn){let jt=Ze.length;for(;--jt>=0;){const fn=jt;let cn=jt-1;cn<0&&(cn=Ze.length-1);for(let Dn=0,Qn=b+D*2;Dn<Qn;Dn++){const nr=Ke*Dn,Tr=Ke*(Dn+1),ct=nn+fn+nr,Ne=nn+cn+nr,rn=nn+cn+Tr,Dt=nn+fn+Tr;Kt(ct,Ne,rn,Dt)}}}function zt(Ze,nn,jt){g.push(Ze),g.push(nn),g.push(jt)}function Lt(Ze,nn,jt){ln(Ze),ln(nn),ln(jt);const fn=o.length/3,cn=j.generateTopUV(r,o,fn-3,fn-2,fn-1);bn(cn[0]),bn(cn[1]),bn(cn[2])}function Kt(Ze,nn,jt,fn){ln(Ze),ln(nn),ln(fn),ln(nn),ln(jt),ln(fn);const cn=o.length/3,Dn=j.generateSideWallUV(r,o,cn-6,cn-3,cn-2,cn-1);bn(Dn[0]),bn(Dn[1]),bn(Dn[3]),bn(Dn[1]),bn(Dn[2]),bn(Dn[3])}function ln(Ze){o.push(g[Ze*3+0]),o.push(g[Ze*3+1]),o.push(g[Ze*3+2])}function bn(Ze){s.push(Ze.x),s.push(Ze.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return sje(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,c=e.shapes.length;s<c;s++){const d=t[e.shapes[s]];r.push(d)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new HL[o.type]().fromJSON(o)),new GF(r,e.options)}}const oje={generateTopUV:function(n,e,t,r,o){const s=e[t*3],c=e[t*3+1],d=e[r*3],g=e[r*3+1],_=e[o*3],b=e[o*3+1];return[new Vn(s,c),new Vn(d,g),new Vn(_,b)]},generateSideWallUV:function(n,e,t,r,o,s){const c=e[t*3],d=e[t*3+1],g=e[t*3+2],_=e[r*3],b=e[r*3+1],A=e[r*3+2],P=e[o*3],N=e[o*3+1],F=e[o*3+2],K=e[s*3],D=e[s*3+1],I=e[s*3+2];return Math.abs(d-b)<Math.abs(c-_)?[new Vn(c,1-g),new Vn(_,1-A),new Vn(P,1-F),new Vn(K,1-I)]:[new Vn(d,1-g),new Vn(b,1-A),new Vn(N,1-F),new Vn(D,1-I)]}};function sje(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,o=n.length;r<o;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class a3 extends ox{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,o=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(o,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new a3(e.radius,e.detail)}}class Tg extends ox{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,o,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tg(e.radius,e.detail)}}class VF extends po{constructor(e=.5,t=1,r=32,o=1,s=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:o,thetaStart:s,thetaLength:c},r=Math.max(3,r),o=Math.max(1,o);const d=[],g=[],_=[],b=[];let A=e;const P=(t-e)/o,N=new Je,F=new Vn;for(let K=0;K<=o;K++){for(let D=0;D<=r;D++){const I=s+D/r*c;N.x=A*Math.cos(I),N.y=A*Math.sin(I),g.push(N.x,N.y,N.z),_.push(0,0,1),F.x=(N.x/t+1)/2,F.y=(N.y/t+1)/2,b.push(F.x,F.y)}A+=P}for(let K=0;K<o;K++){const D=K*(r+1);for(let I=0;I<r;I++){const j=I+D,T=j,Y=j+r+1,ce=j+r+2,le=j+1;d.push(T,Y,le),d.push(Y,ce,le)}}this.setIndex(d),this.setAttribute("position",new Ei(g,3)),this.setAttribute("normal",new Ei(_,3)),this.setAttribute("uv",new Ei(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VF(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class WF extends po{constructor(e=new Lb([new Vn(0,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],o=[],s=[],c=[];let d=0,g=0;if(Array.isArray(e)===!1)_(e);else for(let b=0;b<e.length;b++)_(e[b]),this.addGroup(d,g,b),d+=g,g=0;this.setIndex(r),this.setAttribute("position",new Ei(o,3)),this.setAttribute("normal",new Ei(s,3)),this.setAttribute("uv",new Ei(c,2));function _(b){const A=o.length/3,P=b.extractPoints(t);let N=P.shape;const F=P.holes;V0.isClockWise(N)===!1&&(N=N.reverse());for(let D=0,I=F.length;D<I;D++){const j=F[D];V0.isClockWise(j)===!0&&(F[D]=j.reverse())}const K=V0.triangulateShape(N,F);for(let D=0,I=F.length;D<I;D++){const j=F[D];N=N.concat(j)}for(let D=0,I=N.length;D<I;D++){const j=N[D];o.push(j.x,j.y,0),s.push(0,0,1),c.push(j.x,j.y)}for(let D=0,I=K.length;D<I;D++){const j=K[D],T=j[0]+A,Y=j[1]+A,ce=j[2]+A;r.push(T,Y,ce),g+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return aje(t,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const c=t[e.shapes[o]];r.push(c)}return new WF(r,e.curveSegments)}}function aje(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const o=n[t];e.shapes.push(o.uuid)}else e.shapes.push(n.uuid);return e}class JM extends po{constructor(e=1,t=32,r=16,o=0,s=Math.PI*2,c=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:o,phiLength:s,thetaStart:c,thetaLength:d},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const g=Math.min(c+d,Math.PI);let _=0;const b=[],A=new Je,P=new Je,N=[],F=[],K=[],D=[];for(let I=0;I<=r;I++){const j=[],T=I/r;let Y=0;I===0&&c===0?Y=.5/t:I===r&&g===Math.PI&&(Y=-.5/t);for(let ce=0;ce<=t;ce++){const le=ce/t;A.x=-e*Math.cos(o+le*s)*Math.sin(c+T*d),A.y=e*Math.cos(c+T*d),A.z=e*Math.sin(o+le*s)*Math.sin(c+T*d),F.push(A.x,A.y,A.z),P.copy(A).normalize(),K.push(P.x,P.y,P.z),D.push(le+Y,1-T),j.push(_++)}b.push(j)}for(let I=0;I<r;I++)for(let j=0;j<t;j++){const T=b[I][j+1],Y=b[I][j],ce=b[I+1][j],le=b[I+1][j+1];(I!==0||c>0)&&N.push(T,Y,le),(I!==r-1||g<Math.PI)&&N.push(Y,ce,le)}this.setIndex(N),this.setAttribute("position",new Ei(F,3)),this.setAttribute("normal",new Ei(K,3)),this.setAttribute("uv",new Ei(D,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class XF extends ox{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,o,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XF(e.radius,e.detail)}}class Iw extends po{constructor(e=1,t=.4,r=12,o=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:o,arc:s},r=Math.floor(r),o=Math.floor(o);const c=[],d=[],g=[],_=[],b=new Je,A=new Je,P=new Je;for(let N=0;N<=r;N++)for(let F=0;F<=o;F++){const K=F/o*s,D=N/r*Math.PI*2;A.x=(e+t*Math.cos(D))*Math.cos(K),A.y=(e+t*Math.cos(D))*Math.sin(K),A.z=t*Math.sin(D),d.push(A.x,A.y,A.z),b.x=e*Math.cos(K),b.y=e*Math.sin(K),P.subVectors(A,b).normalize(),g.push(P.x,P.y,P.z),_.push(F/o),_.push(N/r)}for(let N=1;N<=r;N++)for(let F=1;F<=o;F++){const K=(o+1)*N+F-1,D=(o+1)*(N-1)+F-1,I=(o+1)*(N-1)+F,j=(o+1)*N+F;c.push(K,D,j),c.push(D,I,j)}this.setIndex(c),this.setAttribute("position",new Ei(d,3)),this.setAttribute("normal",new Ei(g,3)),this.setAttribute("uv",new Ei(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class KF extends po{constructor(e=1,t=.4,r=64,o=8,s=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:o,p:s,q:c},r=Math.floor(r),o=Math.floor(o);const d=[],g=[],_=[],b=[],A=new Je,P=new Je,N=new Je,F=new Je,K=new Je,D=new Je,I=new Je;for(let T=0;T<=r;++T){const Y=T/r*s*Math.PI*2;j(Y,s,c,e,N),j(Y+.01,s,c,e,F),D.subVectors(F,N),I.addVectors(F,N),K.crossVectors(D,I),I.crossVectors(K,D),K.normalize(),I.normalize();for(let ce=0;ce<=o;++ce){const le=ce/o*Math.PI*2,Z=-t*Math.cos(le),Se=t*Math.sin(le);A.x=N.x+(Z*I.x+Se*K.x),A.y=N.y+(Z*I.y+Se*K.y),A.z=N.z+(Z*I.z+Se*K.z),g.push(A.x,A.y,A.z),P.subVectors(A,N).normalize(),_.push(P.x,P.y,P.z),b.push(T/r),b.push(ce/o)}}for(let T=1;T<=r;T++)for(let Y=1;Y<=o;Y++){const ce=(o+1)*(T-1)+(Y-1),le=(o+1)*T+(Y-1),Z=(o+1)*T+Y,Se=(o+1)*(T-1)+Y;d.push(ce,le,Se),d.push(le,Z,Se)}this.setIndex(d),this.setAttribute("position",new Ei(g,3)),this.setAttribute("normal",new Ei(_,3)),this.setAttribute("uv",new Ei(b,2));function j(T,Y,ce,le,Z){const Se=Math.cos(T),Le=Math.sin(T),X=ce/Y*T,fe=Math.cos(X);Z.x=le*(2+fe)*.5*Se,Z.y=le*(2+fe)*Le*.5,Z.z=le*Math.sin(X)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KF(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class YF extends po{constructor(e=new dY(new Je(-1,-1,0),new Je(-1,1,0),new Je(1,1,0)),t=64,r=1,o=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:o,closed:s};const c=e.computeFrenetFrames(t,s);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const d=new Je,g=new Je,_=new Vn;let b=new Je;const A=[],P=[],N=[],F=[];K(),this.setIndex(F),this.setAttribute("position",new Ei(A,3)),this.setAttribute("normal",new Ei(P,3)),this.setAttribute("uv",new Ei(N,2));function K(){for(let T=0;T<t;T++)D(T);D(s===!1?t:0),j(),I()}function D(T){b=e.getPointAt(T/t,b);const Y=c.normals[T],ce=c.binormals[T];for(let le=0;le<=o;le++){const Z=le/o*Math.PI*2,Se=Math.sin(Z),Le=-Math.cos(Z);g.x=Le*Y.x+Se*ce.x,g.y=Le*Y.y+Se*ce.y,g.z=Le*Y.z+Se*ce.z,g.normalize(),P.push(g.x,g.y,g.z),d.x=b.x+r*g.x,d.y=b.y+r*g.y,d.z=b.z+r*g.z,A.push(d.x,d.y,d.z)}}function I(){for(let T=1;T<=t;T++)for(let Y=1;Y<=o;Y++){const ce=(o+1)*(T-1)+(Y-1),le=(o+1)*T+(Y-1),Z=(o+1)*T+Y,Se=(o+1)*(T-1)+Y;F.push(ce,le,Se),F.push(le,Z,Se)}}function j(){for(let T=0;T<=t;T++)for(let Y=0;Y<=o;Y++)_.x=T/t,_.y=Y/o,N.push(_.x,_.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new YF(new HL[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class TEe extends po{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,o=new Je,s=new Je;if(e.index!==null){const c=e.attributes.position,d=e.index;let g=e.groups;g.length===0&&(g=[{start:0,count:d.count,materialIndex:0}]);for(let _=0,b=g.length;_<b;++_){const A=g[_],P=A.start,N=A.count;for(let F=P,K=P+N;F<K;F+=3)for(let D=0;D<3;D++){const I=d.getX(F+D),j=d.getX(F+(D+1)%3);o.fromBufferAttribute(c,I),s.fromBufferAttribute(c,j),Wye(o,s,r)===!0&&(t.push(o.x,o.y,o.z),t.push(s.x,s.y,s.z))}}}else{const c=e.attributes.position;for(let d=0,g=c.count/3;d<g;d++)for(let _=0;_<3;_++){const b=3*d+_,A=3*d+(_+1)%3;o.fromBufferAttribute(c,b),s.fromBufferAttribute(c,A),Wye(o,s,r)===!0&&(t.push(o.x,o.y,o.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ei(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Wye(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,o=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(o)===!0?!1:(t.add(r),t.add(o),!0)}var Xye=Object.freeze({__proto__:null,BoxGeometry:Fp,CapsuleGeometry:FF,CircleGeometry:zF,ConeGeometry:UF,CylinderGeometry:vd,DodecahedronGeometry:jF,EdgesGeometry:EEe,ExtrudeGeometry:GF,IcosahedronGeometry:a3,LatheGeometry:s3,OctahedronGeometry:Tg,PlaneGeometry:Up,PolyhedronGeometry:ox,RingGeometry:VF,ShapeGeometry:WF,SphereGeometry:JM,TetrahedronGeometry:XF,TorusGeometry:Iw,TorusKnotGeometry:KF,TubeGeometry:YF,WireframeGeometry:TEe});class PEe extends ec{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Dr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kEe extends Im{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class l3 extends ec{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Dr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tp,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q0 extends l3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pu(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Dr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Dr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Dr(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pY extends ec{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Dr(16777215),this.specular=new Dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tp,this.combine=e3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IEe extends ec{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Dr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class REe extends ec{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class OEe extends ec{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tp,this.combine=e3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BEe extends ec{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Dr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ix,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DEe extends Ed{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ib(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function NEe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function LEe(n){function e(o,s){return n[o]-n[s]}const t=n.length,r=new Array(t);for(let o=0;o!==t;++o)r[o]=o;return r.sort(e),r}function fX(n,e,t){const r=n.length,o=new n.constructor(r);for(let s=0,c=0;c!==r;++s){const d=t[s]*e;for(let g=0;g!==e;++g)o[c++]=n[d+g]}return o}function mY(n,e,t,r){let o=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[o++];if(s===void 0)return;let c=s[r];if(c!==void 0)if(Array.isArray(c))do c=s[r],c!==void 0&&(e.push(s.time),t.push.apply(t,c)),s=n[o++];while(s!==void 0);else if(c.toArray!==void 0)do c=s[r],c!==void 0&&(e.push(s.time),c.toArray(t,t.length)),s=n[o++];while(s!==void 0);else do c=s[r],c!==void 0&&(e.push(s.time),t.push(c)),s=n[o++];while(s!==void 0)}function lje(n,e,t,r,o=30){const s=n.clone();s.name=e;const c=[];for(let g=0;g<s.tracks.length;++g){const _=s.tracks[g],b=_.getValueSize(),A=[],P=[];for(let N=0;N<_.times.length;++N){const F=_.times[N]*o;if(!(F<t||F>=r)){A.push(_.times[N]);for(let K=0;K<b;++K)P.push(_.values[N*b+K])}}A.length!==0&&(_.times=Ib(A,_.times.constructor),_.values=Ib(P,_.values.constructor),c.push(_))}s.tracks=c;let d=1/0;for(let g=0;g<s.tracks.length;++g)d>s.tracks[g].times[0]&&(d=s.tracks[g].times[0]);for(let g=0;g<s.tracks.length;++g)s.tracks[g].shift(-1*d);return s.resetDuration(),s}function uje(n,e=0,t=n,r=30){r<=0&&(r=30);const o=t.tracks.length,s=e/r;for(let c=0;c<o;++c){const d=t.tracks[c],g=d.ValueTypeName;if(g==="bool"||g==="string")continue;const _=n.tracks.find(function(I){return I.name===d.name&&I.ValueTypeName===g});if(_===void 0)continue;let b=0;const A=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=A/3);let P=0;const N=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(P=N/3);const F=d.times.length-1;let K;if(s<=d.times[0]){const I=b,j=A-b;K=d.values.slice(I,j)}else if(s>=d.times[F]){const I=F*A+b,j=I+A-b;K=d.values.slice(I,j)}else{const I=d.createInterpolant(),j=b,T=A-b;I.evaluate(s),K=I.resultBuffer.slice(j,T)}g==="quaternion"&&new jo().fromArray(K).normalize().conjugate().toArray(K);const D=_.times.length;for(let I=0;I<D;++I){const j=I*N+P;if(g==="quaternion")jo.multiplyQuaternionsFlat(_.values,j,K,0,_.values,j);else{const T=N-P*2;for(let Y=0;Y<T;++Y)_.values[j+Y]-=K[Y]}}}return n.blendMode=WK,n}const cje={convertArray:Ib,isTypedArray:NEe,getKeyframeOrder:LEe,sortedArray:fX,flattenJSON:mY,subclip:lje,makeClipAdditive:uje};class ZM{constructor(e,t,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,o=t[r],s=t[r-1];e:{t:{let c;n:{r:if(!(e<o)){for(let d=r+2;;){if(o===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===d)break;if(s=o,o=t[++r],e<o)break t}c=t.length;break n}if(!(e>=s)){const d=t[1];e<d&&(r=2,s=d);for(let g=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===g)break;if(o=s,s=t[--r-1],e>=s)break t}c=r,r=0;break n}break e}for(;r<c;){const d=r+c>>>1;e<t[d]?c=d:r=d+1}if(o=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,o)}return this.interpolate_(r,s,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=e*o;for(let c=0;c!==o;++c)t[c]=r[s+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class FEe extends ZM{constructor(e,t,r,o){super(e,t,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mb,endingEnd:Mb}}intervalChanged_(e,t,r){const o=this.parameterPositions;let s=e-2,c=e+1,d=o[s],g=o[c];if(d===void 0)switch(this.getSettings_().endingStart){case Tb:s=e,d=2*t-r;break;case CR:s=o.length-2,d=t+o[s]-o[s+1];break;default:s=e,d=r}if(g===void 0)switch(this.getSettings_().endingEnd){case Tb:c=e,g=2*r-t;break;case CR:c=1,g=r+o[1]-o[0];break;default:c=e-1,g=t}const _=(r-t)*.5,b=this.valueSize;this._weightPrev=_/(t-d),this._weightNext=_/(g-r),this._offsetPrev=s*b,this._offsetNext=c*b}interpolate_(e,t,r,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,g=e*d,_=g-d,b=this._offsetPrev,A=this._offsetNext,P=this._weightPrev,N=this._weightNext,F=(r-t)/(o-t),K=F*F,D=K*F,I=-P*D+2*P*K-P*F,j=(1+P)*D+(-1.5-2*P)*K+(-.5+P)*F+1,T=(-1-N)*D+(1.5+N)*K+.5*F,Y=N*D-N*K;for(let ce=0;ce!==d;++ce)s[ce]=I*c[b+ce]+j*c[_+ce]+T*c[g+ce]+Y*c[A+ce];return s}}class gY extends ZM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e,t,r,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,g=e*d,_=g-d,b=(r-t)/(o-t),A=1-b;for(let P=0;P!==d;++P)s[P]=c[_+P]*A+c[g+P]*b;return s}}class zEe extends ZM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xv{constructor(e,t,r,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ib(t,this.TimeBufferType),this.values=Ib(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ib(e.times,Array),values:Ib(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zEe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new FEe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case IM:t=this.InterpolantFactoryMethodDiscrete;break;case Kb:t=this.InterpolantFactoryMethodLinear;break;case sL:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return IM;case this.InterpolantFactoryMethodLinear:return Kb;case this.InterpolantFactoryMethodSmooth:return sL}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,o=t.length;r!==o;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,o=t.length;r!==o;++r)t[r]*=e}return this}trim(e,t){const r=this.times,o=r.length;let s=0,c=o-1;for(;s!==o&&r[s]<e;)++s;for(;c!==-1&&r[c]>t;)--c;if(++c,s!==0||c!==o){s>=c&&(c=Math.max(c,1),s=c-1);const d=this.getValueSize();this.times=r.slice(s,c),this.values=this.values.slice(s*d,c*d)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let d=0;d!==s;d++){const g=r[d];if(typeof g=="number"&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,g),e=!1;break}if(c!==null&&c>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,g,c),e=!1;break}c=g}if(o!==void 0&&NEe(o))for(let d=0,g=o.length;d!==g;++d){const _=o[d];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,_),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),o=this.getInterpolation()===sL,s=e.length-1;let c=1;for(let d=1;d<s;++d){let g=!1;const _=e[d],b=e[d+1];if(_!==b&&(d!==1||_!==e[0]))if(o)g=!0;else{const A=d*r,P=A-r,N=A+r;for(let F=0;F!==r;++F){const K=t[A+F];if(K!==t[P+F]||K!==t[N+F]){g=!0;break}}}if(g){if(d!==c){e[c]=e[d];const A=d*r,P=c*r;for(let N=0;N!==r;++N)t[P+N]=t[A+N]}++c}}if(s>0){e[c]=e[s];for(let d=s*r,g=c*r,_=0;_!==r;++_)t[g+_]=t[d+_];++c}return c!==e.length?(this.times=e.slice(0,c),this.values=t.slice(0,c*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,o=new r(this.name,e,t);return o.createInterpolant=this.createInterpolant,o}}Xv.prototype.TimeBufferType=Float32Array;Xv.prototype.ValueBufferType=Float32Array;Xv.prototype.DefaultInterpolation=Kb;class eE extends Xv{}eE.prototype.ValueTypeName="bool";eE.prototype.ValueBufferType=Array;eE.prototype.DefaultInterpolation=IM;eE.prototype.InterpolantFactoryMethodLinear=void 0;eE.prototype.InterpolantFactoryMethodSmooth=void 0;class vY extends Xv{}vY.prototype.ValueTypeName="color";class DM extends Xv{}DM.prototype.ValueTypeName="number";class UEe extends ZM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e,t,r,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,g=(r-t)/(o-t);let _=e*d;for(let b=_+d;_!==b;_+=4)jo.slerpFlat(s,0,c,_-d,c,_,g);return s}}class $w extends Xv{InterpolantFactoryMethodLinear(e){return new UEe(this.times,this.values,this.getValueSize(),e)}}$w.prototype.ValueTypeName="quaternion";$w.prototype.DefaultInterpolation=Kb;$w.prototype.InterpolantFactoryMethodSmooth=void 0;class tE extends Xv{}tE.prototype.ValueTypeName="string";tE.prototype.ValueBufferType=Array;tE.prototype.DefaultInterpolation=IM;tE.prototype.InterpolantFactoryMethodLinear=void 0;tE.prototype.InterpolantFactoryMethodSmooth=void 0;class NM extends Xv{}NM.prototype.ValueTypeName="vector";class LM{constructor(e,t=-1,r,o=CF){this.name=e,this.tracks=r,this.duration=t,this.blendMode=o,this.uuid=Pm(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,o=1/(e.fps||1);for(let c=0,d=r.length;c!==d;++c)t.push(dje(r[c]).scale(o));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,c=r.length;s!==c;++s)t.push(Xv.toJSON(r[s]));return o}static CreateFromMorphTargetSequence(e,t,r,o){const s=t.length,c=[];for(let d=0;d<s;d++){let g=[],_=[];g.push((d+s-1)%s,d,(d+1)%s),_.push(0,1,0);const b=LEe(g);g=fX(g,1,b),_=fX(_,1,b),!o&&g[0]===0&&(g.push(s),_.push(_[0])),c.push(new DM(".morphTargetInfluences["+t[d].name+"]",g,_).scale(1/r))}return new this(e,-1,c)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const o=e;r=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<r.length;o++)if(r[o].name===t)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const o={},s=/^([\w-]*?)([\d]+)$/;for(let d=0,g=e.length;d<g;d++){const _=e[d],b=_.name.match(s);if(b&&b.length>1){const A=b[1];let P=o[A];P||(o[A]=P=[]),P.push(_)}}const c=[];for(const d in o)c.push(this.CreateFromMorphTargetSequence(d,o[d],t,r));return c}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(A,P,N,F,K){if(N.length!==0){const D=[],I=[];mY(N,D,I,F),D.length!==0&&K.push(new A(P,D,I))}},o=[],s=e.name||"default",c=e.fps||30,d=e.blendMode;let g=e.length||-1;const _=e.hierarchy||[];for(let A=0;A<_.length;A++){const P=_[A].keys;if(!(!P||P.length===0))if(P[0].morphTargets){const N={};let F;for(F=0;F<P.length;F++)if(P[F].morphTargets)for(let K=0;K<P[F].morphTargets.length;K++)N[P[F].morphTargets[K]]=-1;for(const K in N){const D=[],I=[];for(let j=0;j!==P[F].morphTargets.length;++j){const T=P[F];D.push(T.time),I.push(T.morphTarget===K?1:0)}o.push(new DM(".morphTargetInfluence["+K+"]",D,I))}g=N.length*c}else{const N=".bones["+t[A].name+"]";r(NM,N+".position",P,"pos",o),r($w,N+".quaternion",P,"rot",o),r(NM,N+".scale",P,"scl",o)}}return o.length===0?null:new this(s,g,o,d)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,o=e.length;r!==o;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function fje(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return DM;case"vector":case"vector2":case"vector3":case"vector4":return NM;case"color":return vY;case"quaternion":return $w;case"bool":case"boolean":return eE;case"string":return tE}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function dje(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=fje(n.type);if(n.times===void 0){const t=[],r=[];mY(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const g1={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class yY{constructor(e,t,r){const o=this;let s=!1,c=0,d=0,g;const _=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(b){d++,s===!1&&o.onStart!==void 0&&o.onStart(b,c,d),s=!0},this.itemEnd=function(b){c++,o.onProgress!==void 0&&o.onProgress(b,c,d),c===d&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(b){o.onError!==void 0&&o.onError(b)},this.resolveURL=function(b){return g?g(b):b},this.setURLModifier=function(b){return g=b,this},this.addHandler=function(b,A){return _.push(b,A),this},this.removeHandler=function(b){const A=_.indexOf(b);return A!==-1&&_.splice(A,2),this},this.getHandler=function(b){for(let A=0,P=_.length;A<P;A+=2){const N=_[A],F=_[A+1];if(N.global&&(N.lastIndex=0),N.test(b))return F}return null}}}const jEe=new yY;class hh{constructor(e){this.manager=e!==void 0?e:jEe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(o,s){r.load(e,o,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}hh.DEFAULT_MATERIAL_NAME="__DEFAULT";const r1={};class hje extends Error{constructor(e,t){super(e),this.response=t}}class Rm extends hh{constructor(e){super(e)}load(e,t,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=g1.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(r1[e]!==void 0){r1[e].push({onLoad:t,onProgress:r,onError:o});return}r1[e]=[],r1[e].push({onLoad:t,onProgress:r,onError:o});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,g=this.responseType;fetch(c).then(_=>{if(_.status===200||_.status===0){if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||_.body===void 0||_.body.getReader===void 0)return _;const b=r1[e],A=_.body.getReader(),P=_.headers.get("Content-Length")||_.headers.get("X-File-Size"),N=P?parseInt(P):0,F=N!==0;let K=0;const D=new ReadableStream({start(I){j();function j(){A.read().then(({done:T,value:Y})=>{if(T)I.close();else{K+=Y.byteLength;const ce=new ProgressEvent("progress",{lengthComputable:F,loaded:K,total:N});for(let le=0,Z=b.length;le<Z;le++){const Se=b[le];Se.onProgress&&Se.onProgress(ce)}I.enqueue(Y),j()}})}}});return new Response(D)}else throw new hje(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`,_)}).then(_=>{switch(g){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(b=>new DOMParser().parseFromString(b,d));case"json":return _.json();default:if(d===void 0)return _.text();{const A=/charset="?([^;"\s]*)"?/i.exec(d),P=A&&A[1]?A[1].toLowerCase():void 0,N=new TextDecoder(P);return _.arrayBuffer().then(F=>N.decode(F))}}}).then(_=>{g1.add(e,_);const b=r1[e];delete r1[e];for(let A=0,P=b.length;A<P;A++){const N=b[A];N.onLoad&&N.onLoad(_)}}).catch(_=>{const b=r1[e];if(b===void 0)throw this.manager.itemError(e),_;delete r1[e];for(let A=0,P=b.length;A<P;A++){const N=b[A];N.onError&&N.onError(_)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class pje extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=new Rm(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{t(s.parse(JSON.parse(d)))}catch(g){o?o(g):console.error(g),s.manager.itemError(e)}},r,o)}parse(e){const t=[];for(let r=0;r<e.length;r++){const o=LM.parse(e[r]);t.push(o)}return t}}class mje extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=[],d=new NF,g=new Rm(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(s.withCredentials);let _=0;function b(A){g.load(e[A],function(P){const N=s.parse(P,!0);c[A]={width:N.width,height:N.height,format:N.format,mipmaps:N.mipmaps},_+=1,_===6&&(N.mipmapCount===1&&(d.minFilter=Xs),d.image=c,d.format=N.format,d.needsUpdate=!0,t&&t(d))},r,o)}if(Array.isArray(e))for(let A=0,P=e.length;A<P;++A)b(A);else g.load(e,function(A){const P=s.parse(A,!0);if(P.isCubemap){const N=P.mipmaps.length/P.mipmapCount;for(let F=0;F<N;F++){c[F]={mipmaps:[]};for(let K=0;K<P.mipmapCount;K++)c[F].mipmaps.push(P.mipmaps[F*P.mipmapCount+K]),c[F].format=P.format,c[F].width=P.width,c[F].height=P.height}d.image=c}else d.image.width=P.width,d.image.height=P.height,d.mipmaps=P.mipmaps;P.mipmapCount===1&&(d.minFilter=Xs),d.format=P.format,d.needsUpdate=!0,t&&t(d)},r,o);return d}}class LR extends hh{constructor(e){super(e)}load(e,t,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,c=g1.get(e);if(c!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(c),s.manager.itemEnd(e)},0),c;const d=RR("img");function g(){b(),g1.add(e,this),t&&t(this),s.manager.itemEnd(e)}function _(A){b(),o&&o(A),s.manager.itemError(e),s.manager.itemEnd(e)}function b(){d.removeEventListener("load",g,!1),d.removeEventListener("error",_,!1)}return d.addEventListener("load",g,!1),d.addEventListener("error",_,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),s.manager.itemStart(e),d.src=e,d}}class HEe extends hh{constructor(e){super(e)}load(e,t,r,o){const s=new n3;s.colorSpace=Mg;const c=new LR(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let d=0;function g(_){c.load(e[_],function(b){s.images[_]=b,d++,d===6&&(s.needsUpdate=!0,t&&t(s))},void 0,o)}for(let _=0;_<e.length;++_)g(_);return s}}class _Y extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=new Vw,d=new Rm(this.manager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(s.withCredentials),d.load(e,function(g){let _;try{_=s.parse(g)}catch(b){if(o!==void 0)o(b);else{console.error(b);return}}_.image!==void 0?c.image=_.image:_.data!==void 0&&(c.image.width=_.width,c.image.height=_.height,c.image.data=_.data),c.wrapS=_.wrapS!==void 0?_.wrapS:yd,c.wrapT=_.wrapT!==void 0?_.wrapT:yd,c.magFilter=_.magFilter!==void 0?_.magFilter:Xs,c.minFilter=_.minFilter!==void 0?_.minFilter:Xs,c.anisotropy=_.anisotropy!==void 0?_.anisotropy:1,_.colorSpace!==void 0&&(c.colorSpace=_.colorSpace),_.flipY!==void 0&&(c.flipY=_.flipY),_.format!==void 0&&(c.format=_.format),_.type!==void 0&&(c.type=_.type),_.mipmaps!==void 0&&(c.mipmaps=_.mipmaps,c.minFilter=Og),_.mipmapCount===1&&(c.minFilter=Xs),_.generateMipmaps!==void 0&&(c.generateMipmaps=_.generateMipmaps),c.needsUpdate=!0,t&&t(c,_)},r,o),c}}class GEe extends hh{constructor(e){super(e)}load(e,t,r,o){const s=new za,c=new LR(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(d){s.image=d,s.needsUpdate=!0,t!==void 0&&t(s)},r,o),s}}class sx extends Ho{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Dr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class VEe extends sx{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ho.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Dr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const LG=new Ui,Kye=new Je,Yye=new Je;class wY{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ui,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new r3,this._frameExtents=new Vn(1,1),this._viewportCount=1,this._viewports=[new Ms(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Kye.setFromMatrixPosition(e.matrixWorld),t.position.copy(Kye),Yye.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Yye),t.updateMatrixWorld(),LG.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LG),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(LG)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gje extends wY{constructor(){super(new bl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=RM*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||o!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=o,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xY extends sx{constructor(e,t,r=0,o=Math.PI/3,s=0,c=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ho.DEFAULT_UP),this.updateMatrix(),this.target=new Ho,this.distance=r,this.angle=o,this.penumbra=s,this.decay=c,this.map=null,this.shadow=new gje}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const qye=new Ui,_I=new Je,FG=new Je;class vje extends wY{constructor(){super(new bl(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vn(4,2),this._viewportCount=6,this._viewports=[new Ms(2,1,1,1),new Ms(0,1,1,1),new Ms(3,1,1,1),new Ms(1,1,1,1),new Ms(3,0,1,1),new Ms(1,0,1,1)],this._cubeDirections=[new Je(1,0,0),new Je(-1,0,0),new Je(0,0,1),new Je(0,0,-1),new Je(0,1,0),new Je(0,-1,0)],this._cubeUps=[new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,0,1),new Je(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,o=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),_I.setFromMatrixPosition(e.matrixWorld),r.position.copy(_I),FG.copy(r.position),FG.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(FG),r.updateMatrixWorld(),o.makeTranslation(-_I.x,-_I.y,-_I.z),qye.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qye)}}class SY extends sx{constructor(e,t,r=0,o=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new vje}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yje extends wY{constructor(){super(new Ng(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bY extends sx{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ho.DEFAULT_UP),this.updateMatrix(),this.target=new Ho,this.shadow=new yje}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class WEe extends sx{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class XEe extends sx{constructor(e,t,r=10,o=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class KEe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Je)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,o=e.y,s=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.282095),t.addScaledVector(c[1],.488603*o),t.addScaledVector(c[2],.488603*s),t.addScaledVector(c[3],.488603*r),t.addScaledVector(c[4],1.092548*(r*o)),t.addScaledVector(c[5],1.092548*(o*s)),t.addScaledVector(c[6],.315392*(3*s*s-1)),t.addScaledVector(c[7],1.092548*(r*s)),t.addScaledVector(c[8],.546274*(r*r-o*o)),t}getIrradianceAt(e,t){const r=e.x,o=e.y,s=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.886227),t.addScaledVector(c[1],2*.511664*o),t.addScaledVector(c[2],2*.511664*s),t.addScaledVector(c[3],2*.511664*r),t.addScaledVector(c[4],2*.429043*r*o),t.addScaledVector(c[5],2*.429043*o*s),t.addScaledVector(c[6],.743125*s*s-.247708),t.addScaledVector(c[7],2*.429043*r*s),t.addScaledVector(c[8],.429043*(r*r-o*o)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].fromArray(e,t+o*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].toArray(e,t+o*3);return e}static getBasisAt(e,t){const r=e.x,o=e.y,s=e.z;t[0]=.282095,t[1]=.488603*o,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*o,t[5]=1.092548*o*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-o*o)}}class YEe extends sx{constructor(e=new KEe,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class qF extends hh{constructor(e){super(e),this.textures={}}load(e,t,r,o){const s=this,c=new Rm(s.manager);c.setPath(s.path),c.setRequestHeader(s.requestHeader),c.setWithCredentials(s.withCredentials),c.load(e,function(d){try{t(s.parse(JSON.parse(d)))}catch(g){o?o(g):console.error(g),s.manager.itemError(e)}},r,o)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const o=qF.createMaterialFromType(e.type);if(e.uuid!==void 0&&(o.uuid=e.uuid),e.name!==void 0&&(o.name=e.name),e.color!==void 0&&o.color!==void 0&&o.color.setHex(e.color),e.roughness!==void 0&&(o.roughness=e.roughness),e.metalness!==void 0&&(o.metalness=e.metalness),e.sheen!==void 0&&(o.sheen=e.sheen),e.sheenColor!==void 0&&(o.sheenColor=new Dr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(o.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&o.emissive!==void 0&&o.emissive.setHex(e.emissive),e.specular!==void 0&&o.specular!==void 0&&o.specular.setHex(e.specular),e.specularIntensity!==void 0&&(o.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&o.specularColor!==void 0&&o.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(o.shininess=e.shininess),e.clearcoat!==void 0&&(o.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(o.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(o.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(o.transmission=e.transmission),e.thickness!==void 0&&(o.thickness=e.thickness),e.attenuationDistance!==void 0&&(o.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&o.attenuationColor!==void 0&&o.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(o.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(o.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(o.fog=e.fog),e.flatShading!==void 0&&(o.flatShading=e.flatShading),e.blending!==void 0&&(o.blending=e.blending),e.combine!==void 0&&(o.combine=e.combine),e.side!==void 0&&(o.side=e.side),e.shadowSide!==void 0&&(o.shadowSide=e.shadowSide),e.opacity!==void 0&&(o.opacity=e.opacity),e.transparent!==void 0&&(o.transparent=e.transparent),e.alphaTest!==void 0&&(o.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(o.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(o.depthFunc=e.depthFunc),e.depthTest!==void 0&&(o.depthTest=e.depthTest),e.depthWrite!==void 0&&(o.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(o.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(o.blendSrc=e.blendSrc),e.blendDst!==void 0&&(o.blendDst=e.blendDst),e.blendEquation!==void 0&&(o.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(o.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(o.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(o.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&o.blendColor!==void 0&&o.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(o.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(o.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(o.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(o.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(o.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(o.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(o.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(o.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(o.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(o.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(o.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(o.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(o.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(o.rotation=e.rotation),e.linewidth!==void 0&&(o.linewidth=e.linewidth),e.dashSize!==void 0&&(o.dashSize=e.dashSize),e.gapSize!==void 0&&(o.gapSize=e.gapSize),e.scale!==void 0&&(o.scale=e.scale),e.polygonOffset!==void 0&&(o.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(o.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(o.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(o.dithering=e.dithering),e.alphaToCoverage!==void 0&&(o.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(o.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(o.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(o.visible=e.visible),e.toneMapped!==void 0&&(o.toneMapped=e.toneMapped),e.userData!==void 0&&(o.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?o.vertexColors=e.vertexColors>0:o.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const c=e.uniforms[s];switch(o.uniforms[s]={},c.type){case"t":o.uniforms[s].value=r(c.value);break;case"c":o.uniforms[s].value=new Dr().setHex(c.value);break;case"v2":o.uniforms[s].value=new Vn().fromArray(c.value);break;case"v3":o.uniforms[s].value=new Je().fromArray(c.value);break;case"v4":o.uniforms[s].value=new Ms().fromArray(c.value);break;case"m3":o.uniforms[s].value=new ko().fromArray(c.value);break;case"m4":o.uniforms[s].value=new Ui().fromArray(c.value);break;default:o.uniforms[s].value=c.value}}if(e.defines!==void 0&&(o.defines=e.defines),e.vertexShader!==void 0&&(o.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(o.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(o.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)o.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(o.lights=e.lights),e.clipping!==void 0&&(o.clipping=e.clipping),e.size!==void 0&&(o.size=e.size),e.sizeAttenuation!==void 0&&(o.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(o.map=r(e.map)),e.matcap!==void 0&&(o.matcap=r(e.matcap)),e.alphaMap!==void 0&&(o.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(o.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(o.bumpScale=e.bumpScale),e.normalMap!==void 0&&(o.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(o.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),o.normalScale=new Vn().fromArray(s)}return e.displacementMap!==void 0&&(o.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(o.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(o.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(o.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(o.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(o.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(o.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(o.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(o.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(o.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(o.envMap=r(e.envMap)),e.envMapRotation!==void 0&&o.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(o.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(o.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(o.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(o.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(o.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(o.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(o.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(o.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(o.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(o.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(o.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(o.clearcoatNormalScale=new Vn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(o.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(o.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(o.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(o.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(o.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(o.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(o.sheenRoughnessMap=r(e.sheenRoughnessMap)),o}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:PEe,SpriteMaterial:rY,RawShaderMaterial:kEe,ShaderMaterial:Im,PointsMaterial:DF,MeshPhysicalMaterial:q0,MeshStandardMaterial:l3,MeshPhongMaterial:pY,MeshToonMaterial:IEe,MeshNormalMaterial:REe,MeshLambertMaterial:OEe,MeshDepthMaterial:tY,MeshDistanceMaterial:nY,MeshBasicMaterial:wd,MeshMatcapMaterial:BEe,LineDashedMaterial:DEe,LineBasicMaterial:Ed,Material:ec};return new t[e]}}class W0{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,o=e.length;r<o;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class qEe extends po{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class QEe extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=new Rm(s.manager);c.setPath(s.path),c.setRequestHeader(s.requestHeader),c.setWithCredentials(s.withCredentials),c.load(e,function(d){try{t(s.parse(JSON.parse(d)))}catch(g){o?o(g):console.error(g),s.manager.itemError(e)}},r,o)}parse(e){const t={},r={};function o(N,F){if(t[F]!==void 0)return t[F];const D=N.interleavedBuffers[F],I=s(N,D.buffer),j=iM(D.type,I),T=new i3(j,D.stride);return T.uuid=D.uuid,t[F]=T,T}function s(N,F){if(r[F]!==void 0)return r[F];const D=N.arrayBuffers[F],I=new Uint32Array(D).buffer;return r[F]=I,I}const c=e.isInstancedBufferGeometry?new qEe:new po,d=e.data.index;if(d!==void 0){const N=iM(d.type,d.array);c.setIndex(new Ps(N,1))}const g=e.data.attributes;for(const N in g){const F=g[N];let K;if(F.isInterleavedBufferAttribute){const D=o(e.data,F.data);K=new Zw(D,F.itemSize,F.offset,F.normalized)}else{const D=iM(F.type,F.array),I=F.isInstancedBufferAttribute?BM:Ps;K=new I(D,F.itemSize,F.normalized)}F.name!==void 0&&(K.name=F.name),F.usage!==void 0&&K.setUsage(F.usage),c.setAttribute(N,K)}const _=e.data.morphAttributes;if(_)for(const N in _){const F=_[N],K=[];for(let D=0,I=F.length;D<I;D++){const j=F[D];let T;if(j.isInterleavedBufferAttribute){const Y=o(e.data,j.data);T=new Zw(Y,j.itemSize,j.offset,j.normalized)}else{const Y=iM(j.type,j.array);T=new Ps(Y,j.itemSize,j.normalized)}j.name!==void 0&&(T.name=j.name),K.push(T)}c.morphAttributes[N]=K}e.data.morphTargetsRelative&&(c.morphTargetsRelative=!0);const A=e.data.groups||e.data.drawcalls||e.data.offsets;if(A!==void 0)for(let N=0,F=A.length;N!==F;++N){const K=A[N];c.addGroup(K.start,K.count,K.materialIndex)}const P=e.data.boundingSphere;if(P!==void 0){const N=new Je;P.center!==void 0&&N.fromArray(P.center),c.boundingSphere=new Sd(N,P.radius)}return e.name&&(c.name=e.name),e.userData&&(c.userData=e.userData),c}}class _je extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=this.path===""?W0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||c;const d=new Rm(this.manager);d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(g){let _=null;try{_=JSON.parse(g)}catch(A){o!==void 0&&o(A),console.error("THREE:ObjectLoader: Can't parse "+e+".",A.message);return}const b=_.metadata;if(b===void 0||b.type===void 0||b.type.toLowerCase()==="geometry"){o!==void 0&&o(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(_,t)},r,o)}async loadAsync(e,t){const r=this,o=this.path===""?W0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Rm(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const c=await s.loadAsync(e,t),d=JSON.parse(c),g=d.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(d)}parse(e,t){const r=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,o),c=this.parseImages(e.images,function(){t!==void 0&&t(_)}),d=this.parseTextures(e.textures,c),g=this.parseMaterials(e.materials,d),_=this.parseObject(e.object,s,g,d,r),b=this.parseSkeletons(e.skeletons,_);if(this.bindSkeletons(_,b),t!==void 0){let A=!1;for(const P in c)if(c[P].data instanceof HTMLImageElement){A=!0;break}A===!1&&t(_)}return _}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),c=this.parseTextures(e.textures,s),d=this.parseMaterials(e.materials,c),g=this.parseObject(e.object,o,d,c,t),_=this.parseSkeletons(e.skeletons,g);return this.bindSkeletons(g,_),g}parseShapes(e){const t={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const s=new Lb().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},o={};if(t.traverse(function(s){s.isBone&&(o[s.uuid]=s)}),e!==void 0)for(let s=0,c=e.length;s<c;s++){const d=new o3().fromJSON(e[s],o);r[d.uuid]=d}return r}parseGeometries(e,t){const r={};if(e!==void 0){const o=new QEe;for(let s=0,c=e.length;s<c;s++){let d;const g=e[s];switch(g.type){case"BufferGeometry":case"InstancedBufferGeometry":d=o.parse(g);break;default:g.type in Xye?d=Xye[g.type].fromJSON(g,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${g.type}"`)}d.uuid=g.uuid,g.name!==void 0&&(d.name=g.name),g.userData!==void 0&&(d.userData=g.userData),r[g.uuid]=d}}return r}parseMaterials(e,t){const r={},o={};if(e!==void 0){const s=new qF;s.setTextures(t);for(let c=0,d=e.length;c<d;c++){const g=e[c];r[g.uuid]===void 0&&(r[g.uuid]=s.parse(g)),o[g.uuid]=r[g.uuid]}}return o}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const o=e[r],s=LM.parse(o);t[s.uuid]=s}return t}parseImages(e,t){const r=this,o={};let s;function c(g){return r.manager.itemStart(g),s.load(g,function(){r.manager.itemEnd(g)},void 0,function(){r.manager.itemError(g),r.manager.itemEnd(g)})}function d(g){if(typeof g=="string"){const _=g,b=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:r.resourcePath+_;return c(b)}else return g.data?{data:iM(g.type,g.data),width:g.width,height:g.height}:null}if(e!==void 0&&e.length>0){const g=new yY(t);s=new LR(g),s.setCrossOrigin(this.crossOrigin);for(let _=0,b=e.length;_<b;_++){const A=e[_],P=A.url;if(Array.isArray(P)){const N=[];for(let F=0,K=P.length;F<K;F++){const D=P[F],I=d(D);I!==null&&(I instanceof HTMLImageElement?N.push(I):N.push(new Vw(I.data,I.width,I.height)))}o[A.uuid]=new Pb(N)}else{const N=d(A.url);o[A.uuid]=new Pb(N)}}}return o}async parseImagesAsync(e){const t=this,r={};let o;async function s(c){if(typeof c=="string"){const d=c,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:t.resourcePath+d;return await o.loadAsync(g)}else return c.data?{data:iM(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){o=new LR(this.manager),o.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const g=e[c],_=g.url;if(Array.isArray(_)){const b=[];for(let A=0,P=_.length;A<P;A++){const N=_[A],F=await s(N);F!==null&&(F instanceof HTMLImageElement?b.push(F):b.push(new Vw(F.data,F.width,F.height)))}r[g.uuid]=new Pb(b)}else{const b=await s(g.url);r[g.uuid]=new Pb(b)}}}return r}parseTextures(e,t){function r(s,c){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),c[s])}const o={};if(e!==void 0)for(let s=0,c=e.length;s<c;s++){const d=e[s];d.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',d.uuid),t[d.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",d.image);const g=t[d.image],_=g.data;let b;Array.isArray(_)?(b=new n3,_.length===6&&(b.needsUpdate=!0)):(_&&_.data?b=new Vw:b=new za,_&&(b.needsUpdate=!0)),b.source=g,b.uuid=d.uuid,d.name!==void 0&&(b.name=d.name),d.mapping!==void 0&&(b.mapping=r(d.mapping,wje)),d.channel!==void 0&&(b.channel=d.channel),d.offset!==void 0&&b.offset.fromArray(d.offset),d.repeat!==void 0&&b.repeat.fromArray(d.repeat),d.center!==void 0&&b.center.fromArray(d.center),d.rotation!==void 0&&(b.rotation=d.rotation),d.wrap!==void 0&&(b.wrapS=r(d.wrap[0],Qye),b.wrapT=r(d.wrap[1],Qye)),d.format!==void 0&&(b.format=d.format),d.internalFormat!==void 0&&(b.internalFormat=d.internalFormat),d.type!==void 0&&(b.type=d.type),d.colorSpace!==void 0&&(b.colorSpace=d.colorSpace),d.minFilter!==void 0&&(b.minFilter=r(d.minFilter,Jye)),d.magFilter!==void 0&&(b.magFilter=r(d.magFilter,Jye)),d.anisotropy!==void 0&&(b.anisotropy=d.anisotropy),d.flipY!==void 0&&(b.flipY=d.flipY),d.generateMipmaps!==void 0&&(b.generateMipmaps=d.generateMipmaps),d.premultiplyAlpha!==void 0&&(b.premultiplyAlpha=d.premultiplyAlpha),d.unpackAlignment!==void 0&&(b.unpackAlignment=d.unpackAlignment),d.compareFunction!==void 0&&(b.compareFunction=d.compareFunction),d.userData!==void 0&&(b.userData=d.userData),o[d.uuid]=b}return o}parseObject(e,t,r,o,s){let c;function d(P){return t[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",P),t[P]}function g(P){if(P!==void 0){if(Array.isArray(P)){const N=[];for(let F=0,K=P.length;F<K;F++){const D=P[F];r[D]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",D),N.push(r[D])}return N}return r[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",P),r[P]}}function _(P){return o[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",P),o[P]}let b,A;switch(e.type){case"Scene":c=new Yb,e.background!==void 0&&(Number.isInteger(e.background)?c.background=new Dr(e.background):c.background=_(e.background)),e.environment!==void 0&&(c.environment=_(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?c.fog=new OF(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(c.fog=new RF(e.fog.color,e.fog.density)),e.fog.name!==""&&(c.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(c.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(c.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&c.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&c.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":c=new bl(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(c.focus=e.focus),e.zoom!==void 0&&(c.zoom=e.zoom),e.filmGauge!==void 0&&(c.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(c.filmOffset=e.filmOffset),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"OrthographicCamera":c=new Ng(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(c.zoom=e.zoom),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"AmbientLight":c=new WEe(e.color,e.intensity);break;case"DirectionalLight":c=new bY(e.color,e.intensity);break;case"PointLight":c=new SY(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":c=new XEe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":c=new xY(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":c=new VEe(e.color,e.groundColor,e.intensity);break;case"LightProbe":c=new YEe().fromJSON(e);break;case"SkinnedMesh":b=d(e.geometry),A=g(e.material),c=new iY(b,A),e.bindMode!==void 0&&(c.bindMode=e.bindMode),e.bindMatrix!==void 0&&c.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(c.skeleton=e.skeleton);break;case"Mesh":b=d(e.geometry),A=g(e.material),c=new ni(b,A);break;case"InstancedMesh":b=d(e.geometry),A=g(e.material);const P=e.count,N=e.instanceMatrix,F=e.instanceColor;c=new oY(b,A,P),c.instanceMatrix=new BM(new Float32Array(N.array),16),F!==void 0&&(c.instanceColor=new BM(new Float32Array(F.array),F.itemSize));break;case"BatchedMesh":b=d(e.geometry),A=g(e.material),c=new yEe(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,A),c.geometry=b,c.perObjectFrustumCulled=e.perObjectFrustumCulled,c.sortObjects=e.sortObjects,c._drawRanges=e.drawRanges,c._reservedRanges=e.reservedRanges,c._visibility=e.visibility,c._active=e.active,c._bounds=e.bounds.map(K=>{const D=new ch;D.min.fromArray(K.boxMin),D.max.fromArray(K.boxMax);const I=new Sd;return I.radius=K.sphereRadius,I.center.fromArray(K.sphereCenter),{boxInitialized:K.boxInitialized,box:D,sphereInitialized:K.sphereInitialized,sphere:I}}),c._maxGeometryCount=e.maxGeometryCount,c._maxVertexCount=e.maxVertexCount,c._maxIndexCount=e.maxIndexCount,c._geometryInitialized=e.geometryInitialized,c._geometryCount=e.geometryCount,c._matricesTexture=_(e.matricesTexture.uuid);break;case"LOD":c=new vEe;break;case"Line":c=new zo(d(e.geometry),g(e.material));break;case"LineLoop":c=new sY(d(e.geometry),g(e.material));break;case"LineSegments":c=new Vv(d(e.geometry),g(e.material));break;case"PointCloud":case"Points":c=new aY(d(e.geometry),g(e.material));break;case"Sprite":c=new gEe(g(e.material));break;case"Group":c=new U0;break;case"Bone":c=new BF;break;default:c=new Ho}if(c.uuid=e.uuid,e.name!==void 0&&(c.name=e.name),e.matrix!==void 0?(c.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(c.matrixAutoUpdate=e.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(e.position!==void 0&&c.position.fromArray(e.position),e.rotation!==void 0&&c.rotation.fromArray(e.rotation),e.quaternion!==void 0&&c.quaternion.fromArray(e.quaternion),e.scale!==void 0&&c.scale.fromArray(e.scale)),e.up!==void 0&&c.up.fromArray(e.up),e.castShadow!==void 0&&(c.castShadow=e.castShadow),e.receiveShadow!==void 0&&(c.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(c.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(c.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(c.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&c.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(c.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(c.visible=e.visible),e.frustumCulled!==void 0&&(c.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(c.renderOrder=e.renderOrder),e.userData!==void 0&&(c.userData=e.userData),e.layers!==void 0&&(c.layers.mask=e.layers),e.children!==void 0){const P=e.children;for(let N=0;N<P.length;N++)c.add(this.parseObject(P[N],t,r,o,s))}if(e.animations!==void 0){const P=e.animations;for(let N=0;N<P.length;N++){const F=P[N];c.animations.push(s[F])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(c.autoUpdate=e.autoUpdate);const P=e.levels;for(let N=0;N<P.length;N++){const F=P[N],K=c.getObjectByProperty("uuid",F.object);K!==void 0&&c.addLevel(K,F.distance,F.hysteresis)}}return c}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const o=t[r.skeleton];o===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(o,r.bindMatrix)}})}}const wje={UVMapping:bF,CubeReflectionMapping:K0,CubeRefractionMapping:Qw,EquirectangularReflectionMapping:PM,EquirectangularRefractionMapping:ER,CubeUVReflectionMapping:KM},Qye={RepeatWrapping:Jw,ClampToEdgeWrapping:yd,MirroredRepeatWrapping:kM},Jye={NearestFilter:Tu,NearestMipmapNearestFilter:AR,NearestMipmapLinearFilter:Tw,LinearFilter:Xs,LinearMipmapNearestFilter:vM,LinearMipmapLinearFilter:Og};class JEe extends hh{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,c=g1.get(e);if(c!==void 0){if(s.manager.itemStart(e),c.then){c.then(_=>{t&&t(_),s.manager.itemEnd(e)}).catch(_=>{o&&o(_)});return}return setTimeout(function(){t&&t(c),s.manager.itemEnd(e)},0),c}const d={};d.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",d.headers=this.requestHeader;const g=fetch(e,d).then(function(_){return _.blob()}).then(function(_){return createImageBitmap(_,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(_){return g1.add(e,_),t&&t(_),s.manager.itemEnd(e),_}).catch(function(_){o&&o(_),g1.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});g1.add(e,g),s.manager.itemStart(e)}}let w5,EY=class{static getContext(){return w5===void 0&&(w5=new(window.AudioContext||window.webkitAudioContext)),w5}static setContext(e){w5=e}};class xje extends hh{constructor(e){super(e)}load(e,t,r,o){const s=this,c=new Rm(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(g){try{const _=g.slice(0);EY.getContext().decodeAudioData(_,function(A){t(A)}).catch(d)}catch(_){d(_)}},r,o);function d(g){o?o(g):console.error(g),s.manager.itemError(e)}}}const Zye=new Ui,$ye=new Ui,sb=new Ui;class Sje{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bl,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bl,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,sb.copy(e.projectionMatrix);const o=t.eyeSep/2,s=o*t.near/t.focus,c=t.near*Math.tan(Nb*t.fov*.5)/t.zoom;let d,g;$ye.elements[12]=-o,Zye.elements[12]=o,d=-c*t.aspect+s,g=c*t.aspect+s,sb.elements[0]=2*t.near/(g-d),sb.elements[8]=(g+d)/(g-d),this.cameraL.projectionMatrix.copy(sb),d=-c*t.aspect-s,g=c*t.aspect-s,sb.elements[0]=2*t.near/(g-d),sb.elements[8]=(g+d)/(g-d),this.cameraR.projectionMatrix.copy(sb)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($ye),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Zye)}}class QF{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=e1e(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=e1e();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function e1e(){return(typeof performance>"u"?Date:performance).now()}const ab=new Je,t1e=new jo,bje=new Je,lb=new Je;class Eje extends Ho{constructor(){super(),this.type="AudioListener",this.context=EY.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QF}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ab,t1e,bje),lb.set(0,0,-1).applyQuaternion(t1e),t.positionX){const o=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ab.x,o),t.positionY.linearRampToValueAtTime(ab.y,o),t.positionZ.linearRampToValueAtTime(ab.z,o),t.forwardX.linearRampToValueAtTime(lb.x,o),t.forwardY.linearRampToValueAtTime(lb.y,o),t.forwardZ.linearRampToValueAtTime(lb.z,o),t.upX.linearRampToValueAtTime(r.x,o),t.upY.linearRampToValueAtTime(r.y,o),t.upZ.linearRampToValueAtTime(r.z,o)}else t.setPosition(ab.x,ab.y,ab.z),t.setOrientation(lb.x,lb.y,lb.z,r.x,r.y,r.z)}}class ZEe extends Ho{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ub=new Je,n1e=new jo,Aje=new Je,cb=new Je;class Cje extends ZEe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ub,n1e,Aje),cb.set(0,0,1).applyQuaternion(n1e);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ub.x,r),t.positionY.linearRampToValueAtTime(ub.y,r),t.positionZ.linearRampToValueAtTime(ub.z,r),t.orientationX.linearRampToValueAtTime(cb.x,r),t.orientationY.linearRampToValueAtTime(cb.y,r),t.orientationZ.linearRampToValueAtTime(cb.z,r)}else t.setPosition(ub.x,ub.y,ub.z),t.setOrientation(cb.x,cb.y,cb.z)}}class Mje{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class $Ee{constructor(e,t,r){this.binding=e,this.valueSize=r;let o,s,c;switch(t){case"quaternion":o=this._slerp,s=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":o=this._select,s=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:o=this._lerp,s=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=s,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,o=this.valueSize,s=e*o+o;let c=this.cumulativeWeight;if(c===0){for(let d=0;d!==o;++d)r[s+d]=r[d];c=t}else{c+=t;const d=t/c;this._mixBufferRegion(r,s,0,d,o)}this.cumulativeWeight=c}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,o=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,o,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,o=e*t+t,s=this.cumulativeWeight,c=this.cumulativeWeightAdditive,d=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const g=t*this._origIndex;this._mixBufferRegion(r,o,g,1-s,t)}c>0&&this._mixBufferRegionAdditive(r,o,this._addIndex*t,1,t);for(let g=t,_=t+t;g!==_;++g)if(r[g]!==r[g+t]){d.setValue(r,o);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,o=r*this._origIndex;e.getValue(t,o);for(let s=r,c=o;s!==c;++s)t[s]=t[o+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,o,s){if(o>=.5)for(let c=0;c!==s;++c)e[t+c]=e[r+c]}_slerp(e,t,r,o){jo.slerpFlat(e,t,e,t,e,r,o)}_slerpAdditive(e,t,r,o,s){const c=this._workIndex*s;jo.multiplyQuaternionsFlat(e,c,e,t,e,r),jo.slerpFlat(e,t,e,t,e,c,o)}_lerp(e,t,r,o,s){const c=1-o;for(let d=0;d!==s;++d){const g=t+d;e[g]=e[g]*c+e[r+d]*o}}_lerpAdditive(e,t,r,o,s){for(let c=0;c!==s;++c){const d=t+c;e[d]=e[d]+e[r+c]*o}}}const AY="\\[\\]\\.:\\/",Tje=new RegExp("["+AY+"]","g"),CY="[^"+AY+"]",Pje="[^"+AY.replace("\\.","")+"]",kje=/((?:WC+[\/:])*)/.source.replace("WC",CY),Ije=/(WCOD+)?/.source.replace("WCOD",Pje),Rje=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CY),Oje=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CY),Bje=new RegExp("^"+kje+Ije+Rje+Oje+"$"),Dje=["material","materials","bones","map"];class Nje{constructor(e,t,r){const o=r||vs.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,o)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,o=this._bindings[r];o!==void 0&&o.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,s=r.length;o!==s;++o)r[o].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class vs{constructor(e,t,r){this.path=t,this.parsedPath=r||vs.parseTrackName(t),this.node=vs.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new vs.Composite(e,t,r):new vs(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tje,"")}static parseTrackName(e){const t=Bje.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const s=r.nodeName.substring(o+1);Dje.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let c=0;c<s.length;c++){const d=s[c];if(d.name===t||d.uuid===t)return d;const g=r(d.children);if(g)return g}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)e[t++]=r[o]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,o=t.propertyName;let s=t.propertyIndex;if(e||(e=vs.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let _=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let b=0;b<e.length;b++)if(e[b].name===_){_=b;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(_!==void 0){if(e[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[_]}}const c=e[o];if(c===void 0){const _=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+o+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let g=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}g=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=s}else c.fromArray!==void 0&&c.toArray!==void 0?(g=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(g=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=o;this.getValue=this.GetterByBindingType[g],this.setValue=this.SetterByBindingTypeAndVersioning[g][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vs.Composite=Nje;vs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vs.prototype.GetterByBindingType=[vs.prototype._getValue_direct,vs.prototype._getValue_array,vs.prototype._getValue_arrayElement,vs.prototype._getValue_toArray];vs.prototype.SetterByBindingTypeAndVersioning=[[vs.prototype._setValue_direct,vs.prototype._setValue_direct_setNeedsUpdate,vs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vs.prototype._setValue_array,vs.prototype._setValue_array_setNeedsUpdate,vs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vs.prototype._setValue_arrayElement,vs.prototype._setValue_arrayElement_setNeedsUpdate,vs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vs.prototype._setValue_fromArray,vs.prototype._setValue_fromArray_setNeedsUpdate,vs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lje{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Pm(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,o=arguments.length;r!==o;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,o=this._parsedPaths,s=this._bindings,c=s.length;let d,g=e.length,_=this.nCachedObjects_;for(let b=0,A=arguments.length;b!==A;++b){const P=arguments[b],N=P.uuid;let F=t[N];if(F===void 0){F=g++,t[N]=F,e.push(P);for(let K=0,D=c;K!==D;++K)s[K].push(new vs(P,r[K],o[K]))}else if(F<_){d=e[F];const K=--_,D=e[K];t[D.uuid]=F,e[F]=D,t[N]=K,e[K]=P;for(let I=0,j=c;I!==j;++I){const T=s[I],Y=T[K];let ce=T[F];T[F]=Y,ce===void 0&&(ce=new vs(P,r[I],o[I])),T[K]=ce}}else e[F]!==d&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=_}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,o=r.length;let s=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const g=arguments[c],_=g.uuid,b=t[_];if(b!==void 0&&b>=s){const A=s++,P=e[A];t[P.uuid]=b,e[b]=P,t[_]=A,e[A]=g;for(let N=0,F=o;N!==F;++N){const K=r[N],D=K[A],I=K[b];K[b]=D,K[A]=I}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,o=r.length;let s=this.nCachedObjects_,c=e.length;for(let d=0,g=arguments.length;d!==g;++d){const _=arguments[d],b=_.uuid,A=t[b];if(A!==void 0)if(delete t[b],A<s){const P=--s,N=e[P],F=--c,K=e[F];t[N.uuid]=A,e[A]=N,t[K.uuid]=P,e[P]=K,e.pop();for(let D=0,I=o;D!==I;++D){const j=r[D],T=j[P],Y=j[F];j[A]=T,j[P]=Y,j.pop()}}else{const P=--c,N=e[P];P>0&&(t[N.uuid]=A),e[A]=N,e.pop();for(let F=0,K=o;F!==K;++F){const D=r[F];D[A]=D[P],D.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let o=r[e];const s=this._bindings;if(o!==void 0)return s[o];const c=this._paths,d=this._parsedPaths,g=this._objects,_=g.length,b=this.nCachedObjects_,A=new Array(_);o=s.length,r[e]=o,c.push(e),d.push(t),s.push(A);for(let P=b,N=g.length;P!==N;++P){const F=g[P];A[P]=new vs(F,e,t)}return A}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const o=this._paths,s=this._parsedPaths,c=this._bindings,d=c.length-1,g=c[d],_=e[d];t[_]=r,c[r]=g,c.pop(),s[r]=s[d],s.pop(),o[r]=o[d],o.pop()}}}class eAe{constructor(e,t,r=null,o=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=o;const s=t.tracks,c=s.length,d=new Array(c),g={endingStart:Mb,endingEnd:Mb};for(let _=0;_!==c;++_){const b=s[_].createInterpolant(null);d[_]=b,b.settings=g}this._interpolantSettings=g,this._interpolants=d,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Fbe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const o=this._clip.duration,s=e._clip.duration,c=s/o,d=o/s;e.warp(1,c,t),this.warp(d,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const o=this._mixer,s=o.time,c=this.timeScale;let d=this._timeScaleInterpolant;d===null&&(d=o._lendControlInterpolant(),this._timeScaleInterpolant=d);const g=d.parameterPositions,_=d.sampleValues;return g[0]=s,g[1]=s+r,_[0]=e/c,_[1]=t/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,o){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const g=(e-s)*r;g<0||r===0?t=0:(this._startTime=null,t=r*g)}t*=this._updateTimeScale(e);const c=this._updateTime(t),d=this._updateWeight(e);if(d>0){const g=this._interpolants,_=this._propertyBindings;switch(this.blendMode){case WK:for(let b=0,A=g.length;b!==A;++b)g[b].evaluate(c),_[b].accumulateAdditive(d);break;case CF:default:for(let b=0,A=g.length;b!==A;++b)g[b].evaluate(c),_[b].accumulate(o,d)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const o=r.evaluate(e)[0];t*=o,e>r.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const o=r.evaluate(e)[0];t*=o,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let o=this.time+e,s=this._loopCount;const c=r===zbe;if(e===0)return s===-1?o:c&&(s&1)===1?t-o:o;if(r===Lbe){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=t)o=t;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),o>=t||o<0){const d=Math.floor(o/t);o-=t*d,s+=Math.abs(d);const g=this.repetitions-s;if(g<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=e>0?t:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(g===1){const _=e<0;this._setEndings(_,!_,c)}else this._setEndings(!1,!1,c);this._loopCount=s,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d})}}else this.time=o;if(c&&(s&1)===1)return t-o}return o}_setEndings(e,t,r){const o=this._interpolantSettings;r?(o.endingStart=Tb,o.endingEnd=Tb):(e?o.endingStart=this.zeroSlopeAtStart?Tb:Mb:o.endingStart=CR,t?o.endingEnd=this.zeroSlopeAtEnd?Tb:Mb:o.endingEnd=CR)}_scheduleFading(e,t,r){const o=this._mixer,s=o.time;let c=this._weightInterpolant;c===null&&(c=o._lendControlInterpolant(),this._weightInterpolant=c);const d=c.parameterPositions,g=c.sampleValues;return d[0]=s,g[0]=t,d[1]=s+e,g[1]=r,this}}const Fje=new Float32Array(1);class tAe extends Y0{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,o=e._clip.tracks,s=o.length,c=e._propertyBindings,d=e._interpolants,g=r.uuid,_=this._bindingsByRootAndName;let b=_[g];b===void 0&&(b={},_[g]=b);for(let A=0;A!==s;++A){const P=o[A],N=P.name;let F=b[N];if(F!==void 0)++F.referenceCount,c[A]=F;else{if(F=c[A],F!==void 0){F._cacheIndex===null&&(++F.referenceCount,this._addInactiveBinding(F,g,N));continue}const K=t&&t._propertyBindings[A].binding.parsedPath;F=new $Ee(vs.create(r,N,K),P.ValueTypeName,P.getValueSize()),++F.referenceCount,this._addInactiveBinding(F,g,N),c[A]=F}d[A].resultBuffer=F.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,o=e._clip.uuid,s=this._actionsByClip[o];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,o,r)}const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const o=this._actions,s=this._actionsByClip;let c=s[t];if(c===void 0)c={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=c;else{const d=c.knownActions;e._byClipCacheIndex=d.length,d.push(e)}e._cacheIndex=o.length,o.push(e),c.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],o=e._cacheIndex;r._cacheIndex=o,t[o]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,c=this._actionsByClip,d=c[s],g=d.knownActions,_=g[g.length-1],b=e._byClipCacheIndex;_._byClipCacheIndex=b,g[b]=_,g.pop(),e._byClipCacheIndex=null;const A=d.actionByRoot,P=(e._localRoot||this._root).uuid;delete A[P],g.length===0&&delete c[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,o=this._nActiveActions++,s=t[o];e._cacheIndex=o,t[o]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,o=--this._nActiveActions,s=t[o];e._cacheIndex=o,t[o]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const o=this._bindingsByRootAndName,s=this._bindings;let c=o[t];c===void 0&&(c={},o[t]=c),c[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,o=r.rootNode.uuid,s=r.path,c=this._bindingsByRootAndName,d=c[o],g=t[t.length-1],_=e._cacheIndex;g._cacheIndex=_,t[_]=g,t.pop(),delete d[s],Object.keys(d).length===0&&delete c[o]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,o=this._nActiveBindings++,s=t[o];e._cacheIndex=o,t[o]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,o=--this._nActiveBindings,s=t[o];e._cacheIndex=o,t[o]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new gY(new Float32Array(2),new Float32Array(2),1,Fje),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,o=--this._nActiveControlInterpolants,s=t[o];e.__cacheIndex=o,t[o]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const o=t||this._root,s=o.uuid;let c=typeof e=="string"?LM.findByName(o,e):e;const d=c!==null?c.uuid:e,g=this._actionsByClip[d];let _=null;if(r===void 0&&(c!==null?r=c.blendMode:r=CF),g!==void 0){const A=g.actionByRoot[s];if(A!==void 0&&A.blendMode===r)return A;_=g.knownActions[0],c===null&&(c=_._clip)}if(c===null)return null;const b=new eAe(this,c,t,r);return this._bindAction(b,_),this._addInactiveAction(b,d,s),b}existingAction(e,t){const r=t||this._root,o=r.uuid,s=typeof e=="string"?LM.findByName(r,e):e,c=s?s.uuid:e,d=this._actionsByClip[c];return d!==void 0&&d.actionByRoot[o]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,o=this.time+=e,s=Math.sign(e),c=this._accuIndex^=1;for(let _=0;_!==r;++_)t[_]._update(o,e,s,c);const d=this._bindings,g=this._nActiveBindings;for(let _=0;_!==g;++_)d[_].apply(c);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,o=this._actionsByClip,s=o[r];if(s!==void 0){const c=s.knownActions;for(let d=0,g=c.length;d!==g;++d){const _=c[d];this._deactivateAction(_);const b=_._cacheIndex,A=t[t.length-1];_._cacheIndex=null,_._byClipCacheIndex=null,A._cacheIndex=b,t[b]=A,t.pop(),this._removeInactiveBindingsForAction(_)}delete o[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const c in r){const d=r[c].actionByRoot,g=d[t];g!==void 0&&(this._deactivateAction(g),this._removeInactiveAction(g))}const o=this._bindingsByRootAndName,s=o[t];if(s!==void 0)for(const c in s){const d=s[c];d.restoreOriginalState(),this._removeInactiveBinding(d)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class MY{constructor(e){this.value=e}clone(){return new MY(this.value.clone===void 0?this.value:this.value.clone())}}let zje=0;class Uje extends Y0{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:zje++}),this.name="",this.usage=kR,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,o=t.length;r<o;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let c=0;c<s.length;c++)this.uniforms.push(s[c].clone())}return this}clone(){return new this.constructor().copy(this)}}class jje extends i3{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Hje{constructor(e,t,r,o,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=o,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const r1e=new Ui;class $M{constructor(e,t,r=0,o=1/0){this.ray=new YM(e,t),this.near=r,this.far=o,this.camera=null,this.layers=new G0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return r1e.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(r1e),this}intersectObject(e,t=!0,r=[]){return dX(e,this,r,t),r.sort(i1e),r}intersectObjects(e,t=!0,r=[]){for(let o=0,s=e.length;o<s;o++)dX(e[o],this,r,t);return r.sort(i1e),r}}function i1e(n,e){return n.distance-e.distance}function dX(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const o=n.children;for(let s=0,c=o.length;s<c;s++)dX(o[s],e,t,!0)}}class GL{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pu(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Gje{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const o1e=new Vn;class Vje{constructor(e=new Vn(1/0,1/0),t=new Vn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=o1e.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,o1e).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const s1e=new Je,x5=new Je;class Wje{constructor(e=new Je,t=new Je){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){s1e.subVectors(e,this.start),x5.subVectors(this.end,this.start);const r=x5.dot(x5);let s=x5.dot(s1e)/r;return t&&(s=Pu(s,0,1)),s}closestPointToPoint(e,t,r){const o=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(o).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const a1e=new Je;class TY extends Ho{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new po,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,d=1,g=32;c<g;c++,d++){const _=c/g*Math.PI*2,b=d/g*Math.PI*2;o.push(Math.cos(_),Math.sin(_),1,Math.cos(b),Math.sin(b),1)}r.setAttribute("position",new Ei(o,3));const s=new Ed({fog:!1,toneMapped:!1});this.cone=new Vv(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),a1e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(a1e),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vw=new Je,S5=new Ui,zG=new Ui;class Xje extends Vv{constructor(e){const t=nAe(e),r=new po,o=[],s=[],c=new Dr(0,0,1),d=new Dr(0,1,0);for(let _=0;_<t.length;_++){const b=t[_];b.parent&&b.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(c.r,c.g,c.b),s.push(d.r,d.g,d.b))}r.setAttribute("position",new Ei(o,3)),r.setAttribute("color",new Ei(s,3));const g=new Ed({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,g),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,o=r.getAttribute("position");zG.copy(this.root.matrixWorld).invert();for(let s=0,c=0;s<t.length;s++){const d=t[s];d.parent&&d.parent.isBone&&(S5.multiplyMatrices(zG,d.matrixWorld),vw.setFromMatrixPosition(S5),o.setXYZ(c,vw.x,vw.y,vw.z),S5.multiplyMatrices(zG,d.parent.matrixWorld),vw.setFromMatrixPosition(S5),o.setXYZ(c+1,vw.x,vw.y,vw.z),c+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function nAe(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,nAe(n.children[t]));return e}class rAe extends ni{constructor(e,t,r){const o=new JM(t,4,2),s=new wd({wireframe:!0,fog:!1,toneMapped:!1});super(o,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kje=new Je,l1e=new Dr,u1e=new Dr;class Yje extends Ho{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const o=new Tg(t);o.rotateY(Math.PI*.5),this.material=new wd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=o.getAttribute("position"),c=new Float32Array(s.count*3);o.setAttribute("color",new Ps(c,3)),this.add(new ni(o,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");l1e.copy(this.light.color),u1e.copy(this.light.groundColor);for(let r=0,o=t.count;r<o;r++){const s=r<o/2?l1e:u1e;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Kje.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qje extends Vv{constructor(e=10,t=10,r=4473924,o=8947848){r=new Dr(r),o=new Dr(o);const s=t/2,c=e/t,d=e/2,g=[],_=[];for(let P=0,N=0,F=-d;P<=t;P++,F+=c){g.push(-d,0,F,d,0,F),g.push(F,0,-d,F,0,d);const K=P===s?r:o;K.toArray(_,N),N+=3,K.toArray(_,N),N+=3,K.toArray(_,N),N+=3,K.toArray(_,N),N+=3}const b=new po;b.setAttribute("position",new Ei(g,3)),b.setAttribute("color",new Ei(_,3));const A=new Ed({vertexColors:!0,toneMapped:!1});super(b,A),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qje extends Vv{constructor(e=10,t=16,r=8,o=64,s=4473924,c=8947848){s=new Dr(s),c=new Dr(c);const d=[],g=[];if(t>1)for(let A=0;A<t;A++){const P=A/t*(Math.PI*2),N=Math.sin(P)*e,F=Math.cos(P)*e;d.push(0,0,0),d.push(N,0,F);const K=A&1?s:c;g.push(K.r,K.g,K.b),g.push(K.r,K.g,K.b)}for(let A=0;A<r;A++){const P=A&1?s:c,N=e-e/r*A;for(let F=0;F<o;F++){let K=F/o*(Math.PI*2),D=Math.sin(K)*N,I=Math.cos(K)*N;d.push(D,0,I),g.push(P.r,P.g,P.b),K=(F+1)/o*(Math.PI*2),D=Math.sin(K)*N,I=Math.cos(K)*N,d.push(D,0,I),g.push(P.r,P.g,P.b)}}const _=new po;_.setAttribute("position",new Ei(d,3)),_.setAttribute("color",new Ei(g,3));const b=new Ed({vertexColors:!0,toneMapped:!1});super(_,b),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const c1e=new Je,b5=new Je,f1e=new Je;class iAe extends Ho{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let o=new po;o.setAttribute("position",new Ei([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ed({fog:!1,toneMapped:!1});this.lightPlane=new zo(o,s),this.add(this.lightPlane),o=new po,o.setAttribute("position",new Ei([0,0,0,0,0,1],3)),this.targetLine=new zo(o,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),c1e.setFromMatrixPosition(this.light.matrixWorld),b5.setFromMatrixPosition(this.light.target.matrixWorld),f1e.subVectors(b5,c1e),this.lightPlane.lookAt(b5),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(b5),this.targetLine.scale.z=f1e.length()}}const E5=new Je,Au=new qM;class oAe extends Vv{constructor(e){const t=new po,r=new Ed({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],c={};d("n1","n2"),d("n2","n4"),d("n4","n3"),d("n3","n1"),d("f1","f2"),d("f2","f4"),d("f4","f3"),d("f3","f1"),d("n1","f1"),d("n2","f2"),d("n3","f3"),d("n4","f4"),d("p","n1"),d("p","n2"),d("p","n3"),d("p","n4"),d("u1","u2"),d("u2","u3"),d("u3","u1"),d("c","t"),d("p","c"),d("cn1","cn2"),d("cn3","cn4"),d("cf1","cf2"),d("cf3","cf4");function d(F,K){g(F),g(K)}function g(F){o.push(0,0,0),s.push(0,0,0),c[F]===void 0&&(c[F]=[]),c[F].push(o.length/3-1)}t.setAttribute("position",new Ei(o,3)),t.setAttribute("color",new Ei(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const _=new Dr(16755200),b=new Dr(16711680),A=new Dr(43775),P=new Dr(16777215),N=new Dr(3355443);this.setColors(_,b,A,P,N)}setColors(e,t,r,o,s){const d=this.geometry.getAttribute("color");d.setXYZ(0,e.r,e.g,e.b),d.setXYZ(1,e.r,e.g,e.b),d.setXYZ(2,e.r,e.g,e.b),d.setXYZ(3,e.r,e.g,e.b),d.setXYZ(4,e.r,e.g,e.b),d.setXYZ(5,e.r,e.g,e.b),d.setXYZ(6,e.r,e.g,e.b),d.setXYZ(7,e.r,e.g,e.b),d.setXYZ(8,e.r,e.g,e.b),d.setXYZ(9,e.r,e.g,e.b),d.setXYZ(10,e.r,e.g,e.b),d.setXYZ(11,e.r,e.g,e.b),d.setXYZ(12,e.r,e.g,e.b),d.setXYZ(13,e.r,e.g,e.b),d.setXYZ(14,e.r,e.g,e.b),d.setXYZ(15,e.r,e.g,e.b),d.setXYZ(16,e.r,e.g,e.b),d.setXYZ(17,e.r,e.g,e.b),d.setXYZ(18,e.r,e.g,e.b),d.setXYZ(19,e.r,e.g,e.b),d.setXYZ(20,e.r,e.g,e.b),d.setXYZ(21,e.r,e.g,e.b),d.setXYZ(22,e.r,e.g,e.b),d.setXYZ(23,e.r,e.g,e.b),d.setXYZ(24,t.r,t.g,t.b),d.setXYZ(25,t.r,t.g,t.b),d.setXYZ(26,t.r,t.g,t.b),d.setXYZ(27,t.r,t.g,t.b),d.setXYZ(28,t.r,t.g,t.b),d.setXYZ(29,t.r,t.g,t.b),d.setXYZ(30,t.r,t.g,t.b),d.setXYZ(31,t.r,t.g,t.b),d.setXYZ(32,r.r,r.g,r.b),d.setXYZ(33,r.r,r.g,r.b),d.setXYZ(34,r.r,r.g,r.b),d.setXYZ(35,r.r,r.g,r.b),d.setXYZ(36,r.r,r.g,r.b),d.setXYZ(37,r.r,r.g,r.b),d.setXYZ(38,o.r,o.g,o.b),d.setXYZ(39,o.r,o.g,o.b),d.setXYZ(40,s.r,s.g,s.b),d.setXYZ(41,s.r,s.g,s.b),d.setXYZ(42,s.r,s.g,s.b),d.setXYZ(43,s.r,s.g,s.b),d.setXYZ(44,s.r,s.g,s.b),d.setXYZ(45,s.r,s.g,s.b),d.setXYZ(46,s.r,s.g,s.b),d.setXYZ(47,s.r,s.g,s.b),d.setXYZ(48,s.r,s.g,s.b),d.setXYZ(49,s.r,s.g,s.b),d.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,o=1;Au.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Zu("c",t,e,Au,0,0,-1),Zu("t",t,e,Au,0,0,1),Zu("n1",t,e,Au,-r,-o,-1),Zu("n2",t,e,Au,r,-o,-1),Zu("n3",t,e,Au,-r,o,-1),Zu("n4",t,e,Au,r,o,-1),Zu("f1",t,e,Au,-r,-o,1),Zu("f2",t,e,Au,r,-o,1),Zu("f3",t,e,Au,-r,o,1),Zu("f4",t,e,Au,r,o,1),Zu("u1",t,e,Au,r*.7,o*1.1,-1),Zu("u2",t,e,Au,-r*.7,o*1.1,-1),Zu("u3",t,e,Au,0,o*2,-1),Zu("cf1",t,e,Au,-r,0,1),Zu("cf2",t,e,Au,r,0,1),Zu("cf3",t,e,Au,0,-o,1),Zu("cf4",t,e,Au,0,o,1),Zu("cn1",t,e,Au,-r,0,-1),Zu("cn2",t,e,Au,r,0,-1),Zu("cn3",t,e,Au,0,-o,-1),Zu("cn4",t,e,Au,0,o,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Zu(n,e,t,r,o,s,c){E5.set(o,s,c).unproject(r);const d=e[n];if(d!==void 0){const g=t.getAttribute("position");for(let _=0,b=d.length;_<b;_++)g.setXYZ(d[_],E5.x,E5.y,E5.z)}}const A5=new ch;class VL extends Vv{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(8*3),s=new po;s.setIndex(new Ps(r,1)),s.setAttribute("position",new Ps(o,3)),super(s,new Ed({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&A5.setFromObject(this.object),A5.isEmpty())return;const t=A5.min,r=A5.max,o=this.geometry.attributes.position,s=o.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jje extends Vv{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new po;s.setIndex(new Ps(r,1)),s.setAttribute("position",new Ei(o,3)),super(s,new Ed({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zje extends zo{constructor(e,t=1,r=16776960){const o=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new po;c.setAttribute("position",new Ei(s,3)),c.computeBoundingSphere(),super(c,new Ed({color:o,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const d=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],g=new po;g.setAttribute("position",new Ei(d,3)),g.computeBoundingSphere(),this.add(new ni(g,new wd({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const d1e=new Je;let C5,UG;class $je extends Ho{constructor(e=new Je(0,0,1),t=new Je(0,0,0),r=1,o=16776960,s=r*.2,c=s*.2){super(),this.type="ArrowHelper",C5===void 0&&(C5=new po,C5.setAttribute("position",new Ei([0,0,0,0,1,0],3)),UG=new vd(0,.5,1,5,1),UG.translate(0,-.5,0)),this.position.copy(t),this.line=new zo(C5,new Ed({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ni(UG,new wd({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,c)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{d1e.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(d1e,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eHe extends Vv{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new po;o.setAttribute("position",new Ei(t,3)),o.setAttribute("color",new Ei(r,3));const s=new Ed({vertexColors:!0,toneMapped:!1});super(o,s),this.type="AxesHelper"}setColors(e,t,r){const o=new Dr,s=this.geometry.attributes.color.array;return o.set(e),o.toArray(s,0),o.toArray(s,3),o.set(t),o.toArray(s,6),o.toArray(s,9),o.set(r),o.toArray(s,12),o.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tHe{constructor(){this.type="ShapePath",this.color=new Dr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new OR,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,o){return this.currentPath.quadraticCurveTo(e,t,r,o),this}bezierCurveTo(e,t,r,o,s,c){return this.currentPath.bezierCurveTo(e,t,r,o,s,c),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(I){const j=[];for(let T=0,Y=I.length;T<Y;T++){const ce=I[T],le=new Lb;le.curves=ce.curves,j.push(le)}return j}function r(I,j){const T=j.length;let Y=!1;for(let ce=T-1,le=0;le<T;ce=le++){let Z=j[ce],Se=j[le],Le=Se.x-Z.x,X=Se.y-Z.y;if(Math.abs(X)>Number.EPSILON){if(X<0&&(Z=j[le],Le=-Le,Se=j[ce],X=-X),I.y<Z.y||I.y>Se.y)continue;if(I.y===Z.y){if(I.x===Z.x)return!0}else{const fe=X*(I.x-Z.x)-Le*(I.y-Z.y);if(fe===0)return!0;if(fe<0)continue;Y=!Y}}else{if(I.y!==Z.y)continue;if(Se.x<=I.x&&I.x<=Z.x||Z.x<=I.x&&I.x<=Se.x)return!0}}return Y}const o=V0.isClockWise,s=this.subPaths;if(s.length===0)return[];let c,d,g;const _=[];if(s.length===1)return d=s[0],g=new Lb,g.curves=d.curves,_.push(g),_;let b=!o(s[0].getPoints());b=e?!b:b;const A=[],P=[];let N=[],F=0,K;P[F]=void 0,N[F]=[];for(let I=0,j=s.length;I<j;I++)d=s[I],K=d.getPoints(),c=o(K),c=e?!c:c,c?(!b&&P[F]&&F++,P[F]={s:new Lb,p:K},P[F].s.curves=d.curves,b&&F++,N[F]=[]):N[F].push({h:d,p:K[0]});if(!P[0])return t(s);if(P.length>1){let I=!1,j=0;for(let T=0,Y=P.length;T<Y;T++)A[T]=[];for(let T=0,Y=P.length;T<Y;T++){const ce=N[T];for(let le=0;le<ce.length;le++){const Z=ce[le];let Se=!0;for(let Le=0;Le<P.length;Le++)r(Z.p,P[Le].p)&&(T!==Le&&j++,Se?(Se=!1,A[Le].push(Z)):I=!0);Se&&A[T].push(Z)}}j>0&&I===!1&&(N=A)}let D;for(let I=0,j=P.length;I<j;I++){g=P[I].s,_.push(g),D=N[I];for(let T=0,Y=D.length;T<Y;T++)g.holes.push(D[T].h)}return _}}class nHe extends zg{constructor(e=1,t=1,r=1,o={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...o,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:XM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=XM);const sAe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:SF,AddEquation:Mw,AddOperation:Sbe,AdditiveAnimationBlendMode:WK,AdditiveBlending:MW,AgXToneMapping:Mbe,AlphaFormat:Rbe,AlwaysCompare:Qbe,AlwaysDepth:mbe,AlwaysStencilFunc:iX,AmbientLight:WEe,AnimationAction:eAe,AnimationClip:LM,AnimationLoader:pje,AnimationMixer:tAe,AnimationObjectGroup:Lje,AnimationUtils:cje,ArcCurve:_Ee,ArrayCamera:hEe,ArrowHelper:$je,AttachedBindMode:RW,Audio:ZEe,AudioAnalyser:Mje,AudioContext:EY,AudioListener:Eje,AudioLoader:xje,AxesHelper:eHe,BackSide:ep,BasicDepthPacking:jbe,BasicShadowMap:LK,BatchedMesh:yEe,Bone:BF,BooleanKeyframeTrack:eE,Box2:Vje,Box3:ch,Box3Helper:Jje,BoxGeometry:Fp,BoxHelper:VL,BufferAttribute:Ps,BufferGeometry:po,BufferGeometryLoader:QEe,ByteType:kbe,Cache:g1,Camera:qM,CameraHelper:oAe,CanvasTexture:B9e,CapsuleGeometry:FF,CatmullRomCurve3:wEe,CineonToneMapping:Abe,CircleGeometry:zF,ClampToEdgeWrapping:yd,Clock:QF,Color:Dr,ColorKeyframeTrack:vY,ColorManagement:fa,CompressedArrayTexture:R9e,CompressedCubeTexture:O9e,CompressedTexture:NF,CompressedTextureLoader:mje,ConeGeometry:UF,ConstantAlphaFactor:dbe,ConstantColorFactor:cbe,CubeCamera:oEe,CubeReflectionMapping:K0,CubeRefractionMapping:Qw,CubeTexture:n3,CubeTextureLoader:HEe,CubeUVReflectionMapping:KM,CubicBezierCurve:uY,CubicBezierCurve3:xEe,CubicInterpolant:FEe,CullFaceBack:CW,CullFaceFront:JSe,CullFaceFrontBack:bLe,CullFaceNone:QSe,Curve:Wv,CurvePath:bEe,CustomBlending:ZSe,CustomToneMapping:Cbe,CylinderGeometry:vd,Cylindrical:Gje,Data3DTexture:QK,DataArrayTexture:TF,DataTexture:Vw,DataTextureLoader:_Y,DataUtils:kb,DecrementStencilOp:ILe,DecrementWrapStencilOp:OLe,DefaultLoadingManager:jEe,DepthFormat:Gw,DepthStencilFormat:Xb,DepthTexture:PF,DetachedBindMode:Pbe,DirectionalLight:bY,DirectionalLightHelper:iAe,DiscreteInterpolant:zEe,DisplayP3ColorSpace:MF,DodecahedronGeometry:jF,DoubleSide:sh,DstAlphaFactor:obe,DstColorFactor:abe,DynamicCopyUsage:YLe,DynamicDrawUsage:HLe,DynamicReadUsage:WLe,EdgesGeometry:EEe,EllipseCurve:LF,EqualCompare:Xbe,EqualDepth:vbe,EqualStencilFunc:LLe,EquirectangularReflectionMapping:PM,EquirectangularRefractionMapping:ER,Euler:tp,EventDispatcher:Y0,ExtrudeGeometry:GF,FileLoader:Rm,Float16BufferAttribute:RFe,Float32BufferAttribute:Ei,FloatType:kc,Fog:OF,FogExp2:RF,FramebufferTexture:I9e,FrontSide:X0,Frustum:r3,GLBufferAttribute:Hje,GLSL1:QLe,GLSL3:zL,GreaterCompare:Kbe,GreaterDepth:_be,GreaterEqualCompare:qbe,GreaterEqualDepth:ybe,GreaterEqualStencilFunc:jLe,GreaterStencilFunc:zLe,GridHelper:qje,Group:U0,HalfFloatType:lh,HemisphereLight:VEe,HemisphereLightHelper:Yje,IcosahedronGeometry:a3,ImageBitmapLoader:JEe,ImageLoader:LR,ImageUtils:qK,IncrementStencilOp:kLe,IncrementWrapStencilOp:RLe,InstancedBufferAttribute:BM,InstancedBufferGeometry:qEe,InstancedInterleavedBuffer:jje,InstancedMesh:oY,Int16BufferAttribute:kFe,Int32BufferAttribute:IFe,Int8BufferAttribute:MFe,IntType:FK,InterleavedBuffer:i3,InterleavedBufferAttribute:Zw,Interpolant:ZM,InterpolateDiscrete:IM,InterpolateLinear:Kb,InterpolateSmooth:sL,InvertStencilOp:BLe,KeepStencilOp:_b,KeyframeTrack:Xv,LOD:vEe,LatheGeometry:s3,Layers:G0,LessCompare:Wbe,LessDepth:gbe,LessEqualCompare:KK,LessEqualDepth:bR,LessEqualStencilFunc:FLe,LessStencilFunc:NLe,Light:sx,LightProbe:YEe,Line:zo,Line3:Wje,LineBasicMaterial:Ed,LineCurve:cY,LineCurve3:SEe,LineDashedMaterial:DEe,LineLoop:sY,LineSegments:Vv,LinearDisplayP3ColorSpace:t3,LinearFilter:Xs,LinearInterpolant:gY,LinearMipMapLinearFilter:MLe,LinearMipMapNearestFilter:CLe,LinearMipmapLinearFilter:Og,LinearMipmapNearestFilter:vM,LinearSRGBColorSpace:P1,LinearToneMapping:bbe,LinearTransfer:MR,Loader:hh,LoaderUtils:W0,LoadingManager:yY,LoopOnce:Lbe,LoopPingPong:zbe,LoopRepeat:Fbe,LuminanceAlphaFormat:Bbe,LuminanceFormat:Obe,MOUSE:vb,Material:ec,MaterialLoader:qF,MathUtils:Jbe,Matrix3:ko,Matrix4:Ui,MaxEquation:IW,Mesh:ni,MeshBasicMaterial:wd,MeshDepthMaterial:tY,MeshDistanceMaterial:nY,MeshLambertMaterial:OEe,MeshMatcapMaterial:BEe,MeshNormalMaterial:REe,MeshPhongMaterial:pY,MeshPhysicalMaterial:q0,MeshStandardMaterial:l3,MeshToonMaterial:IEe,MinEquation:kW,MirroredRepeatWrapping:kM,MixOperation:xbe,MultiplyBlending:PW,MultiplyOperation:e3,NearestFilter:Tu,NearestMipMapLinearFilter:ALe,NearestMipMapNearestFilter:ELe,NearestMipmapLinearFilter:Tw,NearestMipmapNearestFilter:AR,NeutralToneMapping:Tbe,NeverCompare:Vbe,NeverDepth:pbe,NeverStencilFunc:DLe,NoBlending:S1,NoColorSpace:f1,NoToneMapping:jv,NormalAnimationBlendMode:CF,NormalBlending:Db,NotEqualCompare:Ybe,NotEqualDepth:wbe,NotEqualStencilFunc:ULe,NumberKeyframeTrack:DM,Object3D:Ho,ObjectLoader:_je,ObjectSpaceNormalMap:Gbe,OctahedronGeometry:Tg,OneFactor:nbe,OneMinusConstantAlphaFactor:hbe,OneMinusConstantColorFactor:fbe,OneMinusDstAlphaFactor:sbe,OneMinusDstColorFactor:lbe,OneMinusSrcAlphaFactor:LL,OneMinusSrcColorFactor:ibe,OrthographicCamera:Ng,P3Primaries:PR,PCFShadowMap:$R,PCFSoftShadowMap:jw,PMREMGenerator:sX,Path:OR,PerspectiveCamera:bl,Plane:bw,PlaneGeometry:Up,PlaneHelper:Zje,PointLight:SY,PointLightHelper:rAe,Points:aY,PointsMaterial:DF,PolarGridHelper:Qje,PolyhedronGeometry:ox,PositionalAudio:Cje,PropertyBinding:vs,PropertyMixer:$Ee,QuadraticBezierCurve:fY,QuadraticBezierCurve3:dY,Quaternion:jo,QuaternionKeyframeTrack:$w,QuaternionLinearInterpolant:UEe,RED_GREEN_RGTC2_Format:nX,RED_RGTC1_Format:Nbe,REVISION:XM,RGBADepthPacking:Hbe,RGBAFormat:_d,RGBAIntegerFormat:GK,RGBA_ASTC_10x10_Format:QW,RGBA_ASTC_10x5_Format:KW,RGBA_ASTC_10x6_Format:YW,RGBA_ASTC_10x8_Format:qW,RGBA_ASTC_12x10_Format:JW,RGBA_ASTC_12x12_Format:ZW,RGBA_ASTC_4x4_Format:zW,RGBA_ASTC_5x4_Format:UW,RGBA_ASTC_5x5_Format:jW,RGBA_ASTC_6x5_Format:HW,RGBA_ASTC_6x6_Format:GW,RGBA_ASTC_8x5_Format:VW,RGBA_ASTC_8x6_Format:WW,RGBA_ASTC_8x8_Format:XW,RGBA_BPTC_Format:oL,RGBA_ETC2_EAC_Format:FW,RGBA_PVRTC_2BPPV1_Format:NW,RGBA_PVRTC_4BPPV1_Format:DW,RGBA_S3TC_DXT1_Format:nL,RGBA_S3TC_DXT3_Format:rL,RGBA_S3TC_DXT5_Format:iL,RGB_BPTC_SIGNED_Format:$W,RGB_BPTC_UNSIGNED_Format:eX,RGB_ETC1_Format:VK,RGB_ETC2_Format:LW,RGB_PVRTC_2BPPV1_Format:BW,RGB_PVRTC_4BPPV1_Format:OW,RGB_S3TC_DXT1_Format:tL,RGFormat:Dbe,RGIntegerFormat:HK,RawShaderMaterial:kEe,Ray:YM,Raycaster:$M,Rec709Primaries:TR,RectAreaLight:XEe,RedFormat:AF,RedIntegerFormat:jK,ReinhardToneMapping:Ebe,RenderTarget:tEe,RepeatWrapping:Jw,ReplaceStencilOp:PLe,ReverseSubtractEquation:ebe,RingGeometry:VF,SIGNED_RED_GREEN_RGTC2_Format:rX,SIGNED_RED_RGTC1_Format:tX,SRGBColorSpace:Mg,SRGBTransfer:rl,Scene:Yb,ShaderChunk:Do,ShaderLib:Fv,ShaderMaterial:Im,ShadowMaterial:PEe,Shape:Lb,ShapeGeometry:WF,ShapePath:tHe,ShapeUtils:V0,ShortType:Ibe,Skeleton:o3,SkeletonHelper:Xje,SkinnedMesh:iY,Source:Pb,Sphere:Sd,SphereGeometry:JM,Spherical:GL,SphericalHarmonics3:KEe,SplineCurve:hY,SpotLight:xY,SpotLightHelper:TY,Sprite:gEe,SpriteMaterial:rY,SrcAlphaFactor:NL,SrcAlphaSaturateFactor:ube,SrcColorFactor:rbe,StaticCopyUsage:KLe,StaticDrawUsage:kR,StaticReadUsage:VLe,StereoCamera:Sje,StreamCopyUsage:qLe,StreamDrawUsage:GLe,StreamReadUsage:XLe,StringKeyframeTrack:tE,SubtractEquation:$Se,SubtractiveBlending:TW,TOUCH:yb,TangentSpaceNormalMap:ix,TetrahedronGeometry:XF,Texture:za,TextureLoader:GEe,TorusGeometry:Iw,TorusKnotGeometry:KF,Triangle:Am,TriangleFanDrawMode:FL,TriangleStripDrawMode:XK,TrianglesDrawMode:Ube,TubeGeometry:YF,UVMapping:bF,Uint16BufferAttribute:JK,Uint32BufferAttribute:ZK,Uint8BufferAttribute:TFe,Uint8ClampedBufferAttribute:PFe,Uniform:MY,UniformsGroup:Uje,UniformsLib:Yr,UniformsUtils:iEe,UnsignedByteType:Hv,UnsignedInt248Type:Hw,UnsignedIntType:m1,UnsignedShort4444Type:zK,UnsignedShort5551Type:UK,UnsignedShortType:EF,VSMShadowMap:Cg,Vector2:Vn,Vector3:Je,Vector4:Ms,VectorKeyframeTrack:NM,VideoTexture:k9e,WebGL1Renderer:pEe,WebGL3DRenderTarget:gFe,WebGLArrayRenderTarget:mFe,WebGLCoordinateSystem:z0,WebGLCubeRenderTarget:$K,WebGLMultipleRenderTargets:nHe,WebGLRenderTarget:zg,WebGLRenderer:IF,WebGLUtils:dEe,WebGPUCoordinateSystem:IR,WireframeGeometry:TEe,WrapAroundEnding:CR,ZeroCurvatureEnding:Mb,ZeroFactor:tbe,ZeroSlopeEnding:Tb,ZeroStencilOp:TLe,_SRGBAFormat:UL,createCanvasElement:$be},Symbol.toStringTag,{value:"Module"}));var aAe={exports:{}},nE={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */nE.ConcurrentRoot=1;nE.ContinuousEventPriority=4;nE.DefaultEventPriority=16;nE.DiscreteEventPriority=1;nE.IdleEventPriority=536870912;nE.LegacyRoot=0;aAe.exports=nE;var lM=aAe.exports;function rHe(n){let e;const t=new Set,r=(_,b)=>{const A=typeof _=="function"?_(e):_;if(A!==e){const P=e;e=b?A:Object.assign({},e,A),t.forEach(N=>N(e,P))}},o=()=>e,s=(_,b=o,A=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let P=b(e);function N(){const F=b(e);if(!A(P,F)){const K=P;_(P=F,K)}}return t.add(N),()=>t.delete(N)},g={setState:r,getState:o,subscribe:(_,b,A)=>b||A?s(_,b,A):(t.add(_),()=>t.delete(_)),destroy:()=>t.clear()};return e=n(r,o,g),g}const iHe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),h1e=iHe?an.useEffect:an.useLayoutEffect;function lAe(n){const e=typeof n=="function"?rHe(n):n,t=(r=e.getState,o=Object.is)=>{const[,s]=an.useReducer(D=>D+1,0),c=e.getState(),d=an.useRef(c),g=an.useRef(r),_=an.useRef(o),b=an.useRef(!1),A=an.useRef();A.current===void 0&&(A.current=r(c));let P,N=!1;(d.current!==c||g.current!==r||_.current!==o||b.current)&&(P=r(c),N=!o(A.current,P)),h1e(()=>{N&&(A.current=P),d.current=c,g.current=r,_.current=o,b.current=!1});const F=an.useRef(c);h1e(()=>{const D=()=>{try{const j=e.getState(),T=g.current(j);_.current(A.current,T)||(d.current=j,A.current=T,s())}catch{b.current=!0,s()}},I=e.subscribe(D);return e.getState()!==F.current&&D(),I},[]);const K=N?P:A.current;return an.useDebugValue(K),K};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const o=r.length<=0;return{value:r.shift(),done:o}}}},t}var uAe={exports:{}},jG={exports:{}},HG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1e;function oHe(){return p1e||(p1e=1,function(n){function e(de,ve){var ye=de.length;de.push(ve);e:for(;0<ye;){var _e=ye-1>>>1,ge=de[_e];if(0<o(ge,ve))de[_e]=ve,de[ye]=ge,ye=_e;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ve=de[0],ye=de.pop();if(ye!==ve){de[0]=ye;e:for(var _e=0,ge=de.length,dt=ge>>>1;_e<dt;){var qe=2*(_e+1)-1,_t=de[qe],Qe=qe+1,zt=de[Qe];if(0>o(_t,ye))Qe<ge&&0>o(zt,_t)?(de[_e]=zt,de[Qe]=ye,_e=Qe):(de[_e]=_t,de[qe]=ye,_e=qe);else if(Qe<ge&&0>o(zt,ye))de[_e]=zt,de[Qe]=ye,_e=Qe;else break e}}return ve}function o(de,ve){var ye=de.sortIndex-ve.sortIndex;return ye!==0?ye:de.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],_=[],b=1,A=null,P=3,N=!1,F=!1,K=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var ve=t(_);ve!==null;){if(ve.callback===null)r(_);else if(ve.startTime<=de)r(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(_)}}function Y(de){if(K=!1,T(de),!F)if(t(g)!==null)F=!0,Ke(ce);else{var ve=t(_);ve!==null&&Ye(Y,ve.startTime-de)}}function ce(de,ve){F=!1,K&&(K=!1,I(Se),Se=-1),N=!0;var ye=P;try{for(T(ve),A=t(g);A!==null&&(!(A.expirationTime>ve)||de&&!fe());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,P=A.priorityLevel;var ge=_e(A.expirationTime<=ve);ve=n.unstable_now(),typeof ge=="function"?A.callback=ge:A===t(g)&&r(g),T(ve)}else r(g);A=t(g)}if(A!==null)var dt=!0;else{var qe=t(_);qe!==null&&Ye(Y,qe.startTime-ve),dt=!1}return dt}finally{A=null,P=ye,N=!1}}var le=!1,Z=null,Se=-1,Le=5,X=-1;function fe(){return!(n.unstable_now()-X<Le)}function st(){if(Z!==null){var de=n.unstable_now();X=de;var ve=!0;try{ve=Z(!0,de)}finally{ve?Ue():(le=!1,Z=null)}}else le=!1}var Ue;if(typeof j=="function")Ue=function(){j(st)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,be=Me.port2;Me.port1.onmessage=st,Ue=function(){be.postMessage(null)}}else Ue=function(){D(st,0)};function Ke(de){Z=de,le||(le=!0,Ue())}function Ye(de,ve){Se=D(function(){de(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ke(ce))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(de){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var ye=P;P=ve;try{return de()}finally{P=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ve){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ye=P;P=de;try{return ve()}finally{P=ye}},n.unstable_scheduleCallback=function(de,ve,ye){var _e=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,de){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,de={id:b++,callback:ve,priorityLevel:de,startTime:ye,expirationTime:ge,sortIndex:-1},ye>_e?(de.sortIndex=ye,e(_,de),t(g)===null&&de===t(_)&&(K?(I(Se),Se=-1):K=!0,Ye(Y,ye-_e))):(de.sortIndex=ge,e(g,de),F||N||(F=!0,Ke(ce))),de},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(de){var ve=P;return function(){var ye=P;P=ve;try{return de.apply(this,arguments)}finally{P=ye}}}}(HG)),HG}var m1e;function sHe(){return m1e||(m1e=1,jG.exports=oHe()),jG.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aHe=function(e){var t={},r=an,o=sHe(),s=Object.assign;function c(x){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+x,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+x+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ce=Symbol.iterator;function le(x){return x===null||typeof x!="object"?null:(x=ce&&x[ce]||x["@@iterator"],typeof x=="function"?x:null)}function Z(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case b:return"Fragment";case _:return"Portal";case P:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case F:return(x.displayName||"Context")+".Consumer";case N:return(x._context.displayName||"Context")+".Provider";case K:var a=x.render;return x=x.displayName,x||(x=a.displayName||a.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case j:return a=x.displayName||null,a!==null?a:Z(x.type)||"Memo";case T:a=x._payload,x=x._init;try{return Z(x(a))}catch{}}return null}function Se(x){var a=x.type;switch(x.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=a.render,x=x.displayName||x.name||"",a.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Le(x){var a=x,f=x;if(x.alternate)for(;a.return;)a=a.return;else{x=a;do a=x,a.flags&4098&&(f=a.return),x=a.return;while(x)}return a.tag===3?f:null}function X(x){if(Le(x)!==x)throw Error(c(188))}function fe(x){var a=x.alternate;if(!a){if(a=Le(x),a===null)throw Error(c(188));return a!==x?null:x}for(var f=x,S=a;;){var R=f.return;if(R===null)break;var z=R.alternate;if(z===null){if(S=R.return,S!==null){f=S;continue}break}if(R.child===z.child){for(z=R.child;z;){if(z===f)return X(R),x;if(z===S)return X(R),a;z=z.sibling}throw Error(c(188))}if(f.return!==S.return)f=R,S=z;else{for(var ne=!1,ke=R.child;ke;){if(ke===f){ne=!0,f=R,S=z;break}if(ke===S){ne=!0,S=R,f=z;break}ke=ke.sibling}if(!ne){for(ke=z.child;ke;){if(ke===f){ne=!0,f=z,S=R;break}if(ke===S){ne=!0,S=z,f=R;break}ke=ke.sibling}if(!ne)throw Error(c(189))}}if(f.alternate!==S)throw Error(c(190))}if(f.tag!==3)throw Error(c(188));return f.stateNode.current===f?x:a}function st(x){return x=fe(x),x!==null?Ue(x):null}function Ue(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var a=Ue(x);if(a!==null)return a;x=x.sibling}return null}function Me(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var a=Me(x);if(a!==null)return a}x=x.sibling}return null}var be=Array.isArray,Ke=e.getPublicInstance,Ye=e.getRootHostContext,de=e.getChildHostContext,ve=e.prepareForCommit,ye=e.resetAfterCommit,_e=e.createInstance,ge=e.appendInitialChild,dt=e.finalizeInitialChildren,qe=e.prepareUpdate,_t=e.shouldSetTextContent,Qe=e.createTextInstance,zt=e.scheduleTimeout,Lt=e.cancelTimeout,Kt=e.noTimeout,ln=e.isPrimaryRenderer,bn=e.supportsMutation,Ze=e.supportsPersistence,nn=e.supportsHydration,jt=e.getInstanceFromNode,fn=e.preparePortalMount,cn=e.getCurrentEventPriority,Dn=e.detachDeletedInstance,Qn=e.supportsMicrotasks,nr=e.scheduleMicrotask,Tr=e.supportsTestSelectors,ct=e.findFiberRoot,Ne=e.getBoundingRect,rn=e.getTextContent,Dt=e.isHiddenSubtree,Pn=e.matchAccessibilityRole,Wn=e.setFocusIfFocusable,ei=e.setupIntersectionObserver,jr=e.appendChild,Yn=e.appendChildToContainer,vr=e.commitTextUpdate,Mt=e.commitMount,Zt=e.commitUpdate,yr=e.insertBefore,hr=e.insertInContainerBefore,Hr=e.removeChild,Rr=e.removeChildFromContainer,wr=e.resetTextContent,qr=e.hideInstance,ri=e.hideTextInstance,Nn=e.unhideInstance,Bt=e.unhideTextInstance,_r=e.clearContainer,Xt=e.cloneInstance,er=e.createContainerChildSet,xr=e.appendChildToContainerChildSet,Mi=e.finalizeContainerChildren,Di=e.replaceContainerChildren,eo=e.cloneHiddenInstance,Ro=e.cloneHiddenTextInstance,Ri=e.canHydrateInstance,to=e.canHydrateTextInstance,_s=e.canHydrateSuspenseInstance,zs=e.isSuspenseInstancePending,ol=e.isSuspenseInstanceFallback,ss=e.registerSuspenseInstanceRetry,ks=e.getNextHydratableSibling,fi=e.getFirstHydratableChild,ba=e.getFirstHydratableChildWithinContainer,su=e.getFirstHydratableChildWithinSuspenseInstance,Re=e.hydrateInstance,$e=e.hydrateTextInstance,At=e.hydrateSuspenseInstance,Pe=e.getNextHydratableInstanceAfterSuspenseInstance,at=e.commitHydratedContainer,pt=e.commitHydratedSuspenseInstance,St=e.clearSuspenseBoundary,yt=e.clearSuspenseBoundaryFromContainer,on=e.shouldDeleteUnhydratedTailInstances,Sn=e.didNotMatchHydratedContainerTextInstance,In=e.didNotMatchHydratedTextInstance,kn;function sr(x){if(kn===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);kn=a&&a[1]||""}return`
`+kn+x}var Un=!1;function qn(x,a){if(!x||Un)return"";Un=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Pt){var S=Pt}Reflect.construct(x,[],a)}else{try{a.call()}catch(Pt){S=Pt}x.call(a.prototype)}else{try{throw Error()}catch(Pt){S=Pt}x()}}catch(Pt){if(Pt&&S&&typeof Pt.stack=="string"){for(var R=Pt.stack.split(`
`),z=S.stack.split(`
`),ne=R.length-1,ke=z.length-1;1<=ne&&0<=ke&&R[ne]!==z[ke];)ke--;for(;1<=ne&&0<=ke;ne--,ke--)if(R[ne]!==z[ke]){if(ne!==1||ke!==1)do if(ne--,ke--,0>ke||R[ne]!==z[ke]){var nt=`
`+R[ne].replace(" at new "," at ");return x.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",x.displayName)),nt}while(1<=ne&&0<=ke);break}}}finally{Un=!1,Error.prepareStackTrace=f}return(x=x?x.displayName||x.name:"")?sr(x):""}var Er=Object.prototype.hasOwnProperty,Qr=[],li=-1;function ii(x){return{current:x}}function Sr(x){0>li||(x.current=Qr[li],Qr[li]=null,li--)}function Ln(x,a){li++,Qr[li]=x.current,x.current=a}var Gr={},zr=ii(Gr),Wr=ii(!1),wi=Gr;function mo(x,a){var f=x.type.contextTypes;if(!f)return Gr;var S=x.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===a)return S.__reactInternalMemoizedMaskedChildContext;var R={},z;for(z in f)R[z]=a[z];return S&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=a,x.__reactInternalMemoizedMaskedChildContext=R),R}function Gi(x){return x=x.childContextTypes,x!=null}function si(){Sr(Wr),Sr(zr)}function Ti(x,a,f){if(zr.current!==Gr)throw Error(c(168));Ln(zr,a),Ln(Wr,f)}function So(x,a,f){var S=x.stateNode;if(a=a.childContextTypes,typeof S.getChildContext!="function")return f;S=S.getChildContext();for(var R in S)if(!(R in a))throw Error(c(108,Se(x)||"Unknown",R));return s({},f,S)}function ae(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Gr,wi=zr.current,Ln(zr,x),Ln(Wr,Wr.current),!0}function Ae(x,a,f){var S=x.stateNode;if(!S)throw Error(c(169));f?(x=So(x,a,wi),S.__reactInternalMemoizedMergedChildContext=x,Sr(Wr),Sr(zr),Ln(zr,x)):Sr(Wr),Ln(Wr,f)}var Ge=Math.clz32?Math.clz32:Yt,ut=Math.log,$t=Math.LN2;function Yt(x){return x>>>=0,x===0?32:31-(ut(x)/$t|0)|0}var On=64,lr=4194304;function dr(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function oi(x,a){var f=x.pendingLanes;if(f===0)return 0;var S=0,R=x.suspendedLanes,z=x.pingedLanes,ne=f&268435455;if(ne!==0){var ke=ne&~R;ke!==0?S=dr(ke):(z&=ne,z!==0&&(S=dr(z)))}else ne=f&~R,ne!==0?S=dr(ne):z!==0&&(S=dr(z));if(S===0)return 0;if(a!==0&&a!==S&&!(a&R)&&(R=S&-S,z=a&-a,R>=z||R===16&&(z&4194240)!==0))return a;if(S&4&&(S|=f&16),a=x.entangledLanes,a!==0)for(x=x.entanglements,a&=S;0<a;)f=31-Ge(a),R=1<<f,S|=x[f],a&=~R;return S}function Oi(x,a){switch(x){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(x,a){for(var f=x.suspendedLanes,S=x.pingedLanes,R=x.expirationTimes,z=x.pendingLanes;0<z;){var ne=31-Ge(z),ke=1<<ne,nt=R[ne];nt===-1?(!(ke&f)||ke&S)&&(R[ne]=Oi(ke,a)):nt<=a&&(x.expiredLanes|=ke),z&=~ke}}function Ua(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function na(x){for(var a=[],f=0;31>f;f++)a.push(x);return a}function ws(x,a,f){x.pendingLanes|=a,a!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,a=31-Ge(a),x[a]=f}function Is(x,a){var f=x.pendingLanes&~a;x.pendingLanes=a,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=a,x.mutableReadLanes&=a,x.entangledLanes&=a,a=x.entanglements;var S=x.eventTimes;for(x=x.expirationTimes;0<f;){var R=31-Ge(f),z=1<<R;a[R]=0,S[R]=-1,x[R]=-1,f&=~z}}function Ea(x,a){var f=x.entangledLanes|=a;for(x=x.entanglements;f;){var S=31-Ge(f),R=1<<S;R&a|x[S]&a&&(x[S]|=a),f&=~R}}var Pi=0;function ki(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var ha=o.unstable_scheduleCallback,ra=o.unstable_cancelCallback,au=o.unstable_shouldYield,ku=o.unstable_requestPaint,Us=o.unstable_now,ps=o.unstable_ImmediatePriority,tc=o.unstable_UserBlockingPriority,nc=o.unstable_NormalPriority,Aa=o.unstable_IdlePriority,lu=null,js=null;function uo(x){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(lu,x,void 0,(x.current.flags&128)===128)}catch{}}function pa(x,a){return x===a&&(x!==0||1/x===1/a)||x!==x&&a!==a}var as=typeof Object.is=="function"?Object.is:pa,No=null,Xo=!1,Iu=!1;function uu(x){No===null?No=[x]:No.push(x)}function of(x){Xo=!0,uu(x)}function Ca(){if(!Iu&&No!==null){Iu=!0;var x=0,a=Pi;try{var f=No;for(Pi=1;x<f.length;x++){var S=f[x];do S=S(!0);while(S!==null)}No=null,Xo=!1}catch(R){throw No!==null&&(No=No.slice(x+1)),ha(ps,Ca),R}finally{Pi=a,Iu=!1}}return null}var ja=d.ReactCurrentBatchConfig;function rc(x,a){if(as(x,a))return!0;if(typeof x!="object"||x===null||typeof a!="object"||a===null)return!1;var f=Object.keys(x),S=Object.keys(a);if(f.length!==S.length)return!1;for(S=0;S<f.length;S++){var R=f[S];if(!Er.call(a,R)||!as(x[R],a[R]))return!1}return!0}function sl(x){switch(x.tag){case 5:return sr(x.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return x=qn(x.type,!1),x;case 11:return x=qn(x.type.render,!1),x;case 1:return x=qn(x.type,!0),x;default:return""}}function Ma(x,a){if(x&&x.defaultProps){a=s({},a),x=x.defaultProps;for(var f in x)a[f]===void 0&&(a[f]=x[f]);return a}return a}var Hs=ii(null),Ru=null,Ta=null,Ha=null;function Cl(){Ha=Ta=Ru=null}function ls(x,a,f){ln?(Ln(Hs,a._currentValue),a._currentValue=f):(Ln(Hs,a._currentValue2),a._currentValue2=f)}function Nl(x){var a=Hs.current;Sr(Hs),ln?x._currentValue=a:x._currentValue2=a}function Ll(x,a,f){for(;x!==null;){var S=x.alternate;if((x.childLanes&a)!==a?(x.childLanes|=a,S!==null&&(S.childLanes|=a)):S!==null&&(S.childLanes&a)!==a&&(S.childLanes|=a),x===f)break;x=x.return}}function Rs(x,a){Ru=x,Ha=Ta=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&a&&(Ul=!0),x.firstContext=null)}function Qo(x){var a=ln?x._currentValue:x._currentValue2;if(Ha!==x)if(x={context:x,memoizedValue:a,next:null},Ta===null){if(Ru===null)throw Error(c(308));Ta=x,Ru.dependencies={lanes:0,firstContext:x}}else Ta=Ta.next=x;return a}var Oo=null,Go=!1;function Uo(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cu(x,a){x=x.updateQueue,a.updateQueue===x&&(a.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Ks(x,a){return{eventTime:x,lane:a,tag:0,payload:null,callback:null,next:null}}function go(x,a){var f=x.updateQueue;f!==null&&(f=f.shared,ai!==null&&x.mode&1&&!(ti&2)?(x=f.interleaved,x===null?(a.next=a,Oo===null?Oo=[f]:Oo.push(f)):(a.next=x.next,x.next=a),f.interleaved=a):(x=f.pending,x===null?a.next=a:(a.next=x.next,x.next=a),f.pending=a))}function ma(x,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var S=a.lanes;S&=x.pendingLanes,f|=S,a.lanes=f,Ea(x,f)}}function Os(x,a){var f=x.updateQueue,S=x.alternate;if(S!==null&&(S=S.updateQueue,f===S)){var R=null,z=null;if(f=f.firstBaseUpdate,f!==null){do{var ne={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};z===null?R=z=ne:z=z.next=ne,f=f.next}while(f!==null);z===null?R=z=a:z=z.next=a}else R=z=a;f={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:z,shared:S.shared,effects:S.effects},x.updateQueue=f;return}x=f.lastBaseUpdate,x===null?f.firstBaseUpdate=a:x.next=a,f.lastBaseUpdate=a}function Ou(x,a,f,S){var R=x.updateQueue;Go=!1;var z=R.firstBaseUpdate,ne=R.lastBaseUpdate,ke=R.shared.pending;if(ke!==null){R.shared.pending=null;var nt=ke,Pt=nt.next;nt.next=null,ne===null?z=Pt:ne.next=Pt,ne=nt;var gn=x.alternate;gn!==null&&(gn=gn.updateQueue,ke=gn.lastBaseUpdate,ke!==ne&&(ke===null?gn.firstBaseUpdate=Pt:ke.next=Pt,gn.lastBaseUpdate=nt))}if(z!==null){var Jn=R.baseState;ne=0,gn=Pt=nt=null,ke=z;do{var Kn=ke.lane,Lr=ke.eventTime;if((S&Kn)===Kn){gn!==null&&(gn=gn.next={eventTime:Lr,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var Or=x,Mr=ke;switch(Kn=a,Lr=f,Mr.tag){case 1:if(Or=Mr.payload,typeof Or=="function"){Jn=Or.call(Lr,Jn,Kn);break e}Jn=Or;break e;case 3:Or.flags=Or.flags&-65537|128;case 0:if(Or=Mr.payload,Kn=typeof Or=="function"?Or.call(Lr,Jn,Kn):Or,Kn==null)break e;Jn=s({},Jn,Kn);break e;case 2:Go=!0}}ke.callback!==null&&ke.lane!==0&&(x.flags|=64,Kn=R.effects,Kn===null?R.effects=[ke]:Kn.push(ke))}else Lr={eventTime:Lr,lane:Kn,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},gn===null?(Pt=gn=Lr,nt=Jn):gn=gn.next=Lr,ne|=Kn;if(ke=ke.next,ke===null){if(ke=R.shared.pending,ke===null)break;Kn=ke,ke=Kn.next,Kn.next=null,R.lastBaseUpdate=Kn,R.shared.pending=null}}while(!0);if(gn===null&&(nt=Jn),R.baseState=nt,R.firstBaseUpdate=Pt,R.lastBaseUpdate=gn,a=R.shared.interleaved,a!==null){R=a;do ne|=R.lane,R=R.next;while(R!==a)}else z===null&&(R.shared.lanes=0);Hc|=ne,x.lanes=ne,x.memoizedState=Jn}}function al(x,a,f){if(x=a.effects,a.effects=null,x!==null)for(a=0;a<x.length;a++){var S=x[a],R=S.callback;if(R!==null){if(S.callback=null,S=f,typeof R!="function")throw Error(c(191,R));R.call(S)}}}var Ic=new r.Component().refs;function ic(x,a,f,S){a=x.memoizedState,f=f(S,a),f=f==null?a:s({},a,f),x.memoizedState=f,x.lanes===0&&(x.updateQueue.baseState=f)}var Fl={isMounted:function(x){return(x=x._reactInternals)?Le(x)===x:!1},enqueueSetState:function(x,a,f){x=x._reactInternals;var S=Ni(),R=Bo(x),z=Ks(S,R);z.payload=a,f!=null&&(z.callback=f),go(x,z),a=Ws(x,R,S),a!==null&&ma(a,x,R)},enqueueReplaceState:function(x,a,f){x=x._reactInternals;var S=Ni(),R=Bo(x),z=Ks(S,R);z.tag=1,z.payload=a,f!=null&&(z.callback=f),go(x,z),a=Ws(x,R,S),a!==null&&ma(a,x,R)},enqueueForceUpdate:function(x,a){x=x._reactInternals;var f=Ni(),S=Bo(x),R=Ks(f,S);R.tag=2,a!=null&&(R.callback=a),go(x,R),a=Ws(x,S,f),a!==null&&ma(a,x,S)}};function oc(x,a,f,S,R,z,ne){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(S,z,ne):a.prototype&&a.prototype.isPureReactComponent?!rc(f,S)||!rc(R,z):!0}function sf(x,a,f){var S=!1,R=Gr,z=a.contextType;return typeof z=="object"&&z!==null?z=Qo(z):(R=Gi(a)?wi:zr.current,S=a.contextTypes,z=(S=S!=null)?mo(x,R):Gr),a=new a(f,z),x.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Fl,x.stateNode=a,a._reactInternals=x,S&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=R,x.__reactInternalMemoizedMaskedChildContext=z),a}function Rc(x,a,f,S){x=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,S),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,S),a.state!==x&&Fl.enqueueReplaceState(a,a.state,null)}function Oc(x,a,f,S){var R=x.stateNode;R.props=f,R.state=x.memoizedState,R.refs=Ic,Uo(x);var z=a.contextType;typeof z=="object"&&z!==null?R.context=Qo(z):(z=Gi(a)?wi:zr.current,R.context=mo(x,z)),R.state=x.memoizedState,z=a.getDerivedStateFromProps,typeof z=="function"&&(ic(x,a,z,f),R.state=x.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(a=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),a!==R.state&&Fl.enqueueReplaceState(R,R.state,null),Ou(x,f,R,S),R.state=x.memoizedState),typeof R.componentDidMount=="function"&&(x.flags|=4194308)}var Ml=[],Tl=0,ll=null,Pl=0,Bs=[],ue=0,Ce=null,Ve=1,ft="";function en(x,a){Ml[Tl++]=Pl,Ml[Tl++]=ll,ll=x,Pl=a}function Vt(x,a,f){Bs[ue++]=Ve,Bs[ue++]=ft,Bs[ue++]=Ce,Ce=x;var S=Ve;x=ft;var R=32-Ge(S)-1;S&=~(1<<R),f+=1;var z=32-Ge(a)+R;if(30<z){var ne=R-R%5;z=(S&(1<<ne)-1).toString(32),S>>=ne,R-=ne,Ve=1<<32-Ge(a)+R|f<<R|S,ft=z+x}else Ve=1<<z|f<<R|S,ft=x}function zn(x){x.return!==null&&(en(x,1),Vt(x,1,0))}function ir(x){for(;x===ll;)ll=Ml[--Tl],Ml[Tl]=null,Pl=Ml[--Tl],Ml[Tl]=null;for(;x===Ce;)Ce=Bs[--ue],Bs[ue]=null,ft=Bs[--ue],Bs[ue]=null,Ve=Bs[--ue],Bs[ue]=null}var Zr=null,Xr=null,Cr=!1,Kr=!1,so=null;function To(x,a){var f=Rl(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=x,a=x.deletions,a===null?(x.deletions=[f],x.flags|=16):a.push(f)}function Ys(x,a){switch(x.tag){case 5:return a=Ri(a,x.type,x.pendingProps),a!==null?(x.stateNode=a,Zr=x,Xr=fi(a),!0):!1;case 6:return a=to(a,x.pendingProps),a!==null?(x.stateNode=a,Zr=x,Xr=null,!0):!1;case 13:if(a=_s(a),a!==null){var f=Ce!==null?{id:Ve,overflow:ft}:null;return x.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Rl(18,null,null,0),f.stateNode=a,f.return=x,x.child=f,Zr=x,Xr=null,!0}return!1;default:return!1}}function fu(x){return(x.mode&1)!==0&&(x.flags&128)===0}function vo(x){if(Cr){var a=Xr;if(a){var f=a;if(!Ys(x,a)){if(fu(x))throw Error(c(418));a=ks(f);var S=Zr;a&&Ys(x,a)?To(S,f):(x.flags=x.flags&-4097|2,Cr=!1,Zr=x)}}else{if(fu(x))throw Error(c(418));x.flags=x.flags&-4097|2,Cr=!1,Zr=x}}}function Ga(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Zr=x}function Ad(x){if(!nn||x!==Zr)return!1;if(!Cr)return Ga(x),Cr=!0,!1;if(x.tag!==3&&(x.tag!==5||on(x.type)&&!_t(x.type,x.memoizedProps))){var a=Xr;if(a){if(fu(x)){for(x=Xr;x;)x=ks(x);throw Error(c(418))}for(;a;)To(x,a),a=ks(a)}}if(Ga(x),x.tag===13){if(!nn)throw Error(c(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(c(317));Xr=Pe(x)}else Xr=Zr?ks(x.stateNode):null;return!0}function Bu(){nn&&(Xr=Zr=null,Kr=Cr=!1)}function Du(x){so===null?so=[x]:so.push(x)}function sc(x,a,f){if(x=f.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(c(309));var S=f.stateNode}if(!S)throw Error(c(147,x));var R=S,z=""+x;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===z?a.ref:(a=function(ne){var ke=R.refs;ke===Ic&&(ke=R.refs={}),ne===null?delete ke[z]:ke[z]=ne},a._stringRef=z,a)}if(typeof x!="string")throw Error(c(284));if(!f._owner)throw Error(c(290,x))}return x}function Bc(x,a){throw x=Object.prototype.toString.call(a),Error(c(31,x==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":x))}function du(x){var a=x._init;return a(x._payload)}function Nu(x){function a(sn,et){if(x){var rt=sn.deletions;rt===null?(sn.deletions=[et],sn.flags|=16):rt.push(et)}}function f(sn,et){if(!x)return null;for(;et!==null;)a(sn,et),et=et.sibling;return null}function S(sn,et){for(sn=new Map;et!==null;)et.key!==null?sn.set(et.key,et):sn.set(et.index,et),et=et.sibling;return sn}function R(sn,et){return sn=Tf(sn,et),sn.index=0,sn.sibling=null,sn}function z(sn,et,rt){return sn.index=rt,x?(rt=sn.alternate,rt!==null?(rt=rt.index,rt<et?(sn.flags|=2,et):rt):(sn.flags|=2,et)):(sn.flags|=1048576,et)}function ne(sn){return x&&sn.alternate===null&&(sn.flags|=2),sn}function ke(sn,et,rt,Rt){return et===null||et.tag!==6?(et=ed(rt,sn.mode,Rt),et.return=sn,et):(et=R(et,rt),et.return=sn,et)}function nt(sn,et,rt,Rt){var Fn=rt.type;return Fn===b?gn(sn,et,rt.props.children,Rt,rt.key):et!==null&&(et.elementType===Fn||typeof Fn=="object"&&Fn!==null&&Fn.$$typeof===T&&du(Fn)===et.type)?(Rt=R(et,rt.props),Rt.ref=sc(sn,et,rt),Rt.return=sn,Rt):(Rt=wu(rt.type,rt.key,rt.props,null,sn.mode,Rt),Rt.ref=sc(sn,et,rt),Rt.return=sn,Rt)}function Pt(sn,et,rt,Rt){return et===null||et.tag!==4||et.stateNode.containerInfo!==rt.containerInfo||et.stateNode.implementation!==rt.implementation?(et=Ih(rt,sn.mode,Rt),et.return=sn,et):(et=R(et,rt.children||[]),et.return=sn,et)}function gn(sn,et,rt,Rt,Fn){return et===null||et.tag!==7?(et=gc(rt,sn.mode,Rt,Fn),et.return=sn,et):(et=R(et,rt),et.return=sn,et)}function Jn(sn,et,rt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=ed(""+et,sn.mode,rt),et.return=sn,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case g:return rt=wu(et.type,et.key,et.props,null,sn.mode,rt),rt.ref=sc(sn,null,et),rt.return=sn,rt;case _:return et=Ih(et,sn.mode,rt),et.return=sn,et;case T:var Rt=et._init;return Jn(sn,Rt(et._payload),rt)}if(be(et)||le(et))return et=gc(et,sn.mode,rt,null),et.return=sn,et;Bc(sn,et)}return null}function Kn(sn,et,rt,Rt){var Fn=et!==null?et.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Fn!==null?null:ke(sn,et,""+rt,Rt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:return rt.key===Fn?nt(sn,et,rt,Rt):null;case _:return rt.key===Fn?Pt(sn,et,rt,Rt):null;case T:return Fn=rt._init,Kn(sn,et,Fn(rt._payload),Rt)}if(be(rt)||le(rt))return Fn!==null?null:gn(sn,et,rt,Rt,null);Bc(sn,rt)}return null}function Lr(sn,et,rt,Rt,Fn){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return sn=sn.get(rt)||null,ke(et,sn,""+Rt,Fn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case g:return sn=sn.get(Rt.key===null?rt:Rt.key)||null,nt(et,sn,Rt,Fn);case _:return sn=sn.get(Rt.key===null?rt:Rt.key)||null,Pt(et,sn,Rt,Fn);case T:var ar=Rt._init;return Lr(sn,et,rt,ar(Rt._payload),Fn)}if(be(Rt)||le(Rt))return sn=sn.get(rt)||null,gn(et,sn,Rt,Fn,null);Bc(et,Rt)}return null}function Or(sn,et,rt,Rt){for(var Fn=null,ar=null,Br=et,Ur=et=0,Li=null;Br!==null&&Ur<rt.length;Ur++){Br.index>Ur?(Li=Br,Br=null):Li=Br.sibling;var Fi=Kn(sn,Br,rt[Ur],Rt);if(Fi===null){Br===null&&(Br=Li);break}x&&Br&&Fi.alternate===null&&a(sn,Br),et=z(Fi,et,Ur),ar===null?Fn=Fi:ar.sibling=Fi,ar=Fi,Br=Li}if(Ur===rt.length)return f(sn,Br),Cr&&en(sn,Ur),Fn;if(Br===null){for(;Ur<rt.length;Ur++)Br=Jn(sn,rt[Ur],Rt),Br!==null&&(et=z(Br,et,Ur),ar===null?Fn=Br:ar.sibling=Br,ar=Br);return Cr&&en(sn,Ur),Fn}for(Br=S(sn,Br);Ur<rt.length;Ur++)Li=Lr(Br,sn,Ur,rt[Ur],Rt),Li!==null&&(x&&Li.alternate!==null&&Br.delete(Li.key===null?Ur:Li.key),et=z(Li,et,Ur),ar===null?Fn=Li:ar.sibling=Li,ar=Li);return x&&Br.forEach(function($i){return a(sn,$i)}),Cr&&en(sn,Ur),Fn}function Mr(sn,et,rt,Rt){var Fn=le(rt);if(typeof Fn!="function")throw Error(c(150));if(rt=Fn.call(rt),rt==null)throw Error(c(151));for(var ar=Fn=null,Br=et,Ur=et=0,Li=null,Fi=rt.next();Br!==null&&!Fi.done;Ur++,Fi=rt.next()){Br.index>Ur?(Li=Br,Br=null):Li=Br.sibling;var $i=Kn(sn,Br,Fi.value,Rt);if($i===null){Br===null&&(Br=Li);break}x&&Br&&$i.alternate===null&&a(sn,Br),et=z($i,et,Ur),ar===null?Fn=$i:ar.sibling=$i,ar=$i,Br=Li}if(Fi.done)return f(sn,Br),Cr&&en(sn,Ur),Fn;if(Br===null){for(;!Fi.done;Ur++,Fi=rt.next())Fi=Jn(sn,Fi.value,Rt),Fi!==null&&(et=z(Fi,et,Ur),ar===null?Fn=Fi:ar.sibling=Fi,ar=Fi);return Cr&&en(sn,Ur),Fn}for(Br=S(sn,Br);!Fi.done;Ur++,Fi=rt.next())Fi=Lr(Br,sn,Ur,Fi.value,Rt),Fi!==null&&(x&&Fi.alternate!==null&&Br.delete(Fi.key===null?Ur:Fi.key),et=z(Fi,et,Ur),ar===null?Fn=Fi:ar.sibling=Fi,ar=Fi);return x&&Br.forEach(function(Xc){return a(sn,Xc)}),Cr&&en(sn,Ur),Fn}function Zi(sn,et,rt,Rt){if(typeof rt=="object"&&rt!==null&&rt.type===b&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:e:{for(var Fn=rt.key,ar=et;ar!==null;){if(ar.key===Fn){if(Fn=rt.type,Fn===b){if(ar.tag===7){f(sn,ar.sibling),et=R(ar,rt.props.children),et.return=sn,sn=et;break e}}else if(ar.elementType===Fn||typeof Fn=="object"&&Fn!==null&&Fn.$$typeof===T&&du(Fn)===ar.type){f(sn,ar.sibling),et=R(ar,rt.props),et.ref=sc(sn,ar,rt),et.return=sn,sn=et;break e}f(sn,ar);break}else a(sn,ar);ar=ar.sibling}rt.type===b?(et=gc(rt.props.children,sn.mode,Rt,rt.key),et.return=sn,sn=et):(Rt=wu(rt.type,rt.key,rt.props,null,sn.mode,Rt),Rt.ref=sc(sn,et,rt),Rt.return=sn,sn=Rt)}return ne(sn);case _:e:{for(ar=rt.key;et!==null;){if(et.key===ar)if(et.tag===4&&et.stateNode.containerInfo===rt.containerInfo&&et.stateNode.implementation===rt.implementation){f(sn,et.sibling),et=R(et,rt.children||[]),et.return=sn,sn=et;break e}else{f(sn,et);break}else a(sn,et);et=et.sibling}et=Ih(rt,sn.mode,Rt),et.return=sn,sn=et}return ne(sn);case T:return ar=rt._init,Zi(sn,et,ar(rt._payload),Rt)}if(be(rt))return Or(sn,et,rt,Rt);if(le(rt))return Mr(sn,et,rt,Rt);Bc(sn,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,et!==null&&et.tag===6?(f(sn,et.sibling),et=R(et,rt),et.return=sn,sn=et):(f(sn,et),et=ed(rt,sn.mode,Rt),et.return=sn,sn=et),ne(sn)):f(sn,et)}return Zi}var af=Nu(!0),ac=Nu(!1),lf={},qs=ii(lf),Qs=ii(lf),Te=ii(lf);function ot(x){if(x===lf)throw Error(c(174));return x}function Tt(x,a){Ln(Te,a),Ln(Qs,x),Ln(qs,lf),x=Ye(a),Sr(qs),Ln(qs,x)}function An(){Sr(qs),Sr(Qs),Sr(Te)}function pi(x){var a=ot(Te.current),f=ot(qs.current);a=de(f,x.type,a),f!==a&&(Ln(Qs,x),Ln(qs,a))}function Co(x){Qs.current===x&&(Sr(qs),Sr(Qs))}var no=ii(0);function yo(x){for(var a=x;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||zs(f)||ol(f)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===x)break;for(;a.sibling===null;){if(a.return===null||a.return===x)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var uf=[];function Js(){for(var x=0;x<uf.length;x++){var a=uf[x];ln?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}uf.length=0}var kl=d.ReactCurrentDispatcher,Va=d.ReactCurrentBatchConfig,Wa=0,Jo=null,co=null,wo=null,ia=!1,cf=!1,zl=0,Dc=0;function oa(){throw Error(c(321))}function Gs(x,a){if(a===null)return!1;for(var f=0;f<a.length&&f<x.length;f++)if(!as(x[f],a[f]))return!1;return!0}function ff(x,a,f,S,R,z){if(Wa=z,Jo=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kl.current=x===null||x.memoizedState===null?vh:Zo,x=f(S,R),cf){z=0;do{if(cf=!1,zl=0,25<=z)throw Error(c(301));z+=1,wo=co=null,a.updateQueue=null,kl.current=Nm,x=f(S,R)}while(cf)}if(kl.current=Wf,a=co!==null&&co.next!==null,Wa=0,wo=co=Jo=null,ia=!1,a)throw Error(c(300));return x}function Cd(){var x=zl!==0;return zl=0,x}function Xa(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wo===null?Jo.memoizedState=wo=x:wo=wo.next=x,wo}function ga(){if(co===null){var x=Jo.alternate;x=x!==null?x.memoizedState:null}else x=co.next;var a=wo===null?Jo.memoizedState:wo.next;if(a!==null)wo=a,co=x;else{if(x===null)throw Error(c(310));co=x,x={memoizedState:co.memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},wo===null?Jo.memoizedState=wo=x:wo=wo.next=x}return wo}function Pa(x,a){return typeof a=="function"?a(x):a}function ul(x){var a=ga(),f=a.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=x;var S=co,R=S.baseQueue,z=f.pending;if(z!==null){if(R!==null){var ne=R.next;R.next=z.next,z.next=ne}S.baseQueue=R=z,f.pending=null}if(R!==null){z=R.next,S=S.baseState;var ke=ne=null,nt=null,Pt=z;do{var gn=Pt.lane;if((Wa&gn)===gn)nt!==null&&(nt=nt.next={lane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),S=Pt.hasEagerState?Pt.eagerState:x(S,Pt.action);else{var Jn={lane:gn,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null};nt===null?(ke=nt=Jn,ne=S):nt=nt.next=Jn,Jo.lanes|=gn,Hc|=gn}Pt=Pt.next}while(Pt!==null&&Pt!==z);nt===null?ne=S:nt.next=ke,as(S,a.memoizedState)||(Ul=!0),a.memoizedState=S,a.baseState=ne,a.baseQueue=nt,f.lastRenderedState=S}if(x=f.interleaved,x!==null){R=x;do z=R.lane,Jo.lanes|=z,Hc|=z,R=R.next;while(R!==x)}else R===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function jf(x){var a=ga(),f=a.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=x;var S=f.dispatch,R=f.pending,z=a.memoizedState;if(R!==null){f.pending=null;var ne=R=R.next;do z=x(z,ne.action),ne=ne.next;while(ne!==R);as(z,a.memoizedState)||(Ul=!0),a.memoizedState=z,a.baseQueue===null&&(a.baseState=z),f.lastRenderedState=z}return[z,S]}function Md(){}function Xp(x,a){var f=Jo,S=ga(),R=a(),z=!as(S.memoizedState,R);if(z&&(S.memoizedState=R,Ul=!0),S=S.queue,hf(ip.bind(null,f,S,x),[x]),S.getSnapshot!==a||z||wo!==null&&wo.memoizedState.tag&1){if(f.flags|=2048,Hf(9,Td.bind(null,f,S,R,a),void 0,null),ai===null)throw Error(c(349));Wa&30||Kp(f,a,R)}return R}function Kp(x,a,f){x.flags|=16384,x={getSnapshot:a,value:f},a=Jo.updateQueue,a===null?(a={lastEffect:null,stores:null},Jo.updateQueue=a,a.stores=[x]):(f=a.stores,f===null?a.stores=[x]:f.push(x))}function Td(x,a,f,S){a.value=f,a.getSnapshot=S,df(a)&&Ws(x,1,-1)}function ip(x,a,f){return f(function(){df(a)&&Ws(x,1,-1)})}function df(x){var a=x.getSnapshot;x=x.value;try{var f=a();return!as(x,f)}catch{return!0}}function Pd(x){var a=Xa();return typeof x=="function"&&(x=x()),a.memoizedState=a.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:x},a.queue=x,x=x.dispatch=jg.bind(null,Jo,x),[a.memoizedState,x]}function Hf(x,a,f,S){return x={tag:x,create:a,destroy:f,deps:S,next:null},a=Jo.updateQueue,a===null?(a={lastEffect:null,stores:null},Jo.updateQueue=a,a.lastEffect=x.next=x):(f=a.lastEffect,f===null?a.lastEffect=x.next=x:(S=f.next,f.next=x,x.next=S,a.lastEffect=x)),x}function Gf(){return ga().memoizedState}function Vf(x,a,f,S){var R=Xa();Jo.flags|=x,R.memoizedState=Hf(1|a,f,void 0,S===void 0?null:S)}function lc(x,a,f,S){var R=ga();S=S===void 0?null:S;var z=void 0;if(co!==null){var ne=co.memoizedState;if(z=ne.destroy,S!==null&&Gs(S,ne.deps)){R.memoizedState=Hf(a,f,z,S);return}}Jo.flags|=x,R.memoizedState=Hf(1|a,f,z,S)}function kd(x,a){return Vf(8390656,8,x,a)}function hf(x,a){return lc(2048,8,x,a)}function Id(x,a){return lc(4,2,x,a)}function Ko(x,a){return lc(4,4,x,a)}function op(x,a){if(typeof a=="function")return x=x(),a(x),function(){a(null)};if(a!=null)return x=x(),a.current=x,function(){a.current=null}}function ph(x,a,f){return f=f!=null?f.concat([x]):null,lc(4,4,op.bind(null,a,x),f)}function uc(){}function sp(x,a){var f=ga();a=a===void 0?null:a;var S=f.memoizedState;return S!==null&&a!==null&&Gs(a,S[1])?S[0]:(f.memoizedState=[x,a],x)}function ap(x,a){var f=ga();a=a===void 0?null:a;var S=f.memoizedState;return S!==null&&a!==null&&Gs(a,S[1])?S[0]:(x=x(),f.memoizedState=[x,a],x)}function mh(x,a){var f=Pi;Pi=f!==0&&4>f?f:4,x(!0);var S=Va.transition;Va.transition={};try{x(!1),a()}finally{Pi=f,Va.transition=S}}function lp(){return ga().memoizedState}function Rd(x,a,f){var S=Bo(x);f={lane:S,action:f,hasEagerState:!1,eagerState:null,next:null},Hg(x)?Dm(a,f):(Yp(x,a,f),f=Ni(),x=Ws(x,S,f),x!==null&&gh(x,a,S))}function jg(x,a,f){var S=Bo(x),R={lane:S,action:f,hasEagerState:!1,eagerState:null,next:null};if(Hg(x))Dm(a,R);else{Yp(x,a,R);var z=x.alternate;if(x.lanes===0&&(z===null||z.lanes===0)&&(z=a.lastRenderedReducer,z!==null))try{var ne=a.lastRenderedState,ke=z(ne,f);if(R.hasEagerState=!0,R.eagerState=ke,as(ke,ne))return}catch{}finally{}f=Ni(),x=Ws(x,S,f),x!==null&&gh(x,a,S)}}function Hg(x){var a=x.alternate;return x===Jo||a!==null&&a===Jo}function Dm(x,a){cf=ia=!0;var f=x.pending;f===null?a.next=a:(a.next=f.next,f.next=a),x.pending=a}function Yp(x,a,f){ai!==null&&x.mode&1&&!(ti&2)?(x=a.interleaved,x===null?(f.next=f,Oo===null?Oo=[a]:Oo.push(a)):(f.next=x.next,x.next=f),a.interleaved=f):(x=a.pending,x===null?f.next=f:(f.next=x.next,x.next=f),a.pending=f)}function gh(x,a,f){if(f&4194240){var S=a.lanes;S&=x.pendingLanes,f|=S,a.lanes=f,Ea(x,f)}}var Wf={readContext:Qo,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},vh={readContext:Qo,useCallback:function(x,a){return Xa().memoizedState=[x,a===void 0?null:a],x},useContext:Qo,useEffect:kd,useImperativeHandle:function(x,a,f){return f=f!=null?f.concat([x]):null,Vf(4194308,4,op.bind(null,a,x),f)},useLayoutEffect:function(x,a){return Vf(4194308,4,x,a)},useInsertionEffect:function(x,a){return Vf(4,2,x,a)},useMemo:function(x,a){var f=Xa();return a=a===void 0?null:a,x=x(),f.memoizedState=[x,a],x},useReducer:function(x,a,f){var S=Xa();return a=f!==void 0?f(a):a,S.memoizedState=S.baseState=a,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:a},S.queue=x,x=x.dispatch=Rd.bind(null,Jo,x),[S.memoizedState,x]},useRef:function(x){var a=Xa();return x={current:x},a.memoizedState=x},useState:Pd,useDebugValue:uc,useDeferredValue:function(x){var a=Pd(x),f=a[0],S=a[1];return kd(function(){var R=Va.transition;Va.transition={};try{S(x)}finally{Va.transition=R}},[x]),f},useTransition:function(){var x=Pd(!1),a=x[0];return x=mh.bind(null,x[1]),Xa().memoizedState=x,[a,x]},useMutableSource:function(){},useSyncExternalStore:function(x,a,f){var S=Jo,R=Xa();if(Cr){if(f===void 0)throw Error(c(407));f=f()}else{if(f=a(),ai===null)throw Error(c(349));Wa&30||Kp(S,a,f)}R.memoizedState=f;var z={value:f,getSnapshot:a};return R.queue=z,kd(ip.bind(null,S,z,x),[x]),S.flags|=2048,Hf(9,Td.bind(null,S,z,f,a),void 0,null),f},useId:function(){var x=Xa(),a=ai.identifierPrefix;if(Cr){var f=ft,S=Ve;f=(S&~(1<<32-Ge(S)-1)).toString(32)+f,a=":"+a+"R"+f,f=zl++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=Dc++,a=":"+a+"r"+f.toString(32)+":";return x.memoizedState=a},unstable_isNewReconciler:!1},Zo={readContext:Qo,useCallback:sp,useContext:Qo,useEffect:hf,useImperativeHandle:ph,useInsertionEffect:Id,useLayoutEffect:Ko,useMemo:ap,useReducer:ul,useRef:Gf,useState:function(){return ul(Pa)},useDebugValue:uc,useDeferredValue:function(x){var a=ul(Pa),f=a[0],S=a[1];return hf(function(){var R=Va.transition;Va.transition={};try{S(x)}finally{Va.transition=R}},[x]),f},useTransition:function(){var x=ul(Pa)[0],a=ga().memoizedState;return[x,a]},useMutableSource:Md,useSyncExternalStore:Xp,useId:lp,unstable_isNewReconciler:!1},Nm={readContext:Qo,useCallback:sp,useContext:Qo,useEffect:hf,useImperativeHandle:ph,useInsertionEffect:Id,useLayoutEffect:Ko,useMemo:ap,useReducer:jf,useRef:Gf,useState:function(){return jf(Pa)},useDebugValue:uc,useDeferredValue:function(x){var a=jf(Pa),f=a[0],S=a[1];return hf(function(){var R=Va.transition;Va.transition={};try{S(x)}finally{Va.transition=R}},[x]),f},useTransition:function(){var x=jf(Pa)[0],a=ga().memoizedState;return[x,a]},useMutableSource:Md,useSyncExternalStore:Xp,useId:lp,unstable_isNewReconciler:!1};function qp(x,a){try{var f="",S=a;do f+=sl(S),S=S.return;while(S);var R=f}catch(z){R=`
Error generating stack: `+z.message+`
`+z.stack}return{value:x,source:a,stack:R}}function Qp(x,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var yh=typeof WeakMap=="function"?WeakMap:Map;function Lm(x,a,f){f=Ks(-1,f),f.tag=3,f.payload={element:null};var S=a.value;return f.callback=function(){Sf||(Sf=!0,bf=S),Qp(x,a)},f}function Jp(x,a,f){f=Ks(-1,f),f.tag=3;var S=x.type.getDerivedStateFromError;if(typeof S=="function"){var R=a.value;f.payload=function(){return S(R)},f.callback=function(){Qp(x,a)}}var z=x.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(f.callback=function(){Qp(x,a),typeof S!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var ne=a.stack;this.componentDidCatch(a.value,{componentStack:ne!==null?ne:""})}),f}function pf(x,a,f){var S=x.pingCache;if(S===null){S=x.pingCache=new yh;var R=new Set;S.set(a,R)}else R=S.get(a),R===void 0&&(R=new Set,S.set(a,R));R.has(f)||(R.add(f),x=Qa.bind(null,x,a,f),a.then(x,x))}function Nc(x){do{var a;if((a=x.tag===13)&&(a=x.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return x;x=x.return}while(x!==null);return null}function _h(x,a,f,S,R){return x.mode&1?(x.flags|=65536,x.lanes=R,x):(x===a?x.flags|=65536:(x.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Ks(-1,1),a.tag=2,go(f,a))),f.lanes|=1),x)}function cl(x){x.flags|=4}function Zs(x,a){if(x!==null&&x.child===a.child)return!0;if(a.flags&16)return!1;for(x=a.child;x!==null;){if(x.flags&12854||x.subtreeFlags&12854)return!1;x=x.sibling}return!0}var Po,ka,Lc,Xf;if(bn)Po=function(x,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)ge(x,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ka=function(){},Lc=function(x,a,f,S,R){if(x=x.memoizedProps,x!==S){var z=a.stateNode,ne=ot(qs.current);f=qe(z,f,x,S,R,ne),(a.updateQueue=f)&&cl(a)}},Xf=function(x,a,f,S){f!==S&&cl(a)};else if(Ze){Po=function(x,a,f,S){for(var R=a.child;R!==null;){if(R.tag===5){var z=R.stateNode;f&&S&&(z=eo(z,R.type,R.memoizedProps,R)),ge(x,z)}else if(R.tag===6)z=R.stateNode,f&&S&&(z=Ro(z,R.memoizedProps,R)),ge(x,z);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)z=R.child,z!==null&&(z.return=R),Po(x,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===a)break;for(;R.sibling===null;){if(R.return===null||R.return===a)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var Od=function(x,a,f,S){for(var R=a.child;R!==null;){if(R.tag===5){var z=R.stateNode;f&&S&&(z=eo(z,R.type,R.memoizedProps,R)),xr(x,z)}else if(R.tag===6)z=R.stateNode,f&&S&&(z=Ro(z,R.memoizedProps,R)),xr(x,z);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)z=R.child,z!==null&&(z.return=R),Od(x,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===a)break;for(;R.sibling===null;){if(R.return===null||R.return===a)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};ka=function(x,a){var f=a.stateNode;if(!Zs(x,a)){x=f.containerInfo;var S=er(x);Od(S,a,!1,!1),f.pendingChildren=S,cl(a),Mi(x,S)}},Lc=function(x,a,f,S,R){var z=x.stateNode,ne=x.memoizedProps;if((x=Zs(x,a))&&ne===S)a.stateNode=z;else{var ke=a.stateNode,nt=ot(qs.current),Pt=null;ne!==S&&(Pt=qe(ke,f,ne,S,R,nt)),x&&Pt===null?a.stateNode=z:(z=Xt(z,Pt,f,ne,S,a,x,ke),dt(z,f,S,R,nt)&&cl(a),a.stateNode=z,x?cl(a):Po(z,a,!1,!1))}},Xf=function(x,a,f,S){f!==S?(x=ot(Te.current),f=ot(qs.current),a.stateNode=Qe(S,x,f,a),cl(a)):a.stateNode=x.stateNode}}else ka=function(){},Lc=function(){},Xf=function(){};function Lu(x,a){if(!Cr)switch(x.tailMode){case"hidden":a=x.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?x.tail=null:f.sibling=null;break;case"collapsed":f=x.tail;for(var S=null;f!==null;)f.alternate!==null&&(S=f),f=f.sibling;S===null?a||x.tail===null?x.tail=null:x.tail.sibling=null:S.sibling=null}}function Yo(x){var a=x.alternate!==null&&x.alternate.child===x.child,f=0,S=0;if(a)for(var R=x.child;R!==null;)f|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=x,R=R.sibling;else for(R=x.child;R!==null;)f|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=x,R=R.sibling;return x.subtreeFlags|=S,x.childLanes=f,a}function $s(x,a,f){var S=a.pendingProps;switch(ir(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(a),null;case 1:return Gi(a.type)&&si(),Yo(a),null;case 3:return S=a.stateNode,An(),Sr(Wr),Sr(zr),Js(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(x===null||x.child===null)&&(Ad(a)?cl(a):x===null||x.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,so!==null&&(ts(so),so=null))),ka(x,a),Yo(a),null;case 5:Co(a),f=ot(Te.current);var R=a.type;if(x!==null&&a.stateNode!=null)Lc(x,a,R,S,f),x.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!S){if(a.stateNode===null)throw Error(c(166));return Yo(a),null}if(x=ot(qs.current),Ad(a)){if(!nn)throw Error(c(175));x=Re(a.stateNode,a.type,a.memoizedProps,f,x,a,!Kr),a.updateQueue=x,x!==null&&cl(a)}else{var z=_e(R,S,f,x,a);Po(z,a,!1,!1),a.stateNode=z,dt(z,R,S,f,x)&&cl(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Yo(a),null;case 6:if(x&&a.stateNode!=null)Xf(x,a,x.memoizedProps,S);else{if(typeof S!="string"&&a.stateNode===null)throw Error(c(166));if(x=ot(Te.current),f=ot(qs.current),Ad(a)){if(!nn)throw Error(c(176));if(x=a.stateNode,S=a.memoizedProps,(f=$e(x,S,a,!Kr))&&(R=Zr,R!==null))switch(z=(R.mode&1)!==0,R.tag){case 3:Sn(R.stateNode.containerInfo,x,S,z);break;case 5:In(R.type,R.memoizedProps,R.stateNode,x,S,z)}f&&cl(a)}else a.stateNode=Qe(S,x,f,a)}return Yo(a),null;case 13:if(Sr(no),S=a.memoizedState,Cr&&Xr!==null&&a.mode&1&&!(a.flags&128)){for(x=Xr;x;)x=ks(x);return Bu(),a.flags|=98560,a}if(S!==null&&S.dehydrated!==null){if(S=Ad(a),x===null){if(!S)throw Error(c(318));if(!nn)throw Error(c(344));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(c(317));At(x,a)}else Bu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;return Yo(a),null}return so!==null&&(ts(so),so=null),a.flags&128?(a.lanes=f,a):(S=S!==null,f=!1,x===null?Ad(a):f=x.memoizedState!==null,S&&!f&&(a.child.flags|=8192,a.mode&1&&(x===null||no.current&1?es===0&&(es=3):Ph())),a.updateQueue!==null&&(a.flags|=4),Yo(a),null);case 4:return An(),ka(x,a),x===null&&fn(a.stateNode.containerInfo),Yo(a),null;case 10:return Nl(a.type._context),Yo(a),null;case 17:return Gi(a.type)&&si(),Yo(a),null;case 19:if(Sr(no),R=a.memoizedState,R===null)return Yo(a),null;if(S=(a.flags&128)!==0,z=R.rendering,z===null)if(S)Lu(R,!1);else{if(es!==0||x!==null&&x.flags&128)for(x=a.child;x!==null;){if(z=yo(x),z!==null){for(a.flags|=128,Lu(R,!1),x=z.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),a.subtreeFlags=0,x=f,S=a.child;S!==null;)f=S,R=x,f.flags&=14680066,z=f.alternate,z===null?(f.childLanes=0,f.lanes=R,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=z.childLanes,f.lanes=z.lanes,f.child=z.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=z.memoizedProps,f.memoizedState=z.memoizedState,f.updateQueue=z.updateQueue,f.type=z.type,R=z.dependencies,f.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),S=S.sibling;return Ln(no,no.current&1|2),a.child}x=x.sibling}R.tail!==null&&Us()>Th&&(a.flags|=128,S=!0,Lu(R,!1),a.lanes=4194304)}else{if(!S)if(x=yo(z),x!==null){if(a.flags|=128,S=!0,x=x.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),Lu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!z.alternate&&!Cr)return Yo(a),null}else 2*Us()-R.renderingStartTime>Th&&f!==1073741824&&(a.flags|=128,S=!0,Lu(R,!1),a.lanes=4194304);R.isBackwards?(z.sibling=a.child,a.child=z):(x=R.last,x!==null?x.sibling=z:a.child=z,R.last=z)}return R.tail!==null?(a=R.tail,R.rendering=a,R.tail=a.sibling,R.renderingStartTime=Us(),a.sibling=null,x=no.current,Ln(no,S?x&1|2:x&1),a):(Yo(a),null);case 22:case 23:return Yf(),S=a.memoizedState!==null,x!==null&&x.memoizedState!==null!==S&&(a.flags|=8192),S&&a.mode&1?Lo&1073741824&&(Yo(a),bn&&a.subtreeFlags&6&&(a.flags|=8192)):Yo(a),null;case 24:return null;case 25:return null}throw Error(c(156,a.tag))}var wh=d.ReactCurrentOwner,Ul=!1;function xo(x,a,f,S){a.child=x===null?ac(a,null,f,S):af(a,x.child,f,S)}function ms(x,a,f,S,R){f=f.render;var z=a.ref;return Rs(a,R),S=ff(x,a,f,S,z,R),f=Cd(),x!==null&&!Ul?(a.updateQueue=x.updateQueue,a.flags&=-2053,x.lanes&=~R,Ya(x,a,R)):(Cr&&f&&zn(a),a.flags|=1,xo(x,a,S,R),a.child)}function $o(x,a,f,S,R){if(x===null){var z=f.type;return typeof z=="function"&&!Wl(z)&&z.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=z,Vo(x,a,z,S,R)):(x=wu(f.type,null,S,a,a.mode,R),x.ref=a.ref,x.return=a,a.child=x)}if(z=x.child,!(x.lanes&R)){var ne=z.memoizedProps;if(f=f.compare,f=f!==null?f:rc,f(ne,S)&&x.ref===a.ref)return Ya(x,a,R)}return a.flags|=1,x=Tf(z,S),x.ref=a.ref,x.return=a,a.child=x}function Vo(x,a,f,S,R){if(x!==null&&rc(x.memoizedProps,S)&&x.ref===a.ref)if(Ul=!1,(x.lanes&R)!==0)x.flags&131072&&(Ul=!0);else return a.lanes=x.lanes,Ya(x,a,R);return fl(x,a,f,S,R)}function Fc(x,a,f){var S=a.pendingProps,R=S.children,z=x!==null?x.memoizedState:null;if(S.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null},Ln(va,Lo),Lo|=f;else if(f&1073741824)a.memoizedState={baseLanes:0,cachePool:null},S=z!==null?z.baseLanes:f,Ln(va,Lo),Lo|=S;else return x=z!==null?z.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:x,cachePool:null},a.updateQueue=null,Ln(va,Lo),Lo|=x,null;else z!==null?(S=z.baseLanes|f,a.memoizedState=null):S=f,Ln(va,Lo),Lo|=S;return xo(x,a,R,f),a.child}function Ka(x,a){var f=a.ref;(x===null&&f!==null||x!==null&&x.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function fl(x,a,f,S,R){var z=Gi(f)?wi:zr.current;return z=mo(a,z),Rs(a,R),f=ff(x,a,f,S,z,R),S=Cd(),x!==null&&!Ul?(a.updateQueue=x.updateQueue,a.flags&=-2053,x.lanes&=~R,Ya(x,a,R)):(Cr&&S&&zn(a),a.flags|=1,xo(x,a,f,R),a.child)}function cc(x,a,f,S,R){if(Gi(f)){var z=!0;ae(a)}else z=!1;if(Rs(a,R),a.stateNode===null)x!==null&&(x.alternate=null,a.alternate=null,a.flags|=2),sf(a,f,S),Oc(a,f,S,R),S=!0;else if(x===null){var ne=a.stateNode,ke=a.memoizedProps;ne.props=ke;var nt=ne.context,Pt=f.contextType;typeof Pt=="object"&&Pt!==null?Pt=Qo(Pt):(Pt=Gi(f)?wi:zr.current,Pt=mo(a,Pt));var gn=f.getDerivedStateFromProps,Jn=typeof gn=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Jn||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ke!==S||nt!==Pt)&&Rc(a,ne,S,Pt),Go=!1;var Kn=a.memoizedState;ne.state=Kn,Ou(a,S,ne,R),nt=a.memoizedState,ke!==S||Kn!==nt||Wr.current||Go?(typeof gn=="function"&&(ic(a,f,gn,S),nt=a.memoizedState),(ke=Go||oc(a,f,ke,S,Kn,nt,Pt))?(Jn||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(a.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=S,a.memoizedState=nt),ne.props=S,ne.state=nt,ne.context=Pt,S=ke):(typeof ne.componentDidMount=="function"&&(a.flags|=4194308),S=!1)}else{ne=a.stateNode,cu(x,a),ke=a.memoizedProps,Pt=a.type===a.elementType?ke:Ma(a.type,ke),ne.props=Pt,Jn=a.pendingProps,Kn=ne.context,nt=f.contextType,typeof nt=="object"&&nt!==null?nt=Qo(nt):(nt=Gi(f)?wi:zr.current,nt=mo(a,nt));var Lr=f.getDerivedStateFromProps;(gn=typeof Lr=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ke!==Jn||Kn!==nt)&&Rc(a,ne,S,nt),Go=!1,Kn=a.memoizedState,ne.state=Kn,Ou(a,S,ne,R);var Or=a.memoizedState;ke!==Jn||Kn!==Or||Wr.current||Go?(typeof Lr=="function"&&(ic(a,f,Lr,S),Or=a.memoizedState),(Pt=Go||oc(a,f,Pt,S,Kn,Or,nt)||!1)?(gn||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(S,Or,nt),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(S,Or,nt)),typeof ne.componentDidUpdate=="function"&&(a.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof ne.componentDidUpdate!="function"||ke===x.memoizedProps&&Kn===x.memoizedState||(a.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ke===x.memoizedProps&&Kn===x.memoizedState||(a.flags|=1024),a.memoizedProps=S,a.memoizedState=Or),ne.props=S,ne.state=Or,ne.context=nt,S=Pt):(typeof ne.componentDidUpdate!="function"||ke===x.memoizedProps&&Kn===x.memoizedState||(a.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ke===x.memoizedProps&&Kn===x.memoizedState||(a.flags|=1024),S=!1)}return mf(x,a,f,S,z,R)}function mf(x,a,f,S,R,z){Ka(x,a);var ne=(a.flags&128)!==0;if(!S&&!ne)return R&&Ae(a,f,!1),Ya(x,a,z);S=a.stateNode,wh.current=a;var ke=ne&&typeof f.getDerivedStateFromError!="function"?null:S.render();return a.flags|=1,x!==null&&ne?(a.child=af(a,x.child,null,z),a.child=af(a,null,ke,z)):xo(x,a,ke,z),a.memoizedState=S.state,R&&Ae(a,f,!0),a.child}function Ia(x){var a=x.stateNode;a.pendingContext?Ti(x,a.pendingContext,a.pendingContext!==a.context):a.context&&Ti(x,a.context,!1),Tt(x,a.containerInfo)}function up(x,a,f,S,R){return Bu(),Du(R),a.flags|=256,xo(x,a,f,S),a.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function zc(x){return{baseLanes:x,cachePool:null}}function gf(x,a,f){var S=a.pendingProps,R=no.current,z=!1,ne=(a.flags&128)!==0,ke;if((ke=ne)||(ke=x!==null&&x.memoizedState===null?!1:(R&2)!==0),ke?(z=!0,a.flags&=-129):(x===null||x.memoizedState!==null)&&(R|=1),Ln(no,R&1),x===null)return vo(a),x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(a.mode&1?ol(x)?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(R=S.children,x=S.fallback,z?(S=a.mode,z=a.child,R={mode:"hidden",children:R},!(S&1)&&z!==null?(z.childLanes=0,z.pendingProps=R):z=xu(R,S,0,null),x=gc(x,S,f,null),z.return=a,x.return=a,z.sibling=x,a.child=z,a.child.memoizedState=zc(f),a.memoizedState=cp,x):Zp(a,R));if(R=x.memoizedState,R!==null){if(ke=R.dehydrated,ke!==null){if(ne)return a.flags&256?(a.flags&=-257,hu(x,a,f,Error(c(422)))):a.memoizedState!==null?(a.child=x.child,a.flags|=128,null):(z=S.fallback,R=a.mode,S=xu({mode:"visible",children:S.children},R,0,null),z=gc(z,R,f,null),z.flags|=2,S.return=a,z.return=a,S.sibling=z,a.child=S,a.mode&1&&af(a,x.child,null,f),a.child.memoizedState=zc(f),a.memoizedState=cp,z);if(!(a.mode&1))a=hu(x,a,f,null);else if(ol(ke))a=hu(x,a,f,Error(c(419)));else if(S=(f&x.childLanes)!==0,Ul||S){if(S=ai,S!==null){switch(f&-f){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}S=z&(S.suspendedLanes|f)?0:z,S!==0&&S!==R.retryLane&&(R.retryLane=S,Ws(x,S,-1))}Ph(),a=hu(x,a,f,Error(c(421)))}else zs(ke)?(a.flags|=128,a.child=x.child,a=Gg.bind(null,x),ss(ke,a),a=null):(f=R.treeContext,nn&&(Xr=su(ke),Zr=a,Cr=!0,so=null,Kr=!1,f!==null&&(Bs[ue++]=Ve,Bs[ue++]=ft,Bs[ue++]=Ce,Ve=f.id,ft=f.overflow,Ce=a)),a=Zp(a,a.pendingProps.children),a.flags|=4096);return a}return z?(S=xh(x,a,S.children,S.fallback,f),z=a.child,R=x.child.memoizedState,z.memoizedState=R===null?zc(f):{baseLanes:R.baseLanes|f,cachePool:null},z.childLanes=x.childLanes&~f,a.memoizedState=cp,S):(f=Fu(x,a,S.children,f),a.memoizedState=null,f)}return z?(S=xh(x,a,S.children,S.fallback,f),z=a.child,R=x.child.memoizedState,z.memoizedState=R===null?zc(f):{baseLanes:R.baseLanes|f,cachePool:null},z.childLanes=x.childLanes&~f,a.memoizedState=cp,S):(f=Fu(x,a,S.children,f),a.memoizedState=null,f)}function Zp(x,a){return a=xu({mode:"visible",children:a},x.mode,0,null),a.return=x,x.child=a}function Fu(x,a,f,S){var R=x.child;return x=R.sibling,f=Tf(R,{mode:"visible",children:f}),!(a.mode&1)&&(f.lanes=S),f.return=a,f.sibling=null,x!==null&&(S=a.deletions,S===null?(a.deletions=[x],a.flags|=16):S.push(x)),a.child=f}function xh(x,a,f,S,R){var z=a.mode;x=x.child;var ne=x.sibling,ke={mode:"hidden",children:f};return!(z&1)&&a.child!==x?(f=a.child,f.childLanes=0,f.pendingProps=ke,a.deletions=null):(f=Tf(x,ke),f.subtreeFlags=x.subtreeFlags&14680064),ne!==null?S=Tf(ne,S):(S=gc(S,z,R,null),S.flags|=2),S.return=a,f.return=a,f.sibling=S,a.child=f,S}function hu(x,a,f,S){return S!==null&&Du(S),af(a,x.child,null,f),x=Zp(a,a.pendingProps.children),x.flags|=2,a.memoizedState=null,x}function Bd(x,a,f){x.lanes|=a;var S=x.alternate;S!==null&&(S.lanes|=a),Ll(x.return,a,f)}function $p(x,a,f,S,R){var z=x.memoizedState;z===null?x.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:S,tail:f,tailMode:R}:(z.isBackwards=a,z.rendering=null,z.renderingStartTime=0,z.last=S,z.tail=f,z.tailMode=R)}function Il(x,a,f){var S=a.pendingProps,R=S.revealOrder,z=S.tail;if(xo(x,a,S.children,f),S=no.current,S&2)S=S&1|2,a.flags|=128;else{if(x!==null&&x.flags&128)e:for(x=a.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&Bd(x,f,a);else if(x.tag===19)Bd(x,f,a);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}S&=1}if(Ln(no,S),!(a.mode&1))a.memoizedState=null;else switch(R){case"forwards":for(f=a.child,R=null;f!==null;)x=f.alternate,x!==null&&yo(x)===null&&(R=f),f=f.sibling;f=R,f===null?(R=a.child,a.child=null):(R=f.sibling,f.sibling=null),$p(a,!1,R,f,z);break;case"backwards":for(f=null,R=a.child,a.child=null;R!==null;){if(x=R.alternate,x!==null&&yo(x)===null){a.child=R;break}x=R.sibling,R.sibling=f,f=R,R=x}$p(a,!0,f,null,z);break;case"together":$p(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ya(x,a,f){if(x!==null&&(a.dependencies=x.dependencies),Hc|=a.lanes,!(f&a.childLanes))return null;if(x!==null&&a.child!==x.child)throw Error(c(153));if(a.child!==null){for(x=a.child,f=Tf(x,x.pendingProps),a.child=f,f.return=a;x.sibling!==null;)x=x.sibling,f=f.sibling=Tf(x,x.pendingProps),f.return=a;f.sibling=null}return a.child}function pu(x,a,f){switch(a.tag){case 3:Ia(a),Bu();break;case 5:pi(a);break;case 1:Gi(a.type)&&ae(a);break;case 4:Tt(a,a.stateNode.containerInfo);break;case 10:ls(a,a.type._context,a.memoizedProps.value);break;case 13:var S=a.memoizedState;if(S!==null)return S.dehydrated!==null?(Ln(no,no.current&1),a.flags|=128,null):f&a.child.childLanes?gf(x,a,f):(Ln(no,no.current&1),x=Ya(x,a,f),x!==null?x.sibling:null);Ln(no,no.current&1);break;case 19:if(S=(f&a.childLanes)!==0,x.flags&128){if(S)return Il(x,a,f);a.flags|=128}var R=a.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Ln(no,no.current),S)break;return null;case 22:case 23:return a.lanes=0,Fc(x,a,f)}return Ya(x,a,f)}function em(x,a){switch(ir(a),a.tag){case 1:return Gi(a.type)&&si(),x=a.flags,x&65536?(a.flags=x&-65537|128,a):null;case 3:return An(),Sr(Wr),Sr(zr),Js(),x=a.flags,x&65536&&!(x&128)?(a.flags=x&-65537|128,a):null;case 5:return Co(a),null;case 13:if(Sr(no),x=a.memoizedState,x!==null&&x.dehydrated!==null){if(a.alternate===null)throw Error(c(340));Bu()}return x=a.flags,x&65536?(a.flags=x&-65537|128,a):null;case 19:return Sr(no),null;case 4:return An(),null;case 10:return Nl(a.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var Sh=!1,Vs=!1,Ra=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function Pr(x,a){var f=x.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(S){pl(x,a,S)}else f.current=null}function dl(x,a,f){try{f()}catch(S){pl(x,a,S)}}var vf=!1;function Fm(x,a){for(ve(x.containerInfo),Nr=a;Nr!==null;)if(x=Nr,a=x.child,(x.subtreeFlags&1028)!==0&&a!==null)a.return=x,Nr=a;else for(;Nr!==null;){x=Nr;try{var f=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var S=f.memoizedProps,R=f.memoizedState,z=x.stateNode,ne=z.getSnapshotBeforeUpdate(x.elementType===x.type?S:Ma(x.type,S),R);z.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:bn&&_r(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ke){pl(x,x.return,ke)}if(a=x.sibling,a!==null){a.return=x.return,Nr=a;break}Nr=x.return}return f=vf,vf=!1,f}function yf(x,a,f){var S=a.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&x)===x){var z=R.destroy;R.destroy=void 0,z!==void 0&&dl(a,f,z)}R=R.next}while(R!==S)}}function mu(x,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&x)===x){var S=f.create;f.destroy=S()}f=f.next}while(f!==a)}}function Oa(x){var a=x.ref;if(a!==null){var f=x.stateNode;switch(x.tag){case 5:x=Ke(f);break;default:x=f}typeof a=="function"?a(x):a.current=x}}function hl(x,a,f){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(lu,a)}catch{}switch(a.tag){case 0:case 11:case 14:case 15:if(x=a.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var S=x=x.next;do{var R=S,z=R.destroy;R=R.tag,z!==void 0&&(R&2||R&4)&&dl(a,f,z),S=S.next}while(S!==x)}break;case 1:if(Pr(a,f),x=a.stateNode,typeof x.componentWillUnmount=="function")try{x.props=a.memoizedProps,x.state=a.memoizedState,x.componentWillUnmount()}catch(ne){pl(a,f,ne)}break;case 5:Pr(a,f);break;case 4:bn?fc(x,a,f):Ze&&Ze&&(a=a.stateNode.containerInfo,f=er(a),Di(a,f))}}function us(x,a,f){for(var S=a;;)if(hl(x,S,f),S.child===null||bn&&S.tag===4){if(S===a)break;for(;S.sibling===null;){if(S.return===null||S.return===a)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function gu(x){var a=x.alternate;a!==null&&(x.alternate=null,gu(a)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(a=x.stateNode,a!==null&&Dn(a)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function zm(x){return x.tag===5||x.tag===3||x.tag===4}function tm(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||zm(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function fp(x){if(bn){e:{for(var a=x.return;a!==null;){if(zm(a))break e;a=a.return}throw Error(c(160))}var f=a;switch(f.tag){case 5:a=f.stateNode,f.flags&32&&(wr(a),f.flags&=-33),f=tm(x),dp(x,f,a);break;case 3:case 4:a=f.stateNode.containerInfo,f=tm(x),bh(x,f,a);break;default:throw Error(c(161))}}}function bh(x,a,f){var S=x.tag;if(S===5||S===6)x=x.stateNode,a?hr(f,x,a):Yn(f,x);else if(S!==4&&(x=x.child,x!==null))for(bh(x,a,f),x=x.sibling;x!==null;)bh(x,a,f),x=x.sibling}function dp(x,a,f){var S=x.tag;if(S===5||S===6)x=x.stateNode,a?yr(f,x,a):jr(f,x);else if(S!==4&&(x=x.child,x!==null))for(dp(x,a,f),x=x.sibling;x!==null;)dp(x,a,f),x=x.sibling}function fc(x,a,f){for(var S=a,R=!1,z,ne;;){if(!R){R=S.return;e:for(;;){if(R===null)throw Error(c(160));switch(z=R.stateNode,R.tag){case 5:ne=!1;break e;case 3:z=z.containerInfo,ne=!0;break e;case 4:z=z.containerInfo,ne=!0;break e}R=R.return}R=!0}if(S.tag===5||S.tag===6)us(x,S,f),ne?Rr(z,S.stateNode):Hr(z,S.stateNode);else if(S.tag===18)ne?yt(z,S.stateNode):St(z,S.stateNode);else if(S.tag===4){if(S.child!==null){z=S.stateNode.containerInfo,ne=!0,S.child.return=S,S=S.child;continue}}else if(hl(x,S,f),S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break;for(;S.sibling===null;){if(S.return===null||S.return===a)return;S=S.return,S.tag===4&&(R=!1)}S.sibling.return=S.return,S=S.sibling}}function Eh(x,a){if(bn){switch(a.tag){case 0:case 11:case 14:case 15:yf(3,a,a.return),mu(3,a),yf(5,a,a.return);return;case 1:return;case 5:var f=a.stateNode;if(f!=null){var S=a.memoizedProps;x=x!==null?x.memoizedProps:S;var R=a.type,z=a.updateQueue;a.updateQueue=null,z!==null&&Zt(f,z,R,x,S,a)}return;case 6:if(a.stateNode===null)throw Error(c(162));f=a.memoizedProps,vr(a.stateNode,x!==null?x.memoizedProps:f,f);return;case 3:nn&&x!==null&&x.memoizedState.isDehydrated&&at(a.stateNode.containerInfo);return;case 12:return;case 13:Uc(a);return;case 19:Uc(a);return;case 17:return}throw Error(c(163))}switch(a.tag){case 0:case 11:case 14:case 15:yf(3,a,a.return),mu(3,a),yf(5,a,a.return);return;case 12:return;case 13:Uc(a);return;case 19:Uc(a);return;case 3:nn&&x!==null&&x.memoizedState.isDehydrated&&at(a.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ze){switch(a.tag){case 1:case 5:case 6:break e;case 3:case 4:a=a.stateNode,Di(a.containerInfo,a.pendingChildren);break e}throw Error(c(163))}}function Uc(x){var a=x.updateQueue;if(a!==null){x.updateQueue=null;var f=x.stateNode;f===null&&(f=x.stateNode=new Ra),a.forEach(function(S){var R=Zf.bind(null,x,S);f.has(S)||(f.add(S),S.then(R,R))})}}function hp(x,a){for(Nr=a;Nr!==null;){a=Nr;var f=a.deletions;if(f!==null)for(var S=0;S<f.length;S++){var R=f[S];try{var z=x;bn?fc(z,R,a):us(z,R,a);var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(Fn){pl(R,a,Fn)}}if(f=a.child,a.subtreeFlags&12854&&f!==null)f.return=a,Nr=f;else for(;Nr!==null;){a=Nr;try{var ke=a.flags;if(ke&32&&bn&&wr(a.stateNode),ke&512){var nt=a.alternate;if(nt!==null){var Pt=nt.ref;Pt!==null&&(typeof Pt=="function"?Pt(null):Pt.current=null)}}if(ke&8192)switch(a.tag){case 13:if(a.memoizedState!==null){var gn=a.alternate;(gn===null||gn.memoizedState===null)&&(ya=Us())}break;case 22:var Jn=a.memoizedState!==null,Kn=a.alternate,Lr=Kn!==null&&Kn.memoizedState!==null;if(f=a,bn){e:if(S=f,R=Jn,z=null,bn)for(var Or=S;;){if(Or.tag===5){if(z===null){z=Or;var Mr=Or.stateNode;R?qr(Mr):Nn(Or.stateNode,Or.memoizedProps)}}else if(Or.tag===6){if(z===null){var Zi=Or.stateNode;R?ri(Zi):Bt(Zi,Or.memoizedProps)}}else if((Or.tag!==22&&Or.tag!==23||Or.memoizedState===null||Or===S)&&Or.child!==null){Or.child.return=Or,Or=Or.child;continue}if(Or===S)break;for(;Or.sibling===null;){if(Or.return===null||Or.return===S)break e;z===Or&&(z=null),Or=Or.return}z===Or&&(z=null),Or.sibling.return=Or.return,Or=Or.sibling}}if(Jn&&!Lr&&f.mode&1){Nr=f;for(var sn=f.child;sn!==null;){for(f=Nr=sn;Nr!==null;){S=Nr;var et=S.child;switch(S.tag){case 0:case 11:case 14:case 15:yf(4,S,S.return);break;case 1:Pr(S,S.return);var rt=S.stateNode;if(typeof rt.componentWillUnmount=="function"){var Rt=S.return;try{rt.props=S.memoizedProps,rt.state=S.memoizedState,rt.componentWillUnmount()}catch(Fn){pl(S,Rt,Fn)}}break;case 5:Pr(S,S.return);break;case 22:if(S.memoizedState!==null){_f(f);continue}}et!==null?(et.return=S,Nr=et):_f(f)}sn=sn.sibling}}}switch(ke&4102){case 2:fp(a),a.flags&=-3;break;case 6:fp(a),a.flags&=-3,Eh(a.alternate,a);break;case 4096:a.flags&=-4097;break;case 4100:a.flags&=-4097,Eh(a.alternate,a);break;case 4:Eh(a.alternate,a)}}catch(Fn){pl(a,a.return,Fn)}if(f=a.sibling,f!==null){f.return=a.return,Nr=f;break}Nr=a.return}}}function Kv(x,a,f){Nr=x,dc(x)}function dc(x,a,f){for(var S=(x.mode&1)!==0;Nr!==null;){var R=Nr,z=R.child;if(R.tag===22&&S){var ne=R.memoizedState!==null||Sh;if(!ne){var ke=R.alternate,nt=ke!==null&&ke.memoizedState!==null||Vs;ke=Sh;var Pt=Vs;if(Sh=ne,(Vs=nt)&&!Pt)for(Nr=R;Nr!==null;)ne=Nr,nt=ne.child,ne.tag===22&&ne.memoizedState!==null?zu(R):nt!==null?(nt.return=ne,Nr=nt):zu(R);for(;z!==null;)Nr=z,dc(z),z=z.sibling;Nr=R,Sh=ke,Vs=Pt}pp(x)}else R.subtreeFlags&8772&&z!==null?(z.return=R,Nr=z):pp(x)}}function pp(x){for(;Nr!==null;){var a=Nr;if(a.flags&8772){var f=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Vs||mu(5,a);break;case 1:var S=a.stateNode;if(a.flags&4&&!Vs)if(f===null)S.componentDidMount();else{var R=a.elementType===a.type?f.memoizedProps:Ma(a.type,f.memoizedProps);S.componentDidUpdate(R,f.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var z=a.updateQueue;z!==null&&al(a,z,S);break;case 3:var ne=a.updateQueue;if(ne!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=Ke(a.child.stateNode);break;case 1:f=a.child.stateNode}al(a,ne,f)}break;case 5:var ke=a.stateNode;f===null&&a.flags&4&&Mt(ke,a.type,a.memoizedProps,a);break;case 6:break;case 4:break;case 12:break;case 13:if(nn&&a.memoizedState===null){var nt=a.alternate;if(nt!==null){var Pt=nt.memoizedState;if(Pt!==null){var gn=Pt.dehydrated;gn!==null&&pt(gn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}Vs||a.flags&512&&Oa(a)}catch(Jn){pl(a,a.return,Jn)}}if(a===x){Nr=null;break}if(f=a.sibling,f!==null){f.return=a.return,Nr=f;break}Nr=a.return}}function _f(x){for(;Nr!==null;){var a=Nr;if(a===x){Nr=null;break}var f=a.sibling;if(f!==null){f.return=a.return,Nr=f;break}Nr=a.return}}function zu(x){for(;Nr!==null;){var a=Nr;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{mu(4,a)}catch(nt){pl(a,f,nt)}break;case 1:var S=a.stateNode;if(typeof S.componentDidMount=="function"){var R=a.return;try{S.componentDidMount()}catch(nt){pl(a,R,nt)}}var z=a.return;try{Oa(a)}catch(nt){pl(a,z,nt)}break;case 5:var ne=a.return;try{Oa(a)}catch(nt){pl(a,ne,nt)}}}catch(nt){pl(a,a.return,nt)}if(a===x){Nr=null;break}var ke=a.sibling;if(ke!==null){ke.return=a.return,Nr=ke;break}Nr=a.return}}var Ah=0,wf=1,jc=2,xf=3,hc=4;if(typeof Symbol=="function"&&Symbol.for){var Ba=Symbol.for;Ah=Ba("selector.component"),wf=Ba("selector.has_pseudo_class"),jc=Ba("selector.role"),xf=Ba("selector.test_id"),hc=Ba("selector.text")}function vu(x){var a=jt(x);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(c(364));return a}if(x=ct(x),x===null)throw Error(c(362));return x.stateNode.current}function Ch(x,a){switch(a.$$typeof){case Ah:if(x.type===a.value)return!0;break;case wf:e:{a=a.value,x=[x,0];for(var f=0;f<x.length;){var S=x[f++],R=x[f++],z=a[R];if(S.tag!==5||!Dt(S)){for(;z!=null&&Ch(S,z);)R++,z=a[R];if(R===a.length){a=!0;break e}else for(S=S.child;S!==null;)x.push(S,R),S=S.sibling}}a=!1}return a;case jc:if(x.tag===5&&Pn(x.stateNode,a.value))return!0;break;case hc:if((x.tag===5||x.tag===6)&&(x=rn(x),x!==null&&0<=x.indexOf(a.value)))return!0;break;case xf:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function mp(x){switch(x.$$typeof){case Ah:return"<"+(Z(x.value)||"Unknown")+">";case wf:return":has("+(mp(x)||"")+")";case jc:return'[role="'+x.value+'"]';case hc:return'"'+x.value+'"';case xf:return'[data-testname="'+x.value+'"]';default:throw Error(c(365))}}function jl(x,a){var f=[];x=[x,0];for(var S=0;S<x.length;){var R=x[S++],z=x[S++],ne=a[z];if(R.tag!==5||!Dt(R)){for(;ne!=null&&Ch(R,ne);)z++,ne=a[z];if(z===a.length)f.push(R);else for(R=R.child;R!==null;)x.push(R,z),R=R.sibling}}return f}function Uu(x,a){if(!Tr)throw Error(c(363));x=vu(x),x=jl(x,a),a=[],x=Array.from(x);for(var f=0;f<x.length;){var S=x[f++];if(S.tag===5)Dt(S)||a.push(S.stateNode);else for(S=S.child;S!==null;)x.push(S),S=S.sibling}return a}var nm=Math.ceil,Mh=d.ReactCurrentDispatcher,Hl=d.ReactCurrentOwner,bo=d.ReactCurrentBatchConfig,ti=0,ai=null,Ki=null,Ji=0,Lo=0,va=ii(0),es=0,Ds=null,Hc=0,Gc=0,Dd=0,Vc=null,xs=null,ya=0,Th=1/0;function yu(){Th=Us()+500}var Sf=!1,bf=null,_a=null,Gl=!1,Vl=null,qa=0,Ef=0,pc=null,Nd=-1,Kf=0;function Ni(){return ti&6?Us():Nd!==-1?Nd:Nd=Us()}function Bo(x){return x.mode&1?ti&2&&Ji!==0?Ji&-Ji:ja.transition!==null?(Kf===0&&(x=On,On<<=1,!(On&4194240)&&(On=64),Kf=x),Kf):(x=Pi,x!==0?x:cn()):1}function Ws(x,a,f){if(50<Ef)throw Ef=0,pc=null,Error(c(185));var S=Da(x,a);return S===null?null:(ws(S,a,f),(!(ti&2)||S!==ai)&&(S===ai&&(!(ti&2)&&(Gc|=a),es===4&&cs(S,Ji)),sa(S,f),a===1&&ti===0&&!(x.mode&1)&&(yu(),Xo&&Ca())),S)}function Da(x,a){x.lanes|=a;var f=x.alternate;for(f!==null&&(f.lanes|=a),f=x,x=x.return;x!==null;)x.childLanes|=a,f=x.alternate,f!==null&&(f.childLanes|=a),f=x,x=x.return;return f.tag===3?f.stateNode:null}function sa(x,a){var f=x.callbackNode;Mo(x,a);var S=oi(x,x===ai?Ji:0);if(S===0)f!==null&&ra(f),x.callbackNode=null,x.callbackPriority=0;else if(a=S&-S,x.callbackPriority!==a){if(f!=null&&ra(f),a===1)x.tag===0?of(ju.bind(null,x)):uu(ju.bind(null,x)),Qn?nr(function(){ti===0&&Ca()}):ha(ps,Ca),f=null;else{switch(ki(S)){case 1:f=ps;break;case 4:f=tc;break;case 16:f=nc;break;case 536870912:f=Aa;break;default:f=nc}f=gp(f,Na.bind(null,x))}x.callbackPriority=a,x.callbackNode=f}}function Na(x,a){if(Nd=-1,Kf=0,ti&6)throw Error(c(327));var f=x.callbackNode;if(Gu()&&x.callbackNode!==f)return null;var S=oi(x,x===ai?Ji:0);if(S===0)return null;if(S&30||S&x.expiredLanes||a)a=Wc(x,S);else{a=S;var R=ti;ti|=2;var z=rm();(ai!==x||Ji!==a)&&(yu(),Af(x,a));do try{Hu();break}catch(ke){Ns(x,ke)}while(!0);Cl(),Mh.current=z,ti=R,Ki!==null?a=0:(ai=null,Ji=0,a=es)}if(a!==0){if(a===2&&(R=Ua(x),R!==0&&(S=R,a=mc(x,R))),a===1)throw f=Ds,Af(x,0),cs(x,S),sa(x,Us()),f;if(a===6)cs(x,S);else{if(R=x.current.alternate,!(S&30)&&!ea(R)&&(a=Wc(x,S),a===2&&(z=Ua(x),z!==0&&(S=z,a=mc(x,z))),a===1))throw f=Ds,Af(x,0),cs(x,S),sa(x,Us()),f;switch(x.finishedWork=R,x.finishedLanes=S,a){case 0:case 1:throw Error(c(345));case 2:Cf(x,xs);break;case 3:if(cs(x,S),(S&130023424)===S&&(a=ya+500-Us(),10<a)){if(oi(x,0)!==0)break;if(R=x.suspendedLanes,(R&S)!==S){Ni(),x.pingedLanes|=x.suspendedLanes&R;break}x.timeoutHandle=zt(Cf.bind(null,x,xs),a);break}Cf(x,xs);break;case 4:if(cs(x,S),(S&4194240)===S)break;for(a=x.eventTimes,R=-1;0<S;){var ne=31-Ge(S);z=1<<ne,ne=a[ne],ne>R&&(R=ne),S&=~z}if(S=R,S=Us()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*nm(S/1960))-S,10<S){x.timeoutHandle=zt(Cf.bind(null,x,xs),S);break}Cf(x,xs);break;case 5:Cf(x,xs);break;default:throw Error(c(329))}}}return sa(x,Us()),x.callbackNode===f?Na.bind(null,x):null}function mc(x,a){var f=Vc;return x.current.memoizedState.isDehydrated&&(Af(x,a).flags|=256),x=Wc(x,a),x!==2&&(a=xs,xs=f,a!==null&&ts(a)),x}function ts(x){xs===null?xs=x:xs.push.apply(xs,x)}function ea(x){for(var a=x;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var S=0;S<f.length;S++){var R=f[S],z=R.getSnapshot;R=R.value;try{if(!as(z(),R))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===x)break;for(;a.sibling===null;){if(a.return===null||a.return===x)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cs(x,a){for(a&=~Dd,a&=~Gc,x.suspendedLanes|=a,x.pingedLanes&=~a,x=x.expirationTimes;0<a;){var f=31-Ge(a),S=1<<f;x[f]=-1,a&=~S}}function ju(x){if(ti&6)throw Error(c(327));Gu();var a=oi(x,0);if(!(a&1))return sa(x,Us()),null;var f=Wc(x,a);if(x.tag!==0&&f===2){var S=Ua(x);S!==0&&(a=S,f=mc(x,S))}if(f===1)throw f=Ds,Af(x,0),cs(x,a),sa(x,Us()),f;if(f===6)throw Error(c(345));return x.finishedWork=x.current.alternate,x.finishedLanes=a,Cf(x,xs),sa(x,Us()),null}function Ld(x){Vl!==null&&Vl.tag===0&&!(ti&6)&&Gu();var a=ti;ti|=1;var f=bo.transition,S=Pi;try{if(bo.transition=null,Pi=1,x)return x()}finally{Pi=S,bo.transition=f,ti=a,!(ti&6)&&Ca()}}function Yf(){Lo=va.current,Sr(va)}function Af(x,a){x.finishedWork=null,x.finishedLanes=0;var f=x.timeoutHandle;if(f!==Kt&&(x.timeoutHandle=Kt,Lt(f)),Ki!==null)for(f=Ki.return;f!==null;){var S=f;switch(ir(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&si();break;case 3:An(),Sr(Wr),Sr(zr),Js();break;case 5:Co(S);break;case 4:An();break;case 13:Sr(no);break;case 19:Sr(no);break;case 10:Nl(S.type._context);break;case 22:case 23:Yf()}f=f.return}if(ai=x,Ki=x=Tf(x.current,null),Ji=Lo=a,es=0,Ds=null,Dd=Gc=Hc=0,xs=Vc=null,Oo!==null){for(a=0;a<Oo.length;a++)if(f=Oo[a],S=f.interleaved,S!==null){f.interleaved=null;var R=S.next,z=f.pending;if(z!==null){var ne=z.next;z.next=R,S.next=ne}f.pending=S}Oo=null}return x}function Ns(x,a){do{var f=Ki;try{if(Cl(),kl.current=Wf,ia){for(var S=Jo.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}ia=!1}if(Wa=0,wo=co=Jo=null,cf=!1,zl=0,Hl.current=null,f===null||f.return===null){es=1,Ds=a,Ki=null;break}e:{var z=x,ne=f.return,ke=f,nt=a;if(a=Ji,ke.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var Pt=nt,gn=ke,Jn=gn.tag;if(!(gn.mode&1)&&(Jn===0||Jn===11||Jn===15)){var Kn=gn.alternate;Kn?(gn.updateQueue=Kn.updateQueue,gn.memoizedState=Kn.memoizedState,gn.lanes=Kn.lanes):(gn.updateQueue=null,gn.memoizedState=null)}var Lr=Nc(ne);if(Lr!==null){Lr.flags&=-257,_h(Lr,ne,ke,z,a),Lr.mode&1&&pf(z,Pt,a),a=Lr,nt=Pt;var Or=a.updateQueue;if(Or===null){var Mr=new Set;Mr.add(nt),a.updateQueue=Mr}else Or.add(nt);break e}else{if(!(a&1)){pf(z,Pt,a),Ph();break e}nt=Error(c(426))}}else if(Cr&&ke.mode&1){var Zi=Nc(ne);if(Zi!==null){!(Zi.flags&65536)&&(Zi.flags|=256),_h(Zi,ne,ke,z,a),Du(nt);break e}}z=nt,es!==4&&(es=2),Vc===null?Vc=[z]:Vc.push(z),nt=qp(nt,ke),ke=ne;do{switch(ke.tag){case 3:ke.flags|=65536,a&=-a,ke.lanes|=a;var sn=Lm(ke,nt,a);Os(ke,sn);break e;case 1:z=nt;var et=ke.type,rt=ke.stateNode;if(!(ke.flags&128)&&(typeof et.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(_a===null||!_a.has(rt)))){ke.flags|=65536,a&=-a,ke.lanes|=a;var Rt=Jp(ke,z,a);Os(ke,Rt);break e}}ke=ke.return}while(ke!==null)}Qf(f)}catch(Fn){a=Fn,Ki===f&&f!==null&&(Ki=f=f.return);continue}break}while(!0)}function rm(){var x=Mh.current;return Mh.current=Wf,x===null?Wf:x}function Ph(){(es===0||es===3||es===2)&&(es=4),ai===null||!(Hc&268435455)&&!(Gc&268435455)||cs(ai,Ji)}function Wc(x,a){var f=ti;ti|=2;var S=rm();ai===x&&Ji===a||Af(x,a);do try{_u();break}catch(R){Ns(x,R)}while(!0);if(Cl(),ti=f,Mh.current=S,Ki!==null)throw Error(c(261));return ai=null,Ji=0,es}function _u(){for(;Ki!==null;)qf(Ki)}function Hu(){for(;Ki!==null&&!au();)qf(Ki)}function qf(x){var a=Mf(x.alternate,x,Lo);x.memoizedProps=x.pendingProps,a===null?Qf(x):Ki=a,Hl.current=null}function Qf(x){var a=x;do{var f=a.alternate;if(x=a.return,a.flags&32768){if(f=em(f,a),f!==null){f.flags&=32767,Ki=f;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{es=6,Ki=null;return}}else if(f=$s(f,a,Lo),f!==null){Ki=f;return}if(a=a.sibling,a!==null){Ki=a;return}Ki=a=x}while(a!==null);es===0&&(es=5)}function Cf(x,a){var f=Pi,S=bo.transition;try{bo.transition=null,Pi=1,Jf(x,a,f)}finally{bo.transition=S,Pi=f}return null}function Jf(x,a,f){do Gu();while(Vl!==null);if(ti&6)throw Error(c(327));var S=x.finishedWork,R=x.finishedLanes;if(S===null)return null;if(x.finishedWork=null,x.finishedLanes=0,S===x.current)throw Error(c(177));x.callbackNode=null,x.callbackPriority=0;var z=S.lanes|S.childLanes;if(Is(x,z),x===ai&&(Ki=ai=null,Ji=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||Gl||(Gl=!0,gp(nc,function(){return Gu(),null})),z=(S.flags&15990)!==0,S.subtreeFlags&15990||z){z=bo.transition,bo.transition=null;var ne=Pi;Pi=1;var ke=ti;ti|=4,Hl.current=null,Fm(x,S),hp(x,S),ye(x.containerInfo),x.current=S,Kv(S),ku(),ti=ke,Pi=ne,bo.transition=z}else x.current=S;if(Gl&&(Gl=!1,Vl=x,qa=R),z=x.pendingLanes,z===0&&(_a=null),uo(S.stateNode),sa(x,Us()),a!==null)for(f=x.onRecoverableError,S=0;S<a.length;S++)f(a[S]);if(Sf)throw Sf=!1,x=bf,bf=null,x;return qa&1&&x.tag!==0&&Gu(),z=x.pendingLanes,z&1?x===pc?Ef++:(Ef=0,pc=x):Ef=0,Ca(),null}function Gu(){if(Vl!==null){var x=ki(qa),a=bo.transition,f=Pi;try{if(bo.transition=null,Pi=16>x?16:x,Vl===null)var S=!1;else{if(x=Vl,Vl=null,qa=0,ti&6)throw Error(c(331));var R=ti;for(ti|=4,Nr=x.current;Nr!==null;){var z=Nr,ne=z.child;if(Nr.flags&16){var ke=z.deletions;if(ke!==null){for(var nt=0;nt<ke.length;nt++){var Pt=ke[nt];for(Nr=Pt;Nr!==null;){var gn=Nr;switch(gn.tag){case 0:case 11:case 15:yf(8,gn,z)}var Jn=gn.child;if(Jn!==null)Jn.return=gn,Nr=Jn;else for(;Nr!==null;){gn=Nr;var Kn=gn.sibling,Lr=gn.return;if(gu(gn),gn===Pt){Nr=null;break}if(Kn!==null){Kn.return=Lr,Nr=Kn;break}Nr=Lr}}}var Or=z.alternate;if(Or!==null){var Mr=Or.child;if(Mr!==null){Or.child=null;do{var Zi=Mr.sibling;Mr.sibling=null,Mr=Zi}while(Mr!==null)}}Nr=z}}if(z.subtreeFlags&2064&&ne!==null)ne.return=z,Nr=ne;else e:for(;Nr!==null;){if(z=Nr,z.flags&2048)switch(z.tag){case 0:case 11:case 15:yf(9,z,z.return)}var sn=z.sibling;if(sn!==null){sn.return=z.return,Nr=sn;break e}Nr=z.return}}var et=x.current;for(Nr=et;Nr!==null;){ne=Nr;var rt=ne.child;if(ne.subtreeFlags&2064&&rt!==null)rt.return=ne,Nr=rt;else e:for(ne=et;Nr!==null;){if(ke=Nr,ke.flags&2048)try{switch(ke.tag){case 0:case 11:case 15:mu(9,ke)}}catch(Fn){pl(ke,ke.return,Fn)}if(ke===ne){Nr=null;break e}var Rt=ke.sibling;if(Rt!==null){Rt.return=ke.return,Nr=Rt;break e}Nr=ke.return}}if(ti=R,Ca(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(lu,x)}catch{}S=!0}return S}finally{Pi=f,bo.transition=a}}return!1}function Vu(x,a,f){a=qp(f,a),a=Lm(x,a,1),go(x,a),a=Ni(),x=Da(x,1),x!==null&&(ws(x,1,a),sa(x,a))}function pl(x,a,f){if(x.tag===3)Vu(x,x,f);else for(;a!==null;){if(a.tag===3){Vu(a,x,f);break}else if(a.tag===1){var S=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(_a===null||!_a.has(S))){x=qp(f,x),x=Jp(a,x,1),go(a,x),x=Ni(),a=Da(a,1),a!==null&&(ws(a,1,x),sa(a,x));break}}a=a.return}}function Qa(x,a,f){var S=x.pingCache;S!==null&&S.delete(a),a=Ni(),x.pingedLanes|=x.suspendedLanes&f,ai===x&&(Ji&f)===f&&(es===4||es===3&&(Ji&130023424)===Ji&&500>Us()-ya?Af(x,0):Dd|=f),sa(x,a)}function im(x,a){a===0&&(x.mode&1?(a=lr,lr<<=1,!(lr&130023424)&&(lr=4194304)):a=1);var f=Ni();x=Da(x,a),x!==null&&(ws(x,a,f),sa(x,f))}function Gg(x){var a=x.memoizedState,f=0;a!==null&&(f=a.retryLane),im(x,f)}function Zf(x,a){var f=0;switch(x.tag){case 13:var S=x.stateNode,R=x.memoizedState;R!==null&&(f=R.retryLane);break;case 19:S=x.stateNode;break;default:throw Error(c(314))}S!==null&&S.delete(a),im(x,f)}var Mf;Mf=function(x,a,f){if(x!==null)if(x.memoizedProps!==a.pendingProps||Wr.current)Ul=!0;else{if(!(x.lanes&f)&&!(a.flags&128))return Ul=!1,pu(x,a,f);Ul=!!(x.flags&131072)}else Ul=!1,Cr&&a.flags&1048576&&Vt(a,Pl,a.index);switch(a.lanes=0,a.tag){case 2:var S=a.type;x!==null&&(x.alternate=null,a.alternate=null,a.flags|=2),x=a.pendingProps;var R=mo(a,zr.current);Rs(a,f),R=ff(null,a,S,x,R,f);var z=Cd();return a.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Gi(S)?(z=!0,ae(a)):z=!1,a.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Uo(a),R.updater=Fl,a.stateNode=R,R._reactInternals=a,Oc(a,S,x,f),a=mf(null,a,S,!0,z,f)):(a.tag=0,Cr&&z&&zn(a),xo(null,a,R,f),a=a.child),a;case 16:S=a.elementType;e:{switch(x!==null&&(x.alternate=null,a.alternate=null,a.flags|=2),x=a.pendingProps,R=S._init,S=R(S._payload),a.type=S,R=a.tag=$f(S),x=Ma(S,x),R){case 0:a=fl(null,a,S,x,f);break e;case 1:a=cc(null,a,S,x,f);break e;case 11:a=ms(null,a,S,x,f);break e;case 14:a=$o(null,a,S,Ma(S.type,x),f);break e}throw Error(c(306,S,""))}return a;case 0:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:Ma(S,R),fl(x,a,S,R,f);case 1:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:Ma(S,R),cc(x,a,S,R,f);case 3:e:{if(Ia(a),x===null)throw Error(c(387));S=a.pendingProps,z=a.memoizedState,R=z.element,cu(x,a),Ou(a,S,null,f);var ne=a.memoizedState;if(S=ne.element,nn&&z.isDehydrated)if(z={element:S,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},a.updateQueue.baseState=z,a.memoizedState=z,a.flags&256){R=Error(c(423)),a=up(x,a,S,f,R);break e}else if(S!==R){R=Error(c(424)),a=up(x,a,S,f,R);break e}else for(nn&&(Xr=ba(a.stateNode.containerInfo),Zr=a,Cr=!0,so=null,Kr=!1),f=ac(a,null,S,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Bu(),S===R){a=Ya(x,a,f);break e}xo(x,a,S,f)}a=a.child}return a;case 5:return pi(a),x===null&&vo(a),S=a.type,R=a.pendingProps,z=x!==null?x.memoizedProps:null,ne=R.children,_t(S,R)?ne=null:z!==null&&_t(S,z)&&(a.flags|=32),Ka(x,a),xo(x,a,ne,f),a.child;case 6:return x===null&&vo(a),null;case 13:return gf(x,a,f);case 4:return Tt(a,a.stateNode.containerInfo),S=a.pendingProps,x===null?a.child=af(a,null,S,f):xo(x,a,S,f),a.child;case 11:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:Ma(S,R),ms(x,a,S,R,f);case 7:return xo(x,a,a.pendingProps,f),a.child;case 8:return xo(x,a,a.pendingProps.children,f),a.child;case 12:return xo(x,a,a.pendingProps.children,f),a.child;case 10:e:{if(S=a.type._context,R=a.pendingProps,z=a.memoizedProps,ne=R.value,ls(a,S,ne),z!==null)if(as(z.value,ne)){if(z.children===R.children&&!Wr.current){a=Ya(x,a,f);break e}}else for(z=a.child,z!==null&&(z.return=a);z!==null;){var ke=z.dependencies;if(ke!==null){ne=z.child;for(var nt=ke.firstContext;nt!==null;){if(nt.context===S){if(z.tag===1){nt=Ks(-1,f&-f),nt.tag=2;var Pt=z.updateQueue;if(Pt!==null){Pt=Pt.shared;var gn=Pt.pending;gn===null?nt.next=nt:(nt.next=gn.next,gn.next=nt),Pt.pending=nt}}z.lanes|=f,nt=z.alternate,nt!==null&&(nt.lanes|=f),Ll(z.return,f,a),ke.lanes|=f;break}nt=nt.next}}else if(z.tag===10)ne=z.type===a.type?null:z.child;else if(z.tag===18){if(ne=z.return,ne===null)throw Error(c(341));ne.lanes|=f,ke=ne.alternate,ke!==null&&(ke.lanes|=f),Ll(ne,f,a),ne=z.sibling}else ne=z.child;if(ne!==null)ne.return=z;else for(ne=z;ne!==null;){if(ne===a){ne=null;break}if(z=ne.sibling,z!==null){z.return=ne.return,ne=z;break}ne=ne.return}z=ne}xo(x,a,R.children,f),a=a.child}return a;case 9:return R=a.type,S=a.pendingProps.children,Rs(a,f),R=Qo(R),S=S(R),a.flags|=1,xo(x,a,S,f),a.child;case 14:return S=a.type,R=Ma(S,a.pendingProps),R=Ma(S.type,R),$o(x,a,S,R,f);case 15:return Vo(x,a,a.type,a.pendingProps,f);case 17:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:Ma(S,R),x!==null&&(x.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,Gi(S)?(x=!0,ae(a)):x=!1,Rs(a,f),sf(a,S,R),Oc(a,S,R,f),mf(null,a,S,!0,x,f);case 19:return Il(x,a,f);case 22:return Fc(x,a,f)}throw Error(c(156,a.tag))};function gp(x,a){return ha(x,a)}function kh(x,a,f,S){this.tag=x,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(x,a,f,S){return new kh(x,a,f,S)}function Wl(x){return x=x.prototype,!(!x||!x.isReactComponent)}function $f(x){if(typeof x=="function")return Wl(x)?1:0;if(x!=null){if(x=x.$$typeof,x===K)return 11;if(x===j)return 14}return 2}function Tf(x,a){var f=x.alternate;return f===null?(f=Rl(x.tag,a,x.key,x.mode),f.elementType=x.elementType,f.type=x.type,f.stateNode=x.stateNode,f.alternate=x,x.alternate=f):(f.pendingProps=a,f.type=x.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=x.flags&14680064,f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,a=x.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=x.sibling,f.index=x.index,f.ref=x.ref,f}function wu(x,a,f,S,R,z){var ne=2;if(S=x,typeof x=="function")Wl(x)&&(ne=1);else if(typeof x=="string")ne=5;else e:switch(x){case b:return gc(f.children,R,z,a);case A:ne=8,R|=8;break;case P:return x=Rl(12,f,a,R|2),x.elementType=P,x.lanes=z,x;case D:return x=Rl(13,f,a,R),x.elementType=D,x.lanes=z,x;case I:return x=Rl(19,f,a,R),x.elementType=I,x.lanes=z,x;case Y:return xu(f,R,z,a);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case N:ne=10;break e;case F:ne=9;break e;case K:ne=11;break e;case j:ne=14;break e;case T:ne=16,S=null;break e}throw Error(c(130,x==null?x:typeof x,""))}return a=Rl(ne,f,a,R),a.elementType=x,a.type=S,a.lanes=z,a}function gc(x,a,f,S){return x=Rl(7,x,S,a),x.lanes=f,x}function xu(x,a,f,S){return x=Rl(22,x,S,a),x.elementType=Y,x.lanes=f,x.stateNode={},x}function ed(x,a,f){return x=Rl(6,x,null,a),x.lanes=f,x}function Ih(x,a,f){return a=Rl(4,x.children!==null?x.children:[],x.key,a),a.lanes=f,a.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},a}function vp(x,a,f,S,R){this.tag=a,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=S,this.onRecoverableError=R,nn&&(this.mutableSourceEagerHydrationData=null)}function Um(x,a,f,S,R,z,ne,ke,nt){return x=new vp(x,a,f,ke,nt),a===1?(a=1,z===!0&&(a|=8)):a=0,z=Rl(3,null,null,a),x.current=z,z.stateNode=x,z.memoizedState={element:S,isDehydrated:f,cache:null,transitions:null},Uo(z),x}function jm(x){if(!x)return Gr;x=x._reactInternals;e:{if(Le(x)!==x||x.tag!==1)throw Error(c(170));var a=x;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Gi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(c(171))}if(x.tag===1){var f=x.type;if(Gi(f))return So(x,f,a)}return a}function yp(x){var a=x._reactInternals;if(a===void 0)throw typeof x.render=="function"?Error(c(188)):(x=Object.keys(x).join(","),Error(c(268,x)));return x=st(a),x===null?null:x.stateNode}function Hm(x,a){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var f=x.retryLane;x.retryLane=f!==0&&f<a?f:a}}function om(x,a){Hm(x,a),(x=x.alternate)&&Hm(x,a)}function _p(x){return x=st(x),x===null?null:x.stateNode}function Vg(){return null}return t.attemptContinuousHydration=function(x){if(x.tag===13){var a=Ni();Ws(x,134217728,a),om(x,134217728)}},t.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var a=Ni(),f=Bo(x);Ws(x,f,a),om(x,f)}},t.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var a=x.stateNode;if(a.current.memoizedState.isDehydrated){var f=dr(a.pendingLanes);f!==0&&(Ea(a,f|1),sa(a,Us()),!(ti&6)&&(yu(),Ca()))}break;case 13:var S=Ni();Ld(function(){return Ws(x,1,S)}),om(x,1)}},t.batchedUpdates=function(x,a){var f=ti;ti|=1;try{return x(a)}finally{ti=f,ti===0&&(yu(),Xo&&Ca())}},t.createComponentSelector=function(x){return{$$typeof:Ah,value:x}},t.createContainer=function(x,a,f,S,R,z,ne){return Um(x,a,!1,null,f,S,R,z,ne)},t.createHasPseudoClassSelector=function(x){return{$$typeof:wf,value:x}},t.createHydrationContainer=function(x,a,f,S,R,z,ne,ke,nt){return x=Um(f,S,!0,x,R,z,ne,ke,nt),x.context=jm(null),f=x.current,S=Ni(),R=Bo(f),z=Ks(S,R),z.callback=a??null,go(f,z),x.current.lanes=R,ws(x,R,S),sa(x,S),x},t.createPortal=function(x,a,f){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:S==null?null:""+S,children:x,containerInfo:a,implementation:f}},t.createRoleSelector=function(x){return{$$typeof:jc,value:x}},t.createTestNameSelector=function(x){return{$$typeof:xf,value:x}},t.createTextSelector=function(x){return{$$typeof:hc,value:x}},t.deferredUpdates=function(x){var a=Pi,f=bo.transition;try{return bo.transition=null,Pi=16,x()}finally{Pi=a,bo.transition=f}},t.discreteUpdates=function(x,a,f,S,R){var z=Pi,ne=bo.transition;try{return bo.transition=null,Pi=1,x(a,f,S,R)}finally{Pi=z,bo.transition=ne,ti===0&&yu()}},t.findAllNodes=Uu,t.findBoundingRects=function(x,a){if(!Tr)throw Error(c(363));a=Uu(x,a),x=[];for(var f=0;f<a.length;f++)x.push(Ne(a[f]));for(a=x.length-1;0<a;a--){f=x[a];for(var S=f.x,R=S+f.width,z=f.y,ne=z+f.height,ke=a-1;0<=ke;ke--)if(a!==ke){var nt=x[ke],Pt=nt.x,gn=Pt+nt.width,Jn=nt.y,Kn=Jn+nt.height;if(S>=Pt&&z>=Jn&&R<=gn&&ne<=Kn){x.splice(a,1);break}else if(S!==Pt||f.width!==nt.width||Kn<z||Jn>ne){if(!(z!==Jn||f.height!==nt.height||gn<S||Pt>R)){Pt>S&&(nt.width+=Pt-S,nt.x=S),gn<R&&(nt.width=R-Pt),x.splice(a,1);break}}else{Jn>z&&(nt.height+=Jn-z,nt.y=z),Kn<ne&&(nt.height=ne-Jn),x.splice(a,1);break}}}return x},t.findHostInstance=yp,t.findHostInstanceWithNoPortals=function(x){return x=fe(x),x=x!==null?Me(x):null,x===null?null:x.stateNode},t.findHostInstanceWithWarning=function(x){return yp(x)},t.flushControlled=function(x){var a=ti;ti|=1;var f=bo.transition,S=Pi;try{bo.transition=null,Pi=1,x()}finally{Pi=S,bo.transition=f,ti=a,ti===0&&(yu(),Ca())}},t.flushPassiveEffects=Gu,t.flushSync=Ld,t.focusWithin=function(x,a){if(!Tr)throw Error(c(363));for(x=vu(x),a=jl(x,a),a=Array.from(a),x=0;x<a.length;){var f=a[x++];if(!Dt(f)){if(f.tag===5&&Wn(f.stateNode))return!0;for(f=f.child;f!==null;)a.push(f),f=f.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pi},t.getFindAllNodesFailureDescription=function(x,a){if(!Tr)throw Error(c(363));var f=0,S=[];x=[vu(x),0];for(var R=0;R<x.length;){var z=x[R++],ne=x[R++],ke=a[ne];if((z.tag!==5||!Dt(z))&&(Ch(z,ke)&&(S.push(mp(ke)),ne++,ne>f&&(f=ne)),ne<a.length))for(z=z.child;z!==null;)x.push(z,ne),z=z.sibling}if(f<a.length){for(x=[];f<a.length;f++)x.push(mp(a[f]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},t.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return Ke(x.child.stateNode);default:return x.child.stateNode}},t.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:_p,findFiberByHostInstance:x.findFiberByHostInstance||Vg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)x=!0;else{try{lu=a.inject(x),js=a}catch{}x=!!a.checkDCE}}return x},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(x,a,f,S){if(!Tr)throw Error(c(363));x=Uu(x,a);var R=ei(x,f,S).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(x,a){var f=a._getVersion;f=f(a._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[a,f]:x.mutableSourceEagerHydrationData.push(a,f)},t.runWithPriority=function(x,a){var f=Pi;try{return Pi=x,a()}finally{Pi=f}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(x,a,f,S){var R=a.current,z=Ni(),ne=Bo(R);return f=jm(f),a.context===null?a.context=f:a.pendingContext=f,a=Ks(z,ne),a.payload={element:x},S=S===void 0?null:S,S!==null&&(a.callback=S),go(R,a),x=Ws(R,ne,z),x!==null&&ma(x,R,ne),ne},t};uAe.exports=aHe;var lHe=uAe.exports;const uHe=oF(lHe);var cAe={exports:{}},fAe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(de,ve){var ye=de.length;de.push(ve);e:for(;0<ye;){var _e=ye-1>>>1,ge=de[_e];if(0<o(ge,ve))de[_e]=ve,de[ye]=ge,ye=_e;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ve=de[0],ye=de.pop();if(ye!==ve){de[0]=ye;e:for(var _e=0,ge=de.length,dt=ge>>>1;_e<dt;){var qe=2*(_e+1)-1,_t=de[qe],Qe=qe+1,zt=de[Qe];if(0>o(_t,ye))Qe<ge&&0>o(zt,_t)?(de[_e]=zt,de[Qe]=ye,_e=Qe):(de[_e]=_t,de[qe]=ye,_e=qe);else if(Qe<ge&&0>o(zt,ye))de[_e]=zt,de[Qe]=ye,_e=Qe;else break e}}return ve}function o(de,ve){var ye=de.sortIndex-ve.sortIndex;return ye!==0?ye:de.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],_=[],b=1,A=null,P=3,N=!1,F=!1,K=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var ve=t(_);ve!==null;){if(ve.callback===null)r(_);else if(ve.startTime<=de)r(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(_)}}function Y(de){if(K=!1,T(de),!F)if(t(g)!==null)F=!0,Ke(ce);else{var ve=t(_);ve!==null&&Ye(Y,ve.startTime-de)}}function ce(de,ve){F=!1,K&&(K=!1,I(Se),Se=-1),N=!0;var ye=P;try{for(T(ve),A=t(g);A!==null&&(!(A.expirationTime>ve)||de&&!fe());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,P=A.priorityLevel;var ge=_e(A.expirationTime<=ve);ve=n.unstable_now(),typeof ge=="function"?A.callback=ge:A===t(g)&&r(g),T(ve)}else r(g);A=t(g)}if(A!==null)var dt=!0;else{var qe=t(_);qe!==null&&Ye(Y,qe.startTime-ve),dt=!1}return dt}finally{A=null,P=ye,N=!1}}var le=!1,Z=null,Se=-1,Le=5,X=-1;function fe(){return!(n.unstable_now()-X<Le)}function st(){if(Z!==null){var de=n.unstable_now();X=de;var ve=!0;try{ve=Z(!0,de)}finally{ve?Ue():(le=!1,Z=null)}}else le=!1}var Ue;if(typeof j=="function")Ue=function(){j(st)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,be=Me.port2;Me.port1.onmessage=st,Ue=function(){be.postMessage(null)}}else Ue=function(){D(st,0)};function Ke(de){Z=de,le||(le=!0,Ue())}function Ye(de,ve){Se=D(function(){de(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ke(ce))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(de){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var ye=P;P=ve;try{return de()}finally{P=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ve){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ye=P;P=de;try{return ve()}finally{P=ye}},n.unstable_scheduleCallback=function(de,ve,ye){var _e=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,de){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,de={id:b++,callback:ve,priorityLevel:de,startTime:ye,expirationTime:ge,sortIndex:-1},ye>_e?(de.sortIndex=ye,e(_,de),t(g)===null&&de===t(_)&&(K?(I(Se),Se=-1):K=!0,Ye(Y,ye-_e))):(de.sortIndex=ge,e(g,de),F||N||(F=!0,Ke(ce))),de},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(de){var ve=P;return function(){var ye=P;P=ve;try{return de.apply(this,arguments)}finally{P=ye}}}})(fAe);cAe.exports=fAe;var g1e=cAe.exports;const cHe=n=>typeof n=="object"&&typeof n.then=="function",Rb=[];function dAe(n,e,t=(r,o)=>r===o){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let o=0;o<r;o++)if(!t(n[o],e[o]))return!1;return!0}function hAe(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Rb)if(dAe(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const o={keys:e,equal:r.equal,remove:()=>{const s=Rb.indexOf(o);s!==-1&&Rb.splice(s,1)},promise:(cHe(n)?n:n(...e)).then(s=>{o.response=s,r.lifespan&&r.lifespan>0&&(o.timeout=setTimeout(o.remove,r.lifespan))}).catch(s=>o.error=s)};if(Rb.push(o),!t)throw o.promise}const fHe=(n,e,t)=>hAe(n,e,!1,t),dHe=(n,e,t)=>void hAe(n,e,!0,t),hHe=n=>{if(n===void 0||n.length===0)Rb.splice(0,Rb.length);else{const e=Rb.find(t=>dAe(n,t.keys,t.equal));e&&e.remove()}},PY={},kY=n=>void Object.assign(PY,n);function pHe(n,e){function t(b,{args:A=[],attach:P,...N},F){let K=`${b[0].toUpperCase()}${b.slice(1)}`,D;if(b==="primitive"){if(N.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const I=N.object;D=UC(I,{type:b,root:F,attach:P,primitive:!0})}else{const I=PY[K];if(!I)throw new Error(`R3F: ${K} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(A))throw new Error("R3F: The args prop must be an array!");D=UC(new I(...A),{type:b,root:F,attach:P,memoizedProps:{args:A}})}return D.__r3f.attach===void 0&&(D instanceof po?D.__r3f.attach="geometry":D instanceof ec&&(D.__r3f.attach="material")),K!=="inject"&&WG(D,N),D}function r(b,A){let P=!1;if(A){var N,F;(N=A.__r3f)!=null&&N.attach?VG(b,A,A.__r3f.attach):A.isObject3D&&b.isObject3D&&(b.add(A),P=!0),P||(F=b.__r3f)==null||F.objects.push(A),A.__r3f||UC(A,{}),A.__r3f.parent=b,pX(A),jC(A)}}function o(b,A,P){let N=!1;if(A){var F,K;if((F=A.__r3f)!=null&&F.attach)VG(b,A,A.__r3f.attach);else if(A.isObject3D&&b.isObject3D){A.parent=b,A.dispatchEvent({type:"added"});const D=b.children.filter(j=>j!==A),I=D.indexOf(P);b.children=[...D.slice(0,I),A,...D.slice(I)],N=!0}N||(K=b.__r3f)==null||K.objects.push(A),A.__r3f||UC(A,{}),A.__r3f.parent=b,pX(A),jC(A)}}function s(b,A,P=!1){b&&[...b].forEach(N=>c(A,N,P))}function c(b,A,P){if(A){var N,F,K;if(A.__r3f&&(A.__r3f.parent=null),(N=b.__r3f)!=null&&N.objects&&(b.__r3f.objects=b.__r3f.objects.filter(Y=>Y!==A)),(F=A.__r3f)!=null&&F.attach)x1e(b,A,A.__r3f.attach);else if(A.isObject3D&&b.isObject3D){var D;b.remove(A),(D=A.__r3f)!=null&&D.root&&SHe(lL(A),A)}const j=(K=A.__r3f)==null?void 0:K.primitive,T=!j&&(P===void 0?A.dispose!==null:P);if(!j){var I;s((I=A.__r3f)==null?void 0:I.objects,A,T),s(A.children,A,T)}if(delete A.__r3f,T&&A.dispose&&A.type!=="Scene"){const Y=()=>{try{A.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?g1e.unstable_scheduleCallback(g1e.unstable_IdlePriority,Y):Y()}jC(b)}}function d(b,A,P,N){var F;const K=(F=b.__r3f)==null?void 0:F.parent;if(!K)return;const D=t(A,P,b.__r3f.root);if(b.children){for(const I of b.children)I.__r3f&&r(D,I);b.children=b.children.filter(I=>!I.__r3f)}b.__r3f.objects.forEach(I=>r(D,I)),b.__r3f.objects=[],b.__r3f.autoRemovedBeforeAppend||c(K,b),D.parent&&(D.__r3f.autoRemovedBeforeAppend=!0),r(K,D),D.raycast&&D.__r3f.eventCount&&lL(D).getState().internal.interaction.push(D),[N,N.alternate].forEach(I=>{I!==null&&(I.stateNode=D,I.ref&&(typeof I.ref=="function"?I.ref(D):I.ref.current=D))})}const g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:uHe({createInstance:t,removeChild:c,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(b,A)=>{if(!A)return;const P=b.getState().scene;P.__r3f&&(P.__r3f.root=b,r(P,A))},removeChildFromContainer:(b,A)=>{A&&c(b.getState().scene,A)},insertInContainerBefore:(b,A,P)=>{if(!A||!P)return;const N=b.getState().scene;N.__r3f&&o(N,A,P)},getRootHostContext:()=>null,getChildHostContext:b=>b,finalizeInitialChildren(b){var A;return!!((A=b==null?void 0:b.__r3f)!=null?A:{}).handlers},prepareUpdate(b,A,P,N){var F;if(((F=b==null?void 0:b.__r3f)!=null?F:{}).primitive&&N.object&&N.object!==b)return[!0];{const{args:D=[],children:I,...j}=N,{args:T=[],children:Y,...ce}=P;if(!Array.isArray(D))throw new Error("R3F: the args prop must be an array!");if(D.some((Z,Se)=>Z!==T[Se]))return[!0];const le=wAe(b,j,ce,!0);return le.changes.length?[!1,le]:null}},commitUpdate(b,[A,P],N,F,K,D){A?d(b,N,K,D):WG(b,P)},commitMount(b,A,P,N){var F;const K=(F=b.__r3f)!=null?F:{};b.raycast&&K.handlers&&K.eventCount&&lL(b).getState().internal.interaction.push(b)},getPublicInstance:b=>b,prepareForCommit:()=>null,preparePortalMount:b=>UC(b.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(b){var A;const{attach:P,parent:N}=(A=b.__r3f)!=null?A:{};P&&N&&x1e(N,b,P),b.isObject3D&&(b.visible=!1),jC(b)},unhideInstance(b,A){var P;const{attach:N,parent:F}=(P=b.__r3f)!=null?P:{};N&&F&&VG(F,b,N),(b.isObject3D&&A.visible==null||A.visible)&&(b.visible=!0),jC(b)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>e?e():lM.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Sl.fun(performance.now)?performance.now:Sl.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Sl.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Sl.fun(clearTimeout)?clearTimeout:void 0}),applyProps:WG}}var v1e,y1e;const GG=n=>"colorSpace"in n||"outputColorSpace"in n,pAe=()=>{var n;return(n=PY.ColorManagement)!=null?n:null},mAe=n=>n&&n.isOrthographicCamera,mHe=n=>n&&n.hasOwnProperty("current"),u3=typeof window<"u"&&((v1e=window.document)!=null&&v1e.createElement||((y1e=window.navigator)==null?void 0:y1e.product)==="ReactNative")?an.useLayoutEffect:an.useEffect;function gAe(n){const e=an.useRef(n);return u3(()=>void(e.current=n),[n]),e}function gHe({set:n}){return u3(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let vAe=class extends an.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};vAe.getDerivedStateFromError=()=>({error:!0});const yAe="__default",_1e=new Map,vHe=n=>n&&!!n.memoized&&!!n.changes;function _Ae(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const wI=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function lL(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Sl={obj:n=>n===Object(n)&&!Sl.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:o=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Sl.str(n)||Sl.num(n))return n===e;const s=Sl.obj(n);if(s&&r==="reference")return n===e;const c=Sl.arr(n);if(c&&t==="reference")return n===e;if((c||s)&&n===e)return!0;let d;for(d in n)if(!(d in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(d in o?e:n)if(!Sl.equ(n[d],e[d],{strict:o,objects:"reference"}))return!1}else for(d in o?e:n)if(n[d]!==e[d])return!1;if(Sl.und(d)){if(c&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function yHe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function _He(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function UC(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function hX(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),o=r.pop();return t=r.reduce((s,c)=>s[c],n),{target:t,key:o}}else return{target:t,key:e}}const w1e=/-\d+$/;function VG(n,e,t){if(Sl.str(t)){if(w1e.test(t)){const s=t.replace(w1e,""),{target:c,key:d}=hX(n,s);Array.isArray(c[d])||(c[d]=[])}const{target:r,key:o}=hX(n,t);e.__r3f.previousAttach=r[o],r[o]=e}else e.__r3f.previousAttach=t(n,e)}function x1e(n,e,t){var r,o;if(Sl.str(t)){const{target:s,key:c}=hX(n,t),d=e.__r3f.previousAttach;d===void 0?delete s[c]:s[c]=d}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(o=e.__r3f)==null||delete o.previousAttach}function wAe(n,{children:e,key:t,ref:r,...o},{children:s,key:c,ref:d,...g}={},_=!1){var b;const A=(b=n==null?void 0:n.__r3f)!=null?b:{},P=Object.entries(o),N=[];if(_){const K=Object.keys(g);for(let D=0;D<K.length;D++)o.hasOwnProperty(K[D])||P.unshift([K[D],yAe+"remove"])}P.forEach(([K,D])=>{var I;if((I=n.__r3f)!=null&&I.primitive&&K==="object"||Sl.equ(D,g[K]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(K))return N.push([K,D,!0,[]]);let j=[];K.includes("-")&&(j=K.split("-")),N.push([K,D,!1,j]);for(const T in o){const Y=o[T];T.startsWith(`${K}-`)&&N.push([T,Y,!1,T.split("-")])}});const F={...o};return A.memoizedProps&&A.memoizedProps.args&&(F.args=A.memoizedProps.args),A.memoizedProps&&A.memoizedProps.attach&&(F.attach=A.memoizedProps.attach),{memoized:F,changes:N}}const wHe=typeof process<"u"&&!1;function WG(n,e){var t,r,o;const s=(t=n.__r3f)!=null?t:{},c=s.root,d=(r=c==null||c.getState==null?void 0:c.getState())!=null?r:{},{memoized:g,changes:_}=vHe(e)?e:wAe(n,e),b=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=g);for(let P=0;P<_.length;P++){let[N,F,K,D]=_[P];if(GG(n)){const Y="srgb",ce="srgb-linear";N==="encoding"?(N="colorSpace",F=F===3001?Y:ce):N==="outputEncoding"&&(N="outputColorSpace",F=F===3001?Y:ce)}let I=n,j=I[N];if(D.length&&(j=D.reduce((T,Y)=>T[Y],n),!(j&&j.set))){const[T,...Y]=D.reverse();I=Y.reverse().reduce((ce,le)=>ce[le],n),N=T}if(F===yAe+"remove")if(I.constructor){let T=_1e.get(I.constructor);T||(T=new I.constructor,_1e.set(I.constructor,T)),F=T[N]}else F=0;if(K)F?s.handlers[N]=F:delete s.handlers[N],s.eventCount=Object.keys(s.handlers).length;else if(j&&j.set&&(j.copy||j instanceof G0)){if(Array.isArray(F))j.fromArray?j.fromArray(F):j.set(...F);else if(j.copy&&F&&F.constructor&&(wHe?j.constructor.name===F.constructor.name:j.constructor===F.constructor))j.copy(F);else if(F!==void 0){const T=j instanceof Dr;!T&&j.setScalar?j.setScalar(F):j instanceof G0&&F instanceof G0?j.mask=F.mask:j.set(F),!pAe()&&!d.linear&&T&&j.convertSRGBToLinear()}}else if(I[N]=F,I[N]instanceof za&&I[N].format===_d&&I[N].type===Hv){const T=I[N];GG(T)&&GG(d.gl)?T.colorSpace=d.gl.outputColorSpace:T.encoding=d.gl.outputEncoding}jC(n)}if(s.parent&&n.raycast&&b!==s.eventCount){const P=lL(n).getState().internal,N=P.interaction.indexOf(n);N>-1&&P.interaction.splice(N,1),s.eventCount&&P.interaction.push(n)}return!(_.length===1&&_[0][0]==="onUpdate")&&_.length&&(o=n.__r3f)!=null&&o.parent&&pX(n),n}function jC(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function pX(n){n.onUpdate==null||n.onUpdate(n)}function xAe(n,e){n.manual||(mAe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function M5(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function xHe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return lM.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return lM.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return lM.ContinuousEventPriority;default:return lM.DefaultEventPriority}}function SAe(n,e,t,r){const o=t.get(e);o&&(t.delete(e),t.size===0&&(n.delete(r),o.target.releasePointerCapture(r)))}function SHe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,o)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(o)}),t.capturedMap.forEach((r,o)=>{SAe(t.capturedMap,e,r,o)})}function bHe(n){function e(g){const{internal:_}=n.getState(),b=g.offsetX-_.initialClick[0],A=g.offsetY-_.initialClick[1];return Math.round(Math.sqrt(b*b+A*A))}function t(g){return g.filter(_=>["Move","Over","Enter","Out","Leave"].some(b=>{var A;return(A=_.__r3f)==null?void 0:A.handlers["onPointer"+b]}))}function r(g,_){const b=n.getState(),A=new Set,P=[],N=_?_(b.internal.interaction):b.internal.interaction;for(let I=0;I<N.length;I++){const j=wI(N[I]);j&&(j.raycaster.camera=void 0)}b.previousRoot||b.events.compute==null||b.events.compute(g,b);function F(I){const j=wI(I);if(!j||!j.events.enabled||j.raycaster.camera===null)return[];if(j.raycaster.camera===void 0){var T;j.events.compute==null||j.events.compute(g,j,(T=j.previousRoot)==null?void 0:T.getState()),j.raycaster.camera===void 0&&(j.raycaster.camera=null)}return j.raycaster.camera?j.raycaster.intersectObject(I,!0):[]}let K=N.flatMap(F).sort((I,j)=>{const T=wI(I.object),Y=wI(j.object);return!T||!Y?I.distance-j.distance:Y.events.priority-T.events.priority||I.distance-j.distance}).filter(I=>{const j=M5(I);return A.has(j)?!1:(A.add(j),!0)});b.events.filter&&(K=b.events.filter(K,b));for(const I of K){let j=I.object;for(;j;){var D;(D=j.__r3f)!=null&&D.eventCount&&P.push({...I,eventObject:j}),j=j.parent}}if("pointerId"in g&&b.internal.capturedMap.has(g.pointerId))for(let I of b.internal.capturedMap.get(g.pointerId).values())A.has(M5(I.intersection))||P.push(I.intersection);return P}function o(g,_,b,A){const P=n.getState();if(g.length){const N={stopped:!1};for(const F of g){const K=wI(F.object)||P,{raycaster:D,pointer:I,camera:j,internal:T}=K,Y=new Je(I.x,I.y,0).unproject(j),ce=X=>{var fe,st;return(fe=(st=T.capturedMap.get(X))==null?void 0:st.has(F.eventObject))!=null?fe:!1},le=X=>{const fe={intersection:F,target:_.target};T.capturedMap.has(X)?T.capturedMap.get(X).set(F.eventObject,fe):T.capturedMap.set(X,new Map([[F.eventObject,fe]])),_.target.setPointerCapture(X)},Z=X=>{const fe=T.capturedMap.get(X);fe&&SAe(T.capturedMap,F.eventObject,fe,X)};let Se={};for(let X in _){let fe=_[X];typeof fe!="function"&&(Se[X]=fe)}let Le={...F,...Se,pointer:I,intersections:g,stopped:N.stopped,delta:b,unprojectedPoint:Y,ray:D.ray,camera:j,stopPropagation(){const X="pointerId"in _&&T.capturedMap.get(_.pointerId);if((!X||X.has(F.eventObject))&&(Le.stopped=N.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(fe=>fe.eventObject===F.eventObject))){const fe=g.slice(0,g.indexOf(F));s([...fe,F])}},target:{hasPointerCapture:ce,setPointerCapture:le,releasePointerCapture:Z},currentTarget:{hasPointerCapture:ce,setPointerCapture:le,releasePointerCapture:Z},nativeEvent:_};if(A(Le),N.stopped===!0)break}}return g}function s(g){const{internal:_}=n.getState();for(const b of _.hovered.values())if(!g.length||!g.find(A=>A.object===b.object&&A.index===b.index&&A.instanceId===b.instanceId)){const P=b.eventObject.__r3f,N=P==null?void 0:P.handlers;if(_.hovered.delete(M5(b)),P!=null&&P.eventCount){const F={...b,intersections:g};N.onPointerOut==null||N.onPointerOut(F),N.onPointerLeave==null||N.onPointerLeave(F)}}}function c(g,_){for(let b=0;b<_.length;b++){const A=_[b].__r3f;A==null||A.handlers.onPointerMissed==null||A.handlers.onPointerMissed(g)}}function d(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return _=>{const{internal:b}=n.getState();"pointerId"in _&&b.capturedMap.has(_.pointerId)&&requestAnimationFrame(()=>{b.capturedMap.has(_.pointerId)&&(b.capturedMap.delete(_.pointerId),s([]))})}}return function(b){const{onPointerMissed:A,internal:P}=n.getState();P.lastEvent.current=b;const N=g==="onPointerMove",F=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",D=r(b,N?t:void 0),I=F?e(b):0;g==="onPointerDown"&&(P.initialClick=[b.offsetX,b.offsetY],P.initialHits=D.map(T=>T.eventObject)),F&&!D.length&&I<=2&&(c(b,P.interaction),A&&A(b)),N&&s(D);function j(T){const Y=T.eventObject,ce=Y.__r3f,le=ce==null?void 0:ce.handlers;if(ce!=null&&ce.eventCount)if(N){if(le.onPointerOver||le.onPointerEnter||le.onPointerOut||le.onPointerLeave){const Z=M5(T),Se=P.hovered.get(Z);Se?Se.stopped&&T.stopPropagation():(P.hovered.set(Z,T),le.onPointerOver==null||le.onPointerOver(T),le.onPointerEnter==null||le.onPointerEnter(T))}le.onPointerMove==null||le.onPointerMove(T)}else{const Z=le[g];Z?(!F||P.initialHits.includes(Y))&&(c(b,P.interaction.filter(Se=>!P.initialHits.includes(Se))),Z(T)):F&&P.initialHits.includes(Y)&&c(b,P.interaction.filter(Se=>!P.initialHits.includes(Se)))}}o(D,b,I,j)}}return{handlePointer:d}}const EHe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],bAe=n=>!!(n!=null&&n.render),FR=an.createContext(null),AHe=(n,e)=>{const t=lAe((d,g)=>{const _=new Je,b=new Je,A=new Je;function P(I=g().camera,j=b,T=g().size){const{width:Y,height:ce,top:le,left:Z}=T,Se=Y/ce;j instanceof Je?A.copy(j):A.set(...j);const Le=I.getWorldPosition(_).distanceTo(A);if(mAe(I))return{width:Y/I.zoom,height:ce/I.zoom,top:le,left:Z,factor:1,distance:Le,aspect:Se};{const X=I.fov*Math.PI/180,fe=2*Math.tan(X/2)*Le,st=fe*(Y/ce);return{width:st,height:fe,top:le,left:Z,factor:Y/st,distance:Le,aspect:Se}}}let N;const F=I=>d(j=>({performance:{...j.performance,current:I}})),K=new Vn;return{set:d,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(I=1)=>n(g(),I),advance:(I,j)=>e(I,j,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QF,pointer:K,mouse:K,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const I=g();N&&clearTimeout(N),I.performance.current!==I.performance.min&&F(I.performance.min),N=setTimeout(()=>F(g().performance.max),I.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:P},setEvents:I=>d(j=>({...j,events:{...j.events,...I}})),setSize:(I,j,T,Y,ce)=>{const le=g().camera,Z={width:I,height:j,top:Y||0,left:ce||0,updateStyle:T};d(Se=>({size:Z,viewport:{...Se.viewport,...P(le,b,Z)}}))},setDpr:I=>d(j=>{const T=_Ae(I);return{viewport:{...j.viewport,dpr:T,initialDpr:j.viewport.initialDpr||T}}}),setFrameloop:(I="always")=>{const j=g().clock;j.stop(),j.elapsedTime=0,I!=="never"&&(j.start(),j.elapsedTime=0),d(()=>({frameloop:I}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:an.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(I,j,T)=>{const Y=g().internal;return Y.priority=Y.priority+(j>0?1:0),Y.subscribers.push({ref:I,priority:j,store:T}),Y.subscribers=Y.subscribers.sort((ce,le)=>ce.priority-le.priority),()=>{const ce=g().internal;ce!=null&&ce.subscribers&&(ce.priority=ce.priority-(j>0?1:0),ce.subscribers=ce.subscribers.filter(le=>le.ref!==I))}}}}}),r=t.getState();let o=r.size,s=r.viewport.dpr,c=r.camera;return t.subscribe(()=>{const{camera:d,size:g,viewport:_,gl:b,set:A}=t.getState();if(g.width!==o.width||g.height!==o.height||_.dpr!==s){var P;o=g,s=_.dpr,xAe(d,g),b.setPixelRatio(_.dpr);const N=(P=g.updateStyle)!=null?P:typeof HTMLCanvasElement<"u"&&b.domElement instanceof HTMLCanvasElement;b.setSize(g.width,g.height,N)}d!==c&&(c=d,A(N=>({viewport:{...N.viewport,...N.viewport.getCurrentViewport(d)}})))}),t.subscribe(d=>n(d)),t};let T5,CHe=new Set,MHe=new Set,THe=new Set;function XG(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function xI(n,e){switch(n){case"before":return XG(CHe,e);case"after":return XG(MHe,e);case"tail":return XG(THe,e)}}let KG,YG;function qG(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),KG=e.internal.subscribers,T5=0;T5<KG.length;T5++)YG=KG[T5],YG.ref.current(YG.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function PHe(n){let e=!1,t,r,o;function s(g){r=requestAnimationFrame(s),e=!0,t=0,xI("before",g);for(const b of n.values()){var _;o=b.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((_=o.gl.xr)!=null&&_.isPresenting)&&(t+=qG(g,o))}if(xI("after",g),t===0)return xI("tail",g),e=!1,cancelAnimationFrame(r)}function c(g,_=1){var b;if(!g)return n.forEach(A=>c(A.store.getState(),_));(b=g.gl.xr)!=null&&b.isPresenting||!g.internal.active||g.frameloop==="never"||(g.internal.frames=Math.min(60,g.internal.frames+_),e||(e=!0,requestAnimationFrame(s)))}function d(g,_=!0,b,A){if(_&&xI("before",g),b)qG(g,b,A);else for(const P of n.values())qG(g,P.store.getState());_&&xI("after",g)}return{loop:s,invalidate:c,advance:d}}function IY(){const n=an.useContext(FR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function fh(n=t=>t,e){return IY()(n,e)}function k1(n,e=0){const t=IY(),r=t.getState().internal.subscribe,o=gAe(n);return u3(()=>r(o,e,t),[e,r,t]),null}const S1e=new WeakMap;function EAe(n,e){return function(t,...r){let o=S1e.get(t);return o||(o=new t,S1e.set(t,o)),n&&n(o),Promise.all(r.map(s=>new Promise((c,d)=>o.load(s,g=>{g.scene&&Object.assign(g,yHe(g.scene)),c(g)},e,g=>d(new Error(`Could not load ${s}: ${g==null?void 0:g.message}`)))))).finally(()=>o.dispose==null?void 0:o.dispose())}}function eT(n,e,t,r){const o=Array.isArray(e)?e:[e],s=fHe(EAe(t,r),[n,...o],{equal:Sl.equ});return Array.isArray(e)?s:s[0]}eT.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return dHe(EAe(t),[n,...r])};eT.clear=function(n,e){const t=Array.isArray(e)?e:[e];return hHe([n,...t])};const FM=new Map,{invalidate:b1e,advance:E1e}=PHe(FM),{reconciler:zR,applyProps:PC}=pHe(FM,xHe),kC={objects:"shallow",strict:!1},kHe=(n,e)=>{const t=typeof n=="function"?n(e):n;return bAe(t)?t:new IF({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function IHe(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:o,top:s,left:c,updateStyle:d=t}=e;return{width:r,height:o,top:s,left:c,updateStyle:d}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:o,top:s,left:c}=n.parentElement.getBoundingClientRect();return{width:r,height:o,top:s,left:c,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function RHe(n){const e=FM.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,s=r||AHe(b1e,E1e),c=t||zR.createContainer(s,lM.ConcurrentRoot,null,!1,null,"",o,null);e||FM.set(n,{fiber:c,store:s});let d,g=!1,_;return{configure(b={}){let{gl:A,size:P,scene:N,events:F,onCreated:K,shadows:D=!1,linear:I=!1,flat:j=!1,legacy:T=!1,orthographic:Y=!1,frameloop:ce="always",dpr:le=[1,2],performance:Z,raycaster:Se,camera:Le,onPointerMissed:X}=b,fe=s.getState(),st=fe.gl;fe.gl||fe.set({gl:st=kHe(A,n)});let Ue=fe.raycaster;Ue||fe.set({raycaster:Ue=new $M});const{params:Me,...be}=Se||{};if(Sl.equ(be,Ue,kC)||PC(Ue,{...be}),Sl.equ(Me,Ue.params,kC)||PC(Ue,{params:{...Ue.params,...Me}}),!fe.camera||fe.camera===_&&!Sl.equ(_,Le,kC)){_=Le;const ye=Le instanceof qM,_e=ye?Le:Y?new Ng(0,0,0,0,.1,1e3):new bl(75,0,.1,1e3);ye||(_e.position.z=5,Le&&PC(_e,Le),!fe.camera&&!(Le!=null&&Le.rotation)&&_e.lookAt(0,0,0)),fe.set({camera:_e}),Ue.camera=_e}if(!fe.scene){let ye;N instanceof Yb?ye=N:(ye=new Yb,N&&PC(ye,N)),fe.set({scene:UC(ye)})}if(!fe.xr){var Ke;const ye=(dt,qe)=>{const _t=s.getState();_t.frameloop!=="never"&&E1e(dt,!0,_t,qe)},_e=()=>{const dt=s.getState();dt.gl.xr.enabled=dt.gl.xr.isPresenting,dt.gl.xr.setAnimationLoop(dt.gl.xr.isPresenting?ye:null),dt.gl.xr.isPresenting||b1e(dt)},ge={connect(){const dt=s.getState().gl;dt.xr.addEventListener("sessionstart",_e),dt.xr.addEventListener("sessionend",_e)},disconnect(){const dt=s.getState().gl;dt.xr.removeEventListener("sessionstart",_e),dt.xr.removeEventListener("sessionend",_e)}};typeof((Ke=st.xr)==null?void 0:Ke.addEventListener)=="function"&&ge.connect(),fe.set({xr:ge})}if(st.shadowMap){const ye=st.shadowMap.enabled,_e=st.shadowMap.type;if(st.shadowMap.enabled=!!D,Sl.boo(D))st.shadowMap.type=jw;else if(Sl.str(D)){var Ye;const ge={basic:LK,percentage:$R,soft:jw,variance:Cg};st.shadowMap.type=(Ye=ge[D])!=null?Ye:jw}else Sl.obj(D)&&Object.assign(st.shadowMap,D);(ye!==st.shadowMap.enabled||_e!==st.shadowMap.type)&&(st.shadowMap.needsUpdate=!0)}const de=pAe();de&&("enabled"in de?de.enabled=!T:"legacyMode"in de&&(de.legacyMode=T)),g||PC(st,{outputEncoding:I?3e3:3001,toneMapping:j?jv:SF}),fe.legacy!==T&&fe.set(()=>({legacy:T})),fe.linear!==I&&fe.set(()=>({linear:I})),fe.flat!==j&&fe.set(()=>({flat:j})),A&&!Sl.fun(A)&&!bAe(A)&&!Sl.equ(A,st,kC)&&PC(st,A),F&&!fe.events.handlers&&fe.set({events:F(s)});const ve=IHe(n,P);return Sl.equ(ve,fe.size,kC)||fe.setSize(ve.width,ve.height,ve.updateStyle,ve.top,ve.left),le&&fe.viewport.dpr!==_Ae(le)&&fe.setDpr(le),fe.frameloop!==ce&&fe.setFrameloop(ce),fe.onPointerMissed||fe.set({onPointerMissed:X}),Z&&!Sl.equ(Z,fe.performance,kC)&&fe.set(ye=>({performance:{...ye.performance,...Z}})),d=K,g=!0,this},render(b){return g||this.configure(),zR.updateContainer(an.createElement(OHe,{store:s,children:b,onCreated:d,rootElement:n}),c,null,()=>{}),s},unmount(){AAe(n)}}}function OHe({store:n,children:e,onCreated:t,rootElement:r}){return u3(()=>{const o=n.getState();o.set(s=>({internal:{...s.internal,active:!0}})),t&&t(o),n.getState().events.connected||o.events.connect==null||o.events.connect(r)},[]),an.createElement(FR.Provider,{value:n},e)}function AAe(n,e){const t=FM.get(n),r=t==null?void 0:t.fiber;if(r){const o=t==null?void 0:t.store.getState();o&&(o.internal.active=!1),zR.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var s,c,d,g;o.events.disconnect==null||o.events.disconnect(),(s=o.gl)==null||(c=s.renderLists)==null||c.dispose==null||c.dispose(),(d=o.gl)==null||d.forceContextLoss==null||d.forceContextLoss(),(g=o.gl)!=null&&g.xr&&o.xr.disconnect(),_He(o),FM.delete(n),e&&e(n)}catch{}},500)})}}function BHe(n,e,t){return an.createElement(DHe,{key:e.uuid,children:n,container:e,state:t})}function DHe({state:n={},children:e,container:t}){const{events:r,size:o,...s}=n,c=IY(),[d]=an.useState(()=>new $M),[g]=an.useState(()=>new Vn),_=an.useCallback((A,P)=>{const N={...A};Object.keys(A).forEach(K=>{(EHe.includes(K)||A[K]!==P[K]&&P[K])&&delete N[K]});let F;if(P&&o){const K=P.camera;F=A.viewport.getCurrentViewport(K,new Je,o),K!==A.camera&&xAe(K,o)}return{...N,scene:t,raycaster:d,pointer:g,mouse:g,previousRoot:c,events:{...A.events,...P==null?void 0:P.events,...r},size:{...A.size,...o},viewport:{...A.viewport,...F},...s}},[n]),[b]=an.useState(()=>{const A=c.getState();return lAe((N,F)=>({...A,scene:t,raycaster:d,pointer:g,mouse:g,previousRoot:c,events:{...A.events,...r},size:{...A.size,...o},...s,set:N,get:F,setEvents:K=>N(D=>({...D,events:{...D.events,...K}}))}))});return an.useEffect(()=>{const A=c.subscribe(P=>b.setState(N=>_(P,N)));return()=>{A(),b.destroy()}},[]),an.useEffect(()=>{b.setState(A=>_(c.getState(),A))},[_]),an.createElement(an.Fragment,null,zR.createPortal(an.createElement(FR.Provider,{value:b},e),b,null))}zR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:an.version});function Qb(){return Qb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qb.apply(this,arguments)}function mX(n,e,t){var r,o,s,c,d;e==null&&(e=100);function g(){var b=Date.now()-c;b<e&&b>=0?r=setTimeout(g,e-b):(r=null,t||(d=n.apply(s,o),s=o=null))}var _=function(){s=this,o=arguments,c=Date.now();var b=t&&!r;return r||(r=setTimeout(g,e)),b&&(d=n.apply(s,o),s=o=null),d};return _.clear=function(){r&&(clearTimeout(r),r=null)},_.flush=function(){r&&(d=n.apply(s,o),s=o=null,clearTimeout(r),r=null)},_}mX.debounce=mX;var NHe=mX;const A1e=oF(NHe);function LHe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:o}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[c,d]=an.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=an.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),_=e?typeof e=="number"?e:e.scroll:null,b=e?typeof e=="number"?e:e.resize:null,A=an.useRef(!1);an.useEffect(()=>(A.current=!0,()=>void(A.current=!1)));const[P,N,F]=an.useMemo(()=>{const j=()=>{if(!g.current.element)return;const{left:T,top:Y,width:ce,height:le,bottom:Z,right:Se,x:Le,y:X}=g.current.element.getBoundingClientRect(),fe={left:T,top:Y,width:ce,height:le,bottom:Z,right:Se,x:Le,y:X};g.current.element instanceof HTMLElement&&o&&(fe.height=g.current.element.offsetHeight,fe.width=g.current.element.offsetWidth),Object.freeze(fe),A.current&&!jHe(g.current.lastBounds,fe)&&d(g.current.lastBounds=fe)};return[j,b?A1e(j,b):j,_?A1e(j,_):j]},[d,o,_,b]);function K(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(j=>j.removeEventListener("scroll",F,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function D(){g.current.element&&(g.current.resizeObserver=new s(F),g.current.resizeObserver.observe(g.current.element),t&&g.current.scrollContainers&&g.current.scrollContainers.forEach(j=>j.addEventListener("scroll",F,{capture:!0,passive:!0})))}const I=j=>{!j||j===g.current.element||(K(),g.current.element=j,g.current.scrollContainers=CAe(j),D())};return zHe(F,!!t),FHe(N),an.useEffect(()=>{K(),D()},[t,F,N]),an.useEffect(()=>K,[]),[I,c,P]}function FHe(n){an.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function zHe(n,e){an.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function CAe(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:o}=window.getComputedStyle(n);return[t,r,o].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...CAe(n.parentElement)]}const UHe=["x","y","top","bottom","left","right","width","height"],jHe=(n,e)=>UHe.every(t=>n[t]===e[t]);var HHe=Object.defineProperty,GHe=Object.defineProperties,VHe=Object.getOwnPropertyDescriptors,C1e=Object.getOwnPropertySymbols,WHe=Object.prototype.hasOwnProperty,XHe=Object.prototype.propertyIsEnumerable,M1e=(n,e,t)=>e in n?HHe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,T1e=(n,e)=>{for(var t in e||(e={}))WHe.call(e,t)&&M1e(n,t,e[t]);if(C1e)for(var t of C1e(e))XHe.call(e,t)&&M1e(n,t,e[t]);return n},KHe=(n,e)=>GHe(n,VHe(e));function MAe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const o=MAe(r,e,t);if(o)return o;r=e?null:r.sibling}}function TAe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const RY=TAe(an.createContext(null));let PAe=class extends an.Component{render(){return an.createElement(RY.Provider,{value:this._reactInternals},this.props.children)}};const{ReactCurrentOwner:P1e,ReactCurrentDispatcher:k1e}=an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function YHe(){const n=an.useContext(RY);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=an.useId();return an.useMemo(()=>{for(const r of[P1e==null?void 0:P1e.current,n,n==null?void 0:n.alternate]){if(!r)continue;const o=MAe(r,!1,s=>{let c=s.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}});if(o)return o}},[n,e])}function qHe(){var n;const e=YHe(),[t]=an.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&typeof r.type=="object"){const o="Provider"in r.type?r.type:r.type._context;o&&o!==RY&&!t.has(o)&&t.set(o,(n=k1e==null?void 0:k1e.current)==null?void 0:n.readContext(TAe(o)))}r=r.return}return t}function QHe(){const n=qHe();return an.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>an.createElement(e,null,an.createElement(t.Provider,KHe(T1e({},r),{value:n.get(t)}))),e=>an.createElement(PAe,T1e({},e))),[n])}const QG={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function JHe(n){const{handlePointer:e}=bHe(n);return{priority:1,enabled:!0,compute(t,r,o){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(QG).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:o}=n.getState();(t=o.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:t=>{var r;const{set:o,events:s}=n.getState();s.disconnect==null||s.disconnect(),o(c=>({events:{...c.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([c,d])=>{const[g,_]=QG[c];t.addEventListener(g,d,{passive:_})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var o;Object.entries((o=r.handlers)!=null?o:[]).forEach(([s,c])=>{if(r&&r.connected instanceof HTMLElement){const[d]=QG[s];r.connected.removeEventListener(d,c)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const ZHe=an.forwardRef(function({children:e,fallback:t,resize:r,style:o,gl:s,events:c=JHe,eventSource:d,eventPrefix:g,shadows:_,linear:b,flat:A,legacy:P,orthographic:N,frameloop:F,dpr:K,performance:D,raycaster:I,camera:j,scene:T,onPointerMissed:Y,onCreated:ce,...le},Z){an.useMemo(()=>kY(sAe),[]);const Se=QHe(),[Le,X]=LHe({scroll:!0,debounce:{scroll:50,resize:0},...r}),fe=an.useRef(null),st=an.useRef(null);an.useImperativeHandle(Z,()=>fe.current);const Ue=gAe(Y),[Me,be]=an.useState(!1),[Ke,Ye]=an.useState(!1);if(Me)throw Me;if(Ke)throw Ke;const de=an.useRef(null);u3(()=>{const ye=fe.current;X.width>0&&X.height>0&&ye&&(de.current||(de.current=RHe(ye)),de.current.configure({gl:s,events:c,shadows:_,linear:b,flat:A,legacy:P,orthographic:N,frameloop:F,dpr:K,performance:D,raycaster:I,camera:j,scene:T,size:X,onPointerMissed:(..._e)=>Ue.current==null?void 0:Ue.current(..._e),onCreated:_e=>{_e.events.connect==null||_e.events.connect(d?mHe(d)?d.current:d:st.current),g&&_e.setEvents({compute:(ge,dt)=>{const qe=ge[g+"X"],_t=ge[g+"Y"];dt.pointer.set(qe/dt.size.width*2-1,-(_t/dt.size.height)*2+1),dt.raycaster.setFromCamera(dt.pointer,dt.camera)}}),ce==null||ce(_e)}}),de.current.render(an.createElement(Se,null,an.createElement(vAe,{set:Ye},an.createElement(an.Suspense,{fallback:an.createElement(gHe,{set:be})},e)))))}),an.useEffect(()=>{const ye=fe.current;if(ye)return()=>AAe(ye)},[]);const ve=d?"none":"auto";return an.createElement("div",Qb({ref:st,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ve,...o}},le),an.createElement("div",{ref:Le,style:{width:"100%",height:"100%"}},an.createElement("canvas",{ref:fe,style:{display:"block"}},t)))}),$He=an.forwardRef(function(e,t){return an.createElement(PAe,null,an.createElement(ZHe,Qb({},e,{ref:t})))});function tR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gX(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function e7e(n,e){if(n){if(typeof n=="string")return gX(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gX(n,e)}}function t7e(n){if(Array.isArray(n))return gX(n)}function n7e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function r7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7e(n){return t7e(n)||n7e(n)||e7e(n)||r7e()}new Vn;new Vn;function o7e(n,e,t){return Math.max(e,Math.min(t,n))}function s7e(n,e){return o7e(n-Math.floor(n/e)*e,0,e)}function a7e(n,e){var t=s7e(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function kAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var bg=function n(e,t,r){var o=this;kAe(this,n),tR(this,"dot2",function(s,c){return o.x*s+o.y*c}),tR(this,"dot3",function(s,c,d){return o.x*s+o.y*c+o.z*d}),this.x=e,this.y=t,this.z=r},l7e=[new bg(1,1,0),new bg(-1,1,0),new bg(1,-1,0),new bg(-1,-1,0),new bg(1,0,1),new bg(-1,0,1),new bg(1,0,-1),new bg(-1,0,-1),new bg(0,1,1),new bg(0,-1,1),new bg(0,1,-1),new bg(0,-1,-1)],I1e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],R1e=new Array(512),O1e=new Array(512),u7e=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=I1e[t]^e&255:r=I1e[t]^e>>8&255,R1e[t]=R1e[t+256]=r,O1e[t]=O1e[t+256]=l7e[r%12]}};u7e(0);function c7e(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function B1e(n){var e=c7e(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var f7e=function n(e){var t=this;kAe(this,n),tR(this,"seed",0),tR(this,"init",function(r){t.seed=r,t.value=B1e(r)}),tR(this,"value",B1e(this.seed)),this.init(e)};new f7e(Math.random());var d7e=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*o)/t)},IAe=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},h7e=function(e){return e},p7e={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},m7e={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},g7e={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},v7e={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},y7e={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},_7e={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function tf(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:IAe,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,g="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[g]===void 0&&(n.__damp[g]=0),Math.abs(n[e]-t)<=d)return n[e]=t,!1;r=Math.max(1e-4,r);var _=2/r,b=c(_*o),A=n[e]-t,P=t,N=s*r;A=Math.min(Math.max(A,-N),N),t=n[e]-A;var F=(n.__damp[g]+_*A)*o;n.__damp[g]=(n.__damp[g]-_*F)*b;var K=t+(A+F)*b;return P-n[e]>0==K>P&&(K=P,n.__damp[g]=(K-P)/o),n[e]=K,!0}var w7e=function(e){return e&&e.isCamera},x7e=function(e){return e&&e.isLight},SI=new Je,D1e=new jo,N1e=new jo,bI=new Ui,JG=new Je;function S7e(n,e,t,r,o,s,c){typeof e=="number"?SI.setScalar(e):Array.isArray(e)?SI.set(e[0],e[1],e[2]):SI.copy(e);var d=n.parent;n.updateWorldMatrix(!0,!1),JG.setFromMatrixPosition(n.matrixWorld),w7e(n)||x7e(n)?bI.lookAt(JG,SI,n.up):bI.lookAt(SI,JG,n.up),WL(n.quaternion,N1e.setFromRotationMatrix(bI),t,r,o,s,c),d&&(bI.extractRotation(d.matrixWorld),D1e.setFromRotationMatrix(bI),WL(n.quaternion,N1e.copy(n.quaternion).premultiply(D1e.invert()),t,r,o,s,c))}function _M(n,e,t,r,o,s,c,d){return tf(n,e,n[e]+a7e(n[e],t),r,o,s,c,d)}var EI=new Vn,L1e,F1e;function b7e(n,e,t,r,o,s,c){return typeof e=="number"?EI.setScalar(e):Array.isArray(e)?EI.set(e[0],e[1]):EI.copy(e),L1e=tf(n,"x",EI.x,t,r,o,s,c),F1e=tf(n,"y",EI.y,t,r,o,s,c),L1e||F1e}var IC=new Je,z1e,U1e,j1e;function vX(n,e,t,r,o,s,c){return typeof e=="number"?IC.setScalar(e):Array.isArray(e)?IC.set(e[0],e[1],e[2]):IC.copy(e),z1e=tf(n,"x",IC.x,t,r,o,s,c),U1e=tf(n,"y",IC.y,t,r,o,s,c),j1e=tf(n,"z",IC.z,t,r,o,s,c),z1e||U1e||j1e}var fb=new Ms,H1e,G1e,V1e,W1e;function E7e(n,e,t,r,o,s,c){return typeof e=="number"?fb.setScalar(e):Array.isArray(e)?fb.set(e[0],e[1],e[2],e[3]):fb.copy(e),H1e=tf(n,"x",fb.x,t,r,o,s,c),G1e=tf(n,"y",fb.y,t,r,o,s,c),V1e=tf(n,"z",fb.z,t,r,o,s,c),W1e=tf(n,"w",fb.w,t,r,o,s,c),H1e||G1e||V1e||W1e}var AI=new tp,X1e,K1e,Y1e;function A7e(n,e,t,r,o,s,c){return Array.isArray(e)?AI.set(e[0],e[1],e[2],e[3]):AI.copy(e),X1e=_M(n,"x",AI.x,t,r,o,s,c),K1e=_M(n,"y",AI.y,t,r,o,s,c),Y1e=_M(n,"z",AI.z,t,r,o,s,c),X1e||K1e||Y1e}var RC=new Dr,q1e,Q1e,J1e;function C7e(n,e,t,r,o,s,c){return e instanceof Dr?RC.copy(e):Array.isArray(e)?RC.setRGB(e[0],e[1],e[2]):RC.set(e),q1e=tf(n,"r",RC.r,t,r,o,s,c),Q1e=tf(n,"g",RC.g,t,r,o,s,c),J1e=tf(n,"b",RC.b,t,r,o,s,c),q1e||Q1e||J1e}var Rv=new jo,i1=new Ms,Z1e=new Ms,CI=new Ms,$1e,e_e,t_e,n_e;function WL(n,e,t,r,o,s,c){var d=n;Array.isArray(e)?Rv.set(e[0],e[1],e[2],e[3]):Rv.copy(e);var g=n.dot(Rv)>0?1:-1;return Rv.x*=g,Rv.y*=g,Rv.z*=g,Rv.w*=g,$1e=tf(n,"x",Rv.x,t,r,o,s,c),e_e=tf(n,"y",Rv.y,t,r,o,s,c),t_e=tf(n,"z",Rv.z,t,r,o,s,c),n_e=tf(n,"w",Rv.w,t,r,o,s,c),i1.set(n.x,n.y,n.z,n.w).normalize(),Z1e.set(d.__damp.velocity_x,d.__damp.velocity_y,d.__damp.velocity_z,d.__damp.velocity_w),CI.copy(i1).multiplyScalar(Z1e.dot(i1)/i1.dot(i1)),d.__damp.velocity_x-=CI.x,d.__damp.velocity_y-=CI.y,d.__damp.velocity_z-=CI.z,d.__damp.velocity_w-=CI.w,n.set(i1.x,i1.y,i1.z,i1.w),$1e||e_e||t_e||n_e}var MI=new GL,r_e,i_e,o_e;function M7e(n,e,t,r,o,s,c){return Array.isArray(e)?MI.set(e[0],e[1],e[2]):MI.copy(e),r_e=tf(n,"radius",MI.radius,t,r,o,s,c),i_e=_M(n,"phi",MI.phi,t,r,o,s,c),o_e=_M(n,"theta",MI.theta,t,r,o,s,c),r_e||i_e||o_e}var P5=new Ui,s_e=new Je,a_e=new jo,l_e=new Je,u_e,c_e,f_e;function T7e(n,e,t,r,o,s,c){var d=n;return d.__damp===void 0&&(d.__damp={position:new Je,rotation:new jo,scale:new Je},n.decompose(d.__damp.position,d.__damp.rotation,d.__damp.scale)),Array.isArray(e)?P5.set.apply(P5,i7e(e)):P5.copy(e),P5.decompose(s_e,a_e,l_e),u_e=vX(d.__damp.position,s_e,t,r,o,s,c),c_e=WL(d.__damp.rotation,a_e,t,r,o,s,c),f_e=vX(d.__damp.scale,l_e,t,r,o,s,c),n.compose(d.__damp.position,d.__damp.rotation,d.__damp.scale),u_e||c_e||f_e}var d_e=Object.freeze({__proto__:null,rsqw:d7e,exp:IAe,linear:h7e,sine:p7e,cubic:m7e,quint:g7e,circ:v7e,quart:y7e,expo:_7e,damp:tf,dampLookAt:S7e,dampAngle:_M,damp2:b7e,damp3:vX,damp4:E7e,dampE:A7e,dampC:C7e,dampQ:WL,dampS:M7e,dampM:T7e});const OY=an.createContext(null);function BY(){return an.useContext(OY)}function P7e({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:o=1,distance:s=1,damping:c=.25,maxSpeed:d=1/0,style:g={},children:_}){const{get:b,setEvents:A,gl:P,size:N,invalidate:F,events:K}=fh(),[D]=an.useState(()=>document.createElement("div")),[I]=an.useState(()=>document.createElement("div")),[j]=an.useState(()=>document.createElement("div")),T=P.domElement.parentNode,Y=an.useRef(0),ce=an.useMemo(()=>({el:D,eps:n,fill:I,fixed:j,horizontal:r,damping:c,offset:0,delta:0,scroll:Y,pages:o,range(Se,Le,X=0){const fe=Se-X,st=fe+Le+X*2;return this.offset<fe?0:this.offset>st?1:(this.offset-fe)/(st-fe)},curve(Se,Le,X=0){return Math.sin(this.range(Se,Le,X)*Math.PI)},visible(Se,Le,X=0){const fe=Se-X,st=fe+Le+X*2;return this.offset>=fe&&this.offset<=st}}),[n,c,r,o]);an.useEffect(()=>{D.style.position="absolute",D.style.width="100%",D.style.height="100%",D.style[r?"overflowX":"overflowY"]="auto",D.style[r?"overflowY":"overflowX"]="hidden",D.style.top="0px",D.style.left="0px";for(const Le in g)D.style[Le]=g[Le];j.style.position="sticky",j.style.top="0px",j.style.left="0px",j.style.width="100%",j.style.height="100%",j.style.overflow="hidden",D.appendChild(j),I.style.height=r?"100%":`${o*s*100}%`,I.style.width=r?`${o*s*100}%`:"100%",I.style.pointerEvents="none",D.appendChild(I),T.appendChild(D),D[r?"scrollLeft":"scrollTop"]=1;const Z=K.connected||P.domElement;requestAnimationFrame(()=>K.connect==null?void 0:K.connect(D));const Se=b().events.compute;return A({compute(Le,X){const{left:fe,top:st}=T.getBoundingClientRect(),Ue=Le.clientX-fe,Me=Le.clientY-st;X.pointer.set(Ue/X.size.width*2-1,-(Me/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),()=>{T.removeChild(D),A({compute:Se}),K.connect==null||K.connect(Z)}},[o,s,r,D,I,j,T]),an.useEffect(()=>{if(K.connected===D){const Z=N[r?"width":"height"],Se=D[r?"scrollWidth":"scrollHeight"],Le=Se-Z;let X=0,fe=!0,st=!0;const Ue=()=>{if(!(!e||st)&&(F(),X=D[r?"scrollLeft":"scrollTop"],Y.current=X/Le,t)){if(!fe){if(X>=Le){const be=1-ce.offset;D[r?"scrollLeft":"scrollTop"]=1,Y.current=ce.offset=-be,fe=!0}else if(X<=0){const be=1+ce.offset;D[r?"scrollLeft":"scrollTop"]=Se,Y.current=ce.offset=be,fe=!0}}fe&&setTimeout(()=>fe=!1,40)}};D.addEventListener("scroll",Ue,{passive:!0}),requestAnimationFrame(()=>st=!1);const Me=be=>D.scrollLeft+=be.deltaY/2;return r&&D.addEventListener("wheel",Me,{passive:!0}),()=>{D.removeEventListener("scroll",Ue),r&&D.removeEventListener("wheel",Me)}}},[D,K,N,t,ce,F,r,e]);let le=0;return k1((Z,Se)=>{le=ce.offset,d_e.damp(ce,"offset",Y.current,c,Se,d,void 0,n),d_e.damp(ce,"delta",Math.abs(le-ce.offset),c,Se,d,void 0,n),ce.delta>n&&F()}),an.createElement(OY.Provider,{value:ce},_)}const k7e=an.forwardRef(({children:n},e)=>{const t=an.useRef(null);an.useImperativeHandle(e,()=>t.current,[]);const r=BY(),{width:o,height:s}=fh(c=>c.viewport);return k1(()=>{t.current.position.x=r.horizontal?-o*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),an.createElement("group",{ref:t},n)}),I7e=an.forwardRef(({children:n,style:e,...t},r)=>{const o=BY(),s=an.useRef(null);an.useImperativeHandle(r,()=>s.current,[]);const{width:c,height:d}=fh(b=>b.size),g=an.useContext(FR),_=an.useMemo(()=>qSe(o.fixed),[o.fixed]);return k1(()=>{o.delta>o.eps&&(s.current.style.transform=`translate3d(${o.horizontal?-c*(o.pages-1)*o.offset:0}px,${o.horizontal?0:d*(o.pages-1)*-o.offset}px,0)`)}),_.render(an.createElement("div",Qb({ref:s,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),an.createElement(OY.Provider,{value:o},an.createElement(FR.Provider,{value:g},n)))),null}),R7e=an.forwardRef(({html:n,...e},t)=>{const r=n?I7e:k7e;return an.createElement(r,Qb({ref:t},e))});function h_e(n,e){if(e===Ube)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===FL||e===XK){let t=n.getIndex();if(t===null){const c=[],d=n.getAttribute("position");if(d!==void 0){for(let g=0;g<d.count;g++)c.push(g);n.setIndex(c),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,o=[];if(t)if(e===FL)for(let c=1;c<=r;c++)o.push(t.getX(0)),o.push(t.getX(c)),o.push(t.getX(c+1));else for(let c=0;c<r;c++)c%2===0?(o.push(t.getX(c)),o.push(t.getX(c+1)),o.push(t.getX(c+2))):(o.push(t.getX(c+2)),o.push(t.getX(c+1)),o.push(t.getX(c)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(o),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const O7e=parseInt(XM.replace(/\D+/g,""));var Ig=Uint8Array,Rw=Uint16Array,yX=Uint32Array,RAe=new Ig([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),OAe=new Ig([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B7e=new Ig([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BAe=function(n,e){for(var t=new Rw(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var o=new yX(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)o[s]=s-t[r]<<5|r;return[t,o]},DAe=BAe(RAe,2),NAe=DAe[0],D7e=DAe[1];NAe[28]=258,D7e[258]=28;var N7e=BAe(OAe,0),L7e=N7e[0],_X=new Rw(32768);for(var El=0;El<32768;++El){var yw=(El&43690)>>>1|(El&21845)<<1;yw=(yw&52428)>>>2|(yw&13107)<<2,yw=(yw&61680)>>>4|(yw&3855)<<4,_X[El]=((yw&65280)>>>8|(yw&255)<<8)>>>1}var nR=function(n,e,t){for(var r=n.length,o=0,s=new Rw(e);o<r;++o)++s[n[o]-1];var c=new Rw(e);for(o=0;o<e;++o)c[o]=c[o-1]+s[o-1]<<1;var d;if(t){d=new Rw(1<<e);var g=15-e;for(o=0;o<r;++o)if(n[o])for(var _=o<<4|n[o],b=e-n[o],A=c[n[o]-1]++<<b,P=A|(1<<b)-1;A<=P;++A)d[_X[A]>>>g]=_}else for(d=new Rw(r),o=0;o<r;++o)n[o]&&(d[o]=_X[c[n[o]-1]++]>>>15-n[o]);return d},c3=new Ig(288);for(var El=0;El<144;++El)c3[El]=8;for(var El=144;El<256;++El)c3[El]=9;for(var El=256;El<280;++El)c3[El]=7;for(var El=280;El<288;++El)c3[El]=8;var LAe=new Ig(32);for(var El=0;El<32;++El)LAe[El]=5;var F7e=nR(c3,9,1),z7e=nR(LAe,5,1),ZG=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ov=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},$G=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},U7e=function(n){return(n/8|0)+(n&7&&1)},j7e=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Rw?Rw:n instanceof yX?yX:Ig)(t-e);return r.set(n.subarray(e,t)),r},H7e=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Ig(0);var o=!e||t,s=!t||t.i;t||(t={}),e||(e=new Ig(r*3));var c=function(Qe){var zt=e.length;if(Qe>zt){var Lt=new Ig(Math.max(zt*2,Qe));Lt.set(e),e=Lt}},d=t.f||0,g=t.p||0,_=t.b||0,b=t.l,A=t.d,P=t.m,N=t.n,F=r*8;do{if(!b){t.f=d=Ov(n,g,1);var K=Ov(n,g+1,3);if(g+=3,K)if(K==1)b=F7e,A=z7e,P=9,N=5;else if(K==2){var T=Ov(n,g,31)+257,Y=Ov(n,g+10,15)+4,ce=T+Ov(n,g+5,31)+1;g+=14;for(var le=new Ig(ce),Z=new Ig(19),Se=0;Se<Y;++Se)Z[B7e[Se]]=Ov(n,g+Se*3,7);g+=Y*3;for(var Le=ZG(Z),X=(1<<Le)-1,fe=nR(Z,Le,1),Se=0;Se<ce;){var st=fe[Ov(n,g,X)];g+=st&15;var D=st>>>4;if(D<16)le[Se++]=D;else{var Ue=0,Me=0;for(D==16?(Me=3+Ov(n,g,3),g+=2,Ue=le[Se-1]):D==17?(Me=3+Ov(n,g,7),g+=3):D==18&&(Me=11+Ov(n,g,127),g+=7);Me--;)le[Se++]=Ue}}var be=le.subarray(0,T),Ke=le.subarray(T);P=ZG(be),N=ZG(Ke),b=nR(be,P,1),A=nR(Ke,N,1)}else throw"invalid block type";else{var D=U7e(g)+4,I=n[D-4]|n[D-3]<<8,j=D+I;if(j>r){if(s)throw"unexpected EOF";break}o&&c(_+I),e.set(n.subarray(D,j),_),t.b=_+=I,t.p=g=j*8;continue}if(g>F){if(s)throw"unexpected EOF";break}}o&&c(_+131072);for(var Ye=(1<<P)-1,de=(1<<N)-1,ve=g;;ve=g){var Ue=b[$G(n,g)&Ye],ye=Ue>>>4;if(g+=Ue&15,g>F){if(s)throw"unexpected EOF";break}if(!Ue)throw"invalid length/literal";if(ye<256)e[_++]=ye;else if(ye==256){ve=g,b=null;break}else{var _e=ye-254;if(ye>264){var Se=ye-257,ge=RAe[Se];_e=Ov(n,g,(1<<ge)-1)+NAe[Se],g+=ge}var dt=A[$G(n,g)&de],qe=dt>>>4;if(!dt)throw"invalid distance";g+=dt&15;var Ke=L7e[qe];if(qe>3){var ge=OAe[qe];Ke+=$G(n,g)&(1<<ge)-1,g+=ge}if(g>F){if(s)throw"unexpected EOF";break}o&&c(_+131072);for(var _t=_+_e;_<_t;_+=4)e[_]=e[_-Ke],e[_+1]=e[_+1-Ke],e[_+2]=e[_+2-Ke],e[_+3]=e[_+3-Ke];_=_t}}t.l=b,t.p=ve,t.b=_,b&&(d=1,t.m=P,t.d=A,t.n=N)}while(!d);return _==e.length?e:j7e(e,0,_)},G7e=new Ig(0),V7e=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function k5(n,e){return H7e((V7e(n),n.subarray(2,-4)),e)}var W7e=typeof TextDecoder<"u"&&new TextDecoder,X7e=0;try{W7e.decode(G7e,{stream:!0}),X7e=1}catch{}const K7e=n=>n&&n.isCubeTexture;class Y7e extends ni{constructor(e,t){var r,o;const s=K7e(e),d=((o=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?o:1024)/4,g=Math.floor(Math.log2(d)),_=Math.pow(2,g),b=3*Math.max(_,16*7),A=4*_,P=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/b}`,`#define CUBEUV_TEXEL_HEIGHT ${1/A}`,`#define CUBEUV_MAX_MIP ${g}.0`],N=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,F=P.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(XM.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,K={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},D=new a3(1,16),I=new Im({uniforms:K,fragmentShader:F,vertexShader:N,side:sh});super(D,I)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class DY extends hh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new $7e(t)}),this.register(function(t){return new aGe(t)}),this.register(function(t){return new lGe(t)}),this.register(function(t){return new uGe(t)}),this.register(function(t){return new tGe(t)}),this.register(function(t){return new nGe(t)}),this.register(function(t){return new rGe(t)}),this.register(function(t){return new iGe(t)}),this.register(function(t){return new Z7e(t)}),this.register(function(t){return new oGe(t)}),this.register(function(t){return new eGe(t)}),this.register(function(t){return new sGe(t)}),this.register(function(t){return new Q7e(t)}),this.register(function(t){return new cGe(t)}),this.register(function(t){return new fGe(t)})}load(e,t,r,o){const s=this;let c;this.resourcePath!==""?c=this.resourcePath:this.path!==""?c=this.path:c=W0.extractUrlBase(e),this.manager.itemStart(e);const d=function(_){o?o(_):console.error(_),s.manager.itemError(e),s.manager.itemEnd(e)},g=new Rm(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(e,function(_){try{s.parse(_,c,function(b){t(b),s.manager.itemEnd(e)},d)}catch(b){d(b)}},r,d)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,o){let s;const c={},d={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(W0.decodeText(new Uint8Array(e.slice(0,4)))===FAe){try{c[hs.KHR_BINARY_GLTF]=new dGe(e)}catch(b){o&&o(b);return}s=JSON.parse(c[hs.KHR_BINARY_GLTF].content)}else s=JSON.parse(W0.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const g=new AGe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});g.fileLoader.setRequestHeader(this.requestHeader);for(let _=0;_<this.pluginCallbacks.length;_++){const b=this.pluginCallbacks[_](g);d[b.name]=b,c[b.name]=!0}if(s.extensionsUsed)for(let _=0;_<s.extensionsUsed.length;++_){const b=s.extensionsUsed[_],A=s.extensionsRequired||[];switch(b){case hs.KHR_MATERIALS_UNLIT:c[b]=new J7e;break;case hs.KHR_DRACO_MESH_COMPRESSION:c[b]=new hGe(s,this.dracoLoader);break;case hs.KHR_TEXTURE_TRANSFORM:c[b]=new pGe;break;case hs.KHR_MESH_QUANTIZATION:c[b]=new mGe;break;default:A.indexOf(b)>=0&&d[b]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+b+'".')}}g.setExtensions(c),g.setPlugins(d),g.parse(r,o)}parseAsync(e,t){const r=this;return new Promise(function(o,s){r.parse(e,t,o,s)})}}function q7e(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const hs={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Q7e{constructor(e){this.parser=e,this.name=hs.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,o=t.length;r<o;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let o=t.cache.get(r);if(o)return o;const s=t.json,g=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let _;const b=new Dr(16777215);g.color!==void 0&&b.fromArray(g.color);const A=g.range!==void 0?g.range:0;switch(g.type){case"directional":_=new bY(b),_.target.position.set(0,0,-1),_.add(_.target);break;case"point":_=new SY(b),_.distance=A;break;case"spot":_=new xY(b),_.distance=A,g.spot=g.spot||{},g.spot.innerConeAngle=g.spot.innerConeAngle!==void 0?g.spot.innerConeAngle:0,g.spot.outerConeAngle=g.spot.outerConeAngle!==void 0?g.spot.outerConeAngle:Math.PI/4,_.angle=g.spot.outerConeAngle,_.penumbra=1-g.spot.innerConeAngle/g.spot.outerConeAngle,_.target.position.set(0,0,-1),_.add(_.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+g.type)}return _.position.set(0,0,0),_.decay=2,Ew(_,g),g.intensity!==void 0&&(_.intensity=g.intensity),_.name=t.createUniqueName(g.name||"light_"+e),o=Promise.resolve(_),t.cache.add(r,o),o}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],d=(s.extensions&&s.extensions[this.name]||{}).light;return d===void 0?null:this._loadLight(d).then(function(g){return r._getNodeRef(t.cache,d,g)})}}class J7e{constructor(){this.name=hs.KHR_MATERIALS_UNLIT}getMaterialType(){return wd}extendParams(e,t,r){const o=[];e.color=new Dr(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const c=s.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}s.baseColorTexture!==void 0&&o.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(o)}}class Z7e{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=o.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class $7e{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];if(c.clearcoatFactor!==void 0&&(t.clearcoat=c.clearcoatFactor),c.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",c.clearcoatTexture)),c.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=c.clearcoatRoughnessFactor),c.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),c.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0)){const d=c.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Vn(d,d)}return Promise.all(s)}}class eGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];return c.iridescenceFactor!==void 0&&(t.iridescence=c.iridescenceFactor),c.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",c.iridescenceTexture)),c.iridescenceIor!==void 0&&(t.iridescenceIOR=c.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),c.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),c.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),c.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(s)}}class tGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Dr(0,0,0),t.sheenRoughness=0,t.sheen=1;const c=o.extensions[this.name];return c.sheenColorFactor!==void 0&&t.sheenColor.fromArray(c.sheenColorFactor),c.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=c.sheenRoughnessFactor),c.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",c.sheenColorTexture,3001)),c.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(s)}}class nGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];return c.transmissionFactor!==void 0&&(t.transmission=c.transmissionFactor),c.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",c.transmissionTexture)),Promise.all(s)}}class rGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];t.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",c.thicknessTexture)),t.attenuationDistance=c.attenuationDistance||1/0;const d=c.attenuationColor||[1,1,1];return t.attenuationColor=new Dr(d[0],d[1],d[2]),Promise.all(s)}}class iGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=o.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class oGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];t.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",c.specularTexture));const d=c.specularColorFactor||[1,1,1];return t.specularColor=new Dr(d[0],d[1],d[2]),c.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",c.specularColorTexture,3001)),Promise.all(s)}}class sGe{constructor(e){this.parser=e,this.name=hs.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:q0}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],c=o.extensions[this.name];return c.anisotropyStrength!==void 0&&(t.anisotropy=c.anisotropyStrength),c.anisotropyRotation!==void 0&&(t.anisotropyRotation=c.anisotropyRotation),c.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",c.anisotropyTexture)),Promise.all(s)}}class aGe{constructor(e){this.parser=e,this.name=hs.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const s=o.extensions[this.name],c=t.options.ktx2Loader;if(!c){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,c)}}class lGe{constructor(e){this.parser=e,this.name=hs.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,o=r.json,s=o.textures[e];if(!s.extensions||!s.extensions[t])return null;const c=s.extensions[t],d=o.images[c.source];let g=r.textureLoader;if(d.uri){const _=r.options.manager.getHandler(d.uri);_!==null&&(g=_)}return this.detectSupport().then(function(_){if(_)return r.loadTextureImage(e,c.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class uGe{constructor(e){this.parser=e,this.name=hs.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,o=r.json,s=o.textures[e];if(!s.extensions||!s.extensions[t])return null;const c=s.extensions[t],d=o.images[c.source];let g=r.textureLoader;if(d.uri){const _=r.options.manager.getHandler(d.uri);_!==null&&(g=_)}return this.detectSupport().then(function(_){if(_)return r.loadTextureImage(e,c.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class cGe{constructor(e){this.name=hs.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],s=this.parser.getDependency("buffer",o.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(d){const g=o.byteOffset||0,_=o.byteLength||0,b=o.count,A=o.byteStride,P=new Uint8Array(d,g,_);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(b,A,P,o.mode,o.filter).then(function(N){return N.buffer}):c.ready.then(function(){const N=new ArrayBuffer(b*A);return c.decodeGltfBuffer(new Uint8Array(N),b,A,P,o.mode,o.filter),N})})}else return null}}class fGe{constructor(e){this.name=hs.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=t.meshes[r.mesh];for(const _ of o.primitives)if(_.mode!==Ag.TRIANGLES&&_.mode!==Ag.TRIANGLE_STRIP&&_.mode!==Ag.TRIANGLE_FAN&&_.mode!==void 0)return null;const c=r.extensions[this.name].attributes,d=[],g={};for(const _ in c)d.push(this.parser.getDependency("accessor",c[_]).then(b=>(g[_]=b,g[_])));return d.length<1?null:(d.push(this.parser.createNodeMesh(e)),Promise.all(d).then(_=>{const b=_.pop(),A=b.isGroup?b.children:[b],P=_[0].count,N=[];for(const F of A){const K=new Ui,D=new Je,I=new jo,j=new Je(1,1,1),T=new oY(F.geometry,F.material,P);for(let Y=0;Y<P;Y++)g.TRANSLATION&&D.fromBufferAttribute(g.TRANSLATION,Y),g.ROTATION&&I.fromBufferAttribute(g.ROTATION,Y),g.SCALE&&j.fromBufferAttribute(g.SCALE,Y),T.setMatrixAt(Y,K.compose(D,I,j));for(const Y in g)Y!=="TRANSLATION"&&Y!=="ROTATION"&&Y!=="SCALE"&&F.geometry.setAttribute(Y,g[Y]);Ho.prototype.copy.call(T,F),this.parser.assignFinalMaterial(T),N.push(T)}return b.isGroup?(b.clear(),b.add(...N),b):N[0]}))}}const FAe="glTF",TI=12,p_e={JSON:1313821514,BIN:5130562};class dGe{constructor(e){this.name=hs.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,TI);if(this.header={magic:W0.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==FAe)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-TI,o=new DataView(e,TI);let s=0;for(;s<r;){const c=o.getUint32(s,!0);s+=4;const d=o.getUint32(s,!0);if(s+=4,d===p_e.JSON){const g=new Uint8Array(e,TI+s,c);this.content=W0.decodeText(g)}else if(d===p_e.BIN){const g=TI+s;this.body=e.slice(g,g+c)}s+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class hGe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=hs.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,o=this.dracoLoader,s=e.extensions[this.name].bufferView,c=e.extensions[this.name].attributes,d={},g={},_={};for(const b in c){const A=wX[b]||b.toLowerCase();d[A]=c[b]}for(const b in e.attributes){const A=wX[b]||b.toLowerCase();if(c[b]!==void 0){const P=r.accessors[e.attributes[b]],N=wM[P.componentType];_[A]=N.name,g[A]=P.normalized===!0}}return t.getDependency("bufferView",s).then(function(b){return new Promise(function(A){o.decodeDracoFile(b,function(P){for(const N in P.attributes){const F=P.attributes[N],K=g[N];K!==void 0&&(F.normalized=K)}A(P)},d,_)})})}}class pGe{constructor(){this.name=hs.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class mGe{constructor(){this.name=hs.KHR_MESH_QUANTIZATION}}class zAe extends ZM{constructor(e,t,r,o){super(e,t,r,o)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=e*o*3+o;for(let c=0;c!==o;c++)t[c]=r[s+c];return t}interpolate_(e,t,r,o){const s=this.resultBuffer,c=this.sampleValues,d=this.valueSize,g=d*2,_=d*3,b=o-t,A=(r-t)/b,P=A*A,N=P*A,F=e*_,K=F-_,D=-2*N+3*P,I=N-P,j=1-D,T=I-P+A;for(let Y=0;Y!==d;Y++){const ce=c[K+Y+d],le=c[K+Y+g]*b,Z=c[F+Y+d],Se=c[F+Y]*b;s[Y]=j*ce+T*le+D*Z+I*Se}return s}}const gGe=new jo;class vGe extends zAe{interpolate_(e,t,r,o){const s=super.interpolate_(e,t,r,o);return gGe.fromArray(s).normalize().toArray(s),s}}const Ag={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},wM={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},m_e={9728:Tu,9729:Xs,9984:AR,9985:vM,9986:Tw,9987:Og},g_e={33071:yd,33648:kM,10497:Jw},eV={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wX={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...O7e>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_w={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yGe={CUBICSPLINE:void 0,LINEAR:Kb,STEP:IM},tV={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function _Ge(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new l3({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:X0})),n.DefaultMaterial}function db(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ew(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function wGe(n,e,t){let r=!1,o=!1,s=!1;for(let _=0,b=e.length;_<b;_++){const A=e[_];if(A.POSITION!==void 0&&(r=!0),A.NORMAL!==void 0&&(o=!0),A.COLOR_0!==void 0&&(s=!0),r&&o&&s)break}if(!r&&!o&&!s)return Promise.resolve(n);const c=[],d=[],g=[];for(let _=0,b=e.length;_<b;_++){const A=e[_];if(r){const P=A.POSITION!==void 0?t.getDependency("accessor",A.POSITION):n.attributes.position;c.push(P)}if(o){const P=A.NORMAL!==void 0?t.getDependency("accessor",A.NORMAL):n.attributes.normal;d.push(P)}if(s){const P=A.COLOR_0!==void 0?t.getDependency("accessor",A.COLOR_0):n.attributes.color;g.push(P)}}return Promise.all([Promise.all(c),Promise.all(d),Promise.all(g)]).then(function(_){const b=_[0],A=_[1],P=_[2];return r&&(n.morphAttributes.position=b),o&&(n.morphAttributes.normal=A),s&&(n.morphAttributes.color=P),n.morphTargetsRelative=!0,n})}function xGe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,o=t.length;r<o;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function SGe(n){let e;const t=n.extensions&&n.extensions[hs.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+nV(t.attributes):e=n.indices+":"+nV(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,o=n.targets.length;r<o;r++)e+=":"+nV(n.targets[r]);return e}function nV(n){let e="";const t=Object.keys(n).sort();for(let r=0,o=t.length;r<o;r++)e+=t[r]+":"+n[t[r]]+";";return e}function xX(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function bGe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const EGe=new Ui;class AGe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new q7e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,s=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||o&&s<98?this.textureLoader=new GEe(this.options.manager):this.textureLoader=new JEe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Rm(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,o=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(c){const d={scene:c[0][o.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:o.asset,parser:r,userData:{}};db(s,d,o),Ew(d,o),Promise.all(r._invokeAll(function(g){return g.afterRoot&&g.afterRoot(d)})).then(function(){e(d)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let o=0,s=t.length;o<s;o++){const c=t[o].joints;for(let d=0,g=c.length;d<g;d++)e[c[d]].isBone=!0}for(let o=0,s=e.length;o<s;o++){const c=e[o];c.mesh!==void 0&&(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0&&(r[c.mesh].isSkinnedMesh=!0)),c.camera!==void 0&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const o=r.clone(),s=(c,d)=>{const g=this.associations.get(c);g!=null&&this.associations.set(d,g);for(const[_,b]of c.children.entries())s(b,d.children[_])};return s(r,o),o.name+="_instance_"+e.uses[t]++,o}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const o=e(t[r]);if(o)return o}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let o=0;o<t.length;o++){const s=e(t[o]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":o=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":o=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":o=this.loadSkin(t);break;case"animation":o=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":o=this.loadCamera(t);break;default:if(o=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!o)throw new Error("Unknown type: "+e);break}this.cache.add(r,o)}return o}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(o.map(function(s,c){return r.getDependency(e,c)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[hs.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(s,c){r.load(W0.resolveURL(t.uri,o.path),s,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const o=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+o)})}loadAccessor(e){const t=this,r=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0){const c=eV[o.type],d=wM[o.componentType],g=o.normalized===!0,_=new d(o.count*c);return Promise.resolve(new Ps(_,c,g))}const s=[];return o.bufferView!==void 0?s.push(this.getDependency("bufferView",o.bufferView)):s.push(null),o.sparse!==void 0&&(s.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(s).then(function(c){const d=c[0],g=eV[o.type],_=wM[o.componentType],b=_.BYTES_PER_ELEMENT,A=b*g,P=o.byteOffset||0,N=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,F=o.normalized===!0;let K,D;if(N&&N!==A){const I=Math.floor(P/N),j="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+I+":"+o.count;let T=t.cache.get(j);T||(K=new _(d,I*N,o.count*N/b),T=new i3(K,N/b),t.cache.add(j,T)),D=new Zw(T,g,P%N/b,F)}else d===null?K=new _(o.count*g):K=new _(d,P,o.count*g),D=new Ps(K,g,F);if(o.sparse!==void 0){const I=eV.SCALAR,j=wM[o.sparse.indices.componentType],T=o.sparse.indices.byteOffset||0,Y=o.sparse.values.byteOffset||0,ce=new j(c[1],T,o.sparse.count*I),le=new _(c[2],Y,o.sparse.count*g);d!==null&&(D=new Ps(D.array.slice(),D.itemSize,D.normalized));for(let Z=0,Se=ce.length;Z<Se;Z++){const Le=ce[Z];if(D.setX(Le,le[Z*g]),g>=2&&D.setY(Le,le[Z*g+1]),g>=3&&D.setZ(Le,le[Z*g+2]),g>=4&&D.setW(Le,le[Z*g+3]),g>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return D})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,c=t.images[s];let d=this.textureLoader;if(c.uri){const g=r.manager.getHandler(c.uri);g!==null&&(d=g)}return this.loadTextureImage(e,s,d)}loadTextureImage(e,t,r){const o=this,s=this.json,c=s.textures[e],d=s.images[t],g=(d.uri||d.bufferView)+":"+c.sampler;if(this.textureCache[g])return this.textureCache[g];const _=this.loadImageSource(t,r).then(function(b){b.flipY=!1,b.name=c.name||d.name||"",b.name===""&&typeof d.uri=="string"&&d.uri.startsWith("data:image/")===!1&&(b.name=d.uri);const P=(s.samplers||{})[c.sampler]||{};return b.magFilter=m_e[P.magFilter]||Xs,b.minFilter=m_e[P.minFilter]||Og,b.wrapS=g_e[P.wrapS]||Jw,b.wrapT=g_e[P.wrapT]||Jw,o.associations.set(b,{textures:e}),b}).catch(function(){return null});return this.textureCache[g]=_,_}loadImageSource(e,t){const r=this,o=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(A=>A.clone());const c=o.images[e],d=self.URL||self.webkitURL;let g=c.uri||"",_=!1;if(c.bufferView!==void 0)g=r.getDependency("bufferView",c.bufferView).then(function(A){_=!0;const P=new Blob([A],{type:c.mimeType});return g=d.createObjectURL(P),g});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const b=Promise.resolve(g).then(function(A){return new Promise(function(P,N){let F=P;t.isImageBitmapLoader===!0&&(F=function(K){const D=new za(K);D.needsUpdate=!0,P(D)}),t.load(W0.resolveURL(A,s.path),F,void 0,N)})}).then(function(A){return _===!0&&d.revokeObjectURL(g),A.userData.mimeType=c.mimeType||bGe(c.uri),A}).catch(function(A){throw console.error("THREE.GLTFLoader: Couldn't load texture",g),A});return this.sourceCache[e]=b,b}assignTexture(e,t,r,o){const s=this;return this.getDependency("texture",r.index).then(function(c){if(!c)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(c=c.clone(),c.channel=r.texCoord),s.extensions[hs.KHR_TEXTURE_TRANSFORM]){const d=r.extensions!==void 0?r.extensions[hs.KHR_TEXTURE_TRANSFORM]:void 0;if(d){const g=s.associations.get(c);c=s.extensions[hs.KHR_TEXTURE_TRANSFORM].extendTexture(c,d),s.associations.set(c,g)}}return o!==void 0&&("colorSpace"in c?c.colorSpace=o===3001?"srgb":"srgb-linear":c.encoding=o),e[t]=c,c})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const o=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,c=t.attributes.normal===void 0;if(e.isPoints){const d="PointsMaterial:"+r.uuid;let g=this.cache.get(d);g||(g=new DF,ec.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,g.sizeAttenuation=!1,this.cache.add(d,g)),r=g}else if(e.isLine){const d="LineBasicMaterial:"+r.uuid;let g=this.cache.get(d);g||(g=new Ed,ec.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,this.cache.add(d,g)),r=g}if(o||s||c){let d="ClonedMaterial:"+r.uuid+":";o&&(d+="derivative-tangents:"),s&&(d+="vertex-colors:"),c&&(d+="flat-shading:");let g=this.cache.get(d);g||(g=r.clone(),s&&(g.vertexColors=!0),c&&(g.flatShading=!0),o&&(g.normalScale&&(g.normalScale.y*=-1),g.clearcoatNormalScale&&(g.clearcoatNormalScale.y*=-1)),this.cache.add(d,g),this.associations.set(g,this.associations.get(r))),r=g}e.material=r}getMaterialType(){return l3}loadMaterial(e){const t=this,r=this.json,o=this.extensions,s=r.materials[e];let c;const d={},g=s.extensions||{},_=[];if(g[hs.KHR_MATERIALS_UNLIT]){const A=o[hs.KHR_MATERIALS_UNLIT];c=A.getMaterialType(),_.push(A.extendParams(d,s,t))}else{const A=s.pbrMetallicRoughness||{};if(d.color=new Dr(1,1,1),d.opacity=1,Array.isArray(A.baseColorFactor)){const P=A.baseColorFactor;d.color.fromArray(P),d.opacity=P[3]}A.baseColorTexture!==void 0&&_.push(t.assignTexture(d,"map",A.baseColorTexture,3001)),d.metalness=A.metallicFactor!==void 0?A.metallicFactor:1,d.roughness=A.roughnessFactor!==void 0?A.roughnessFactor:1,A.metallicRoughnessTexture!==void 0&&(_.push(t.assignTexture(d,"metalnessMap",A.metallicRoughnessTexture)),_.push(t.assignTexture(d,"roughnessMap",A.metallicRoughnessTexture))),c=this._invokeOne(function(P){return P.getMaterialType&&P.getMaterialType(e)}),_.push(Promise.all(this._invokeAll(function(P){return P.extendMaterialParams&&P.extendMaterialParams(e,d)})))}s.doubleSided===!0&&(d.side=sh);const b=s.alphaMode||tV.OPAQUE;if(b===tV.BLEND?(d.transparent=!0,d.depthWrite=!1):(d.transparent=!1,b===tV.MASK&&(d.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&c!==wd&&(_.push(t.assignTexture(d,"normalMap",s.normalTexture)),d.normalScale=new Vn(1,1),s.normalTexture.scale!==void 0)){const A=s.normalTexture.scale;d.normalScale.set(A,A)}return s.occlusionTexture!==void 0&&c!==wd&&(_.push(t.assignTexture(d,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(d.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&c!==wd&&(d.emissive=new Dr().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&c!==wd&&_.push(t.assignTexture(d,"emissiveMap",s.emissiveTexture,3001)),Promise.all(_).then(function(){const A=new c(d);return s.name&&(A.name=s.name),Ew(A,s),t.associations.set(A,{materials:e}),s.extensions&&db(o,A,s),A})}createUniqueName(e){const t=vs.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,o=this.primitiveCache;function s(d){return r[hs.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,t).then(function(g){return v_e(g,d,t)})}const c=[];for(let d=0,g=e.length;d<g;d++){const _=e[d],b=SGe(_),A=o[b];if(A)c.push(A.promise);else{let P;_.extensions&&_.extensions[hs.KHR_DRACO_MESH_COMPRESSION]?P=s(_):P=v_e(new po,_,t),o[b]={primitive:_,promise:P},c.push(P)}}return Promise.all(c)}loadMesh(e){const t=this,r=this.json,o=this.extensions,s=r.meshes[e],c=s.primitives,d=[];for(let g=0,_=c.length;g<_;g++){const b=c[g].material===void 0?_Ge(this.cache):this.getDependency("material",c[g].material);d.push(b)}return d.push(t.loadGeometries(c)),Promise.all(d).then(function(g){const _=g.slice(0,g.length-1),b=g[g.length-1],A=[];for(let N=0,F=b.length;N<F;N++){const K=b[N],D=c[N];let I;const j=_[N];if(D.mode===Ag.TRIANGLES||D.mode===Ag.TRIANGLE_STRIP||D.mode===Ag.TRIANGLE_FAN||D.mode===void 0)I=s.isSkinnedMesh===!0?new iY(K,j):new ni(K,j),I.isSkinnedMesh===!0&&I.normalizeSkinWeights(),D.mode===Ag.TRIANGLE_STRIP?I.geometry=h_e(I.geometry,XK):D.mode===Ag.TRIANGLE_FAN&&(I.geometry=h_e(I.geometry,FL));else if(D.mode===Ag.LINES)I=new Vv(K,j);else if(D.mode===Ag.LINE_STRIP)I=new zo(K,j);else if(D.mode===Ag.LINE_LOOP)I=new sY(K,j);else if(D.mode===Ag.POINTS)I=new aY(K,j);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+D.mode);Object.keys(I.geometry.morphAttributes).length>0&&xGe(I,s),I.name=t.createUniqueName(s.name||"mesh_"+e),Ew(I,s),D.extensions&&db(o,I,D),t.assignFinalMaterial(I),A.push(I)}for(let N=0,F=A.length;N<F;N++)t.associations.set(A[N],{meshes:e,primitives:N});if(A.length===1)return s.extensions&&db(o,A[0],s),A[0];const P=new U0;s.extensions&&db(o,P,s),t.associations.set(P,{meshes:e});for(let N=0,F=A.length;N<F;N++)P.add(A[N]);return P})}loadCamera(e){let t;const r=this.json.cameras[e],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new bl(Jbe.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(t=new Ng(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ew(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let o=0,s=t.joints.length;o<s;o++)r.push(this._loadNodeShallow(t.joints[o]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const s=o.pop(),c=o,d=[],g=[];for(let _=0,b=c.length;_<b;_++){const A=c[_];if(A){d.push(A);const P=new Ui;s!==null&&P.fromArray(s.array,_*16),g.push(P)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[_])}return new o3(d,g)})}loadAnimation(e){const r=this.json.animations[e],o=r.name?r.name:"animation_"+e,s=[],c=[],d=[],g=[],_=[];for(let b=0,A=r.channels.length;b<A;b++){const P=r.channels[b],N=r.samplers[P.sampler],F=P.target,K=F.node,D=r.parameters!==void 0?r.parameters[N.input]:N.input,I=r.parameters!==void 0?r.parameters[N.output]:N.output;F.node!==void 0&&(s.push(this.getDependency("node",K)),c.push(this.getDependency("accessor",D)),d.push(this.getDependency("accessor",I)),g.push(N),_.push(F))}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(d),Promise.all(g),Promise.all(_)]).then(function(b){const A=b[0],P=b[1],N=b[2],F=b[3],K=b[4],D=[];for(let I=0,j=A.length;I<j;I++){const T=A[I],Y=P[I],ce=N[I],le=F[I],Z=K[I];if(T===void 0)continue;T.updateMatrix();let Se;switch(_w[Z.path]){case _w.weights:Se=DM;break;case _w.rotation:Se=$w;break;case _w.position:case _w.scale:default:Se=NM;break}const Le=T.name?T.name:T.uuid,X=le.interpolation!==void 0?yGe[le.interpolation]:Kb,fe=[];_w[Z.path]===_w.weights?T.traverse(function(Ue){Ue.morphTargetInfluences&&fe.push(Ue.name?Ue.name:Ue.uuid)}):fe.push(Le);let st=ce.array;if(ce.normalized){const Ue=xX(st.constructor),Me=new Float32Array(st.length);for(let be=0,Ke=st.length;be<Ke;be++)Me[be]=st[be]*Ue;st=Me}for(let Ue=0,Me=fe.length;Ue<Me;Ue++){const be=new Se(fe[Ue]+"."+_w[Z.path],Y.array,st,X);le.interpolation==="CUBICSPLINE"&&(be.createInterpolant=function(Ye){const de=this instanceof $w?vGe:zAe;return new de(this.times,this.values,this.getValueSize()/3,Ye)},be.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),D.push(be)}}return new LM(o,void 0,D)})}createNodeMesh(e){const t=this.json,r=this,o=t.nodes[e];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(s){const c=r._getNodeRef(r.meshCache,o.mesh,s);return o.weights!==void 0&&c.traverse(function(d){if(d.isMesh)for(let g=0,_=o.weights.length;g<_;g++)d.morphTargetInfluences[g]=o.weights[g]}),c})}loadNode(e){const t=this.json,r=this,o=t.nodes[e],s=r._loadNodeShallow(e),c=[],d=o.children||[];for(let _=0,b=d.length;_<b;_++)c.push(r.getDependency("node",d[_]));const g=o.skin===void 0?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([s,Promise.all(c),g]).then(function(_){const b=_[0],A=_[1],P=_[2];P!==null&&b.traverse(function(N){N.isSkinnedMesh&&N.bind(P,EGe)});for(let N=0,F=A.length;N<F;N++)b.add(A[N]);return b})}_loadNodeShallow(e){const t=this.json,r=this.extensions,o=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],c=s.name?o.createUniqueName(s.name):"",d=[],g=o._invokeOne(function(_){return _.createNodeMesh&&_.createNodeMesh(e)});return g&&d.push(g),s.camera!==void 0&&d.push(o.getDependency("camera",s.camera).then(function(_){return o._getNodeRef(o.cameraCache,s.camera,_)})),o._invokeAll(function(_){return _.createNodeAttachment&&_.createNodeAttachment(e)}).forEach(function(_){d.push(_)}),this.nodeCache[e]=Promise.all(d).then(function(_){let b;if(s.isBone===!0?b=new BF:_.length>1?b=new U0:_.length===1?b=_[0]:b=new Ho,b!==_[0])for(let A=0,P=_.length;A<P;A++)b.add(_[A]);if(s.name&&(b.userData.name=s.name,b.name=c),Ew(b,s),s.extensions&&db(r,b,s),s.matrix!==void 0){const A=new Ui;A.fromArray(s.matrix),b.applyMatrix4(A)}else s.translation!==void 0&&b.position.fromArray(s.translation),s.rotation!==void 0&&b.quaternion.fromArray(s.rotation),s.scale!==void 0&&b.scale.fromArray(s.scale);return o.associations.has(b)||o.associations.set(b,{}),o.associations.get(b).nodes=e,b}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],o=this,s=new U0;r.name&&(s.name=o.createUniqueName(r.name)),Ew(s,r),r.extensions&&db(t,s,r);const c=r.nodes||[],d=[];for(let g=0,_=c.length;g<_;g++)d.push(o.getDependency("node",c[g]));return Promise.all(d).then(function(g){for(let b=0,A=g.length;b<A;b++)s.add(g[b]);const _=b=>{const A=new Map;for(const[P,N]of o.associations)(P instanceof ec||P instanceof za)&&A.set(P,N);return b.traverse(P=>{const N=o.associations.get(P);N!=null&&A.set(P,N)}),A};return o.associations=_(s),s})}}function CGe(n,e,t){const r=e.attributes,o=new ch;if(r.POSITION!==void 0){const d=t.json.accessors[r.POSITION],g=d.min,_=d.max;if(g!==void 0&&_!==void 0){if(o.set(new Je(g[0],g[1],g[2]),new Je(_[0],_[1],_[2])),d.normalized){const b=xX(wM[d.componentType]);o.min.multiplyScalar(b),o.max.multiplyScalar(b)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const d=new Je,g=new Je;for(let _=0,b=s.length;_<b;_++){const A=s[_];if(A.POSITION!==void 0){const P=t.json.accessors[A.POSITION],N=P.min,F=P.max;if(N!==void 0&&F!==void 0){if(g.setX(Math.max(Math.abs(N[0]),Math.abs(F[0]))),g.setY(Math.max(Math.abs(N[1]),Math.abs(F[1]))),g.setZ(Math.max(Math.abs(N[2]),Math.abs(F[2]))),P.normalized){const K=xX(wM[P.componentType]);g.multiplyScalar(K)}d.max(g)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(d)}n.boundingBox=o;const c=new Sd;o.getCenter(c.center),c.radius=o.min.distanceTo(o.max)/2,n.boundingSphere=c}function v_e(n,e,t){const r=e.attributes,o=[];function s(c,d){return t.getDependency("accessor",c).then(function(g){n.setAttribute(d,g)})}for(const c in r){const d=wX[c]||c.toLowerCase();d in n.attributes||o.push(s(r[c],d))}if(e.indices!==void 0&&!n.index){const c=t.getDependency("accessor",e.indices).then(function(d){n.setIndex(d)});o.push(c)}return Ew(n,e),CGe(n,e,t),Promise.all(o).then(function(){return e.targets!==void 0?wGe(n,e.targets,t):n})}class MGe extends _Y{constructor(e){super(e),this.type=lh}parse(e){const d=function(T,Y){switch(T){case 1:console.error("THREE.RGBELoader Read Error: "+(Y||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Y||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Y||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Y||""))}return-1},A=`
`,P=function(T,Y,ce){Y=Y||1024;let Z=T.pos,Se=-1,Le=0,X="",fe=String.fromCharCode.apply(null,new Uint16Array(T.subarray(Z,Z+128)));for(;0>(Se=fe.indexOf(A))&&Le<Y&&Z<T.byteLength;)X+=fe,Le+=fe.length,Z+=128,fe+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(Z,Z+128)));return-1<Se?(ce!==!1&&(T.pos+=Le+Se+1),X+fe.slice(0,Se)):!1},N=function(T){const Y=/^#\?(\S+)/,ce=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,le=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Z=/^\s*FORMAT=(\S+)\s*$/,Se=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Le={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let X,fe;if(T.pos>=T.byteLength||!(X=P(T)))return d(1,"no header found");if(!(fe=X.match(Y)))return d(3,"bad initial token");for(Le.valid|=1,Le.programtype=fe[1],Le.string+=X+`
`;X=P(T),X!==!1;){if(Le.string+=X+`
`,X.charAt(0)==="#"){Le.comments+=X+`
`;continue}if((fe=X.match(ce))&&(Le.gamma=parseFloat(fe[1])),(fe=X.match(le))&&(Le.exposure=parseFloat(fe[1])),(fe=X.match(Z))&&(Le.valid|=2,Le.format=fe[1]),(fe=X.match(Se))&&(Le.valid|=4,Le.height=parseInt(fe[1],10),Le.width=parseInt(fe[2],10)),Le.valid&2&&Le.valid&4)break}return Le.valid&2?Le.valid&4?Le:d(3,"missing image size specifier"):d(3,"missing format specifier")},F=function(T,Y,ce){const le=Y;if(le<8||le>32767||T[0]!==2||T[1]!==2||T[2]&128)return new Uint8Array(T);if(le!==(T[2]<<8|T[3]))return d(3,"wrong scanline width");const Z=new Uint8Array(4*Y*ce);if(!Z.length)return d(4,"unable to allocate buffer space");let Se=0,Le=0;const X=4*le,fe=new Uint8Array(4),st=new Uint8Array(X);let Ue=ce;for(;Ue>0&&Le<T.byteLength;){if(Le+4>T.byteLength)return d(1);if(fe[0]=T[Le++],fe[1]=T[Le++],fe[2]=T[Le++],fe[3]=T[Le++],fe[0]!=2||fe[1]!=2||(fe[2]<<8|fe[3])!=le)return d(3,"bad rgbe scanline format");let Me=0,be;for(;Me<X&&Le<T.byteLength;){be=T[Le++];const Ye=be>128;if(Ye&&(be-=128),be===0||Me+be>X)return d(3,"bad scanline data");if(Ye){const de=T[Le++];for(let ve=0;ve<be;ve++)st[Me++]=de}else st.set(T.subarray(Le,Le+be),Me),Me+=be,Le+=be}const Ke=le;for(let Ye=0;Ye<Ke;Ye++){let de=0;Z[Se]=st[Ye+de],de+=le,Z[Se+1]=st[Ye+de],de+=le,Z[Se+2]=st[Ye+de],de+=le,Z[Se+3]=st[Ye+de],Se+=4}Ue--}return Z},K=function(T,Y,ce,le){const Z=T[Y+3],Se=Math.pow(2,Z-128)/255;ce[le+0]=T[Y+0]*Se,ce[le+1]=T[Y+1]*Se,ce[le+2]=T[Y+2]*Se,ce[le+3]=1},D=function(T,Y,ce,le){const Z=T[Y+3],Se=Math.pow(2,Z-128)/255;ce[le+0]=kb.toHalfFloat(Math.min(T[Y+0]*Se,65504)),ce[le+1]=kb.toHalfFloat(Math.min(T[Y+1]*Se,65504)),ce[le+2]=kb.toHalfFloat(Math.min(T[Y+2]*Se,65504)),ce[le+3]=kb.toHalfFloat(1)},I=new Uint8Array(e);I.pos=0;const j=N(I);if(j!==-1){const T=j.width,Y=j.height,ce=F(I.subarray(I.pos),T,Y);if(ce!==-1){let le,Z,Se;switch(this.type){case kc:Se=ce.length/4;const Le=new Float32Array(Se*4);for(let fe=0;fe<Se;fe++)K(ce,fe*4,Le,fe*4);le=Le,Z=kc;break;case lh:Se=ce.length/4;const X=new Uint16Array(Se*4);for(let fe=0;fe<Se;fe++)D(ce,fe*4,X,fe*4);le=X,Z=lh;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:T,height:Y,data:le,header:j.string,gamma:j.gamma,exposure:j.exposure,type:Z}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,o){function s(c,d){switch(c.type){case kc:case lh:"colorSpace"in c?c.colorSpace="srgb-linear":c.encoding=3e3,c.minFilter=Xs,c.magFilter=Xs,c.generateMipmaps=!1,c.flipY=!0;break}t&&t(c,d)}return super.load(e,s,r,o)}}const PI="colorSpace"in new za;class TGe extends _Y{constructor(e){super(e),this.type=lh}parse(e){const Le=Math.pow(2.7182818,2.2);function X(Re,$e){for(var At=0,Pe=0;Pe<65536;++Pe)(Pe==0||Re[Pe>>3]&1<<(Pe&7))&&($e[At++]=Pe);for(var at=At-1;At<65536;)$e[At++]=0;return at}function fe(Re){for(var $e=0;$e<16384;$e++)Re[$e]={},Re[$e].len=0,Re[$e].lit=0,Re[$e].p=null}const st={l:0,c:0,lc:0};function Ue(Re,$e,At,Pe,at){for(;At<Re;)$e=$e<<8|Hr(Pe,at),At+=8;At-=Re,st.l=$e>>At&(1<<Re)-1,st.c=$e,st.lc=At}const Me=new Array(59);function be(Re){for(var $e=0;$e<=58;++$e)Me[$e]=0;for(var $e=0;$e<65537;++$e)Me[Re[$e]]+=1;for(var At=0,$e=58;$e>0;--$e){var Pe=At+Me[$e]>>1;Me[$e]=At,At=Pe}for(var $e=0;$e<65537;++$e){var at=Re[$e];at>0&&(Re[$e]=at|Me[at]++<<6)}}function Ke(Re,$e,At,Pe,at,pt,St){for(var yt=At,on=0,Sn=0;at<=pt;at++){if(yt.value-At.value>Pe)return!1;Ue(6,on,Sn,Re,yt);var In=st.l;if(on=st.c,Sn=st.lc,St[at]=In,In==63){if(yt.value-At.value>Pe)throw"Something wrong with hufUnpackEncTable";Ue(8,on,Sn,Re,yt);var kn=st.l+6;if(on=st.c,Sn=st.lc,at+kn>pt+1)throw"Something wrong with hufUnpackEncTable";for(;kn--;)St[at++]=0;at--}else if(In>=59){var kn=In-59+2;if(at+kn>pt+1)throw"Something wrong with hufUnpackEncTable";for(;kn--;)St[at++]=0;at--}}be(St)}function Ye(Re){return Re&63}function de(Re){return Re>>6}function ve(Re,$e,At,Pe){for(;$e<=At;$e++){var at=de(Re[$e]),pt=Ye(Re[$e]);if(at>>pt)throw"Invalid table entry";if(pt>14){var St=Pe[at>>pt-14];if(St.len)throw"Invalid table entry";if(St.lit++,St.p){var yt=St.p;St.p=new Array(St.lit);for(var on=0;on<St.lit-1;++on)St.p[on]=yt[on]}else St.p=new Array(1);St.p[St.lit-1]=$e}else if(pt)for(var Sn=0,on=1<<14-pt;on>0;on--){var St=Pe[(at<<14-pt)+Sn];if(St.len||St.p)throw"Invalid table entry";St.len=pt,St.lit=$e,Sn++}}return!0}const ye={c:0,lc:0};function _e(Re,$e,At,Pe){Re=Re<<8|Hr(At,Pe),$e+=8,ye.c=Re,ye.lc=$e}const ge={c:0,lc:0};function dt(Re,$e,At,Pe,at,pt,St,yt,on,Sn){if(Re==$e){Pe<8&&(_e(At,Pe,at,St),At=ye.c,Pe=ye.lc),Pe-=8;var In=At>>Pe,In=new Uint8Array([In])[0];if(on.value+In>Sn)return!1;for(var kn=yt[on.value-1];In-- >0;)yt[on.value++]=kn}else if(on.value<Sn)yt[on.value++]=Re;else return!1;ge.c=At,ge.lc=Pe}function qe(Re){return Re&65535}function _t(Re){var $e=qe(Re);return $e>32767?$e-65536:$e}const Qe={a:0,b:0};function zt(Re,$e){var At=_t(Re),Pe=_t($e),at=Pe,pt=At+(at&1)+(at>>1),St=pt,yt=pt-at;Qe.a=St,Qe.b=yt}function Lt(Re,$e){var At=qe(Re),Pe=qe($e),at=At-(Pe>>1)&65535,pt=Pe+at-32768&65535;Qe.a=pt,Qe.b=at}function Kt(Re,$e,At,Pe,at,pt,St){for(var yt=St<16384,on=At>at?at:At,Sn=1,In;Sn<=on;)Sn<<=1;for(Sn>>=1,In=Sn,Sn>>=1;Sn>=1;){for(var kn=0,sr=kn+pt*(at-In),Un=pt*Sn,qn=pt*In,Er=Pe*Sn,Qr=Pe*In,li,ii,Sr,Ln;kn<=sr;kn+=qn){for(var Gr=kn,zr=kn+Pe*(At-In);Gr<=zr;Gr+=Qr){var Wr=Gr+Er,wi=Gr+Un,mo=wi+Er;yt?(zt(Re[Gr+$e],Re[wi+$e]),li=Qe.a,Sr=Qe.b,zt(Re[Wr+$e],Re[mo+$e]),ii=Qe.a,Ln=Qe.b,zt(li,ii),Re[Gr+$e]=Qe.a,Re[Wr+$e]=Qe.b,zt(Sr,Ln),Re[wi+$e]=Qe.a,Re[mo+$e]=Qe.b):(Lt(Re[Gr+$e],Re[wi+$e]),li=Qe.a,Sr=Qe.b,Lt(Re[Wr+$e],Re[mo+$e]),ii=Qe.a,Ln=Qe.b,Lt(li,ii),Re[Gr+$e]=Qe.a,Re[Wr+$e]=Qe.b,Lt(Sr,Ln),Re[wi+$e]=Qe.a,Re[mo+$e]=Qe.b)}if(At&Sn){var wi=Gr+Un;yt?zt(Re[Gr+$e],Re[wi+$e]):Lt(Re[Gr+$e],Re[wi+$e]),li=Qe.a,Re[wi+$e]=Qe.b,Re[Gr+$e]=li}}if(at&Sn)for(var Gr=kn,zr=kn+Pe*(At-In);Gr<=zr;Gr+=Qr){var Wr=Gr+Er;yt?zt(Re[Gr+$e],Re[Wr+$e]):Lt(Re[Gr+$e],Re[Wr+$e]),li=Qe.a,Re[Wr+$e]=Qe.b,Re[Gr+$e]=li}In=Sn,Sn>>=1}return kn}function ln(Re,$e,At,Pe,at,pt,St,yt,on,Sn){for(var In=0,kn=0,sr=yt,Un=Math.trunc(at.value+(pt+7)/8);at.value<Un;)for(_e(In,kn,At,at),In=ye.c,kn=ye.lc;kn>=14;){var qn=In>>kn-14&16383,Er=$e[qn];if(Er.len)kn-=Er.len,dt(Er.lit,St,In,kn,At,Pe,at,on,Sn,sr),In=ge.c,kn=ge.lc;else{if(!Er.p)throw"hufDecode issues";var Qr;for(Qr=0;Qr<Er.lit;Qr++){for(var li=Ye(Re[Er.p[Qr]]);kn<li&&at.value<Un;)_e(In,kn,At,at),In=ye.c,kn=ye.lc;if(kn>=li&&de(Re[Er.p[Qr]])==(In>>kn-li&(1<<li)-1)){kn-=li,dt(Er.p[Qr],St,In,kn,At,Pe,at,on,Sn,sr),In=ge.c,kn=ge.lc;break}}if(Qr==Er.lit)throw"hufDecode issues"}}var ii=8-pt&7;for(In>>=ii,kn-=ii;kn>0;){var Er=$e[In<<14-kn&16383];if(Er.len)kn-=Er.len,dt(Er.lit,St,In,kn,At,Pe,at,on,Sn,sr),In=ge.c,kn=ge.lc;else throw"hufDecode issues"}return!0}function bn(Re,$e,At,Pe,at,pt){var St={value:0},yt=At.value,on=hr($e,At),Sn=hr($e,At);At.value+=4;var In=hr($e,At);if(At.value+=4,on<0||on>=65537||Sn<0||Sn>=65537)throw"Something wrong with HUF_ENCSIZE";var kn=new Array(65537),sr=new Array(16384);fe(sr);var Un=Pe-(At.value-yt);if(Ke(Re,$e,At,Un,on,Sn,kn),In>8*(Pe-(At.value-yt)))throw"Something wrong with hufUncompress";ve(kn,on,Sn,sr),ln(kn,sr,Re,$e,At,In,Sn,pt,at,St)}function Ze(Re,$e,At){for(var Pe=0;Pe<At;++Pe)$e[Pe]=Re[$e[Pe]]}function nn(Re){for(var $e=1;$e<Re.length;$e++){var At=Re[$e-1]+Re[$e]-128;Re[$e]=At}}function jt(Re,$e){for(var At=0,Pe=Math.floor((Re.length+1)/2),at=0,pt=Re.length-1;!(at>pt||($e[at++]=Re[At++],at>pt));)$e[at++]=Re[Pe++]}function fn(Re){for(var $e=Re.byteLength,At=new Array,Pe=0,at=new DataView(Re);$e>0;){var pt=at.getInt8(Pe++);if(pt<0){var St=-pt;$e-=St+1;for(var yt=0;yt<St;yt++)At.push(at.getUint8(Pe++))}else{var St=pt;$e-=2;for(var on=at.getUint8(Pe++),yt=0;yt<St+1;yt++)At.push(on)}}return At}function cn(Re,$e,At,Pe,at,pt){var Wr=new DataView(pt.buffer),St=At[Re.idx[0]].width,yt=At[Re.idx[0]].height,on=3,Sn=Math.floor(St/8),In=Math.ceil(St/8),kn=Math.ceil(yt/8),sr=St-(In-1)*8,Un=yt-(kn-1)*8,qn={value:0},Er=new Array(on),Qr=new Array(on),li=new Array(on),ii=new Array(on),Sr=new Array(on);for(let Ti=0;Ti<on;++Ti)Sr[Ti]=$e[Re.idx[Ti]],Er[Ti]=Ti<1?0:Er[Ti-1]+In*kn,Qr[Ti]=new Float32Array(64),li[Ti]=new Uint16Array(64),ii[Ti]=new Uint16Array(In*64);for(let Ti=0;Ti<kn;++Ti){var Ln=8;Ti==kn-1&&(Ln=Un);var Gr=8;for(let ae=0;ae<In;++ae){ae==In-1&&(Gr=sr);for(let Ae=0;Ae<on;++Ae)li[Ae].fill(0),li[Ae][0]=at[Er[Ae]++],Dn(qn,Pe,li[Ae]),Qn(li[Ae],Qr[Ae]),nr(Qr[Ae]);Tr(Qr);for(let Ae=0;Ae<on;++Ae)ct(Qr[Ae],ii[Ae],ae*64)}let So=0;for(let ae=0;ae<on;++ae){const Ae=At[Re.idx[ae]].type;for(let Ge=8*Ti;Ge<8*Ti+Ln;++Ge){So=Sr[ae][Ge];for(let ut=0;ut<Sn;++ut){const $t=ut*64+(Ge&7)*8;Wr.setUint16(So+0*2*Ae,ii[ae][$t+0],!0),Wr.setUint16(So+1*2*Ae,ii[ae][$t+1],!0),Wr.setUint16(So+2*2*Ae,ii[ae][$t+2],!0),Wr.setUint16(So+3*2*Ae,ii[ae][$t+3],!0),Wr.setUint16(So+4*2*Ae,ii[ae][$t+4],!0),Wr.setUint16(So+5*2*Ae,ii[ae][$t+5],!0),Wr.setUint16(So+6*2*Ae,ii[ae][$t+6],!0),Wr.setUint16(So+7*2*Ae,ii[ae][$t+7],!0),So+=8*2*Ae}}if(Sn!=In)for(let Ge=8*Ti;Ge<8*Ti+Ln;++Ge){const ut=Sr[ae][Ge]+8*Sn*2*Ae,$t=Sn*64+(Ge&7)*8;for(let Yt=0;Yt<Gr;++Yt)Wr.setUint16(ut+Yt*2*Ae,ii[ae][$t+Yt],!0)}}}for(var zr=new Uint16Array(St),Wr=new DataView(pt.buffer),wi=0;wi<on;++wi){At[Re.idx[wi]].decoded=!0;var mo=At[Re.idx[wi]].type;if(At[wi].type==2)for(var Gi=0;Gi<yt;++Gi){const Ti=Sr[wi][Gi];for(var si=0;si<St;++si)zr[si]=Wr.getUint16(Ti+si*2*mo,!0);for(var si=0;si<St;++si)Wr.setFloat32(Ti+si*2*mo,Nn(zr[si]),!0)}}}function Dn(Re,$e,At){for(var Pe,at=1;at<64;)Pe=$e[Re.value],Pe==65280?at=64:Pe>>8==255?at+=Pe&255:(At[at]=Pe,at++),Re.value++}function Qn(Re,$e){$e[0]=Nn(Re[0]),$e[1]=Nn(Re[1]),$e[2]=Nn(Re[5]),$e[3]=Nn(Re[6]),$e[4]=Nn(Re[14]),$e[5]=Nn(Re[15]),$e[6]=Nn(Re[27]),$e[7]=Nn(Re[28]),$e[8]=Nn(Re[2]),$e[9]=Nn(Re[4]),$e[10]=Nn(Re[7]),$e[11]=Nn(Re[13]),$e[12]=Nn(Re[16]),$e[13]=Nn(Re[26]),$e[14]=Nn(Re[29]),$e[15]=Nn(Re[42]),$e[16]=Nn(Re[3]),$e[17]=Nn(Re[8]),$e[18]=Nn(Re[12]),$e[19]=Nn(Re[17]),$e[20]=Nn(Re[25]),$e[21]=Nn(Re[30]),$e[22]=Nn(Re[41]),$e[23]=Nn(Re[43]),$e[24]=Nn(Re[9]),$e[25]=Nn(Re[11]),$e[26]=Nn(Re[18]),$e[27]=Nn(Re[24]),$e[28]=Nn(Re[31]),$e[29]=Nn(Re[40]),$e[30]=Nn(Re[44]),$e[31]=Nn(Re[53]),$e[32]=Nn(Re[10]),$e[33]=Nn(Re[19]),$e[34]=Nn(Re[23]),$e[35]=Nn(Re[32]),$e[36]=Nn(Re[39]),$e[37]=Nn(Re[45]),$e[38]=Nn(Re[52]),$e[39]=Nn(Re[54]),$e[40]=Nn(Re[20]),$e[41]=Nn(Re[22]),$e[42]=Nn(Re[33]),$e[43]=Nn(Re[38]),$e[44]=Nn(Re[46]),$e[45]=Nn(Re[51]),$e[46]=Nn(Re[55]),$e[47]=Nn(Re[60]),$e[48]=Nn(Re[21]),$e[49]=Nn(Re[34]),$e[50]=Nn(Re[37]),$e[51]=Nn(Re[47]),$e[52]=Nn(Re[50]),$e[53]=Nn(Re[56]),$e[54]=Nn(Re[59]),$e[55]=Nn(Re[61]),$e[56]=Nn(Re[35]),$e[57]=Nn(Re[36]),$e[58]=Nn(Re[48]),$e[59]=Nn(Re[49]),$e[60]=Nn(Re[57]),$e[61]=Nn(Re[58]),$e[62]=Nn(Re[62]),$e[63]=Nn(Re[63])}function nr(Re){const $e=.5*Math.cos(.7853975),At=.5*Math.cos(3.14159/16),Pe=.5*Math.cos(3.14159/8),at=.5*Math.cos(3*3.14159/16),pt=.5*Math.cos(5*3.14159/16),St=.5*Math.cos(3*3.14159/8),yt=.5*Math.cos(7*3.14159/16);for(var on=new Array(4),Sn=new Array(4),In=new Array(4),kn=new Array(4),sr=0;sr<8;++sr){var Un=sr*8;on[0]=Pe*Re[Un+2],on[1]=St*Re[Un+2],on[2]=Pe*Re[Un+6],on[3]=St*Re[Un+6],Sn[0]=At*Re[Un+1]+at*Re[Un+3]+pt*Re[Un+5]+yt*Re[Un+7],Sn[1]=at*Re[Un+1]-yt*Re[Un+3]-At*Re[Un+5]-pt*Re[Un+7],Sn[2]=pt*Re[Un+1]-At*Re[Un+3]+yt*Re[Un+5]+at*Re[Un+7],Sn[3]=yt*Re[Un+1]-pt*Re[Un+3]+at*Re[Un+5]-At*Re[Un+7],In[0]=$e*(Re[Un+0]+Re[Un+4]),In[3]=$e*(Re[Un+0]-Re[Un+4]),In[1]=on[0]+on[3],In[2]=on[1]-on[2],kn[0]=In[0]+In[1],kn[1]=In[3]+In[2],kn[2]=In[3]-In[2],kn[3]=In[0]-In[1],Re[Un+0]=kn[0]+Sn[0],Re[Un+1]=kn[1]+Sn[1],Re[Un+2]=kn[2]+Sn[2],Re[Un+3]=kn[3]+Sn[3],Re[Un+4]=kn[3]-Sn[3],Re[Un+5]=kn[2]-Sn[2],Re[Un+6]=kn[1]-Sn[1],Re[Un+7]=kn[0]-Sn[0]}for(var qn=0;qn<8;++qn)on[0]=Pe*Re[16+qn],on[1]=St*Re[16+qn],on[2]=Pe*Re[48+qn],on[3]=St*Re[48+qn],Sn[0]=At*Re[8+qn]+at*Re[24+qn]+pt*Re[40+qn]+yt*Re[56+qn],Sn[1]=at*Re[8+qn]-yt*Re[24+qn]-At*Re[40+qn]-pt*Re[56+qn],Sn[2]=pt*Re[8+qn]-At*Re[24+qn]+yt*Re[40+qn]+at*Re[56+qn],Sn[3]=yt*Re[8+qn]-pt*Re[24+qn]+at*Re[40+qn]-At*Re[56+qn],In[0]=$e*(Re[qn]+Re[32+qn]),In[3]=$e*(Re[qn]-Re[32+qn]),In[1]=on[0]+on[3],In[2]=on[1]-on[2],kn[0]=In[0]+In[1],kn[1]=In[3]+In[2],kn[2]=In[3]-In[2],kn[3]=In[0]-In[1],Re[0+qn]=kn[0]+Sn[0],Re[8+qn]=kn[1]+Sn[1],Re[16+qn]=kn[2]+Sn[2],Re[24+qn]=kn[3]+Sn[3],Re[32+qn]=kn[3]-Sn[3],Re[40+qn]=kn[2]-Sn[2],Re[48+qn]=kn[1]-Sn[1],Re[56+qn]=kn[0]-Sn[0]}function Tr(Re){for(var $e=0;$e<64;++$e){var At=Re[0][$e],Pe=Re[1][$e],at=Re[2][$e];Re[0][$e]=At+1.5747*at,Re[1][$e]=At-.1873*Pe-.4682*at,Re[2][$e]=At+1.8556*Pe}}function ct(Re,$e,At){for(var Pe=0;Pe<64;++Pe)$e[At+Pe]=kb.toHalfFloat(Ne(Re[Pe]))}function Ne(Re){return Re<=1?Math.sign(Re)*Math.pow(Math.abs(Re),2.2):Math.sign(Re)*Math.pow(Le,Math.abs(Re)-1)}function rn(Re){return new DataView(Re.array.buffer,Re.offset.value,Re.size)}function Dt(Re){var $e=Re.viewer.buffer.slice(Re.offset.value,Re.offset.value+Re.size),At=new Uint8Array(fn($e)),Pe=new Uint8Array(At.length);return nn(At),jt(At,Pe),new DataView(Pe.buffer)}function Pn(Re){var $e=Re.array.slice(Re.offset.value,Re.offset.value+Re.size),At=k5($e),Pe=new Uint8Array(At.length);return nn(At),jt(At,Pe),new DataView(Pe.buffer)}function Wn(Re){for(var $e=Re.viewer,At={value:Re.offset.value},Pe=new Uint16Array(Re.width*Re.scanlineBlockSize*(Re.channels*Re.type)),at=new Uint8Array(8192),pt=0,St=new Array(Re.channels),yt=0;yt<Re.channels;yt++)St[yt]={},St[yt].start=pt,St[yt].end=St[yt].start,St[yt].nx=Re.width,St[yt].ny=Re.lines,St[yt].size=Re.type,pt+=St[yt].nx*St[yt].ny*St[yt].size;var on=Bt($e,At),Sn=Bt($e,At);if(Sn>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(on<=Sn)for(var yt=0;yt<Sn-on+1;yt++)at[yt+on]=Rr($e,At);var In=new Uint16Array(65536),kn=X(at,In),sr=hr($e,At);bn(Re.array,$e,At,sr,Pe,pt);for(var yt=0;yt<Re.channels;++yt)for(var Un=St[yt],qn=0;qn<St[yt].size;++qn)Kt(Pe,Un.start+qn,Un.nx,Un.size,Un.ny,Un.nx*Un.size,kn);Ze(In,Pe,pt);for(var Er=0,Qr=new Uint8Array(Pe.buffer.byteLength),li=0;li<Re.lines;li++)for(var ii=0;ii<Re.channels;ii++){var Un=St[ii],Sr=Un.nx*Un.size,Ln=new Uint8Array(Pe.buffer,Un.end*2,Sr*2);Qr.set(Ln,Er),Er+=Sr*2,Un.end+=Sr}return new DataView(Qr.buffer)}function ei(Re){var $e=Re.array.slice(Re.offset.value,Re.offset.value+Re.size),At=k5($e);const Pe=Re.lines*Re.channels*Re.width,at=Re.type==1?new Uint16Array(Pe):new Uint32Array(Pe);let pt=0,St=0;const yt=new Array(4);for(let on=0;on<Re.lines;on++)for(let Sn=0;Sn<Re.channels;Sn++){let In=0;switch(Re.type){case 1:yt[0]=pt,yt[1]=yt[0]+Re.width,pt=yt[1]+Re.width;for(let kn=0;kn<Re.width;++kn){const sr=At[yt[0]++]<<8|At[yt[1]++];In+=sr,at[St]=In,St++}break;case 2:yt[0]=pt,yt[1]=yt[0]+Re.width,yt[2]=yt[1]+Re.width,pt=yt[2]+Re.width;for(let kn=0;kn<Re.width;++kn){const sr=At[yt[0]++]<<24|At[yt[1]++]<<16|At[yt[2]++]<<8;In+=sr,at[St]=In,St++}break}}return new DataView(at.buffer)}function jr(Re){var $e=Re.viewer,At={value:Re.offset.value},Pe=new Uint8Array(Re.width*Re.lines*(Re.channels*Re.type*2)),at={version:wr($e,At),unknownUncompressedSize:wr($e,At),unknownCompressedSize:wr($e,At),acCompressedSize:wr($e,At),dcCompressedSize:wr($e,At),rleCompressedSize:wr($e,At),rleUncompressedSize:wr($e,At),rleRawSize:wr($e,At),totalAcUncompressedCount:wr($e,At),totalDcUncompressedCount:wr($e,At),acCompression:wr($e,At)};if(at.version<2)throw"EXRLoader.parse: "+ks.compression+" version "+at.version+" is unsupported";for(var pt=new Array,St=Bt($e,At)-2;St>0;){var yt=Yn($e.buffer,At),on=Rr($e,At),Sn=on>>2&3,In=(on>>4)-1,kn=new Int8Array([In])[0],sr=Rr($e,At);pt.push({name:yt,index:kn,type:sr,compression:Sn}),St-=yt.length+3}for(var Un=ks.channels,qn=new Array(Re.channels),Er=0;Er<Re.channels;++Er){var Qr=qn[Er]={},li=Un[Er];Qr.name=li.name,Qr.compression=0,Qr.decoded=!1,Qr.type=li.pixelType,Qr.pLinear=li.pLinear,Qr.width=Re.width,Qr.height=Re.lines}for(var ii={idx:new Array(3)},Sr=0;Sr<Re.channels;++Sr)for(var Qr=qn[Sr],Er=0;Er<pt.length;++Er){var Ln=pt[Er];Qr.name==Ln.name&&(Qr.compression=Ln.compression,Ln.index>=0&&(ii.idx[Ln.index]=Sr),Qr.offset=Sr)}if(at.acCompressedSize>0)switch(at.acCompression){case 0:var Wr=new Uint16Array(at.totalAcUncompressedCount);bn(Re.array,$e,At,at.acCompressedSize,Wr,at.totalAcUncompressedCount);break;case 1:var Gr=Re.array.slice(At.value,At.value+at.totalAcUncompressedCount),zr=k5(Gr),Wr=new Uint16Array(zr.buffer);At.value+=at.totalAcUncompressedCount;break}if(at.dcCompressedSize>0){var wi={array:Re.array,offset:At,size:at.dcCompressedSize},mo=new Uint16Array(Pn(wi).buffer);At.value+=at.dcCompressedSize}if(at.rleRawSize>0){var Gr=Re.array.slice(At.value,At.value+at.rleCompressedSize),zr=k5(Gr),Gi=fn(zr.buffer);At.value+=at.rleCompressedSize}for(var si=0,Ti=new Array(qn.length),Er=0;Er<Ti.length;++Er)Ti[Er]=new Array;for(var So=0;So<Re.lines;++So)for(var ae=0;ae<qn.length;++ae)Ti[ae].push(si),si+=qn[ae].width*Re.type*2;cn(ii,Ti,qn,Wr,mo,Pe);for(var Er=0;Er<qn.length;++Er){var Qr=qn[Er];if(!Qr.decoded)switch(Qr.compression){case 2:for(var Ae=0,Ge=0,So=0;So<Re.lines;++So){for(var ut=Ti[Er][Ae],$t=0;$t<Qr.width;++$t){for(var Yt=0;Yt<2*Qr.type;++Yt)Pe[ut++]=Gi[Ge+Yt*Qr.width*Qr.height];Ge++}Ae++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Pe.buffer)}function Yn(Re,$e){for(var At=new Uint8Array(Re),Pe=0;At[$e.value+Pe]!=0;)Pe+=1;var at=new TextDecoder().decode(At.slice($e.value,$e.value+Pe));return $e.value=$e.value+Pe+1,at}function vr(Re,$e,At){var Pe=new TextDecoder().decode(new Uint8Array(Re).slice($e.value,$e.value+At));return $e.value=$e.value+At,Pe}function Mt(Re,$e){var At=yr(Re,$e),Pe=hr(Re,$e);return[At,Pe]}function Zt(Re,$e){var At=hr(Re,$e),Pe=hr(Re,$e);return[At,Pe]}function yr(Re,$e){var At=Re.getInt32($e.value,!0);return $e.value=$e.value+4,At}function hr(Re,$e){var At=Re.getUint32($e.value,!0);return $e.value=$e.value+4,At}function Hr(Re,$e){var At=Re[$e.value];return $e.value=$e.value+1,At}function Rr(Re,$e){var At=Re.getUint8($e.value);return $e.value=$e.value+1,At}const wr=function(Re,$e){let At;return"getBigInt64"in DataView.prototype?At=Number(Re.getBigInt64($e.value,!0)):At=Re.getUint32($e.value+4,!0)+Number(Re.getUint32($e.value,!0)<<32),$e.value+=8,At};function qr(Re,$e){var At=Re.getFloat32($e.value,!0);return $e.value+=4,At}function ri(Re,$e){return kb.toHalfFloat(qr(Re,$e))}function Nn(Re){var $e=(Re&31744)>>10,At=Re&1023;return(Re>>15?-1:1)*($e?$e===31?At?NaN:1/0:Math.pow(2,$e-15)*(1+At/1024):6103515625e-14*(At/1024))}function Bt(Re,$e){var At=Re.getUint16($e.value,!0);return $e.value+=2,At}function _r(Re,$e){return Nn(Bt(Re,$e))}function Xt(Re,$e,At,Pe){for(var at=At.value,pt=[];At.value<at+Pe-1;){var St=Yn($e,At),yt=yr(Re,At),on=Rr(Re,At);At.value+=3;var Sn=yr(Re,At),In=yr(Re,At);pt.push({name:St,pixelType:yt,pLinear:on,xSampling:Sn,ySampling:In})}return At.value+=1,pt}function er(Re,$e){var At=qr(Re,$e),Pe=qr(Re,$e),at=qr(Re,$e),pt=qr(Re,$e),St=qr(Re,$e),yt=qr(Re,$e),on=qr(Re,$e),Sn=qr(Re,$e);return{redX:At,redY:Pe,greenX:at,greenY:pt,blueX:St,blueY:yt,whiteX:on,whiteY:Sn}}function xr(Re,$e){var At=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Pe=Rr(Re,$e);return At[Pe]}function Mi(Re,$e){var At=hr(Re,$e),Pe=hr(Re,$e),at=hr(Re,$e),pt=hr(Re,$e);return{xMin:At,yMin:Pe,xMax:at,yMax:pt}}function Di(Re,$e){var At=["INCREASING_Y"],Pe=Rr(Re,$e);return At[Pe]}function eo(Re,$e){var At=qr(Re,$e),Pe=qr(Re,$e);return[At,Pe]}function Ro(Re,$e){var At=qr(Re,$e),Pe=qr(Re,$e),at=qr(Re,$e);return[At,Pe,at]}function Ri(Re,$e,At,Pe,at){if(Pe==="string"||Pe==="stringvector"||Pe==="iccProfile")return vr($e,At,at);if(Pe==="chlist")return Xt(Re,$e,At,at);if(Pe==="chromaticities")return er(Re,At);if(Pe==="compression")return xr(Re,At);if(Pe==="box2i")return Mi(Re,At);if(Pe==="lineOrder")return Di(Re,At);if(Pe==="float")return qr(Re,At);if(Pe==="v2f")return eo(Re,At);if(Pe==="v3f")return Ro(Re,At);if(Pe==="int")return yr(Re,At);if(Pe==="rational")return Mt(Re,At);if(Pe==="timecode")return Zt(Re,At);if(Pe==="preview")return At.value+=at,"skipped";At.value+=at}function to(Re,$e,At){const Pe={};if(Re.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Pe.version=Re.getUint8(4);const at=Re.getUint8(5);Pe.spec={singleTile:!!(at&2),longName:!!(at&4),deepFormat:!!(at&8),multiPart:!!(at&16)},At.value=8;for(var pt=!0;pt;){var St=Yn($e,At);if(St==0)pt=!1;else{var yt=Yn($e,At),on=hr(Re,At),Sn=Ri(Re,$e,At,yt,on);Sn===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${yt}'.`):Pe[St]=Sn}}if(at&-5)throw console.error("EXRHeader:",Pe),"THREE.EXRLoader: provided file is currently unsupported.";return Pe}function _s(Re,$e,At,Pe,at){const pt={size:0,viewer:$e,array:At,offset:Pe,width:Re.dataWindow.xMax-Re.dataWindow.xMin+1,height:Re.dataWindow.yMax-Re.dataWindow.yMin+1,channels:Re.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Re.channels[0].pixelType,uncompress:null,getter:null,format:null,[PI?"colorSpace":"encoding"]:null};switch(Re.compression){case"NO_COMPRESSION":pt.lines=1,pt.uncompress=rn;break;case"RLE_COMPRESSION":pt.lines=1,pt.uncompress=Dt;break;case"ZIPS_COMPRESSION":pt.lines=1,pt.uncompress=Pn;break;case"ZIP_COMPRESSION":pt.lines=16,pt.uncompress=Pn;break;case"PIZ_COMPRESSION":pt.lines=32,pt.uncompress=Wn;break;case"PXR24_COMPRESSION":pt.lines=16,pt.uncompress=ei;break;case"DWAA_COMPRESSION":pt.lines=32,pt.uncompress=jr;break;case"DWAB_COMPRESSION":pt.lines=256,pt.uncompress=jr;break;default:throw"EXRLoader.parse: "+Re.compression+" is unsupported"}if(pt.scanlineBlockSize=pt.lines,pt.type==1)switch(at){case kc:pt.getter=_r,pt.inputSize=2;break;case lh:pt.getter=Bt,pt.inputSize=2;break}else if(pt.type==2)switch(at){case kc:pt.getter=qr,pt.inputSize=4;break;case lh:pt.getter=ri,pt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+pt.type+" for "+Re.compression+".";pt.blockCount=(Re.dataWindow.yMax+1)/pt.scanlineBlockSize;for(var St=0;St<pt.blockCount;St++)wr($e,Pe);pt.outputChannels=pt.channels==3?4:pt.channels;const yt=pt.width*pt.height*pt.outputChannels;switch(at){case kc:pt.byteArray=new Float32Array(yt),pt.channels<pt.outputChannels&&pt.byteArray.fill(1,0,yt);break;case lh:pt.byteArray=new Uint16Array(yt),pt.channels<pt.outputChannels&&pt.byteArray.fill(15360,0,yt);break;default:console.error("THREE.EXRLoader: unsupported type: ",at);break}return pt.bytesPerLine=pt.width*pt.inputSize*pt.channels,pt.outputChannels==4?pt.format=_d:pt.format=AF,PI?pt.colorSpace="srgb-linear":pt.encoding=3e3,pt}const zs=new DataView(e),ol=new Uint8Array(e),ss={value:0},ks=to(zs,e,ss),fi=_s(ks,zs,ol,ss,this.type),ba={value:0},su={R:0,G:1,B:2,A:3,Y:0};for(let Re=0;Re<fi.height/fi.scanlineBlockSize;Re++){const $e=hr(zs,ss);fi.size=hr(zs,ss),fi.lines=$e+fi.scanlineBlockSize>fi.height?fi.height-$e:fi.scanlineBlockSize;const Pe=fi.size<fi.lines*fi.bytesPerLine?fi.uncompress(fi):rn(fi);ss.value+=fi.size;for(let at=0;at<fi.scanlineBlockSize;at++){const pt=at+Re*fi.scanlineBlockSize;if(pt>=fi.height)break;for(let St=0;St<fi.channels;St++){const yt=su[ks.channels[St].name];for(let on=0;on<fi.width;on++){ba.value=(at*(fi.channels*fi.width)+St*fi.width+on)*fi.inputSize;const Sn=(fi.height-1-pt)*(fi.width*fi.outputChannels)+on*fi.outputChannels+yt;fi.byteArray[Sn]=fi.getter(Pe,ba)}}}}return{header:ks,width:fi.width,height:fi.height,data:fi.byteArray,format:fi.format,[PI?"colorSpace":"encoding"]:fi[PI?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,o){function s(c,d){PI?c.colorSpace=d.colorSpace:c.encoding=d.encoding,c.minFilter=Xs,c.magFilter=Xs,c.generateMipmaps=!1,c.flipY=!1,t&&t(c,d)}return super.load(e,s,r,o)}}const rV=new WeakMap;class PGe extends hh{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,o){const s=new Rm(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,c=>{const d={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(c,d).then(t).catch(o)},r,o)}decodeDracoFile(e,t,r,o){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const g in t.attributeTypes){const _=t.attributeTypes[g];_.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[g]=_.name)}const r=JSON.stringify(t);if(rV.has(e)){const g=rV.get(e);if(g.key===r)return g.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const s=this.workerNextTaskID++,c=e.byteLength,d=this._getWorker(s,c).then(g=>(o=g,new Promise((_,b)=>{o._callbacks[s]={resolve:_,reject:b},o.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(g=>this._createGeometry(g.geometry));return d.catch(()=>!0).then(()=>{o&&s&&this._releaseTask(o,s)}),rV.set(e,{key:r,promise:d}),d}_createGeometry(e){const t=new po;e.index&&t.setIndex(new Ps(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const o=e.attributes[r],s=o.name,c=o.array,d=o.itemSize;t.setAttribute(s,new Ps(c,d))}return t}_loadLibrary(e,t){const r=new Rm(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((o,s)=>{r.load(e,o,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const o=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=kGe.toString(),c=["/* draco decoder */",o,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(s){const c=s.data;switch(c.type){case"decode":o._callbacks[c.id].resolve(c);break;case"error":o._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,s){return o._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function kGe(){let n,e;onmessage=function(c){const d=c.data;switch(d.type){case"init":n=d.decoderConfig,e=new Promise(function(b){n.onModuleLoaded=function(A){b({draco:A})},DracoDecoderModule(n)});break;case"decode":const g=d.buffer,_=d.taskConfig;e.then(b=>{const A=b.draco,P=new A.Decoder,N=new A.DecoderBuffer;N.Init(new Int8Array(g),g.byteLength);try{const F=t(A,P,N,_),K=F.attributes.map(D=>D.array.buffer);F.index&&K.push(F.index.array.buffer),self.postMessage({type:"decode",id:d.id,geometry:F},K)}catch(F){console.error(F),self.postMessage({type:"error",id:d.id,error:F.message})}finally{A.destroy(N),A.destroy(P)}});break}};function t(c,d,g,_){const b=_.attributeIDs,A=_.attributeTypes;let P,N;const F=d.GetEncodedGeometryType(g);if(F===c.TRIANGULAR_MESH)P=new c.Mesh,N=d.DecodeBufferToMesh(g,P);else if(F===c.POINT_CLOUD)P=new c.PointCloud,N=d.DecodeBufferToPointCloud(g,P);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!N.ok()||P.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+N.error_msg());const K={index:null,attributes:[]};for(const D in b){const I=self[A[D]];let j,T;if(_.useUniqueIDs)T=b[D],j=d.GetAttributeByUniqueId(P,T);else{if(T=d.GetAttributeId(P,c[b[D]]),T===-1)continue;j=d.GetAttribute(P,T)}K.attributes.push(o(c,d,P,D,I,j))}return F===c.TRIANGULAR_MESH&&(K.index=r(c,d,P)),c.destroy(P),K}function r(c,d,g){const b=g.num_faces()*3,A=b*4,P=c._malloc(A);d.GetTrianglesUInt32Array(g,A,P);const N=new Uint32Array(c.HEAPF32.buffer,P,b).slice();return c._free(P),{array:N,itemSize:1}}function o(c,d,g,_,b,A){const P=A.num_components(),F=g.num_points()*P,K=F*b.BYTES_PER_ELEMENT,D=s(c,b),I=c._malloc(K);d.GetAttributeDataArrayForAllPoints(g,A,D,K,I);const j=new b(c.HEAPF32.buffer,I,F).slice();return c._free(I),{name:_,array:j,itemSize:P}}function s(c,d){switch(d){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}}let I5;const iV=()=>{if(I5)return I5;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let o=n;WebAssembly.validate(t)&&(o=e);let s;const c=WebAssembly.instantiate(d(o),{}).then(A=>{s=A.instance,s.exports.__wasm_call_ctors()});function d(A){const P=new Uint8Array(A.length);for(let F=0;F<A.length;++F){const K=A.charCodeAt(F);P[F]=K>96?K-71:K>64?K-65:K>47?K+4:K>46?63:62}let N=0;for(let F=0;F<A.length;++F)P[N++]=P[F]<60?r[P[F]]:(P[F]-60)*64+P[++F];return P.buffer.slice(0,N)}function g(A,P,N,F,K,D){const I=s.exports.sbrk,j=N+3&-4,T=I(j*F),Y=I(K.length),ce=new Uint8Array(s.exports.memory.buffer);ce.set(K,Y);const le=A(T,N,F,Y,K.length);if(le===0&&D&&D(T,j,F),P.set(ce.subarray(T,T+N*F)),I(T-I(0)),le!==0)throw new Error(`Malformed buffer data: ${le}`)}const _={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},b={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return I5={ready:c,supported:!0,decodeVertexBuffer(A,P,N,F,K){g(s.exports.meshopt_decodeVertexBuffer,A,P,N,F,s.exports[_[K]])},decodeIndexBuffer(A,P,N,F){g(s.exports.meshopt_decodeIndexBuffer,A,P,N,F)},decodeIndexSequence(A,P,N,F){g(s.exports.meshopt_decodeIndexSequence,A,P,N,F)},decodeGltfBuffer(A,P,N,F,K,D){g(s.exports[b[K]],A,P,N,F,s.exports[_[D]])}},I5};let R5=null,UAe="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function jAe(n,e,t){return r=>{t&&t(r),n&&(R5||(R5=new PGe),R5.setDecoderPath(typeof n=="string"?n:UAe),r.setDRACOLoader(R5)),e&&r.setMeshoptDecoder(typeof iV=="function"?iV():iV)}}function JF(n,e=!0,t=!0,r){return eT(DY,n,jAe(e,t,r))}JF.preload=(n,e=!0,t=!0,r)=>eT.preload(DY,n,jAe(e,t,r));JF.clear=n=>eT.clear(DY,n);JF.setDecoderPath=n=>{UAe=n};function IGe(n,e){const t=an.useRef(),[r]=an.useState(()=>e?e instanceof Ho?{current:e}:e:t),[o]=an.useState(()=>new tAe(void 0));an.useLayoutEffect(()=>{e&&(r.current=e instanceof Ho?e:e.current),o._root=r.current});const s=an.useRef({}),c=an.useMemo(()=>{const d={};return n.forEach(g=>Object.defineProperty(d,g.name,{enumerable:!0,get(){if(r.current)return s.current[g.name]||(s.current[g.name]=o.clipAction(g,r.current))},configurable:!0})),{ref:r,clips:n,actions:d,names:n.map(g=>g.name),mixer:o}},[n]);return k1((d,g)=>o.update(g)),an.useEffect(()=>{const d=r.current;return()=>{s.current={},o.stopAllAction(),Object.values(c.actions).forEach(g=>{d&&o.uncacheAction(g,d)})}},[n]),c}const RGe=3e3,OGe=3001,oV={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},BGe="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",y_e=n=>Array.isArray(n);function HAe({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:o}={}){var s;let c=null,d=!1,g;if(t){if(!(t in oV))throw new Error("Preset must be one of: "+Object.keys(oV).join(", "));n=oV[t],e=BGe}if(d=y_e(n),g=y_e(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(s=n.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),c=d?HEe:g==="hdr"?MGe:g==="exr"?TGe:null,!c)throw new Error("useEnvironment: Unrecognized file extension: "+n);const _=eT(c,d?[n]:n,A=>{A.setPath==null||A.setPath(e),o&&o(A)}),b=d?_[0]:_;return b.mapping=d?K0:PM,"colorSpace"in b?b.colorSpace=r??d?"srgb":"srgb-linear":b.encoding=r??d?OGe:RGe,b}const DGe=n=>n.current&&n.current.isScene,NGe=n=>DGe(n)?n.current:n;function NY(n,e,t,r,o=0){const s=NGe(e||t),c=s.background,d=s.environment,g=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=o),()=>{n!=="only"&&(s.environment=d),n&&(s.background=c),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=g)}}function LY({scene:n,background:e=!1,blur:t,map:r}){const o=fh(s=>s.scene);return an.useLayoutEffect(()=>{if(r)return NY(e,n,o,r,t)},[o,n,r,e,t]),null}function GAe({background:n=!1,scene:e,blur:t,...r}){const o=HAe(r),s=fh(c=>c.scene);return an.useLayoutEffect(()=>NY(n,e,s,o,t),[o,n,e,s,t]),null}function LGe({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:o=1,map:s,background:c=!1,blur:d,scene:g,files:_,path:b,preset:A=void 0,extensions:P}){const N=fh(T=>T.gl),F=fh(T=>T.scene),K=an.useRef(null),[D]=an.useState(()=>new Yb),I=an.useMemo(()=>{const T=new $K(r);return T.texture.type=lh,T},[r]);an.useLayoutEffect(()=>(o===1&&K.current.update(N,D),NY(c,g,F,I.texture,d)),[n,D,I.texture,g,F,c,o,N]);let j=1;return k1(()=>{(o===1/0||j<o)&&(K.current.update(N,D),j++)}),an.createElement(an.Fragment,null,BHe(an.createElement(an.Fragment,null,n,an.createElement("cubeCamera",{ref:K,args:[e,t,I]}),_||A?an.createElement(GAe,{background:!0,files:_,preset:A,path:b,extensions:P}):s?an.createElement(LY,{background:!0,map:s,extensions:P}):null),D))}function FGe(n){var e,t,r,o;const s=HAe(n),c=n.map||s;an.useMemo(()=>kY({GroundProjectedEnvImpl:Y7e}),[]);const d=an.useMemo(()=>[c],[c]),g=(e=n.ground)==null?void 0:e.height,_=(t=n.ground)==null?void 0:t.radius,b=(r=(o=n.ground)==null?void 0:o.scale)!==null&&r!==void 0?r:1e3;return an.createElement(an.Fragment,null,an.createElement(LY,Qb({},n,{map:c})),an.createElement("groundProjectedEnvImpl",{args:d,scale:b,height:g,radius:_}))}function zGe(n){return n.ground?an.createElement(FGe,n):n.map?an.createElement(LY,n):n.children?an.createElement(LGe,n):an.createElement(GAe,n)}var Zc={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let UGe=0;function ZF(n,e){const t=`atom${++UGe}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=jGe,r.write=HGe),e&&(r.write=e),r}function jGe(n){return n(this)}function HGe(n,e,t){return e(this,typeof t=="function"?t(n(this)):t)}const sV=(n,e)=>n.unstable_is?n.unstable_is(e):e===n,aV=n=>"init"in n,lV=n=>!!n.write,XL=new WeakMap,GGe=(n,e)=>{XL.set(n,e),n.catch(()=>{}).finally(()=>XL.delete(n))},__e=(n,e)=>{const t=XL.get(n);t&&(XL.delete(n),t(e))},w_e=(n,e)=>{n.status="fulfilled",n.value=e},x_e=(n,e)=>{n.status="rejected",n.reason=e},VGe=n=>typeof(n==null?void 0:n.then)=="function",kI=(n,e)=>!!n&&"v"in n&&"v"in e&&Object.is(n.v,e.v),S_e=(n,e)=>!!n&&"e"in n&&"e"in e&&Object.is(n.e,e.e),OC=n=>!!n&&"v"in n&&n.v instanceof Promise,WGe=(n,e)=>"v"in n&&"v"in e&&n.v.orig&&n.v.orig===e.v.orig,O5=n=>{if("e"in n)throw n.e;return n.v},XGe=()=>{const n=new WeakMap,e=new WeakMap,t=[],r=new WeakMap;let o,s;(Zc?"production":void 0)!=="production"&&(o=new Set,s=new Set);const c=X=>n.get(X),d=(X,fe)=>{fe.d.forEach((st,Ue)=>{var Me;if(!r.has(Ue)){const be=c(Ue);(Me=t[t.length-1])==null||Me.add(Ue),r.set(Ue,[be,new Set]),be&&d(Ue,be)}r.get(Ue)[1].add(X)})},g=(X,fe)=>{var st;(Zc?"production":void 0)!=="production"&&Object.freeze(fe);const Ue=c(X);if(n.set(X,fe),r.has(X)||((st=t[t.length-1])==null||st.add(X),r.set(X,[Ue,new Set]),d(X,fe)),OC(Ue)){const Me="v"in fe?fe.v instanceof Promise?fe.v:Promise.resolve(fe.v):Promise.reject(fe.e);Ue.v!==Me&&__e(Ue.v,Me)}},_=(X,fe,st,Ue)=>{const Me=new Map(Ue?fe.d:null);let be=!1;st.forEach((Ke,Ye)=>{!Ke&&sV(X,Ye)&&(Ke=fe),Ke?(Me.set(Ye,Ke),fe.d.get(Ye)!==Ke&&(be=!0)):(Zc?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(be||fe.d.size!==Me.size)&&(fe.d=Me)},b=(X,fe,st,Ue)=>{const Me=c(X),be={d:(Me==null?void 0:Me.d)||new Map,v:fe};if(st&&_(X,be,st,Ue),kI(Me,be)&&Me.d===be.d)return Me;if(OC(Me)&&OC(be)&&WGe(Me,be)){if(Me.d===be.d)return Me;be.v=Me.v}return g(X,be),be},A=(X,fe,st,Ue)=>{if(VGe(fe)){let Me;const be=()=>{const Ye=c(X);if(!OC(Ye)||Ye.v!==Ke)return;const de=b(X,Ke,st);e.has(X)&&Ye.d!==de.d&&Z(X,de,Ye.d)},Ke=new Promise((Ye,de)=>{let ve=!1;fe.then(ye=>{ve||(ve=!0,w_e(Ke,ye),Ye(ye),be())},ye=>{ve||(ve=!0,x_e(Ke,ye),de(ye),be())}),Me=ye=>{ve||(ve=!0,ye.then(_e=>w_e(Ke,_e),_e=>x_e(Ke,_e)),Ye(ye))}});return Ke.orig=fe,Ke.status="pending",GGe(Ke,Ye=>{Ye&&Me(Ye),Ue==null||Ue()}),b(X,Ke,st,!0)}return b(X,fe,st)},P=(X,fe,st)=>{const Ue=c(X),Me={d:(Ue==null?void 0:Ue.d)||new Map,e:fe};return st&&_(X,Me,st),S_e(Ue,Me)&&Ue.d===Me.d?Ue:(g(X,Me),Me)},N=(X,fe)=>{const st=c(X);if(!fe&&st&&(e.has(X)||Array.from(st.d).every(([ve,ye])=>{if(ve===X)return!0;const _e=N(ve);return _e===ye||kI(_e,ye)})))return st;const Ue=new Map;let Me=!0;const be=ve=>{if(sV(X,ve)){const _e=c(ve);if(_e)return Ue.set(ve,_e),O5(_e);if(aV(ve))return Ue.set(ve,void 0),ve.init;throw new Error("no atom init")}const ye=N(ve);return Ue.set(ve,ye),O5(ye)};let Ke,Ye;const de={get signal(){return Ke||(Ke=new AbortController),Ke.signal},get setSelf(){return(Zc?"production":void 0)!=="production"&&!lV(X)&&console.warn("setSelf function cannot be used with read-only atom"),!Ye&&lV(X)&&(Ye=(...ve)=>{if((Zc?"production":void 0)!=="production"&&Me&&console.warn("setSelf function cannot be called in sync"),!Me)return Y(X,...ve)}),Ye}};try{const ve=X.read(be,de);return A(X,ve,Ue,()=>Ke==null?void 0:Ke.abort())}catch(ve){return P(X,ve,Ue)}finally{Me=!1}},F=X=>O5(N(X)),K=X=>{let fe=e.get(X);return fe||(fe=ce(X)),fe},D=(X,fe)=>!fe.l.size&&(!fe.t.size||fe.t.size===1&&fe.t.has(X)),I=X=>{const fe=e.get(X);fe&&D(X,fe)&&le(X)},j=X=>{const fe=Ke=>{var Ye,de;const ve=new Set((Ye=e.get(Ke))==null?void 0:Ye.t);return(de=r.get(Ke))==null||de[1].forEach(ye=>{ve.add(ye)}),ve},st=new Array,Ue=new Set,Me=Ke=>{if(!Ue.has(Ke)){Ue.add(Ke);for(const Ye of fe(Ke))Ke!==Ye&&Me(Ye);st.push(Ke)}};Me(X);const be=new Set([X]);for(let Ke=st.length-1;Ke>=0;--Ke){const Ye=st[Ke],de=c(Ye);if(!de)continue;let ve=!1;for(const ye of de.d.keys())if(ye!==Ye&&be.has(ye)){ve=!0;break}if(ve){const ye=N(Ye,!0);kI(de,ye)||be.add(Ye)}}},T=(X,...fe)=>{const st=be=>O5(N(be)),Ue=(be,...Ke)=>{const Ye=t.length>0;Ye||t.push(new Set([be]));let de;if(sV(X,be)){if(!aV(be))throw new Error("atom not writable");const ve=c(be),ye=A(be,Ke[0]);kI(ve,ye)||j(be)}else de=T(be,...Ke);if(!Ye){const ve=Se(t.pop());(Zc?"production":void 0)!=="production"&&o.forEach(ye=>ye({type:"async-write",flushed:ve}))}return de};return X.write(st,Ue,...fe)},Y=(X,...fe)=>{t.push(new Set([X]));const st=T(X,...fe),Ue=Se(t.pop());return(Zc?"production":void 0)!=="production"&&o.forEach(Me=>Me({type:"write",flushed:Ue})),st},ce=(X,fe,st)=>{var Ue;const Me=st||[];(Ue=c(X))==null||Ue.d.forEach((Ke,Ye)=>{const de=e.get(Ye);de?de.t.add(X):Ye!==X&&ce(Ye,X,Me)}),N(X);const be={t:new Set(fe&&[fe]),l:new Set};if(e.set(X,be),(Zc?"production":void 0)!=="production"&&s.add(X),lV(X)&&X.onMount){const{onMount:Ke}=X;Me.push(()=>{const Ye=Ke((...de)=>Y(X,...de));Ye&&(be.u=Ye)})}return st||Me.forEach(Ke=>Ke()),be},le=X=>{var fe;const st=(fe=e.get(X))==null?void 0:fe.u;st&&st(),e.delete(X),(Zc?"production":void 0)!=="production"&&s.delete(X);const Ue=c(X);Ue?(OC(Ue)&&__e(Ue.v),Ue.d.forEach((Me,be)=>{if(be!==X){const Ke=e.get(be);Ke&&(Ke.t.delete(X),D(be,Ke)&&le(be))}})):(Zc?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",X)},Z=(X,fe,st)=>{const Ue=new Set(fe.d.keys()),Me=new Set;st==null||st.forEach((be,Ke)=>{if(Ue.has(Ke)){Ue.delete(Ke);return}Me.add(Ke);const Ye=e.get(Ke);Ye&&Ye.t.delete(X)}),Ue.forEach(be=>{const Ke=e.get(be);Ke?Ke.t.add(X):e.has(X)&&ce(be,X)}),Me.forEach(be=>{const Ke=e.get(be);Ke&&D(be,Ke)&&le(be)})},Se=X=>{let fe;(Zc?"production":void 0)!=="production"&&(fe=new Set);const st=[],Ue=Me=>{var be;if(!r.has(Me))return;const[Ke,Ye]=r.get(Me);r.delete(Me),st.push([Me,Ke]),Ye.forEach(Ue),(be=c(Me))==null||be.d.forEach((de,ve)=>Ue(ve))};if(X.forEach(Ue),st.forEach(([Me,be])=>{const Ke=c(Me);if(!Ke){(Zc?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(Ke!==be){const Ye=e.get(Me);Ye&&Ke.d!==(be==null?void 0:be.d)&&Z(Me,Ke,be==null?void 0:be.d),Ye&&!(!OC(be)&&(kI(be,Ke)||S_e(be,Ke)))&&(Ye.l.forEach(de=>de()),(Zc?"production":void 0)!=="production"&&fe.add(Me))}}),(Zc?"production":void 0)!=="production")return fe},Le=(X,fe)=>{const st=K(X),Ue=Se([X]),Me=st.l;return Me.add(fe),(Zc?"production":void 0)!=="production"&&o.forEach(be=>be({type:"sub",flushed:Ue})),()=>{Me.delete(fe),I(X),(Zc?"production":void 0)!=="production"&&o.forEach(be=>be({type:"unsub"}))}};return(Zc?"production":void 0)!=="production"?{get:F,set:Y,sub:Le,dev_subscribe_store:(X,fe)=>{if(fe!==2)throw new Error("The current StoreListener revision is 2.");return o.add(X),()=>{o.delete(X)}},dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:X=>n.get(X),dev_get_mounted:X=>e.get(X),dev_restore_atoms:X=>{t.push(new Set);for(const[st,Ue]of X)aV(st)&&(A(st,Ue),j(st));const fe=Se(t.pop());o.forEach(st=>st({type:"restore",flushed:fe}))}}:{get:F,set:Y,sub:Le}};let uV;(Zc?"production":void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);const KGe=()=>(uV||((Zc?"production":void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),uV=XGe()),uV);var YGe={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qGe=an.createContext(void 0),VAe=n=>{const e=an.useContext(qGe);return(n==null?void 0:n.store)||e||KGe()},QGe=n=>typeof(n==null?void 0:n.then)=="function",JGe=c1.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function ZGe(n,e){const t=VAe(e),[[r,o,s],c]=an.useReducer(_=>{const b=t.get(n);return Object.is(_[0],b)&&_[1]===t&&_[2]===n?_:[b,t,n]},void 0,()=>[t.get(n),t,n]);let d=r;(o!==t||s!==n)&&(c(),d=t.get(n));const g=e==null?void 0:e.delay;return an.useEffect(()=>{const _=t.sub(n,()=>{if(typeof g=="number"){setTimeout(c,g);return}c()});return c(),_},[t,n,g]),an.useDebugValue(d),QGe(d)?JGe(d):d}function $Ge(n,e){const t=VAe(e);return an.useCallback((...o)=>{if((YGe?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return t.set(n,...o)},[t,n])}function zM(n,e){return[ZGe(n,e),$Ge(n,e)]}const eVe=ZF(0);ZF(!1);const FY=ZF(1),WAe=ZF(!1);var KL={exports:{}},tr={};(function(n){var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(Te,ot,Tt)=>ot in Te?e(Te,ot,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):Te[ot]=Tt,g=(Te,ot)=>{for(var Tt in ot||(ot={}))s.call(ot,Tt)&&d(Te,Tt,ot[Tt]);if(o)for(var Tt of o(ot))c.call(ot,Tt)&&d(Te,Tt,ot[Tt]);return Te},_=(Te,ot)=>t(Te,r(ot)),b=Te=>e(Te,"__esModule",{value:!0}),A=(Te,ot)=>{b(Te);for(var Tt in ot)e(Te,Tt,{get:ot[Tt],enumerable:!0})};A(n,{Atom:()=>Du,PointerProxy:()=>Qs,Ticker:()=>lf,getPointerParts:()=>Qo,isPointer:()=>Uo,isPrism:()=>ma,iterateAndCountTicks:()=>af,iterateOver:()=>qs,pointer:()=>Go,pointerToPrism:()=>du,prism:()=>Ys,val:()=>Nu});var P=Array.isArray,N=P,F=typeof eu=="object"&&eu&&eu.Object===Object&&eu,K=F,D=typeof self=="object"&&self&&self.Object===Object&&self,I=K||D||Function("return this")(),j=I,T=j.Symbol,Y=T,ce=Object.prototype,le=ce.hasOwnProperty,Z=ce.toString,Se=Y?Y.toStringTag:void 0;function Le(Te){var ot=le.call(Te,Se),Tt=Te[Se];try{Te[Se]=void 0;var An=!0}catch{}var pi=Z.call(Te);return An&&(ot?Te[Se]=Tt:delete Te[Se]),pi}var X=Le,fe=Object.prototype,st=fe.toString;function Ue(Te){return st.call(Te)}var Me=Ue,be="[object Null]",Ke="[object Undefined]",Ye=Y?Y.toStringTag:void 0;function de(Te){return Te==null?Te===void 0?Ke:be:Ye&&Ye in Object(Te)?X(Te):Me(Te)}var ve=de;function ye(Te){return Te!=null&&typeof Te=="object"}var _e=ye,ge="[object Symbol]";function dt(Te){return typeof Te=="symbol"||_e(Te)&&ve(Te)==ge}var qe=dt,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qe=/^\w*$/;function zt(Te,ot){if(N(Te))return!1;var Tt=typeof Te;return Tt=="number"||Tt=="symbol"||Tt=="boolean"||Te==null||qe(Te)?!0:Qe.test(Te)||!_t.test(Te)||ot!=null&&Te in Object(ot)}var Lt=zt;function Kt(Te){var ot=typeof Te;return Te!=null&&(ot=="object"||ot=="function")}var ln=Kt,bn="[object AsyncFunction]",Ze="[object Function]",nn="[object GeneratorFunction]",jt="[object Proxy]";function fn(Te){if(!ln(Te))return!1;var ot=ve(Te);return ot==Ze||ot==nn||ot==bn||ot==jt}var cn=fn,Dn=j["__core-js_shared__"],Qn=Dn,nr=function(){var Te=/[^.]+$/.exec(Qn&&Qn.keys&&Qn.keys.IE_PROTO||"");return Te?"Symbol(src)_1."+Te:""}();function Tr(Te){return!!nr&&nr in Te}var ct=Tr,Ne=Function.prototype,rn=Ne.toString;function Dt(Te){if(Te!=null){try{return rn.call(Te)}catch{}try{return Te+""}catch{}}return""}var Pn=Dt,Wn=/[\\^$.*+?()[\]{}|]/g,ei=/^\[object .+?Constructor\]$/,jr=Function.prototype,Yn=Object.prototype,vr=jr.toString,Mt=Yn.hasOwnProperty,Zt=RegExp("^"+vr.call(Mt).replace(Wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yr(Te){if(!ln(Te)||ct(Te))return!1;var ot=cn(Te)?Zt:ei;return ot.test(Pn(Te))}var hr=yr;function Hr(Te,ot){return Te==null?void 0:Te[ot]}var Rr=Hr;function wr(Te,ot){var Tt=Rr(Te,ot);return hr(Tt)?Tt:void 0}var qr=wr,ri=qr(Object,"create"),Nn=ri;function Bt(){this.__data__=Nn?Nn(null):{},this.size=0}var _r=Bt;function Xt(Te){var ot=this.has(Te)&&delete this.__data__[Te];return this.size-=ot?1:0,ot}var er=Xt,xr="__lodash_hash_undefined__",Mi=Object.prototype,Di=Mi.hasOwnProperty;function eo(Te){var ot=this.__data__;if(Nn){var Tt=ot[Te];return Tt===xr?void 0:Tt}return Di.call(ot,Te)?ot[Te]:void 0}var Ro=eo,Ri=Object.prototype,to=Ri.hasOwnProperty;function _s(Te){var ot=this.__data__;return Nn?ot[Te]!==void 0:to.call(ot,Te)}var zs=_s,ol="__lodash_hash_undefined__";function ss(Te,ot){var Tt=this.__data__;return this.size+=this.has(Te)?0:1,Tt[Te]=Nn&&ot===void 0?ol:ot,this}var ks=ss;function fi(Te){var ot=-1,Tt=Te==null?0:Te.length;for(this.clear();++ot<Tt;){var An=Te[ot];this.set(An[0],An[1])}}fi.prototype.clear=_r,fi.prototype.delete=er,fi.prototype.get=Ro,fi.prototype.has=zs,fi.prototype.set=ks;var ba=fi;function su(){this.__data__=[],this.size=0}var Re=su;function $e(Te,ot){return Te===ot||Te!==Te&&ot!==ot}var At=$e;function Pe(Te,ot){for(var Tt=Te.length;Tt--;)if(At(Te[Tt][0],ot))return Tt;return-1}var at=Pe,pt=Array.prototype,St=pt.splice;function yt(Te){var ot=this.__data__,Tt=at(ot,Te);if(Tt<0)return!1;var An=ot.length-1;return Tt==An?ot.pop():St.call(ot,Tt,1),--this.size,!0}var on=yt;function Sn(Te){var ot=this.__data__,Tt=at(ot,Te);return Tt<0?void 0:ot[Tt][1]}var In=Sn;function kn(Te){return at(this.__data__,Te)>-1}var sr=kn;function Un(Te,ot){var Tt=this.__data__,An=at(Tt,Te);return An<0?(++this.size,Tt.push([Te,ot])):Tt[An][1]=ot,this}var qn=Un;function Er(Te){var ot=-1,Tt=Te==null?0:Te.length;for(this.clear();++ot<Tt;){var An=Te[ot];this.set(An[0],An[1])}}Er.prototype.clear=Re,Er.prototype.delete=on,Er.prototype.get=In,Er.prototype.has=sr,Er.prototype.set=qn;var Qr=Er,li=qr(j,"Map"),ii=li;function Sr(){this.size=0,this.__data__={hash:new ba,map:new(ii||Qr),string:new ba}}var Ln=Sr;function Gr(Te){var ot=typeof Te;return ot=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?Te!=="__proto__":Te===null}var zr=Gr;function Wr(Te,ot){var Tt=Te.__data__;return zr(ot)?Tt[typeof ot=="string"?"string":"hash"]:Tt.map}var wi=Wr;function mo(Te){var ot=wi(this,Te).delete(Te);return this.size-=ot?1:0,ot}var Gi=mo;function si(Te){return wi(this,Te).get(Te)}var Ti=si;function So(Te){return wi(this,Te).has(Te)}var ae=So;function Ae(Te,ot){var Tt=wi(this,Te),An=Tt.size;return Tt.set(Te,ot),this.size+=Tt.size==An?0:1,this}var Ge=Ae;function ut(Te){var ot=-1,Tt=Te==null?0:Te.length;for(this.clear();++ot<Tt;){var An=Te[ot];this.set(An[0],An[1])}}ut.prototype.clear=Ln,ut.prototype.delete=Gi,ut.prototype.get=Ti,ut.prototype.has=ae,ut.prototype.set=Ge;var $t=ut,Yt="Expected a function";function On(Te,ot){if(typeof Te!="function"||ot!=null&&typeof ot!="function")throw new TypeError(Yt);var Tt=function(){var An=arguments,pi=ot?ot.apply(this,An):An[0],Co=Tt.cache;if(Co.has(pi))return Co.get(pi);var no=Te.apply(this,An);return Tt.cache=Co.set(pi,no)||Co,no};return Tt.cache=new(On.Cache||$t),Tt}On.Cache=$t;var lr=On,dr=500;function oi(Te){var ot=lr(Te,function(An){return Tt.size===dr&&Tt.clear(),An}),Tt=ot.cache;return ot}var Oi=oi,Mo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ua=/\\(\\)?/g,na=Oi(function(Te){var ot=[];return Te.charCodeAt(0)===46&&ot.push(""),Te.replace(Mo,function(Tt,An,pi,Co){ot.push(pi?Co.replace(Ua,"$1"):An||Tt)}),ot}),ws=na;function Is(Te,ot){for(var Tt=-1,An=Te==null?0:Te.length,pi=Array(An);++Tt<An;)pi[Tt]=ot(Te[Tt],Tt,Te);return pi}var Ea=Is,Pi=1/0,ki=Y?Y.prototype:void 0,ha=ki?ki.toString:void 0;function ra(Te){if(typeof Te=="string")return Te;if(N(Te))return Ea(Te,ra)+"";if(qe(Te))return ha?ha.call(Te):"";var ot=Te+"";return ot=="0"&&1/Te==-Pi?"-0":ot}var au=ra;function ku(Te){return Te==null?"":au(Te)}var Us=ku;function ps(Te,ot){return N(Te)?Te:Lt(Te,ot)?[Te]:ws(Us(Te))}var tc=ps,nc=1/0;function Aa(Te){if(typeof Te=="string"||qe(Te))return Te;var ot=Te+"";return ot=="0"&&1/Te==-nc?"-0":ot}var lu=Aa;function js(Te,ot){ot=tc(ot,Te);for(var Tt=0,An=ot.length;Te!=null&&Tt<An;)Te=Te[lu(ot[Tt++])];return Tt&&Tt==An?Te:void 0}var uo=js;function pa(Te,ot,Tt){var An=Te==null?void 0:uo(Te,ot);return An===void 0?Tt:An}var as=pa;function No(Te,ot){return function(Tt){return Te(ot(Tt))}}var Xo=No,Iu=Xo(Object.getPrototypeOf,Object),uu=Iu,of="[object Object]",Ca=Function.prototype,ja=Object.prototype,rc=Ca.toString,sl=ja.hasOwnProperty,Ma=rc.call(Object);function Hs(Te){if(!_e(Te)||ve(Te)!=of)return!1;var ot=uu(Te);if(ot===null)return!0;var Tt=sl.call(ot,"constructor")&&ot.constructor;return typeof Tt=="function"&&Tt instanceof Tt&&rc.call(Tt)==Ma}var Ru=Hs;function Ta(Te){var ot=Te==null?0:Te.length;return ot?Te[ot-1]:void 0}var Ha=Ta,Cl=new WeakMap,ls=new WeakMap,Nl=Symbol("pointerMeta"),Ll={get(Te,ot){if(ot===Nl)return Cl.get(Te);let Tt=ls.get(Te);Tt||(Tt=new Map,ls.set(Te,Tt));const An=Tt.get(ot);if(An!==void 0)return An;const pi=Cl.get(Te),Co=Oo({root:pi.root,path:[...pi.path,ot]});return Tt.set(ot,Co),Co}},Rs=Te=>Te[Nl],Qo=Te=>{const{root:ot,path:Tt}=Rs(Te);return{root:ot,path:Tt}};function Oo(Te){var ot;const Tt={root:Te.root,path:(ot=Te.path)!=null?ot:[]},An={};return Cl.set(An,Tt),new Proxy(An,Ll)}var Go=Oo,Uo=Te=>Te&&!!Rs(Te);function cu(Te,ot,Tt){return ot.length===0?Tt(Te):Ks(Te,ot,Tt)}var Ks=(Te,ot,Tt)=>{if(ot.length===0)return Tt(Te);if(Array.isArray(Te)){let[An,...pi]=ot;An=parseInt(String(An),10),isNaN(An)&&(An=0);const Co=Te[An],no=Ks(Co,pi,Tt);if(Co===no)return Te;const yo=[...Te];return yo.splice(An,1,no),yo}else if(typeof Te=="object"&&Te!==null){const[An,...pi]=ot,Co=Te[An],no=Ks(Co,pi,Tt);return Co===no?Te:_(g({},Te),{[An]:no})}else{const[An,...pi]=ot;return{[An]:Ks(void 0,pi,Tt)}}},go=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const Te=this._head;if(Te)return this._head=Te.next,Te.data}push(Te){const ot={next:this._head,data:Te};this._head=ot}};function ma(Te){return!!(Te&&Te.isPrism&&Te.isPrism===!0)}function Os(){const Te=()=>{},ot=new go,Tt=Te;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{ot.push(Tt)},stopIgnoringDependencies:()=>{ot.peek()!==Tt||ot.pop()},reportResolutionStart:Js=>{const kl=ot.peek();kl&&kl(Js),ot.push(Tt)},reportResolutionEnd:Js=>{ot.pop()},pushCollector:Js=>{ot.push(Js)},popCollector:Js=>{if(ot.peek()!==Js)throw new Error("Popped collector is not on top of the stack");ot.pop()}}}function Ou(){const Te="__dataverse_discoveryMechanism_sharedStack",ot=typeof window<"u"?window:typeof eu<"u"?eu:{};if(ot){const Tt=ot[Te];if(Tt&&typeof Tt=="object"&&Tt.type==="Dataverse_discoveryMechanism")return Tt;{const An=Os();return ot[Te]=An,An}}else return Os()}var{startIgnoringDependencies:al,stopIgnoringDependencies:Ic,reportResolutionEnd:ic,reportResolutionStart:Fl,pushCollector:oc,popCollector:sf}=Ou(),Rc=()=>{},Oc=class{constructor(Te,ot){this._fn=Te,this._prismInstance=ot,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new ll(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=Tt=>{this._possiblyStaleDeps.add(Tt),this._markAsStale()};for(const Tt of this._dependencies)Tt._addDependent(this._reactToDependencyGoingStale);al(),this.getValue(),Ic()}get hasDependents(){return this._dependents.size>0}removeDependent(Te){this._dependents.delete(Te)}addDependent(Te){this._dependents.add(Te)}destroy(){for(const Te of this._dependencies)Te._removeDependent(this._reactToDependencyGoingStale);Pl(this._scope)}getValue(){if(!this._isFresh){const Te=this._recalculate();this._lastValue=Te,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let Te;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let An=!1;al();for(const pi of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(pi)!==pi.getValue()){An=!0;break}if(Ic(),this._possiblyStaleDeps.clear(),!An)return this._lastValue}const ot=new Set;this._cacheOfDendencyValues.clear();const Tt=An=>{ot.add(An),this._addDependency(An)};oc(Tt),ue.push(this._scope);try{Te=this._fn()}catch(An){console.error(An)}finally{ue.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}sf(Tt);for(const An of this._dependencies)ot.has(An)||this._removeDependency(An);this._dependencies=ot,al();for(const An of ot)this._cacheOfDendencyValues.set(An,An.getValue());return Ic(),Te}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const Te of this._dependents)Te(this._prismInstance)}}_addDependency(Te){this._dependencies.has(Te)||(this._dependencies.add(Te),Te._addDependent(this._reactToDependencyGoingStale))}_removeDependency(Te){this._dependencies.has(Te)&&(this._dependencies.delete(Te),Te._removeDependent(this._reactToDependencyGoingStale))}},Ml={},Tl=class{constructor(Te){this._fn=Te,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(Te,ot,Tt=!1){const An=()=>{Te.onThisOrNextTick(Co)};let pi=Ml;const Co=()=>{const yo=this.getValue();yo!==pi&&(pi=yo,ot(yo))};return this._addDependent(An),Tt&&(pi=this.getValue(),ot(pi)),()=>{this._removeDependent(An),Te.offThisOrNextTick(Co),Te.offNextTick(Co)}}onStale(Te){const ot=()=>{this._removeDependent(Tt)},Tt=()=>Te();return this._addDependent(Tt),ot}keepHot(){return this.onStale(()=>{})}_addDependent(Te){this._state.hot||this._goHot(),this._state.handle.addDependent(Te)}_goHot(){const Te=new Oc(this._fn,this);this._state={hot:!0,handle:Te}}_removeDependent(Te){const ot=this._state;if(!ot.hot)return;const Tt=ot.handle;Tt.removeDependent(Te),Tt.hasDependents||(this._state={hot:!1,handle:void 0},Tt.destroy())}getValue(){Fl(this);const Te=this._state;let ot;return Te.hot?ot=Te.handle.getValue():ot=To(this._fn),ic(this),ot}},ll=class{constructor(Te){this._hotHandle=Te,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(Te,ot){let Tt=this._refs.get(Te);if(Tt!==void 0)return Tt;{const An={current:ot};return this._refs.set(Te,An),An}}effect(Te,ot,Tt){let An=this.effects.get(Te);An===void 0&&(An={cleanup:Rc,deps:void 0},this.effects.set(Te,An)),ft(An.deps,Tt)&&(An.cleanup(),al(),An.cleanup=Bs(ot,Rc).value,Ic(),An.deps=Tt)}memo(Te,ot,Tt){let An=this.memos.get(Te);return An===void 0&&(An={cachedValue:null,deps:void 0},this.memos.set(Te,An)),ft(An.deps,Tt)&&(al(),An.cachedValue=Bs(ot,void 0).value,Ic(),An.deps=Tt),An.cachedValue}state(Te,ot){const{value:Tt,setValue:An}=this.memo("state/"+Te,()=>{const pi={current:ot};return{value:pi,setValue:no=>{pi.current=no,this._hotHandle.forceStale()}}},[]);return[Tt.current,An]}sub(Te){return this.subs[Te]||(this.subs[Te]=new ll(this._hotHandle)),this.subs[Te]}cleanupEffects(){for(const Te of this.effects.values())Bs(Te.cleanup,void 0);this.effects.clear()}source(Te,ot){return this.effect("$$source/blah",()=>Te(()=>{this._hotHandle.forceStale()}),[Te]),ot()}};function Pl(Te){for(const ot of Object.values(Te.subs))Pl(ot);Te.cleanupEffects()}function Bs(Te,ot){try{return{value:Te(),ok:!0}}catch(Tt){return setTimeout(function(){throw Tt}),{value:ot,ok:!1}}}var ue=new go;function Ce(Te,ot){const Tt=ue.peek();if(!Tt)throw new Error("prism.ref() is called outside of a prism() call.");return Tt.ref(Te,ot)}function Ve(Te,ot,Tt){const An=ue.peek();if(!An)throw new Error("prism.effect() is called outside of a prism() call.");return An.effect(Te,ot,Tt)}function ft(Te,ot){if(Te===void 0||ot===void 0)return!0;const Tt=Te.length;if(Tt!==ot.length)return!0;for(let An=0;An<Tt;An++)if(Te[An]!==ot[An])return!0;return!1}function en(Te,ot,Tt){const An=ue.peek();if(!An)throw new Error("prism.memo() is called outside of a prism() call.");return An.memo(Te,ot,Tt)}function Vt(Te,ot){const Tt=ue.peek();if(!Tt)throw new Error("prism.state() is called outside of a prism() call.");return Tt.state(Te,ot)}function zn(){if(!ue.peek())throw new Error("The parent function is called outside of a prism() call.")}function ir(Te,ot){const Tt=ue.peek();if(!Tt)throw new Error("prism.scope() is called outside of a prism() call.");const An=Tt.sub(Te);ue.push(An);const pi=Bs(ot,void 0).value;return ue.pop(),pi}function Zr(Te,ot,Tt){return en(Te,()=>Kr(ot),Tt).getValue()}function Xr(){return!!ue.peek()}function Cr(Te,ot){const Tt=ue.peek();if(!Tt)throw new Error("prism.source() is called outside of a prism() call.");return Tt.source(Te,ot)}var Kr=Te=>new Tl(Te),so=class{effect(Te,ot,Tt){console.warn("prism.effect() does not run in cold prisms")}memo(Te,ot,Tt){return ot()}state(Te,ot){return[ot,()=>{}]}ref(Te,ot){return{current:ot}}sub(Te){return new so}source(Te,ot){return ot()}};function To(Te){const ot=new so;ue.push(ot);let Tt;try{Tt=Te()}catch(An){console.error(An)}finally{ue.pop()!==ot&&console.warn("The Prism hook stack has slipped. This is a bug.")}return Tt}Kr.ref=Ce,Kr.effect=Ve,Kr.memo=en,Kr.ensurePrism=zn,Kr.state=Vt,Kr.scope=ir,Kr.sub=Zr,Kr.inPrism=Xr,Kr.source=Cr;var Ys=Kr,fu;(function(Te){Te[Te.Dict=0]="Dict",Te[Te.Array=1]="Array",Te[Te.Other=2]="Other"})(fu||(fu={}));var vo=Te=>Array.isArray(Te)?1:Ru(Te)?0:2,Ga=(Te,ot,Tt=vo(Te))=>Tt===0&&typeof ot=="string"||Tt===1&&Ad(ot)?Te[ot]:void 0,Ad=Te=>{const ot=typeof Te=="number"?Te:parseInt(Te,10);return!isNaN(ot)&&ot>=0&&ot<1/0&&(ot|0)===ot},Bu=class{constructor(Te,ot){this._parent=Te,this._path=ot,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(Te){this.identityChangeListeners.add(Te)}removeIdentityChangeListener(Te){this.identityChangeListeners.delete(Te),this._checkForGC()}removeChild(Te){this.children.delete(Te),this._checkForGC()}getChild(Te){return this.children.get(Te)}getOrCreateChild(Te){let ot=this.children.get(Te);return ot||(ot=ot=new Bu(this,this._path.concat([Te])),this.children.set(Te,ot)),ot}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Ha(this._path))}},Du=class{constructor(Te){this.$$isPointerToPrismProvider=!0,this.pointer=Go({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(ot,Tt)=>{const{path:An}=Qo(ot),pi=this._getOrCreateScopeForPath(An);return pi.identityChangeListeners.add(Tt),()=>{pi.identityChangeListeners.delete(Tt)}},this._currentState=Te,this._rootScope=new Bu(void 0,[])}set(Te){const ot=this._currentState;this._currentState=Te,this._checkUpdates(this._rootScope,ot,Te)}get(){return this._currentState}getByPointer(Te){const ot=Uo(Te)?Te:Te(this.pointer),Tt=Qo(ot).path;return this._getIn(Tt)}_getIn(Te){return Te.length===0?this.get():as(this.get(),Te)}reduce(Te){this.set(Te(this.get()))}reduceByPointer(Te,ot){const Tt=Uo(Te)?Te:Te(this.pointer),An=Qo(Tt).path,pi=cu(this.get(),An,ot);this.set(pi)}setByPointer(Te,ot){this.reduceByPointer(Te,()=>ot)}_checkUpdates(Te,ot,Tt){if(ot===Tt)return;for(const Co of Te.identityChangeListeners)Co(Tt);if(Te.children.size===0)return;const An=vo(ot),pi=vo(Tt);if(!(An===2&&An===pi))for(const[Co,no]of Te.children){const yo=Ga(ot,Co,An),uf=Ga(Tt,Co,pi);this._checkUpdates(no,yo,uf)}}_getOrCreateScopeForPath(Te){let ot=this._rootScope;for(const Tt of Te)ot=ot.getOrCreateChild(Tt);return ot}pointerToPrism(Te){const{path:ot}=Qo(Te),Tt=pi=>this._onPointerValueChange(Te,pi),An=()=>this._getIn(ot);return Ys(()=>Ys.source(Tt,An))}},sc=new WeakMap;function Bc(Te){return typeof Te=="object"&&Te!==null&&Te.$$isPointerToPrismProvider===!0}var du=Te=>{const ot=Rs(Te);let Tt=sc.get(ot);if(!Tt){const An=ot.root;if(!Bc(An))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");Tt=An.pointerToPrism(Te),sc.set(ot,Tt)}return Tt},Nu=Te=>Uo(Te)?du(Te).getValue():ma(Te)?Te.getValue():Te;function*af(Te){let ot;if(Uo(Te))ot=du(Te);else if(ma(Te))ot=Te;else throw new Error("Only pointers and prisms are supported");let Tt=0;const An=ot.onStale(()=>{Tt++});try{for(;;){const pi=Tt;Tt=0,yield{value:ot.getValue(),ticks:pi}}}finally{An()}}var ac=60*3,lf=class{constructor(Te){this._conf=Te,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(Te){this._scheduledForThisOrNextTick.add(Te),this._dormant&&this._goActive()}onNextTick(Te){this._scheduledForNextTick.add(Te),this._dormant&&this._goActive()}offThisOrNextTick(Te){this._scheduledForThisOrNextTick.delete(Te)}offNextTick(Te){this._scheduledForNextTick.delete(Te)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var Te,ot;this._dormant&&(this._dormant=!1,(ot=(Te=this._conf)==null?void 0:Te.onActive)==null||ot.call(Te))}_goDormant(){var Te,ot;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(ot=(Te=this._conf)==null?void 0:Te.onDormant)==null||ot.call(Te))}tick(Te=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=ac)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=Te;for(const ot of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(ot);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(Te){const ot=this.time;if(Te>10&&console.warn("_tick() recursing for 10 times"),Te>100)throw new Error("Maximum recursion limit for _tick()");const Tt=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const An of Tt)An(ot);if(this._scheduledForThisOrNextTick.size>0)return this._tick(Te+1)}};function*qs(Te){let ot;if(Uo(Te))ot=du(Te);else if(ma(Te))ot=Te;else throw new Error("Only pointers and prisms are supported");const Tt=new lf,An=ot.onChange(Tt,pi=>{});try{for(;;)Tt.tick(),yield ot.getValue()}finally{An()}}var Qs=class{constructor(Te){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new Du(Te),this.pointer=Go({root:this,path:[]})}setPointer(Te){this._currentPointerBox.set(Te)}pointerToPrism(Te){const{path:ot}=Rs(Te);return Ys(()=>{const Tt=this._currentPointerBox.prism.getValue(),An=ot.reduce((pi,Co)=>pi[Co],Tt);return Nu(An)})}}})(tr);KL.exports;(function(n,e){var t=Object.create,r=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,P=(C,H,te)=>H in C?r(C,H,{enumerable:!0,configurable:!0,writable:!0,value:te}):C[H]=te,N=(C,H)=>{for(var te in H||(H={}))b.call(H,te)&&P(C,te,H[te]);if(g)for(var te of g(H))A.call(H,te)&&P(C,te,H[te]);return C},F=(C,H)=>o(C,c(H)),K=(C,H)=>function(){return H||(0,C[d(C)[0]])((H={exports:{}}).exports,H),H.exports},D=(C,H)=>{for(var te in H)r(C,te,{get:H[te],enumerable:!0})},I=(C,H,te,we)=>{if(H&&typeof H=="object"||typeof H=="function")for(let De of d(H))!b.call(C,De)&&De!==te&&r(C,De,{get:()=>H[De],enumerable:!(we=s(H,De))||we.enumerable});return C},j=(C,H,te)=>(te=C!=null?t(_(C)):{},I(H||!C||!C.__esModule?r(te,"default",{value:C,enumerable:!0}):te,C)),T=C=>I(r({},"__esModule",{value:!0}),C),Y=(C,H,te)=>(P(C,typeof H!="symbol"?H+"":H,te),te),ce=K({"../node_modules/timing-function/lib/UnitBezier.js"(C,H){H.exports=function(){function te(we,De,tt,Ct){this.set(we,De,tt,Ct)}return te.prototype.set=function(we,De,tt,Ct){this._cx=3*we,this._bx=3*(tt-we)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*De,this._by=3*(Ct-De)-this._cy,this._ay=1-this._cy-this._by},te.epsilon=1e-6,te.prototype._sampleCurveX=function(we){return((this._ax*we+this._bx)*we+this._cx)*we},te.prototype._sampleCurveY=function(we){return((this._ay*we+this._by)*we+this._cy)*we},te.prototype._sampleCurveDerivativeX=function(we){return(3*this._ax*we+2*this._bx)*we+this._cx},te.prototype._solveCurveX=function(we,De){var tt,Ct,tn,dn,Bn,br;for(tn=void 0,dn=void 0,Bn=void 0,br=void 0,tt=void 0,Ct=void 0,Bn=we,Ct=0;Ct<8;){if(br=this._sampleCurveX(Bn)-we,Math.abs(br)<De)return Bn;if(tt=this._sampleCurveDerivativeX(Bn),Math.abs(tt)<De)break;Bn=Bn-br/tt,Ct++}if(tn=0,dn=1,Bn=we,Bn<tn)return tn;if(Bn>dn)return dn;for(;tn<dn;){if(br=this._sampleCurveX(Bn),Math.abs(br-we)<De)return Bn;we>br?tn=Bn:dn=Bn,Bn=(dn-tn)*.5+tn}return Bn},te.prototype.solve=function(we,De){return this._sampleCurveY(this._solveCurveX(we,De))},te.prototype.solveSimple=function(we){return this._sampleCurveY(this._solveCurveX(we,1e-6))},te}()}}),le=K({"../node_modules/levenshtein-edit-distance/index.js"(C,H){var te,we;te=[],we=[];function De(tt,Ct,tn){var dn,Bn,br,je,qt,yi,_i,Eo;if(tt===Ct)return 0;if(dn=tt.length,Bn=Ct.length,dn===0)return Bn;if(Bn===0)return dn;for(tn&&(tt=tt.toLowerCase(),Ct=Ct.toLowerCase()),_i=0;_i<dn;)we[_i]=tt.charCodeAt(_i),te[_i]=++_i;for(Eo=0;Eo<Bn;)for(br=Ct.charCodeAt(Eo),je=qt=Eo++,_i=-1;++_i<dn;)yi=br===we[_i]?qt:qt+1,qt=te[_i],te[_i]=je=qt>je?yi>je?je+1:yi:yi>qt?qt+1:yi;return je}H.exports=De}}),Z=K({"../node_modules/propose/propose.js"(C,H){var te=le();function we(){var De,tt,Ct,tn,dn,Bn=0,br=arguments[0],je=arguments[1],qt=je.length,yi=arguments[2];yi&&(tn=yi.threshold,dn=yi.ignoreCase),tn===void 0&&(tn=0);for(var _i=0;_i<qt;++_i)dn?tt=te(br,je[_i],!0):tt=te(br,je[_i]),tt>br.length?De=1-tt/je[_i].length:De=1-tt/br.length,De>Bn&&(Bn=De,Ct=je[_i]);return Bn>=tn?Ct:null}H.exports=we}}),Se=K({"../node_modules/fast-deep-equal/index.js"(C,H){H.exports=function te(we,De){if(we===De)return!0;if(we&&De&&typeof we=="object"&&typeof De=="object"){if(we.constructor!==De.constructor)return!1;var tt,Ct,tn;if(Array.isArray(we)){if(tt=we.length,tt!=De.length)return!1;for(Ct=tt;Ct--!==0;)if(!te(we[Ct],De[Ct]))return!1;return!0}if(we.constructor===RegExp)return we.source===De.source&&we.flags===De.flags;if(we.valueOf!==Object.prototype.valueOf)return we.valueOf()===De.valueOf();if(we.toString!==Object.prototype.toString)return we.toString()===De.toString();if(tn=Object.keys(we),tt=tn.length,tt!==Object.keys(De).length)return!1;for(Ct=tt;Ct--!==0;)if(!Object.prototype.hasOwnProperty.call(De,tn[Ct]))return!1;for(Ct=tt;Ct--!==0;){var dn=tn[Ct];if(!te(we[dn],De[dn]))return!1}return!0}return we!==we&&De!==De}}}),Le={};D(Le,{createRafDriver:()=>Ux,getProject:()=>Zx,notify:()=>fy,onChange:()=>zE,types:()=>Yl,val:()=>jT}),n.exports=T(Le);var X={};D(X,{createRafDriver:()=>Ux,getProject:()=>Zx,notify:()=>fy,onChange:()=>zE,types:()=>Yl,val:()=>jT});var fe=tr,st=class{constructor(){Y(this,"atom",new fe.Atom({projects:{}}))}add(C,H){this.atom.setByPointer(te=>te.projects[C],H)}get(C){return this.atom.get().projects[C]}has(C){return!!this.get(C)}},Ue=new st,Me=Ue,be=new WeakMap;function Ke(C){return be.get(C)}function Ye(C,H){be.set(C,H)}var de=[],ve=Array.isArray,ye=ve,_e=typeof eu=="object"&&eu&&eu.Object===Object&&eu,ge=_e,dt=typeof self=="object"&&self&&self.Object===Object&&self,qe=ge||dt||Function("return this")(),_t=qe,Qe=_t.Symbol,zt=Qe,Lt=Object.prototype,Kt=Lt.hasOwnProperty,ln=Lt.toString,bn=zt?zt.toStringTag:void 0;function Ze(C){var H=Kt.call(C,bn),te=C[bn];try{C[bn]=void 0;var we=!0}catch{}var De=ln.call(C);return we&&(H?C[bn]=te:delete C[bn]),De}var nn=Ze,jt=Object.prototype,fn=jt.toString;function cn(C){return fn.call(C)}var Dn=cn,Qn="[object Null]",nr="[object Undefined]",Tr=zt?zt.toStringTag:void 0;function ct(C){return C==null?C===void 0?nr:Qn:Tr&&Tr in Object(C)?nn(C):Dn(C)}var Ne=ct;function rn(C){return C!=null&&typeof C=="object"}var Dt=rn,Pn="[object Symbol]";function Wn(C){return typeof C=="symbol"||Dt(C)&&Ne(C)==Pn}var ei=Wn,jr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yn=/^\w*$/;function vr(C,H){if(ye(C))return!1;var te=typeof C;return te=="number"||te=="symbol"||te=="boolean"||C==null||ei(C)?!0:Yn.test(C)||!jr.test(C)||H!=null&&C in Object(H)}var Mt=vr;function Zt(C){var H=typeof C;return C!=null&&(H=="object"||H=="function")}var yr=Zt,hr="[object AsyncFunction]",Hr="[object Function]",Rr="[object GeneratorFunction]",wr="[object Proxy]";function qr(C){if(!yr(C))return!1;var H=Ne(C);return H==Hr||H==Rr||H==hr||H==wr}var ri=qr,Nn=_t["__core-js_shared__"],Bt=Nn,_r=function(){var C=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}();function Xt(C){return!!_r&&_r in C}var er=Xt,xr=Function.prototype,Mi=xr.toString;function Di(C){if(C!=null){try{return Mi.call(C)}catch{}try{return C+""}catch{}}return""}var eo=Di,Ro=/[\\^$.*+?()[\]{}|]/g,Ri=/^\[object .+?Constructor\]$/,to=Function.prototype,_s=Object.prototype,zs=to.toString,ol=_s.hasOwnProperty,ss=RegExp("^"+zs.call(ol).replace(Ro,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ks(C){if(!yr(C)||er(C))return!1;var H=ri(C)?ss:Ri;return H.test(eo(C))}var fi=ks;function ba(C,H){return C==null?void 0:C[H]}var su=ba;function Re(C,H){var te=su(C,H);return fi(te)?te:void 0}var $e=Re,At=$e(Object,"create"),Pe=At;function at(){this.__data__=Pe?Pe(null):{},this.size=0}var pt=at;function St(C){var H=this.has(C)&&delete this.__data__[C];return this.size-=H?1:0,H}var yt=St,on="__lodash_hash_undefined__",Sn=Object.prototype,In=Sn.hasOwnProperty;function kn(C){var H=this.__data__;if(Pe){var te=H[C];return te===on?void 0:te}return In.call(H,C)?H[C]:void 0}var sr=kn,Un=Object.prototype,qn=Un.hasOwnProperty;function Er(C){var H=this.__data__;return Pe?H[C]!==void 0:qn.call(H,C)}var Qr=Er,li="__lodash_hash_undefined__";function ii(C,H){var te=this.__data__;return this.size+=this.has(C)?0:1,te[C]=Pe&&H===void 0?li:H,this}var Sr=ii;function Ln(C){var H=-1,te=C==null?0:C.length;for(this.clear();++H<te;){var we=C[H];this.set(we[0],we[1])}}Ln.prototype.clear=pt,Ln.prototype.delete=yt,Ln.prototype.get=sr,Ln.prototype.has=Qr,Ln.prototype.set=Sr;var Gr=Ln;function zr(){this.__data__=[],this.size=0}var Wr=zr;function wi(C,H){return C===H||C!==C&&H!==H}var mo=wi;function Gi(C,H){for(var te=C.length;te--;)if(mo(C[te][0],H))return te;return-1}var si=Gi,Ti=Array.prototype,So=Ti.splice;function ae(C){var H=this.__data__,te=si(H,C);if(te<0)return!1;var we=H.length-1;return te==we?H.pop():So.call(H,te,1),--this.size,!0}var Ae=ae;function Ge(C){var H=this.__data__,te=si(H,C);return te<0?void 0:H[te][1]}var ut=Ge;function $t(C){return si(this.__data__,C)>-1}var Yt=$t;function On(C,H){var te=this.__data__,we=si(te,C);return we<0?(++this.size,te.push([C,H])):te[we][1]=H,this}var lr=On;function dr(C){var H=-1,te=C==null?0:C.length;for(this.clear();++H<te;){var we=C[H];this.set(we[0],we[1])}}dr.prototype.clear=Wr,dr.prototype.delete=Ae,dr.prototype.get=ut,dr.prototype.has=Yt,dr.prototype.set=lr;var oi=dr,Oi=$e(_t,"Map"),Mo=Oi;function Ua(){this.size=0,this.__data__={hash:new Gr,map:new(Mo||oi),string:new Gr}}var na=Ua;function ws(C){var H=typeof C;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?C!=="__proto__":C===null}var Is=ws;function Ea(C,H){var te=C.__data__;return Is(H)?te[typeof H=="string"?"string":"hash"]:te.map}var Pi=Ea;function ki(C){var H=Pi(this,C).delete(C);return this.size-=H?1:0,H}var ha=ki;function ra(C){return Pi(this,C).get(C)}var au=ra;function ku(C){return Pi(this,C).has(C)}var Us=ku;function ps(C,H){var te=Pi(this,C),we=te.size;return te.set(C,H),this.size+=te.size==we?0:1,this}var tc=ps;function nc(C){var H=-1,te=C==null?0:C.length;for(this.clear();++H<te;){var we=C[H];this.set(we[0],we[1])}}nc.prototype.clear=na,nc.prototype.delete=ha,nc.prototype.get=au,nc.prototype.has=Us,nc.prototype.set=tc;var Aa=nc,lu="Expected a function";function js(C,H){if(typeof C!="function"||H!=null&&typeof H!="function")throw new TypeError(lu);var te=function(){var we=arguments,De=H?H.apply(this,we):we[0],tt=te.cache;if(tt.has(De))return tt.get(De);var Ct=C.apply(this,we);return te.cache=tt.set(De,Ct)||tt,Ct};return te.cache=new(js.Cache||Aa),te}js.Cache=Aa;var uo=js,pa=500;function as(C){var H=uo(C,function(we){return te.size===pa&&te.clear(),we}),te=H.cache;return H}var No=as,Xo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iu=/\\(\\)?/g,uu=No(function(C){var H=[];return C.charCodeAt(0)===46&&H.push(""),C.replace(Xo,function(te,we,De,tt){H.push(De?tt.replace(Iu,"$1"):we||te)}),H}),of=uu;function Ca(C,H){for(var te=-1,we=C==null?0:C.length,De=Array(we);++te<we;)De[te]=H(C[te],te,C);return De}var ja=Ca,rc=1/0,sl=zt?zt.prototype:void 0,Ma=sl?sl.toString:void 0;function Hs(C){if(typeof C=="string")return C;if(ye(C))return ja(C,Hs)+"";if(ei(C))return Ma?Ma.call(C):"";var H=C+"";return H=="0"&&1/C==-rc?"-0":H}var Ru=Hs;function Ta(C){return C==null?"":Ru(C)}var Ha=Ta;function Cl(C,H){return ye(C)?C:Mt(C,H)?[C]:of(Ha(C))}var ls=Cl,Nl=1/0;function Ll(C){if(typeof C=="string"||ei(C))return C;var H=C+"";return H=="0"&&1/C==-Nl?"-0":H}var Rs=Ll;function Qo(C,H){H=ls(H,C);for(var te=0,we=H.length;C!=null&&te<we;)C=C[Rs(H[te++])];return te&&te==we?C:void 0}var Oo=Qo;function Go(C,H,te){var we=C==null?void 0:Oo(C,H);return we===void 0?te:we}var Uo=Go;function cu(C,H){return H.length===0?C:Uo(C,H)}var Ks=class{constructor(){Y(this,"_values",{})}get(C,H){if(this.has(C))return this._values[C];{const te=H();return this._values[C]=te,te}}has(C){return this._values.hasOwnProperty(C)}},go=tr,ma=function(){try{var C=$e(Object,"defineProperty");return C({},"",{}),C}catch{}}(),Os=ma;function Ou(C,H,te){H=="__proto__"&&Os?Os(C,H,{configurable:!0,enumerable:!0,value:te,writable:!0}):C[H]=te}var al=Ou,Ic=Object.prototype,ic=Ic.hasOwnProperty;function Fl(C,H,te){var we=C[H];(!(ic.call(C,H)&&mo(we,te))||te===void 0&&!(H in C))&&al(C,H,te)}var oc=Fl,sf=9007199254740991,Rc=/^(?:0|[1-9]\d*)$/;function Oc(C,H){var te=typeof C;return H=H??sf,!!H&&(te=="number"||te!="symbol"&&Rc.test(C))&&C>-1&&C%1==0&&C<H}var Ml=Oc;function Tl(C,H,te,we){if(!yr(C))return C;H=ls(H,C);for(var De=-1,tt=H.length,Ct=tt-1,tn=C;tn!=null&&++De<tt;){var dn=Rs(H[De]),Bn=te;if(dn==="__proto__"||dn==="constructor"||dn==="prototype")return C;if(De!=Ct){var br=tn[dn];Bn=we?we(br,dn,tn):void 0,Bn===void 0&&(Bn=yr(br)?br:Ml(H[De+1])?[]:{})}oc(tn,dn,Bn),tn=tn[dn]}return C}var ll=Tl;function Pl(C,H,te){return C==null?C:ll(C,H,te)}var Bs=Pl,ue=new WeakMap;function Ce(C){return Ve(C)}function Ve(C){if(ue.has(C))return ue.get(C);const H=C.type==="compound"?en(C):C.type==="enum"?ft(C):C.default;return ue.set(C,H),H}function ft(C){const H={$case:C.defaultCase};for(const[te,we]of Object.entries(C.cases))H[te]=Ve(we);return H}function en(C){const H={};for(const[te,we]of Object.entries(C.props))H[te]=Ve(we);return H}var Vt=tr,zn=j(ce());function ir(C,H,te){return(0,Vt.prism)(()=>{const we=(0,Vt.val)(H);return Vt.prism.memo("driver",()=>we?we.type==="BasicKeyframedTrack"?Zr(C,we,te):(C.logger.error("Track type not yet supported."),(0,Vt.prism)(()=>{})):(0,Vt.prism)(()=>{}),[we]).getValue()})}function Zr(C,H,te){return(0,Vt.prism)(()=>{let we=Vt.prism.ref("state",{started:!1}),De=we.current;const tt=te.getValue();return(!De.started||tt<De.validFrom||De.validTo<=tt)&&(we.current=De=Cr(C,te,H)),De.der.getValue()})}var Xr=(0,Vt.prism)(()=>{});function Cr(C,H,te){const we=H.getValue();if(te.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Xr};let De=0;for(;;){const tt=te.keyframes[De];if(!tt)return Kr.error;const Ct=De===te.keyframes.length-1;if(we<tt.position)return De===0?Kr.beforeFirstKeyframe(tt):Kr.error;if(tt.position===we)return Ct?Kr.lastKeyframe(tt):Kr.between(tt,te.keyframes[De+1],H);if(De===te.keyframes.length-1)return Kr.lastKeyframe(tt);{const tn=De+1;if(te.keyframes[tn].position<=we){De=tn;continue}else return Kr.between(tt,te.keyframes[De+1],H)}}}var Kr={beforeFirstKeyframe(C){return{started:!0,validFrom:-1/0,validTo:C.position,der:(0,Vt.prism)(()=>({left:C.value,progression:0}))}},lastKeyframe(C){return{started:!0,validFrom:C.position,validTo:1/0,der:(0,Vt.prism)(()=>({left:C.value,progression:0}))}},between(C,H,te){if(!C.connectedRight)return{started:!0,validFrom:C.position,validTo:H.position,der:(0,Vt.prism)(()=>({left:C.value,progression:0}))};const we=tt=>(tt-C.position)/(H.position-C.position);if(!C.type||C.type==="bezier"){const tt=new zn.default(C.handles[2],C.handles[3],H.handles[0],H.handles[1]),Ct=(0,Vt.prism)(()=>{const tn=we(te.getValue()),dn=tt.solveSimple(tn);return{left:C.value,right:H.value,progression:dn}});return{started:!0,validFrom:C.position,validTo:H.position,der:Ct}}const De=(0,Vt.prism)(()=>{const tt=we(te.getValue()),Ct=Math.floor(tt);return{left:C.value,right:H.value,progression:Ct}});return{started:!0,validFrom:C.position,validTo:H.position,der:De}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Xr}};function so(C,H,te){const De=te.get(C);if(De&&De.override===H)return De.merged;const tt=N({},C);for(const Ct of Object.keys(H)){const tn=H[Ct],dn=C[Ct];tt[Ct]=typeof tn=="object"&&typeof dn=="object"?so(dn,tn,te):tn===void 0?dn:tn}return te.set(C,{override:H,merged:tt}),tt}function To(C,H){let te=C;for(const we of H)te=te[we];return te}var Ys=tr,fu=(C,H)=>{const te=Ys.prism.memo(C,()=>new Ys.Atom(H),[]);return te.set(H),te},vo=tr,Ga=tr,Ad=/\s/;function Bu(C){for(var H=C.length;H--&&Ad.test(C.charAt(H)););return H}var Du=Bu,sc=/^\s+/;function Bc(C){return C&&C.slice(0,Du(C)+1).replace(sc,"")}var du=Bc,Nu=NaN,af=/^[-+]0x[0-9a-f]+$/i,ac=/^0b[01]+$/i,lf=/^0o[0-7]+$/i,qs=parseInt;function Qs(C){if(typeof C=="number")return C;if(ei(C))return Nu;if(yr(C)){var H=typeof C.valueOf=="function"?C.valueOf():C;C=yr(H)?H+"":H}if(typeof C!="string")return C===0?C:+C;C=du(C);var te=ac.test(C);return te||lf.test(C)?qs(C.slice(2),te?2:8):af.test(C)?Nu:+C}var Te=Qs,ot=1/0,Tt=17976931348623157e292;function An(C){if(!C)return C===0?C:0;if(C=Te(C),C===ot||C===-ot){var H=C<0?-1:1;return H*Tt}return C===C?C:0}var pi=An;function Co(C){var H=pi(C),te=H%1;return H===H?te?H-te:H:0}var no=Co;function yo(C){return C}var uf=yo,Js=$e(_t,"WeakMap"),kl=Js,Va=Object.create,Wa=function(){function C(){}return function(H){if(!yr(H))return{};if(Va)return Va(H);C.prototype=H;var te=new C;return C.prototype=void 0,te}}(),Jo=Wa;function co(C,H){var te=-1,we=C.length;for(H||(H=Array(we));++te<we;)H[te]=C[te];return H}var wo=co;function ia(C,H){for(var te=-1,we=C==null?0:C.length;++te<we&&H(C[te],te,C)!==!1;);return C}var cf=ia;function zl(C,H,te,we){var De=!te;te||(te={});for(var tt=-1,Ct=H.length;++tt<Ct;){var tn=H[tt],dn=we?we(te[tn],C[tn],tn,te,C):void 0;dn===void 0&&(dn=C[tn]),De?al(te,tn,dn):oc(te,tn,dn)}return te}var Dc=zl,oa=9007199254740991;function Gs(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=oa}var ff=Gs;function Cd(C){return C!=null&&ff(C.length)&&!ri(C)}var Xa=Cd,ga=Object.prototype;function Pa(C){var H=C&&C.constructor,te=typeof H=="function"&&H.prototype||ga;return C===te}var ul=Pa;function jf(C,H){for(var te=-1,we=Array(C);++te<C;)we[te]=H(te);return we}var Md=jf,Xp="[object Arguments]";function Kp(C){return Dt(C)&&Ne(C)==Xp}var Td=Kp,ip=Object.prototype,df=ip.hasOwnProperty,Pd=ip.propertyIsEnumerable,Hf=Td(function(){return arguments}())?Td:function(C){return Dt(C)&&df.call(C,"callee")&&!Pd.call(C,"callee")},Gf=Hf;function Vf(){return!1}var lc=Vf,kd=e&&!e.nodeType&&e,hf=kd&&!0&&n&&!n.nodeType&&n,Id=hf&&hf.exports===kd,Ko=Id?_t.Buffer:void 0,op=Ko?Ko.isBuffer:void 0,ph=op||lc,uc=ph,sp="[object Arguments]",ap="[object Array]",mh="[object Boolean]",lp="[object Date]",Rd="[object Error]",jg="[object Function]",Hg="[object Map]",Dm="[object Number]",Yp="[object Object]",gh="[object RegExp]",Wf="[object Set]",vh="[object String]",Zo="[object WeakMap]",Nm="[object ArrayBuffer]",qp="[object DataView]",Qp="[object Float32Array]",yh="[object Float64Array]",Lm="[object Int8Array]",Jp="[object Int16Array]",pf="[object Int32Array]",Nc="[object Uint8Array]",_h="[object Uint8ClampedArray]",cl="[object Uint16Array]",Zs="[object Uint32Array]",Po={};Po[Qp]=Po[yh]=Po[Lm]=Po[Jp]=Po[pf]=Po[Nc]=Po[_h]=Po[cl]=Po[Zs]=!0,Po[sp]=Po[ap]=Po[Nm]=Po[mh]=Po[qp]=Po[lp]=Po[Rd]=Po[jg]=Po[Hg]=Po[Dm]=Po[Yp]=Po[gh]=Po[Wf]=Po[vh]=Po[Zo]=!1;function ka(C){return Dt(C)&&ff(C.length)&&!!Po[Ne(C)]}var Lc=ka;function Xf(C){return function(H){return C(H)}}var Od=Xf,Lu=e&&!e.nodeType&&e,Yo=Lu&&!0&&n&&!n.nodeType&&n,$s=Yo&&Yo.exports===Lu,wh=$s&&ge.process,Ul=function(){try{var C=Yo&&Yo.require&&Yo.require("util").types;return C||wh&&wh.binding&&wh.binding("util")}catch{}}(),xo=Ul,ms=xo&&xo.isTypedArray,$o=ms?Od(ms):Lc,Vo=$o,Fc=Object.prototype,Ka=Fc.hasOwnProperty;function fl(C,H){var te=ye(C),we=!te&&Gf(C),De=!te&&!we&&uc(C),tt=!te&&!we&&!De&&Vo(C),Ct=te||we||De||tt,tn=Ct?Md(C.length,String):[],dn=tn.length;for(var Bn in C)(H||Ka.call(C,Bn))&&!(Ct&&(Bn=="length"||De&&(Bn=="offset"||Bn=="parent")||tt&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||Ml(Bn,dn)))&&tn.push(Bn);return tn}var cc=fl;function mf(C,H){return function(te){return C(H(te))}}var Ia=mf,up=Ia(Object.keys,Object),cp=up,zc=Object.prototype,gf=zc.hasOwnProperty;function Zp(C){if(!ul(C))return cp(C);var H=[];for(var te in Object(C))gf.call(C,te)&&te!="constructor"&&H.push(te);return H}var Fu=Zp;function xh(C){return Xa(C)?cc(C):Fu(C)}var hu=xh;function Bd(C){var H=[];if(C!=null)for(var te in Object(C))H.push(te);return H}var $p=Bd,Il=Object.prototype,Ya=Il.hasOwnProperty;function pu(C){if(!yr(C))return $p(C);var H=ul(C),te=[];for(var we in C)we=="constructor"&&(H||!Ya.call(C,we))||te.push(we);return te}var em=pu;function Sh(C){return Xa(C)?cc(C,!0):em(C)}var Vs=Sh;function Ra(C,H){for(var te=-1,we=H.length,De=C.length;++te<we;)C[De+te]=H[te];return C}var Nr=Ra,Pr=Ia(Object.getPrototypeOf,Object),dl=Pr,vf="[object Object]",Fm=Function.prototype,yf=Object.prototype,mu=Fm.toString,Oa=yf.hasOwnProperty,hl=mu.call(Object);function us(C){if(!Dt(C)||Ne(C)!=vf)return!1;var H=dl(C);if(H===null)return!0;var te=Oa.call(H,"constructor")&&H.constructor;return typeof te=="function"&&te instanceof te&&mu.call(te)==hl}var gu=us;function zm(C,H,te){var we=-1,De=C.length;H<0&&(H=-H>De?0:De+H),te=te>De?De:te,te<0&&(te+=De),De=H>te?0:te-H>>>0,H>>>=0;for(var tt=Array(De);++we<De;)tt[we]=C[we+H];return tt}var tm=zm;function fp(C,H,te){var we=C.length;return te=te===void 0?we:te,!H&&te>=we?C:tm(C,H,te)}var bh=fp,dp="\\ud800-\\udfff",fc="\\u0300-\\u036f",Eh="\\ufe20-\\ufe2f",Uc="\\u20d0-\\u20ff",hp=fc+Eh+Uc,Kv="\\ufe0e\\ufe0f",dc="\\u200d",pp=RegExp("["+dc+dp+hp+Kv+"]");function _f(C){return pp.test(C)}var zu=_f;function Ah(C){return C.split("")}var wf=Ah,jc="\\ud800-\\udfff",xf="\\u0300-\\u036f",hc="\\ufe20-\\ufe2f",Ba="\\u20d0-\\u20ff",vu=xf+hc+Ba,Ch="\\ufe0e\\ufe0f",mp="["+jc+"]",jl="["+vu+"]",Uu="\\ud83c[\\udffb-\\udfff]",nm="(?:"+jl+"|"+Uu+")",Mh="[^"+jc+"]",Hl="(?:\\ud83c[\\udde6-\\uddff]){2}",bo="[\\ud800-\\udbff][\\udc00-\\udfff]",ti="\\u200d",ai=nm+"?",Ki="["+Ch+"]?",Ji="(?:"+ti+"(?:"+[Mh,Hl,bo].join("|")+")"+Ki+ai+")*",Lo=Ki+ai+Ji,va="(?:"+[Mh+jl+"?",jl,Hl,bo,mp].join("|")+")",es=RegExp(Uu+"(?="+Uu+")|"+va+Lo,"g");function Ds(C){return C.match(es)||[]}var Hc=Ds;function Gc(C){return zu(C)?Hc(C):wf(C)}var Dd=Gc;function Vc(C,H,te){return C===C&&(te!==void 0&&(C=C<=te?C:te),H!==void 0&&(C=C>=H?C:H)),C}var xs=Vc;function ya(C,H,te){return te===void 0&&(te=H,H=void 0),te!==void 0&&(te=Te(te),te=te===te?te:0),H!==void 0&&(H=Te(H),H=H===H?H:0),xs(Te(C),H,te)}var Th=ya;function yu(){this.__data__=new oi,this.size=0}var Sf=yu;function bf(C){var H=this.__data__,te=H.delete(C);return this.size=H.size,te}var _a=bf;function Gl(C){return this.__data__.get(C)}var Vl=Gl;function qa(C){return this.__data__.has(C)}var Ef=qa,pc=200;function Nd(C,H){var te=this.__data__;if(te instanceof oi){var we=te.__data__;if(!Mo||we.length<pc-1)return we.push([C,H]),this.size=++te.size,this;te=this.__data__=new Aa(we)}return te.set(C,H),this.size=te.size,this}var Kf=Nd;function Ni(C){var H=this.__data__=new oi(C);this.size=H.size}Ni.prototype.clear=Sf,Ni.prototype.delete=_a,Ni.prototype.get=Vl,Ni.prototype.has=Ef,Ni.prototype.set=Kf;var Bo=Ni;function Ws(C,H){return C&&Dc(H,hu(H),C)}var Da=Ws;function sa(C,H){return C&&Dc(H,Vs(H),C)}var Na=sa,mc=e&&!e.nodeType&&e,ts=mc&&!0&&n&&!n.nodeType&&n,ea=ts&&ts.exports===mc,cs=ea?_t.Buffer:void 0,ju=cs?cs.allocUnsafe:void 0;function Ld(C,H){if(H)return C.slice();var te=C.length,we=ju?ju(te):new C.constructor(te);return C.copy(we),we}var Yf=Ld;function Af(C,H){for(var te=-1,we=C==null?0:C.length,De=0,tt=[];++te<we;){var Ct=C[te];H(Ct,te,C)&&(tt[De++]=Ct)}return tt}var Ns=Af;function rm(){return[]}var Ph=rm,Wc=Object.prototype,_u=Wc.propertyIsEnumerable,Hu=Object.getOwnPropertySymbols,qf=Hu?function(C){return C==null?[]:(C=Object(C),Ns(Hu(C),function(H){return _u.call(C,H)}))}:Ph,Qf=qf;function Cf(C,H){return Dc(C,Qf(C),H)}var Jf=Cf,Gu=Object.getOwnPropertySymbols,Vu=Gu?function(C){for(var H=[];C;)Nr(H,Qf(C)),C=dl(C);return H}:Ph,pl=Vu;function Qa(C,H){return Dc(C,pl(C),H)}var im=Qa;function Gg(C,H,te){var we=H(C);return ye(C)?we:Nr(we,te(C))}var Zf=Gg;function Mf(C){return Zf(C,hu,Qf)}var gp=Mf;function kh(C){return Zf(C,Vs,pl)}var Rl=kh,Wl=$e(_t,"DataView"),$f=Wl,Tf=$e(_t,"Promise"),wu=Tf,gc=$e(_t,"Set"),xu=gc,ed="[object Map]",Ih="[object Object]",vp="[object Promise]",Um="[object Set]",jm="[object WeakMap]",yp="[object DataView]",Hm=eo($f),om=eo(Mo),_p=eo(wu),Vg=eo(xu),x=eo(kl),a=Ne;($f&&a(new $f(new ArrayBuffer(1)))!=yp||Mo&&a(new Mo)!=ed||wu&&a(wu.resolve())!=vp||xu&&a(new xu)!=Um||kl&&a(new kl)!=jm)&&(a=function(C){var H=Ne(C),te=H==Ih?C.constructor:void 0,we=te?eo(te):"";if(we)switch(we){case Hm:return yp;case om:return ed;case _p:return vp;case Vg:return Um;case x:return jm}return H});var f=a,S=Object.prototype,R=S.hasOwnProperty;function z(C){var H=C.length,te=new C.constructor(H);return H&&typeof C[0]=="string"&&R.call(C,"index")&&(te.index=C.index,te.input=C.input),te}var ne=z,ke=_t.Uint8Array,nt=ke;function Pt(C){var H=new C.constructor(C.byteLength);return new nt(H).set(new nt(C)),H}var gn=Pt;function Jn(C,H){var te=H?gn(C.buffer):C.buffer;return new C.constructor(te,C.byteOffset,C.byteLength)}var Kn=Jn,Lr=/\w*$/;function Or(C){var H=new C.constructor(C.source,Lr.exec(C));return H.lastIndex=C.lastIndex,H}var Mr=Or,Zi=zt?zt.prototype:void 0,sn=Zi?Zi.valueOf:void 0;function et(C){return sn?Object(sn.call(C)):{}}var rt=et;function Rt(C,H){var te=H?gn(C.buffer):C.buffer;return new C.constructor(te,C.byteOffset,C.length)}var Fn=Rt,ar="[object Boolean]",Br="[object Date]",Ur="[object Map]",Li="[object Number]",Fi="[object RegExp]",$i="[object Set]",Xc="[object String]",R1="[object Symbol]",Gm="[object ArrayBuffer]",Vm="[object DataView]",iE="[object Float32Array]",oE="[object Float64Array]",O1="[object Int8Array]",sE="[object Int16Array]",B1="[object Int32Array]",wp="[object Uint8Array]",aT="[object Uint8ClampedArray]",lx="[object Uint16Array]",D1="[object Uint32Array]";function N1(C,H,te){var we=C.constructor;switch(H){case Gm:return gn(C);case ar:case Br:return new we(+C);case Vm:return Kn(C,te);case iE:case oE:case O1:case sE:case B1:case wp:case aT:case lx:case D1:return Fn(C,te);case Ur:return new we;case Li:case Xc:return new we(C);case Fi:return Mr(C);case $i:return new we;case R1:return rt(C)}}var ux=N1;function Yv(C){return typeof C.constructor=="function"&&!ul(C)?Jo(dl(C)):{}}var vc=Yv,lT="[object Map]";function aE(C){return Dt(C)&&f(C)==lT}var L1=aE,Wu=xo&&xo.isMap,cx=Wu?Od(Wu):L1,ui=cx,Wg="[object Set]";function Q0(C){return Dt(C)&&f(C)==Wg}var lE=Q0,fx=xo&&xo.isSet,Wm=fx?Od(fx):lE,F1=Wm,z1=1,Xm=2,dx=4,J0="[object Arguments]",U1="[object Array]",Z0="[object Boolean]",Xl="[object Date]",td="[object Error]",Rh="[object Function]",hx="[object GeneratorFunction]",px="[object Map]",Fd="[object Number]",j1="[object Object]",Oh="[object RegExp]",Km="[object Set]",H1="[object String]",uE="[object Symbol]",mx="[object WeakMap]",G1="[object ArrayBuffer]",uT="[object DataView]",V1="[object Float32Array]",W1="[object Float64Array]",nd="[object Int8Array]",qo="[object Int16Array]",Su="[object Int32Array]",ml="[object Uint8Array]",Xu="[object Uint8ClampedArray]",yc="[object Uint16Array]",Ym="[object Uint32Array]",ro={};ro[J0]=ro[U1]=ro[G1]=ro[uT]=ro[Z0]=ro[Xl]=ro[V1]=ro[W1]=ro[nd]=ro[qo]=ro[Su]=ro[px]=ro[Fd]=ro[j1]=ro[Oh]=ro[Km]=ro[H1]=ro[uE]=ro[ml]=ro[Xu]=ro[yc]=ro[Ym]=!0,ro[td]=ro[Rh]=ro[mx]=!1;function qm(C,H,te,we,De,tt){var Ct,tn=H&z1,dn=H&Xm,Bn=H&dx;if(te&&(Ct=De?te(C,we,De,tt):te(C)),Ct!==void 0)return Ct;if(!yr(C))return C;var br=ye(C);if(br){if(Ct=ne(C),!tn)return wo(C,Ct)}else{var je=f(C),qt=je==Rh||je==hx;if(uc(C))return Yf(C,tn);if(je==j1||je==J0||qt&&!De){if(Ct=dn||qt?{}:vc(C),!tn)return dn?im(C,Na(Ct,C)):Jf(C,Da(Ct,C))}else{if(!ro[je])return De?C:{};Ct=ux(C,je,tn)}}tt||(tt=new Bo);var yi=tt.get(C);if(yi)return yi;tt.set(C,Ct),F1(C)?C.forEach(function(Fo){Ct.add(qm(Fo,H,te,Fo,C,tt))}):ui(C)&&C.forEach(function(Fo,io){Ct.set(io,qm(Fo,H,te,io,C,tt))});var _i=Bn?dn?Rl:gp:dn?Vs:hu,Eo=br?void 0:_i(C);return cf(Eo||C,function(Fo,io){Eo&&(io=Fo,Fo=C[io]),oc(Ct,io,qm(Fo,H,te,io,C,tt))}),Ct}var Qm=qm,X1=1,gx=4;function Xg(C){return Qm(C,X1|gx)}var Kc=Xg,vx="__lodash_hash_undefined__";function Kg(C){return this.__data__.set(C,vx),this}var xp=Kg;function qv(C){return this.__data__.has(C)}var K1=qv;function Bh(C){var H=-1,te=C==null?0:C.length;for(this.__data__=new Aa;++H<te;)this.add(C[H])}Bh.prototype.add=Bh.prototype.push=xp,Bh.prototype.has=K1;var $0=Bh;function Jm(C,H){for(var te=-1,we=C==null?0:C.length;++te<we;)if(H(C[te],te,C))return!0;return!1}var Y1=Jm;function Zm(C,H){return C.has(H)}var ey=Zm,q1=1,ty=2;function _c(C,H,te,we,De,tt){var Ct=te&q1,tn=C.length,dn=H.length;if(tn!=dn&&!(Ct&&dn>tn))return!1;var Bn=tt.get(C),br=tt.get(H);if(Bn&&br)return Bn==H&&br==C;var je=-1,qt=!0,yi=te&ty?new $0:void 0;for(tt.set(C,H),tt.set(H,C);++je<tn;){var _i=C[je],Eo=H[je];if(we)var Fo=Ct?we(Eo,_i,je,H,C,tt):we(_i,Eo,je,C,H,tt);if(Fo!==void 0){if(Fo)continue;qt=!1;break}if(yi){if(!Y1(H,function(io,fs){if(!ey(yi,fs)&&(_i===io||De(_i,io,te,we,tt)))return yi.push(fs)})){qt=!1;break}}else if(!(_i===Eo||De(_i,Eo,te,we,tt))){qt=!1;break}}return tt.delete(C),tt.delete(H),qt}var Sp=_c;function zd(C){var H=-1,te=Array(C.size);return C.forEach(function(we,De){te[++H]=[De,we]}),te}var Yc=zd;function yx(C){var H=-1,te=Array(C.size);return C.forEach(function(we){te[++H]=we}),te}var Q1=yx,J1=1,cE=2,sm="[object Boolean]",_x="[object Date]",Z1="[object Error]",$m="[object Map]",ny="[object Number]",bp="[object RegExp]",wx="[object Set]",fE="[object String]",xx="[object Symbol]",ry="[object ArrayBuffer]",dE="[object DataView]",Sx=zt?zt.prototype:void 0,iy=Sx?Sx.valueOf:void 0;function hE(C,H,te,we,De,tt,Ct){switch(te){case dE:if(C.byteLength!=H.byteLength||C.byteOffset!=H.byteOffset)return!1;C=C.buffer,H=H.buffer;case ry:return!(C.byteLength!=H.byteLength||!tt(new nt(C),new nt(H)));case sm:case _x:case ny:return mo(+C,+H);case Z1:return C.name==H.name&&C.message==H.message;case bp:case fE:return C==H+"";case $m:var tn=Yc;case wx:var dn=we&J1;if(tn||(tn=Q1),C.size!=H.size&&!dn)return!1;var Bn=Ct.get(C);if(Bn)return Bn==H;we|=cE,Ct.set(C,H);var br=Sp(tn(C),tn(H),we,De,tt,Ct);return Ct.delete(C),br;case xx:if(iy)return iy.call(C)==iy.call(H)}return!1}var Yg=hE,pE=1,eg=Object.prototype,$1=eg.hasOwnProperty;function ta(C,H,te,we,De,tt){var Ct=te&pE,tn=gp(C),dn=tn.length,Bn=gp(H),br=Bn.length;if(dn!=br&&!Ct)return!1;for(var je=dn;je--;){var qt=tn[je];if(!(Ct?qt in H:$1.call(H,qt)))return!1}var yi=tt.get(C),_i=tt.get(H);if(yi&&_i)return yi==H&&_i==C;var Eo=!0;tt.set(C,H),tt.set(H,C);for(var Fo=Ct;++je<dn;){qt=tn[je];var io=C[qt],fs=H[qt];if(we)var If=Ct?we(fs,io,qt,H,C,tt):we(io,fs,qt,C,H,tt);if(!(If===void 0?io===fs||De(io,fs,te,we,tt):If)){Eo=!1;break}Fo||(Fo=qt=="constructor")}if(Eo&&!Fo){var Gd=C.constructor,xc=H.constructor;Gd!=xc&&"constructor"in C&&"constructor"in H&&!(typeof Gd=="function"&&Gd instanceof Gd&&typeof xc=="function"&&xc instanceof xc)&&(Eo=!1)}return tt.delete(C),tt.delete(H),Eo}var mE=ta,e_=1,bx="[object Arguments]",gE="[object Array]",Qv="[object Object]",t_=Object.prototype,Ex=t_.hasOwnProperty;function Ud(C,H,te,we,De,tt){var Ct=ye(C),tn=ye(H),dn=Ct?gE:f(C),Bn=tn?gE:f(H);dn=dn==bx?Qv:dn,Bn=Bn==bx?Qv:Bn;var br=dn==Qv,je=Bn==Qv,qt=dn==Bn;if(qt&&uc(C)){if(!uc(H))return!1;Ct=!0,br=!1}if(qt&&!br)return tt||(tt=new Bo),Ct||Vo(C)?Sp(C,H,te,we,De,tt):Yg(C,H,dn,te,we,De,tt);if(!(te&e_)){var yi=br&&Ex.call(C,"__wrapped__"),_i=je&&Ex.call(H,"__wrapped__");if(yi||_i){var Eo=yi?C.value():C,Fo=_i?H.value():H;return tt||(tt=new Bo),De(Eo,Fo,te,we,tt)}}return qt?(tt||(tt=new Bo),mE(C,H,te,we,De,tt)):!1}var n_=Ud;function Ax(C,H,te,we,De){return C===H?!0:C==null||H==null||!Dt(C)&&!Dt(H)?C!==C&&H!==H:n_(C,H,te,we,Ax,De)}var Ep=Ax,r_=1,qg=2;function Jv(C,H,te,we){var De=te.length,tt=De,Ct=!we;if(C==null)return!tt;for(C=Object(C);De--;){var tn=te[De];if(Ct&&tn[2]?tn[1]!==C[tn[0]]:!(tn[0]in C))return!1}for(;++De<tt;){tn=te[De];var dn=tn[0],Bn=C[dn],br=tn[1];if(Ct&&tn[2]){if(Bn===void 0&&!(dn in C))return!1}else{var je=new Bo;if(we)var qt=we(Bn,br,dn,C,H,je);if(!(qt===void 0?Ep(br,Bn,r_|qg,we,je):qt))return!1}}return!0}var i_=Jv;function Cx(C){return C===C&&!yr(C)}var Mx=Cx;function Tx(C){for(var H=hu(C),te=H.length;te--;){var we=H[te],De=C[we];H[te]=[we,De,Mx(De)]}return H}var cT=Tx;function o_(C,H){return function(te){return te==null?!1:te[C]===H&&(H!==void 0||C in Object(te))}}var s_=o_;function a_(C){var H=cT(C);return H.length==1&&H[0][2]?s_(H[0][0],H[0][1]):function(te){return te===C||i_(te,C,H)}}var oy=a_;function vE(C,H){return C!=null&&H in Object(C)}var Px=vE;function yE(C,H,te){H=ls(H,C);for(var we=-1,De=H.length,tt=!1;++we<De;){var Ct=Rs(H[we]);if(!(tt=C!=null&&te(C,Ct)))break;C=C[Ct]}return tt||++we!=De?tt:(De=C==null?0:C.length,!!De&&ff(De)&&Ml(Ct,De)&&(ye(C)||Gf(C)))}var _E=yE;function kx(C,H){return C!=null&&_E(C,H,Px)}var sy=kx,Ix=1,l_=2;function Rx(C,H){return Mt(C)&&Mx(H)?s_(Rs(C),H):function(te){var we=Uo(te,C);return we===void 0&&we===H?sy(te,C):Ep(H,we,Ix|l_)}}var fT=Rx;function u_(C){return function(H){return H==null?void 0:H[C]}}var Ox=u_;function Zv(C){return function(H){return Oo(H,C)}}var wE=Zv;function ay(C){return Mt(C)?Ox(Rs(C)):wE(C)}var h=ay;function v(C){return typeof C=="function"?C:C==null?uf:typeof C=="object"?ye(C)?fT(C[0],C[1]):oy(C):h(C)}var O=v;function G(C){return function(H,te,we){for(var De=-1,tt=Object(H),Ct=we(H),tn=Ct.length;tn--;){var dn=Ct[C?tn:++De];if(te(tt[dn],dn,tt)===!1)break}return H}}var re=G,pe=re(),Fe=pe;function wt(C,H){return C&&Fe(C,H,hu)}var Nt=wt,Mn=function(){return _t.Date.now()},$n=Mn,fr="Expected a function",ur=Math.max,$r=Math.min;function di(C,H,te){var we,De,tt,Ct,tn,dn,Bn=0,br=!1,je=!1,qt=!0;if(typeof C!="function")throw new TypeError(fr);H=Te(H)||0,yr(te)&&(br=!!te.leading,je="maxWait"in te,tt=je?ur(Te(te.maxWait)||0,H):tt,qt="trailing"in te?!!te.trailing:qt);function yi(la){var Rf=we,Lh=De;return we=De=void 0,Bn=la,Ct=C.apply(Lh,Rf),Ct}function _i(la){return Bn=la,tn=setTimeout(io,H),br?yi(la):Ct}function Eo(la){var Rf=la-dn,Lh=la-Bn,ig=H-Rf;return je?$r(ig,tt-Lh):ig}function Fo(la){var Rf=la-dn,Lh=la-Bn;return dn===void 0||Rf>=H||Rf<0||je&&Lh>=tt}function io(){var la=$n();if(Fo(la))return fs(la);tn=setTimeout(io,Eo(la))}function fs(la){return tn=void 0,qt&&we?yi(la):(we=De=void 0,Ct)}function If(){tn!==void 0&&clearTimeout(tn),Bn=0,we=dn=De=tn=void 0}function Gd(){return tn===void 0?Ct:fs($n())}function xc(){var la=$n(),Rf=Fo(la);if(we=arguments,De=this,dn=la,Rf){if(tn===void 0)return _i(dn);if(je)return clearTimeout(tn),tn=setTimeout(io,H),yi(dn)}return tn===void 0&&(tn=setTimeout(io,H)),Ct}return xc.cancel=If,xc.flush=Gd,xc}var mi=di;function Ja(C){var H=C==null?0:C.length;return H?C[H-1]:void 0}var un=Ja;function Ut(C,H){return H.length<2?C:Oo(C,tm(H,0,-1))}var yn=Ut;function kr(C){return typeof C=="number"&&C==no(C)}var xi=kr;function zi(C,H){var te={};return H=O(H),Nt(C,function(we,De,tt){al(te,De,H(we,De,tt))}),te}var ji=zi;function Qi(C,H){return H=ls(H,C),C=yn(C,H),C==null||delete C[Rs(un(H))]}var Kl=Qi,ns=9007199254740991,am=Math.floor;function Bx(C,H){var te="";if(!C||H<1||H>ns)return te;do H%2&&(te+=C),H=am(H/2),H&&(C+=C);while(H);return te}var dT=Bx,cz=Ox("length"),p3=cz,m3="\\ud800-\\udfff",fz="\\u0300-\\u036f",g3="\\ufe20-\\ufe2f",dz="\\u20d0-\\u20ff",v3=fz+g3+dz,xE="\\ufe0e\\ufe0f",hz="["+m3+"]",hT="["+v3+"]",SE="\\ud83c[\\udffb-\\udfff]",y3="(?:"+hT+"|"+SE+")",pT="[^"+m3+"]",bE="(?:\\ud83c[\\udde6-\\uddff]){2}",mT="[\\ud800-\\udbff][\\udc00-\\udfff]",pz="\\u200d",gT=y3+"?",_3="["+xE+"]?",mz="(?:"+pz+"(?:"+[pT,bE,mT].join("|")+")"+_3+gT+")*",ly=_3+gT+mz,EE="(?:"+[pT+hT+"?",hT,bE,mT,hz].join("|")+")",w3=RegExp(SE+"(?="+SE+")|"+EE+ly,"g");function x3(C){for(var H=w3.lastIndex=0;w3.test(C);)++H;return H}var vT=x3;function gz(C){return zu(C)?vT(C):p3(C)}var S3=gz,b3=Math.ceil;function E3(C,H){H=H===void 0?" ":Ru(H);var te=H.length;if(te<2)return te?dT(H,C):H;var we=dT(H,b3(C/S3(H)));return zu(H)?bh(Dd(we),0,C).join(""):we.slice(0,C)}var A3=E3;function vz(C,H,te){C=Ha(C),H=no(H);var we=H?S3(C):0;return H&&we<H?A3(H-we,te)+C:C}var Dx=vz;function C3(C,H){return C==null?!0:Kl(C,H)}var M3=C3,yz=5*1e3,T3=class{constructor(C){Y(this,"_cache",new Ks),Y(this,"_keepHotUntapDebounce"),Ye(this,C)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return Ke(this).propsP}get sheet(){return Ke(this).sheet.publicApi}get project(){return Ke(this).sheet.project.publicApi}get address(){return N({},Ke(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const C=Ke(this);return(0,Ga.prism)(()=>(0,Ga.val)(C.getValues().getValue()))})}onValuesChange(C,H){return zE(this._valuesPrism(),C,H)}get value(){const C=this._valuesPrism();{if(!C.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const H=C.keepHot();this._keepHotUntapDebounce=mi(()=>{H(),this._keepHotUntapDebounce=void 0},yz)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return C.getValue()}set initialValue(C){Ke(this).setInitialValue(C)}};function P3(C){const H=new WeakMap;return te=>(H.has(te)||H.set(te,C(te)),H.get(te))}function Nx(C){return C.type==="compound"||C.type==="enum"}function yT(C,H){if(!C)return;const[te,...we]=H;if(te===void 0)return C;if(!Nx(C))return;const De=C.type==="enum"?C.cases[te]:C.props[te];return yT(De,we)}function _z(C){return!Nx(C)}var _T=class{constructor(C,H,te){this.sheet=C,this.template=H,this.nativeObject=te,Y(this,"$$isPointerToPrismProvider",!0),Y(this,"address"),Y(this,"publicApi"),Y(this,"_initialValue",new vo.Atom({})),Y(this,"_cache",new Ks),Y(this,"_logger"),Y(this,"_internalUtilCtx"),this._logger=C._logger.named("SheetObject",H.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=F(N({},H.address),{sheetInstanceId:C.address.sheetInstanceId}),this.publicApi=new T3(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,vo.prism)(()=>{const C=(0,vo.val)(this.template.getDefaultValues()),H=(0,vo.val)(this._initialValue.pointer),te=vo.prism.memo("withInitialCache",()=>new WeakMap,[]),we=so(C,H,te),De=(0,vo.val)(this.template.getStaticValues()),tt=vo.prism.memo("withStatics",()=>new WeakMap,[]);let tn=so(we,De,tt),dn;{const br=vo.prism.memo("seq",()=>this.getSequencedValues(),[]),je=vo.prism.memo("withSeqsCache",()=>new WeakMap,[]);dn=(0,vo.val)((0,vo.val)(br)),tn=so(tn,dn,je)}return fu("finalAtom",tn).pointer}))}getValueByPointer(C){const H=(0,vo.val)(this.getValues()),{path:te}=(0,vo.getPointerParts)(C);return(0,vo.val)(To(H,te))}pointerToPrism(C){const{path:H}=(0,vo.getPointerParts)(C);return(0,vo.prism)(()=>{const te=(0,vo.val)(this.getValues());return(0,vo.val)(To(te,H))})}getSequencedValues(){return(0,vo.prism)(()=>{const C=vo.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),H=(0,vo.val)(C),te=new vo.Atom({}),we=(0,vo.val)(this.template.configPointer);return vo.prism.effect("processTracks",()=>{const De=[];for(const{trackId:tt,pathToProp:Ct}of H){const tn=this._trackIdToPrism(tt),dn=yT(we,Ct),Bn=dn.deserializeAndSanitize,br=dn.interpolate,je=()=>{const yi=tn.getValue();if(!yi)return te.setByPointer(fs=>To(fs,Ct),void 0);const _i=Bn(yi.left),Eo=_i===void 0?dn.default:_i;if(yi.right===void 0)return te.setByPointer(fs=>To(fs,Ct),Eo);const Fo=Bn(yi.right),io=Fo===void 0?dn.default:Fo;return te.setByPointer(fs=>To(fs,Ct),br(Eo,io,yi.progression))},qt=tn.onStale(je);je(),De.push(qt)}return()=>{for(const tt of De)tt()}},[we,...H]),te.pointer})}_trackIdToPrism(C){const H=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[C],te=this.sheet.getSequence().positionPrism;return ir(this._internalUtilCtx,H,te)}get propsP(){return this._cache.get("propsP",()=>(0,vo.pointer)({root:this,path:[]}))}validateValue(C,H){}setInitialValue(C){this.validateValue(this.propsP,C),this._initialValue.set(C)}};function wa(C){return function(te,we){return C(te,we())}}var Dh={_hmm:jd(524),_todo:jd(522),_error:jd(521),errorDev:jd(529),errorPublic:jd(545),_kapow:jd(268),_warn:jd(265),warnDev:jd(273),warnPublic:jd(289),_debug:jd(137),debugDev:jd(145),_trace:jd(73),traceDev:jd(81)};function jd(C){return Object.freeze({audience:uy(C,8)?"internal":uy(C,16)?"dev":"public",category:uy(C,4)?"troubleshooting":uy(C,2)?"todo":"general",level:uy(C,512)?512:uy(C,256)?256:uy(C,128)?128:64})}function uy(C,H){return(C&H)===H}function aa(C,H){return((H&32)===32?!0:(H&16)===16?C.dev:(H&8)===8?C.internal:!1)&&C.min<=H}var Nh={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(C,H,te){return this.create({names:[...C.names,{name:H,key:te}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(C){if(C.length<5)return C;const H=C.replace(this.collapseOnRE,"");return this.cssMemo.has(H)||this.cssMemo.set(H,this.css(C)),H},css(C){var H,te,we,De;const tt=this.cssMemo.get(C);if(tt)return tt;let Ct="color:".concat((te=(H=this.color)==null?void 0:H.call(this,C))!=null?te:"hsl(".concat((C.charCodeAt(0)+C.charCodeAt(C.length-1))%360,", 100%, 60%)"));return(we=this.bold)!=null&&we.test(C)&&(Ct+=";font-weight:600"),(De=this.italic)!=null&&De.test(C)&&(Ct+=";font-style:italic"),this.cssMemo.set(C,Ct),Ct}}};function k3(C=console,H={}){const te=F(N({},Nh),{includes:N({},Nh.includes)}),we={styled:I3.bind(te,C),noStyle:R3.bind(te,C)},De=cy.bind(te);function tt(){return te.loggingConsoleStyle&&te.loggerConsoleStyle?we.styled:we.noStyle}return te.create=tt(),{configureLogger(Ct){var tn;Ct==="console"?(te.loggerConsoleStyle=Nh.loggerConsoleStyle,te.create=tt()):Ct.type==="console"?(te.loggerConsoleStyle=(tn=Ct.style)!=null?tn:Nh.loggerConsoleStyle,te.create=tt()):Ct.type==="keyed"?(te.creatExt=dn=>Ct.keyed(dn.names),te.create=De):Ct.type==="named"&&(te.creatExt=wz.bind(null,Ct.named),te.create=De)},configureLogging(Ct){var tn,dn,Bn,br,je;te.includes.dev=(tn=Ct.dev)!=null?tn:Nh.includes.dev,te.includes.internal=(dn=Ct.internal)!=null?dn:Nh.includes.internal,te.includes.min=(Bn=Ct.min)!=null?Bn:Nh.includes.min,te.include=(br=Ct.include)!=null?br:Nh.include,te.loggingConsoleStyle=(je=Ct.consoleStyle)!=null?je:Nh.loggingConsoleStyle,te.create=tt()},getLogger(){return te.create({names:[]})}}}function wz(C,H){const te=[];for(let{name:we,key:De}of H.names)te.push(De==null?we:"".concat(we," (").concat(De,")"));return C(te)}function cy(C){const H=N(N({},this.includes),this.include(C)),te=this.filtered,we=this.named.bind(this,C),De=this.creatExt(C),tt=aa(H,524),Ct=aa(H,522),tn=aa(H,521),dn=aa(H,529),Bn=aa(H,545),br=aa(H,265),je=aa(H,268),qt=aa(H,273),yi=aa(H,289),_i=aa(H,137),Eo=aa(H,145),Fo=aa(H,73),io=aa(H,81),fs=tt?De.error.bind(De,Dh._hmm):te.bind(C,524),If=Ct?De.error.bind(De,Dh._todo):te.bind(C,522),Gd=tn?De.error.bind(De,Dh._error):te.bind(C,521),xc=dn?De.error.bind(De,Dh.errorDev):te.bind(C,529),la=Bn?De.error.bind(De,Dh.errorPublic):te.bind(C,545),Rf=je?De.warn.bind(De,Dh._kapow):te.bind(C,268),Lh=br?De.warn.bind(De,Dh._warn):te.bind(C,265),ig=qt?De.warn.bind(De,Dh.warnDev):te.bind(C,273),xy=yi?De.warn.bind(De,Dh.warnPublic):te.bind(C,273),og=_i?De.debug.bind(De,Dh._debug):te.bind(C,137),Sy=Eo?De.debug.bind(De,Dh.debugDev):te.bind(C,145),tv=Fo?De.trace.bind(De,Dh._trace):te.bind(C,73),by=io?De.trace.bind(De,Dh.traceDev):te.bind(C,81),bu={_hmm:fs,_todo:If,_error:Gd,errorDev:xc,errorPublic:la,_kapow:Rf,_warn:Lh,warnDev:ig,warnPublic:xy,_debug:og,debugDev:Sy,_trace:tv,traceDev:by,lazy:{_hmm:tt?wa(fs):fs,_todo:Ct?wa(If):If,_error:tn?wa(Gd):Gd,errorDev:dn?wa(xc):xc,errorPublic:Bn?wa(la):la,_kapow:je?wa(Rf):Rf,_warn:br?wa(Lh):Lh,warnDev:qt?wa(ig):ig,warnPublic:yi?wa(xy):xy,_debug:_i?wa(og):og,debugDev:Eo?wa(Sy):Sy,_trace:Fo?wa(tv):tv,traceDev:io?wa(by):by},named:we,utilFor:{internal(){return{debug:bu._debug,error:bu._error,warn:bu._warn,trace:bu._trace,named(Fh,xa){return bu.named(Fh,xa).utilFor.internal()}}},dev(){return{debug:bu.debugDev,error:bu.errorDev,warn:bu.warnDev,trace:bu.traceDev,named(Fh,xa){return bu.named(Fh,xa).utilFor.dev()}}},public(){return{error:bu.errorPublic,warn:bu.warnPublic,debug(Fh,xa){bu._warn('(public "debug" filtered out) '.concat(Fh),xa)},trace(Fh,xa){bu._warn('(public "trace" filtered out) '.concat(Fh),xa)},named(Fh,xa){return bu.named(Fh,xa).utilFor.public()}}}}};return bu}function I3(C,H){const te=N(N({},this.includes),this.include(H)),we=[];let De="";for(let dn=0;dn<H.names.length;dn++){const{name:Bn,key:br}=H.names[dn];if(De+=" %c".concat(Bn),we.push(this.style.css(Bn)),br!=null){const je="%c#".concat(br);De+=je,we.push(this.style.css(je))}}const tt=this.filtered,Ct=this.named.bind(this,H),tn=[De,...we];return O3(tt,H,te,C,tn,xz(tn),Ct)}function xz(C){const H=C.slice(0);for(let te=1;te<H.length;te++)H[te]+=";background-color:#e0005a;padding:2px;color:white";return H}function R3(C,H){const te=N(N({},this.includes),this.include(H));let we="";for(let tn=0;tn<H.names.length;tn++){const{name:dn,key:Bn}=H.names[tn];we+=" ".concat(dn),Bn!=null&&(we+="#".concat(Bn))}const De=this.filtered,tt=this.named.bind(this,H),Ct=[we];return O3(De,H,te,C,Ct,Ct,tt)}function O3(C,H,te,we,De,tt,Ct){const tn=aa(te,524),dn=aa(te,522),Bn=aa(te,521),br=aa(te,529),je=aa(te,545),qt=aa(te,265),yi=aa(te,268),_i=aa(te,273),Eo=aa(te,289),Fo=aa(te,137),io=aa(te,145),fs=aa(te,73),If=aa(te,81),Gd=tn?we.error.bind(we,...De):C.bind(H,524),xc=dn?we.error.bind(we,...De):C.bind(H,522),la=Bn?we.error.bind(we,...De):C.bind(H,521),Rf=br?we.error.bind(we,...De):C.bind(H,529),Lh=je?we.error.bind(we,...De):C.bind(H,545),ig=yi?we.warn.bind(we,...tt):C.bind(H,268),xy=qt?we.warn.bind(we,...De):C.bind(H,265),og=_i?we.warn.bind(we,...De):C.bind(H,273),Sy=Eo?we.warn.bind(we,...De):C.bind(H,273),tv=Fo?we.info.bind(we,...De):C.bind(H,137),by=io?we.info.bind(we,...De):C.bind(H,145),bu=fs?we.debug.bind(we,...De):C.bind(H,73),Fh=If?we.debug.bind(we,...De):C.bind(H,81),xa={_hmm:Gd,_todo:xc,_error:la,errorDev:Rf,errorPublic:Lh,_kapow:ig,_warn:xy,warnDev:og,warnPublic:Sy,_debug:tv,debugDev:by,_trace:bu,traceDev:Fh,lazy:{_hmm:tn?wa(Gd):Gd,_todo:dn?wa(xc):xc,_error:Bn?wa(la):la,errorDev:br?wa(Rf):Rf,errorPublic:je?wa(Lh):Lh,_kapow:yi?wa(ig):ig,_warn:qt?wa(xy):xy,warnDev:_i?wa(og):og,warnPublic:Eo?wa(Sy):Sy,_debug:Fo?wa(tv):tv,debugDev:io?wa(by):by,_trace:fs?wa(bu):bu,traceDev:If?wa(Fh):Fh},named:Ct,utilFor:{internal(){return{debug:xa._debug,error:xa._error,warn:xa._warn,trace:xa._trace,named(nv,sg){return xa.named(nv,sg).utilFor.internal()}}},dev(){return{debug:xa.debugDev,error:xa.errorDev,warn:xa.warnDev,trace:xa.traceDev,named(nv,sg){return xa.named(nv,sg).utilFor.dev()}}},public(){return{error:xa.errorPublic,warn:xa.warnPublic,debug(nv,sg){xa._warn('(public "debug" filtered out) '.concat(nv),sg)},trace(nv,sg){xa._warn('(public "trace" filtered out) '.concat(nv),sg)},named(nv,sg){return xa.named(nv,sg).utilFor.public()}}}}};return xa}var B3=k3(console,{_debug:function(){},_error:function(){}});B3.configureLogging({dev:!0,min:64});var Lx=B3.getLogger().named("Theatre.js (default logger)").utilFor.dev(),D3=new WeakMap;function Sz(C){const H=D3.get(C);if(H)return H;const te=new Map;return D3.set(C,te),wT([],C,te),te}function wT(C,H,te){for(const[we,De]of Object.entries(H.props))if(!Nx(De)){const tt=[...C,we];te.set(JSON.stringify(tt),te.size),N3(tt,De,te)}for(const[we,De]of Object.entries(H.props))if(Nx(De)){const tt=[...C,we];te.set(JSON.stringify(tt),te.size),N3(tt,De,te)}}function N3(C,H,te){if(H.type==="compound")wT(C,H,te);else{if(H.type==="enum")throw new Error("Enums aren't supported yet");te.set(JSON.stringify(C),te.size)}}function L3(C){return typeof C=="object"&&C!==null&&Object.keys(C).length===0}var F3=class{constructor(C,H,te,we,De){this.sheetTemplate=C,Y(this,"address"),Y(this,"type","Theatre_SheetObjectTemplate"),Y(this,"_config"),Y(this,"_temp_actions_atom"),Y(this,"_cache",new Ks),Y(this,"project"),Y(this,"pointerToSheetState"),Y(this,"pointerToStaticOverrides"),this.address=F(N({},C.address),{objectKey:H}),this._config=new go.Atom(we),this._temp_actions_atom=new go.Atom(De),this.project=C.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(C,H,te){return this._config.set(te),new _T(C,this,H)}reconfigure(C){this._config.set(C)}_temp_setActions(C){this._temp_actions_atom.set(C)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,go.prism)(()=>{const C=(0,go.val)(this.configPointer);return Ce(C)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,go.prism)(()=>{var C;const H=(C=(0,go.val)(this.pointerToStaticOverrides))!=null?C:{};return(0,go.val)(this.configPointer).deserializeAndSanitize(H)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,go.prism)(()=>{const C=this.project.pointers.historic.sheetsById[this.address.sheetId],H=(0,go.val)(C.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!H)return de;const te=[];if(!H)return de;const we=(0,go.val)(this.configPointer),De=Object.entries(H);for(const[Ct,tn]of De){const dn=bz(Ct);if(!dn)continue;const Bn=yT(we,dn);Bn&&_z(Bn)&&te.push({pathToProp:dn,trackId:tn})}const tt=Sz(we);return te.sort((Ct,tn)=>{const dn=Ct.pathToProp,Bn=tn.pathToProp,br=tt.get(JSON.stringify(dn)),je=tt.get(JSON.stringify(Bn));return br>je?1:-1}),te.length===0?de:te}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,go.prism)(()=>{const C=(0,go.val)(this.getArrayOfValidSequenceTracks());let H={};for(const{pathToProp:te,trackId:we}of C)Bs(H,te,we);return H}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,go.prism)(()=>{const C=(0,go.val)(this.getStaticValues()),H=(0,go.val)(this.getArrayOfValidSequenceTracks()),te=Kc(C);for(const{pathToProp:we}of H){M3(te,we);let De=we.slice(0,-1);for(;De.length>0;){const tt=cu(te,De);if(!L3(tt))break;M3(te,De),De=De.slice(0,-1)}}if(!L3(te))return te}))}getDefaultsAtPointer(C){const{path:H}=(0,go.getPointerParts)(C),te=this.getDefaultValues().getValue();return cu(te,H)}};function bz(C){try{return JSON.parse(C)}catch{Lx.warn("property ".concat(JSON.stringify(C)," cannot be parsed. Skipping."));return}}var z3=tr,U3=P3(C=>JSON.stringify(C));j(Z());var Ez=class extends Error{},Fx=class extends Ez{},xT=tr,Az=tr,Cz=tr,wc=tr;function tg(){let C,H;const te=new Promise((De,tt)=>{C=Ct=>{De(Ct),we.status="resolved"},H=Ct=>{tt(Ct),we.status="rejected"}}),we={resolve:C,reject:H,promise:te,status:"pending"};return we}var j3=()=>{},AE=j3,Mz=tr,H3=class{constructor(){Y(this,"_stopPlayCallback",AE),Y(this,"_state",new Mz.Atom({position:0,playing:!1})),Y(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=AE}gotoPosition(C){this._updatePositionInState(C)}_updatePositionInState(C){this._state.setByPointer(H=>H.position,C)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(C){this._state.setByPointer(H=>H.playing,C)}play(C,H,te,we,De){this.playing&&this.pause(),this.playing=!0;const tt=H[1]-H[0];{const qt=this.getCurrentPosition();qt<H[0]||qt>H[1]?we==="normal"||we==="alternate"?this._updatePositionInState(H[0]):(we==="reverse"||we==="alternateReverse")&&this._updatePositionInState(H[1]):we==="normal"||we==="alternate"?qt===H[1]&&this._updatePositionInState(H[0]):qt===H[0]&&this._updatePositionInState(H[1])}const Ct=tg(),tn=De.time,dn=tt*C;let Bn=this.getCurrentPosition()-H[0];(we==="reverse"||we==="alternateReverse")&&(Bn=H[1]-this.getCurrentPosition());const br=qt=>{const _i=Math.max(qt-tn,0)/1e3,Eo=Math.min(_i*te+Bn,dn);if(Eo!==dn){const Fo=Math.floor(Eo/tt);let io=Eo/tt%1*tt;if(we!=="normal")if(we==="reverse")io=tt-io;else{const fs=Fo%2===0;we==="alternate"?fs||(io=tt-io):fs&&(io=tt-io)}this._updatePositionInState(io+H[0]),je()}else{if(we==="normal")this._updatePositionInState(H[1]);else if(we==="reverse")this._updatePositionInState(H[0]);else{const Fo=(C-1)%2===0;we==="alternate"?Fo?this._updatePositionInState(H[1]):this._updatePositionInState(H[0]):Fo?this._updatePositionInState(H[0]):this._updatePositionInState(H[1])}this.playing=!1,Ct.resolve(!0)}};this._stopPlayCallback=()=>{De.offThisOrNextTick(br),De.offNextTick(br),this.playing&&Ct.resolve(!1)};const je=()=>De.onNextTick(br);return De.onThisOrNextTick(br),Ct.promise}playDynamicRange(C,H){this.playing&&this.pause(),this.playing=!0;const te=tg(),we=C.keepHot();te.promise.then(we,we);let De=H.time;const tt=tn=>{const dn=Math.max(tn-De,0);De=tn;const Bn=dn/1e3,br=this.getCurrentPosition(),je=C.getValue();if(br<je[0]||br>je[1])this.gotoPosition(je[0]);else{let qt=br+Bn;qt>je[1]&&(qt=je[0]+(qt-je[1])),this.gotoPosition(qt)}Ct()};this._stopPlayCallback=()=>{H.offThisOrNextTick(tt),H.offNextTick(tt),te.resolve(!1)};const Ct=()=>H.onNextTick(tt);return H.onThisOrNextTick(tt),te.promise}},Tz=tr,G3="__TheatreJS_StudioBundle",CE="__TheatreJS_CoreBundle",Pz="__TheatreJS_Notifications",zx=C=>(...H)=>{var te;switch(C){case"success":{Lx.debug(H.slice(0,2).join(`
`));break}case"info":{Lx.debug(H.slice(0,2).join(`
`));break}case"warning":{Lx.warn(H.slice(0,2).join(`
`));break}}return typeof window<"u"?(te=window[Pz])==null?void 0:te.notify[C](...H):void 0},fy={warning:zx("warning"),success:zx("success"),info:zx("info"),error:zx("error")};typeof window<"u"&&(window.addEventListener("error",C=>{fy.error("An error occurred","<pre>".concat(C.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",C=>{fy.error("An error occurred","<pre>".concat(C.reason,`</pre>

See **console** for details.`))}));var kz=class{constructor(C,H,te){this._decodedBuffer=C,this._audioContext=H,this._nodeDestination=te,Y(this,"_mainGain"),Y(this,"_state",new Tz.Atom({position:0,playing:!1})),Y(this,"statePointer"),Y(this,"_stopPlayCallback",AE),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(C,H){const te=tg();this._playing&&this.pause(),this._playing=!0;let we;const De=()=>{we==null||we(),we=this._loopInRange(C.getValue(),H).stop},tt=C.onStale(De);return De(),this._stopPlayCallback=()=>{we==null||we(),tt(),te.resolve(!1)},te.promise}_loopInRange(C,H){let we=this.getCurrentPosition();const De=C[1]-C[0];we<C[0]||we>C[1]?this._updatePositionInState(C[0]):we===C[1]&&this._updatePositionInState(C[0]),we=this.getCurrentPosition();const tt=this._audioContext.createBufferSource();tt.buffer=this._decodedBuffer,tt.connect(this._mainGain),tt.playbackRate.value=1,tt.loop=!0,tt.loopStart=C[0],tt.loopEnd=C[1];const Ct=H.time;let tn=we-C[0];tt.start(0,we);const dn=je=>{let Eo=(Math.max(je-Ct,0)/1e3*1+tn)/De%1*De;this._updatePositionInState(Eo+C[0]),Bn()},Bn=()=>H.onNextTick(dn);return H.onThisOrNextTick(dn),{stop:()=>{tt.stop(),tt.disconnect(),H.offThisOrNextTick(dn),H.offNextTick(dn)}}}get _playing(){return this._state.get().playing}set _playing(C){this._state.setByPointer(H=>H.playing,C)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=AE}gotoPosition(C){this._updatePositionInState(C)}_updatePositionInState(C){this._state.reduce(H=>F(N({},H),{position:C}))}getCurrentPosition(){return this._state.get().position}play(C,H,te,we,De){this._playing&&this.pause(),this._playing=!0;let tt=this.getCurrentPosition();const Ct=H[1]-H[0];if(we!=="normal")throw new Fx('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(we,"' given."));tt<H[0]||tt>H[1]?this._updatePositionInState(H[0]):tt===H[1]&&this._updatePositionInState(H[0]),tt=this.getCurrentPosition();const tn=tg(),dn=this._audioContext.createBufferSource();dn.buffer=this._decodedBuffer,dn.connect(this._mainGain),dn.playbackRate.value=te,C>1e3&&(fy.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(C,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),C=1e3),C>1&&(dn.loop=!0,dn.loopStart=H[0],dn.loopEnd=H[1]);const Bn=De.time;let br=tt-H[0];const je=Ct*C;dn.start(0,tt,je-br);const qt=Eo=>{const io=Math.max(Eo-Bn,0)/1e3,fs=Math.min(io*te+br,je);if(fs!==je){let If=fs/Ct%1*Ct;this._updatePositionInState(If+H[0]),_i()}else this._updatePositionInState(H[1]),this._playing=!1,yi(),tn.resolve(!0)},yi=()=>{dn.stop(),dn.disconnect()};this._stopPlayCallback=()=>{yi(),De.offThisOrNextTick(qt),De.offNextTick(qt),this._playing&&tn.resolve(!1)};const _i=()=>De.onNextTick(qt);return De.onThisOrNextTick(qt),tn.promise}},Iz=tr,dy=0;function Ux(C){var H;const te=Ct=>{we.tick(Ct)},we=new Iz.Ticker({onActive(){var Ct;(Ct=C==null?void 0:C.start)==null||Ct.call(C)},onDormant(){var Ct;(Ct=C==null?void 0:C.stop)==null||Ct.call(C)}}),De={tick:te,id:dy++,name:(H=C==null?void 0:C.name)!=null?H:"CustomRafDriver-".concat(dy),type:"Theatre_RafDriver_PublicAPI"},tt={type:"Theatre_RafDriver_PrivateAPI",publicApi:De,ticker:we,start:C==null?void 0:C.start,stop:C==null?void 0:C.stop};return Ye(De,tt),De}function V3(){let C=null;const we=Ux({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const De=tt=>{we.tick(tt),C=window.requestAnimationFrame(De)};C=window.requestAnimationFrame(De)}else we.tick(0),setTimeout(()=>we.tick(1),0)},stop:()=>{typeof window<"u"&&C!==null&&window.cancelAnimationFrame(C)}});return we}var jx;function W3(){return jx||X3(V3()),jx}function ST(){return W3().ticker}function X3(C){if(jx)throw new Error("`setCoreRafDriver()` is already called.");jx=Ke(C)}var K3=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(C){Ye(this,C)}play(C){const H=Ke(this);if(H._project.isReady()){const te=C!=null&&C.rafDriver?Ke(C.rafDriver).ticker:ST();return H.play(C??{},te)}else{const te=tg();return te.resolve(!0),te.promise}}pause(){Ke(this).pause()}get position(){return Ke(this).position}set position(C){Ke(this).position=C}__experimental_getKeyframes(C){return Ke(this).getKeyframesOfSimpleProp(C)}async attachAudio(C){const{audioContext:H,destinationNode:te,decodedBuffer:we,gainNode:De}=await Rz(C),tt=new kz(we,H,De);return Ke(this).replacePlaybackController(tt),{audioContext:H,destinationNode:te,decodedBuffer:we,gainNode:De}}get pointer(){return Ke(this).pointer}};async function Rz(C){function H(){if(C.audioContext)return Promise.resolve(C.audioContext);const Bn=new AudioContext;return Bn.state==="running"||typeof window>"u"?Promise.resolve(Bn):new Promise(br=>{const je=()=>{Bn.resume().catch(_i=>{console.error(_i)})},qt=["mousedown","keydown","touchstart"],yi={capture:!0,passive:!1};qt.forEach(_i=>{window.addEventListener(_i,je,yi)}),Bn.addEventListener("statechange",()=>{Bn.state==="running"&&(qt.forEach(_i=>{window.removeEventListener(_i,je,yi)}),br(Bn))})})}async function te(){if(C.source instanceof AudioBuffer)return C.source;const Bn=tg();if(typeof C.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let br;try{br=await fetch(C.source)}catch(_i){throw console.error(_i),new Error("Could not fetch '".concat(C.source,"'. Network error logged above."))}let je;try{je=await br.arrayBuffer()}catch(_i){throw console.error(_i),new Error("Could not read '".concat(C.source,"' as an arrayBuffer."))}(await we).decodeAudioData(je,Bn.resolve,Bn.reject);let yi;try{yi=await Bn.promise}catch(_i){throw console.error(_i),new Error("Could not decode ".concat(C.source," as an audio file."))}return yi}const we=H(),De=te(),[tt,Ct]=await Promise.all([we,De]),tn=C.destinationNode||tt.destination,dn=tt.createGain();return dn.connect(tn),{audioContext:tt,decodedBuffer:Ct,gainNode:dn,destinationNode:tn}}var Oz=Y3("Theatre_SheetObject");function Y3(C){return H=>typeof H=="object"&&!!H&&H.type===C}var q3=class{constructor(C,H,te,we,De){this._project=C,this._sheet=H,this._lengthD=te,this._subUnitsPerUnitD=we,Y(this,"address"),Y(this,"publicApi"),Y(this,"_playbackControllerBox"),Y(this,"_prismOfStatePointer"),Y(this,"_positionD"),Y(this,"_positionFormatterD"),Y(this,"_playableRangeD"),Y(this,"pointer",(0,Cz.pointer)({root:this,path:[]})),Y(this,"$$isPointerToPrismProvider",!0),Y(this,"_logger"),Y(this,"closestGridPosition",tt=>{const tn=1/this.subUnitsPerUnit;return parseFloat((Math.round(tt/tn)*tn).toFixed(3))}),this._logger=C._logger.named("Sheet",H.address.sheetId).named("Instance",H.address.sheetInstanceId),this.address=F(N({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new K3(this),this._playbackControllerBox=new Az.Atom(De??new H3),this._prismOfStatePointer=(0,wc.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,wc.prism)(()=>{const tt=this._prismOfStatePointer.getValue();return(0,wc.val)(tt.position)}),this._positionFormatterD=(0,wc.prism)(()=>{const tt=(0,wc.val)(this._subUnitsPerUnitD);return new Bz(tt)})}pointerToPrism(C){const{path:H}=(0,xT.getPointerParts)(C);if(H.length===0)return(0,wc.prism)(()=>({length:(0,wc.val)(this.pointer.length),playing:(0,wc.val)(this.pointer.playing),position:(0,wc.val)(this.pointer.position)}));if(H.length>1)return(0,wc.prism)(()=>{});const[te]=H;return te==="length"?this._lengthD:te==="position"?this._positionD:te==="playing"?(0,wc.prism)(()=>(0,wc.val)(this._prismOfStatePointer.getValue().playing)):(0,wc.prism)(()=>{})}getKeyframesOfSimpleProp(C){const{path:H,root:te}=(0,xT.getPointerParts)(C);if(!Oz(te))throw new Fx("Argument prop must be a pointer to a SheetObject property");const we=(0,wc.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[te.address.objectKey]);if(!we)return[];const{trackData:De,trackIdByPropPath:tt}=we,Ct=U3(H),tn=tt[Ct];if(!tn)return[];const dn=De[tn];return dn?dn.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(C){let H=C;this.pause(),H>this.length&&(H=this.length);const te=this.length;this._playbackControllerBox.get().gotoPosition(H>te?te:H)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,wc.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,wc.prism)(()=>[0,(0,wc.val)(this._lengthD)])}playDynamicRange(C,H){return this._playbackControllerBox.get().playDynamicRange(C,H)}async play(C,H){const te=this.length,we=C&&C.range?C.range:[0,te],De=C&&typeof C.iterationCount=="number"?C.iterationCount:1,tt=C&&typeof C.rate<"u"?C.rate:1,Ct=C&&C.direction?C.direction:"normal";return await this._play(De,[we[0],we[1]],tt,Ct,H)}_play(C,H,te,we,De){return this._playbackControllerBox.get().play(C,H,te,we,De)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(C){this.pause();const H=this._playbackControllerBox.get();this._playbackControllerBox.set(C);const te=H.getCurrentPosition();H.destroy(),C.gotoPosition(te)}},Bz=class{constructor(C){this._fps=C}formatSubUnitForGrid(C){const H=C%1,te=1/this._fps;return Math.round(H/te)+"f"}formatFullUnitForGrid(C){let H=C,te="";if(H>=c_){const De=Math.floor(H/c_);te+=De+"h",H=H%c_}if(H>=Hd){const De=Math.floor(H/Hd);te+=De+"m",H=H%Hd}if(H>=hy){const De=Math.floor(H/hy);te+=De+"s",H=H%hy}const we=1/this._fps;if(H>=we){const De=Math.floor(H/we);te+=De+"f",H=H%we}return te.length===0?"0s":te}formatForPlayhead(C){let H=C,te="";if(H>=c_){const De=Math.floor(H/c_);te+=Dx(De.toString(),2,"0")+"h",H=H%c_}if(H>=Hd){const De=Math.floor(H/Hd);te+=Dx(De.toString(),2,"0")+"m",H=H%Hd}else te.length>0&&(te+="00m");if(H>=hy){const De=Math.floor(H/hy);te+=Dx(De.toString(),2,"0")+"s",H=H%hy}else te+="00s";const we=1/this._fps;if(H>=we){const De=Math.round(H/we);te+=Dx(De.toString(),2,"0")+"f",H=H%we}else H/we>.98?(te+=Dx("1",2,"0")+"f",H=H%we):te+="00f";return te.length===0?"00s00f":te}formatBasic(C){return C.toFixed(2)+"s"}},hy=1,Hd=hy*60,c_=Hd*60,Yl={};D(Yl,{boolean:()=>tO,compound:()=>ME,file:()=>py,image:()=>ET,number:()=>my,rgba:()=>AT,string:()=>CT,stringLiteral:()=>rO});function Q3(C,H){return C.length<=H?C:C.substr(0,H-3)+"..."}var Dz=C=>typeof C=="string"?'string("'.concat(Q3(C,10),'")'):typeof C=="number"?"number(".concat(Q3(String(C),10),")"):C===null?"null":C===void 0?"undefined":typeof C=="boolean"?String(C):Array.isArray(C)?"array":typeof C=="object"?"object":"unknown",Ot=Dz;function Nz(C,{removeAlphaIfOpaque:H=!1}={}){const te=(C.a*255|256).toString(16).slice(1),we=(C.r*255|256).toString(16).slice(1)+(C.g*255|256).toString(16).slice(1)+(C.b*255|256).toString(16).slice(1)+(H&&te==="ff"?"":te);return"#".concat(we)}function bT(C){return F(N({},C),{toString(){return Nz(this,{removeAlphaIfOpaque:!0})}})}function Lz(C){return Object.fromEntries(Object.entries(C).map(([H,te])=>[H,Th(te,0,1)]))}function Qg(C){function H(te){return te>=.0031308?1.055*te**(1/2.4)-.055:12.92*te}return Lz({r:H(C.r),g:H(C.g),b:H(C.b),a:C.a})}function J3(C){function H(te){return te>=.04045?((te+.055)/(1+.055))**2.4:te/12.92}return{r:H(C.r),g:H(C.g),b:H(C.b),a:C.a}}function ao(C){let H=.4122214708*C.r+.5363325363*C.g+.0514459929*C.b,te=.2119034982*C.r+.6806995451*C.g+.1073969566*C.b,we=.0883024619*C.r+.2817188376*C.g+.6299787005*C.b,De=Math.cbrt(H),tt=Math.cbrt(te),Ct=Math.cbrt(we);return{L:.2104542553*De+.793617785*tt-.0040720468*Ct,a:1.9779984951*De-2.428592205*tt+.4505937099*Ct,b:.0259040371*De+.7827717662*tt-.808675766*Ct,alpha:C.a}}function Fz(C){let H=C.L+.3963377774*C.a+.2158037573*C.b,te=C.L-.1055613458*C.a-.0638541728*C.b,we=C.L-.0894841775*C.a-1.291485548*C.b,De=H*H*H,tt=te*te*te,Ct=we*we*we;return{r:4.0767416621*De-3.3077115913*tt+.2309699292*Ct,g:-1.2684380046*De+2.6097574011*tt-.3413193965*Ct,b:-.0041960863*De-.7034186147*tt+1.707614701*Ct,a:C.alpha}}var Ap=Symbol("TheatrePropType_Basic");function Hx(C){return typeof C=="object"&&!!C&&C[Ap]==="TheatrePropType"}function Z3(C){if(typeof C=="number")return my(C);if(typeof C=="boolean")return tO(C);if(typeof C=="string")return CT(C);if(typeof C=="object"&&C){if(Hx(C))return C;if(gu(C))return ME(C);throw new Fx("This value is not a valid prop type: ".concat(Ot(C)))}else throw new Fx("This value is not a valid prop type: ".concat(Ot(C)))}function $v(C){const H={};for(const te of Object.keys(C)){const we=C[te];Hx(we)?H[te]=we:H[te]=Z3(we)}return H}var ME=(C,H={})=>{const te=$v(C),we=new WeakMap;return{type:"compound",props:te,valueType:null,[Ap]:"TheatrePropType",label:H.label,default:ji(te,tt=>tt.default),deserializeAndSanitize:tt=>{if(typeof tt!="object"||!tt)return;if(we.has(tt))return we.get(tt);const Ct={};let tn=!1;for(const[dn,Bn]of Object.entries(te))if(Object.prototype.hasOwnProperty.call(tt,dn)){const br=Bn.deserializeAndSanitize(tt[dn]);br!=null&&(tn=!0,Ct[dn]=br)}if(we.set(tt,Ct),tn)return Ct}}},py=(C,H={})=>{const te=(we,De,tt)=>{var Ct;return{type:"file",id:((Ct=H.interpolate)!=null?Ct:Gx)(we.id,De.id,tt)}};return{type:"file",default:{type:"file",id:C},valueType:null,[Ap]:"TheatrePropType",label:H.label,interpolate:te,deserializeAndSanitize:_o}},_o=C=>{if(!C)return;let H=!0;if(typeof C.id!="string"&&![null,void 0].includes(C.id)&&(H=!1),C.type!=="file"&&(H=!1),!!H)return C},ET=(C,H={})=>{const te=(we,De,tt)=>{var Ct;return{type:"image",id:((Ct=H.interpolate)!=null?Ct:Gx)(we.id,De.id,tt)}};return{type:"image",default:{type:"image",id:C},valueType:null,[Ap]:"TheatrePropType",label:H.label,interpolate:te,deserializeAndSanitize:lm}},lm=C=>{if(!C)return;let H=!0;if(typeof C.id!="string"&&![null,void 0].includes(C.id)&&(H=!1),C.type!=="image"&&(H=!1),!!H)return C},my=(C,H={})=>{var te;return F(N({type:"number",valueType:0,default:C,[Ap]:"TheatrePropType"},H||{}),{label:H.label,nudgeFn:(te=H.nudgeFn)!=null?te:iO,nudgeMultiplier:typeof H.nudgeMultiplier=="number"?H.nudgeMultiplier:void 0,interpolate:eO,deserializeAndSanitize:TE(H.range)})},TE=C=>C?H=>{if(typeof H=="number"&&isFinite(H))return Th(H,C[0],C[1])}:$3,$3=C=>typeof C=="number"&&isFinite(C)?C:void 0,eO=(C,H,te)=>C+te*(H-C),AT=(C={r:0,g:0,b:0,a:1},H={})=>{const te={};for(const we of["r","g","b","a"])te[we]=Math.min(Math.max(C[we],0),1);return{type:"rgba",valueType:null,default:bT(te),[Ap]:"TheatrePropType",label:H.label,interpolate:zz,deserializeAndSanitize:Ai}},Ai=C=>{if(!C)return;let H=!0;for(const we of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(C,we)||typeof C[we]!="number")&&(H=!1);if(!H)return;const te={};for(const we of["r","g","b","a"])te[we]=Math.min(Math.max(C[we],0),1);return bT(te)},zz=(C,H,te)=>{const we=ao(J3(C)),De=ao(J3(H)),tt={L:(1-te)*we.L+te*De.L,a:(1-te)*we.a+te*De.a,b:(1-te)*we.b+te*De.b,alpha:(1-te)*we.alpha+te*De.alpha},Ct=Qg(Fz(tt));return bT(Ct)},tO=(C,H={})=>{var te;return{type:"boolean",default:C,valueType:null,[Ap]:"TheatrePropType",label:H.label,interpolate:(te=H.interpolate)!=null?te:Gx,deserializeAndSanitize:nO}},nO=C=>typeof C=="boolean"?C:void 0;function Gx(C){return C}var CT=(C,H={})=>{var te;return{type:"string",default:C,valueType:null,[Ap]:"TheatrePropType",label:H.label,interpolate:(te=H.interpolate)!=null?te:Gx,deserializeAndSanitize:Uz}};function Uz(C){return typeof C=="string"?C:void 0}function rO(C,H,te={}){var we,De;return{type:"stringLiteral",default:C,valuesAndLabels:N({},H),[Ap]:"TheatrePropType",valueType:null,as:(we=te.as)!=null?we:"menu",label:te.label,interpolate:(De=te.interpolate)!=null?De:Gx,deserializeAndSanitize(tt){if(typeof tt=="string"&&Object.prototype.hasOwnProperty.call(H,tt))return tt}}}var iO=({config:C,deltaX:H,deltaFraction:te,magnitude:we})=>{var De;const{range:tt}=C;return!C.nudgeMultiplier&&tt&&!tt.includes(1/0)&&!tt.includes(-1/0)?te*(tt[1]-tt[0])*we:H*we*((De=C.nudgeMultiplier)!=null?De:1)},jz=C=>C.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function MT(C,H){return jz(C)}j(Se());var oO=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(C){Ye(this,C)}object(C,H,te){const we=Ke(this),De=MT(C),tt=we.getObject(De),Ct=null,tn=te==null?void 0:te.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(tt)return tn&&tt.template._temp_setActions(tn),tt.publicApi;{const dn=ME(H);return we.createObject(De,Ct,dn,tn).publicApi}}get sequence(){return Ke(this).getSequence().publicApi}get project(){return Ke(this).project.publicApi}get address(){return N({},Ke(this).address)}detachObject(C){const H=Ke(this),te=MT(C);if(!H.getObject(te)){fy.warning(`Couldn't delete object "`.concat(te,'"'),'There is no object with key "'.concat(te,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(te,'")` with the correct key.')),console.warn('Object key "'.concat(te,'" does not exist.'));return}H.deleteObject(te)}},Vx=tr,sO=class{constructor(C,H){this.template=C,this.instanceId=H,Y(this,"_objects",new Vx.Atom({})),Y(this,"_sequence"),Y(this,"address"),Y(this,"publicApi"),Y(this,"project"),Y(this,"objectsP",this._objects.pointer),Y(this,"type","Theatre_Sheet"),Y(this,"_logger"),this._logger=C.project._logger.named("Sheet",H),this._logger._trace("creating sheet"),this.project=C.project,this.address=F(N({},C.address),{sheetInstanceId:this.instanceId}),this.publicApi=new oO(this)}createObject(C,H,te,we={}){const tt=this.template.getObjectTemplate(C,H,te,we).createInstance(this,H,te);return this._objects.setByPointer(Ct=>Ct[C],tt),tt}getObject(C){return this._objects.get()[C]}deleteObject(C){this._objects.reduce(H=>{const te=N({},H);return delete te[C],te})}getSequence(){if(!this._sequence){const C=(0,Vx.prism)(()=>{const te=(0,Vx.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return aO(te)}),H=(0,Vx.prism)(()=>{const te=(0,Vx.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return TT(te)});this._sequence=new q3(this.template.project,this,C,H)}return this._sequence}},aO=C=>typeof C=="number"&&isFinite(C)&&C>0?C:10,TT=C=>typeof C=="number"&&xi(C)&&C>=1&&C<=1e3?C:30,Hz=class{constructor(C,H){this.project=C,Y(this,"type","Theatre_SheetTemplate"),Y(this,"address"),Y(this,"_instances",new z3.Atom({})),Y(this,"instancesP",this._instances.pointer),Y(this,"_objectTemplates",new z3.Atom({})),Y(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=F(N({},C.address),{sheetId:H})}getInstance(C){let H=this._instances.get()[C];return H||(H=new sO(this,C),this._instances.setByPointer(te=>te[C],H)),H}getObjectTemplate(C,H,te,we){let De=this._objectTemplates.get()[C];return De||(De=new F3(this,C,H,te,we),this._objectTemplates.setByPointer(tt=>tt[C],De)),De}},PT=tr,lO=tr,Gz=C=>new Promise(H=>setTimeout(H,C)),um=Gz;function Pf(C){for(var H=arguments.length,te=Array(H>1?H-1:0),we=1;we<H;we++)te[we-1]=arguments[we];throw Error("[Immer] minified error nr: "+C+(te.length?" "+te.map(function(De){return"'"+De+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e0(C){return!!C&&!!C[kf]}function Jg(C){return!!C&&(function(H){if(!H||typeof H!="object")return!1;var te=Object.getPrototypeOf(H);if(te===null)return!0;var we=Object.hasOwnProperty.call(te,"constructor")&&te.constructor;return we===Object||typeof we=="function"&&Function.toString.call(we)===dO}(C)||Array.isArray(C)||!!C[Yx]||!!C.constructor[Yx]||kE(C)||$g(C))}function Zg(C){return e0(C)||Pf(23,C),C[kf].t}function gy(C,H,te){te===void 0&&(te=!1),vy(C)===0?(te?Object.keys:NE)(C).forEach(function(we){te&&typeof we=="symbol"||H(we,C[we],C)}):C.forEach(function(we,De){return H(De,we,C)})}function vy(C){var H=C[kf];return H?H.i>3?H.i-4:H.i:Array.isArray(C)?1:kE(C)?2:$g(C)?3:0}function PE(C,H){return vy(C)===2?C.has(H):Object.prototype.hasOwnProperty.call(C,H)}function kT(C,H){return vy(C)===2?C.get(H):C[H]}function IT(C,H,te){var we=vy(C);we===2?C.set(H,te):we===3?(C.delete(H),C.add(te)):C[H]=te}function uO(C,H){return C===H?C!==0||1/C==1/H:C!=C&&H!=H}function kE(C){return cO&&C instanceof Map}function $g(C){return fO&&C instanceof Set}function Ku(C){return C.o||C.t}function Wx(C){if(Array.isArray(C))return Array.prototype.slice.call(C);var H=hO(C);delete H[kf];for(var te=NE(H),we=0;we<te.length;we++){var De=te[we],tt=H[De];tt.writable===!1&&(tt.writable=!0,tt.configurable=!0),(tt.get||tt.set)&&(H[De]={configurable:!0,writable:!0,enumerable:tt.enumerable,value:C[De]})}return Object.create(Object.getPrototypeOf(C),H)}function f_(C,H){return H===void 0&&(H=!1),IE(C)||e0(C)||!Jg(C)||(vy(C)>1&&(C.set=C.add=C.clear=C.delete=Vz),Object.freeze(C),H&&gy(C,function(te,we){return f_(we,!0)},!0)),C}function Vz(){Pf(2)}function IE(C){return C==null||typeof C!="object"||Object.isFrozen(C)}function ng(C){var H=FT[C];return H||Pf(18,C),H}function RT(){return m_}function Xx(C,H){H&&(ng("Patches"),C.u=[],C.s=[],C.v=H)}function Za(C){RE(C),C.p.forEach(BT),C.p=null}function RE(C){C===m_&&(m_=C.l)}function OT(C){return m_={p:[],l:m_,h:C,m:!0,_:0}}function BT(C){var H=C[kf];H.i===0||H.i===1?H.j():H.O=!0}function d_(C,H){H._=H.p.length;var te=H.p[0],we=C!==void 0&&C!==te;return H.h.g||ng("ES5").S(H,C,we),we?(te[kf].P&&(Za(H),Pf(4)),Jg(C)&&(C=t0(H,C),H.l||Cp(H,C)),H.u&&ng("Patches").M(te[kf],C,H.u,H.s)):C=t0(H,te,[]),Za(H),H.u&&H.v(H.u,H.s),C!==LT?C:void 0}function t0(C,H,te){if(IE(H))return H;var we=H[kf];if(!we)return gy(H,function(tt,Ct){return rg(C,we,H,tt,Ct,te)},!0),H;if(we.A!==C)return H;if(!we.P)return Cp(C,we.t,!0),we.t;if(!we.I){we.I=!0,we.A._--;var De=we.i===4||we.i===5?we.o=Wx(we.k):we.o;gy(we.i===3?new Set(De):De,function(tt,Ct){return rg(C,we,De,tt,Ct,te)}),Cp(C,De,!1),te&&C.u&&ng("Patches").R(we,te,C.u,C.s)}return we.o}function rg(C,H,te,we,De,tt){if(e0(De)){var Ct=t0(C,De,tt&&H&&H.i!==3&&!PE(H.D,we)?tt.concat(we):void 0);if(IT(te,we,Ct),!e0(Ct))return;C.m=!1}if(Jg(De)&&!IE(De)){if(!C.h.F&&C._<1)return;t0(C,De),H&&H.A.l||Cp(C,De)}}function Cp(C,H,te){te===void 0&&(te=!1),C.h.F&&C.m&&f_(H,te)}function h_(C,H){var te=C[kf];return(te?Ku(te):C)[H]}function DT(C,H){if(H in C)for(var te=Object.getPrototypeOf(C);te;){var we=Object.getOwnPropertyDescriptor(te,H);if(we)return we;te=Object.getPrototypeOf(te)}}function OE(C){C.P||(C.P=!0,C.l&&OE(C.l))}function BE(C){C.o||(C.o=Wx(C.t))}function yy(C,H,te){var we=kE(H)?ng("MapSet").N(H,te):$g(H)?ng("MapSet").T(H,te):C.g?function(De,tt){var Ct=Array.isArray(De),tn={i:Ct?1:0,A:tt?tt.A:RT(),P:!1,I:!1,D:{},l:tt,t:De,k:null,o:null,j:null,C:!1},dn=tn,Bn=qx;Ct&&(dn=[tn],Bn=ev);var br=Proxy.revocable(dn,Bn),je=br.revoke,qt=br.proxy;return tn.k=qt,tn.j=je,qt}(H,te):ng("ES5").J(H,te);return(te?te.A:RT()).p.push(we),we}function Kx(C){return e0(C)||Pf(22,C),function H(te){if(!Jg(te))return te;var we,De=te[kf],tt=vy(te);if(De){if(!De.P&&(De.i<4||!ng("ES5").K(De)))return De.t;De.I=!0,we=_y(te,tt),De.I=!1}else we=_y(te,tt);return gy(we,function(Ct,tn){De&&kT(De.t,Ct)===tn||IT(we,Ct,H(tn))}),tt===3?new Set(we):we}(C)}function _y(C,H){switch(H){case 2:return new Map(C);case 3:return Array.from(C)}return Wx(C)}var p_,m_,DE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",cO=typeof Map<"u",fO=typeof Set<"u",NT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",LT=DE?Symbol.for("immer-nothing"):((p_={})["immer-nothing"]=!0,p_),Yx=DE?Symbol.for("immer-draftable"):"__$immer_draftable",kf=DE?Symbol.for("immer-state"):"__$immer_state",dO=""+Object.prototype.constructor,NE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:Object.getOwnPropertyNames,hO=Object.getOwnPropertyDescriptors||function(C){var H={};return NE(C).forEach(function(te){H[te]=Object.getOwnPropertyDescriptor(C,te)}),H},FT={},qx={get:function(C,H){if(H===kf)return C;var te=Ku(C);if(!PE(te,H))return function(De,tt,Ct){var tn,dn=DT(tt,Ct);return dn?"value"in dn?dn.value:(tn=dn.get)===null||tn===void 0?void 0:tn.call(De.k):void 0}(C,te,H);var we=te[H];return C.I||!Jg(we)?we:we===h_(C.t,H)?(BE(C),C.o[H]=yy(C.A.h,we,C)):we},has:function(C,H){return H in Ku(C)},ownKeys:function(C){return Reflect.ownKeys(Ku(C))},set:function(C,H,te){var we=DT(Ku(C),H);if(we!=null&&we.set)return we.set.call(C.k,te),!0;if(!C.P){var De=h_(Ku(C),H),tt=De==null?void 0:De[kf];if(tt&&tt.t===te)return C.o[H]=te,C.D[H]=!1,!0;if(uO(te,De)&&(te!==void 0||PE(C.t,H)))return!0;BE(C),OE(C)}return C.o[H]===te&&typeof te!="number"&&(te!==void 0||H in C.o)||(C.o[H]=te,C.D[H]=!0,!0)},deleteProperty:function(C,H){return h_(C.t,H)!==void 0||H in C.t?(C.D[H]=!1,BE(C),OE(C)):delete C.D[H],C.o&&delete C.o[H],!0},getOwnPropertyDescriptor:function(C,H){var te=Ku(C),we=Reflect.getOwnPropertyDescriptor(te,H);return we&&{writable:!0,configurable:C.i!==1||H!=="length",enumerable:we.enumerable,value:te[H]}},defineProperty:function(){Pf(11)},getPrototypeOf:function(C){return Object.getPrototypeOf(C.t)},setPrototypeOf:function(){Pf(12)}},ev={};gy(qx,function(C,H){ev[C]=function(){return arguments[0]=arguments[0][0],H.apply(this,arguments)}}),ev.deleteProperty=function(C,H){return qx.deleteProperty.call(this,C[0],H)},ev.set=function(C,H,te){return qx.set.call(this,C[0],H,te,C[0])};var pO=function(){function C(te){var we=this;this.g=NT,this.F=!0,this.produce=function(De,tt,Ct){if(typeof De=="function"&&typeof tt!="function"){var tn=tt;tt=De;var dn=we;return function(yi){var _i=this;yi===void 0&&(yi=tn);for(var Eo=arguments.length,Fo=Array(Eo>1?Eo-1:0),io=1;io<Eo;io++)Fo[io-1]=arguments[io];return dn.produce(yi,function(fs){var If;return(If=tt).call.apply(If,[_i,fs].concat(Fo))})}}var Bn;if(typeof tt!="function"&&Pf(6),Ct!==void 0&&typeof Ct!="function"&&Pf(7),Jg(De)){var br=OT(we),je=yy(we,De,void 0),qt=!0;try{Bn=tt(je),qt=!1}finally{qt?Za(br):RE(br)}return typeof Promise<"u"&&Bn instanceof Promise?Bn.then(function(yi){return Xx(br,Ct),d_(yi,br)},function(yi){throw Za(br),yi}):(Xx(br,Ct),d_(Bn,br))}if(!De||typeof De!="object")return(Bn=tt(De))===LT?void 0:(Bn===void 0&&(Bn=De),we.F&&f_(Bn,!0),Bn);Pf(21,De)},this.produceWithPatches=function(De,tt){return typeof De=="function"?function(dn){for(var Bn=arguments.length,br=Array(Bn>1?Bn-1:0),je=1;je<Bn;je++)br[je-1]=arguments[je];return we.produceWithPatches(dn,function(qt){return De.apply(void 0,[qt].concat(br))})}:[we.produce(De,tt,function(dn,Bn){Ct=dn,tn=Bn}),Ct,tn];var Ct,tn},typeof(te==null?void 0:te.useProxies)=="boolean"&&this.setUseProxies(te.useProxies),typeof(te==null?void 0:te.autoFreeze)=="boolean"&&this.setAutoFreeze(te.autoFreeze)}var H=C.prototype;return H.createDraft=function(te){Jg(te)||Pf(8),e0(te)&&(te=Kx(te));var we=OT(this),De=yy(this,te,void 0);return De[kf].C=!0,RE(we),De},H.finishDraft=function(te,we){var De=te&&te[kf],tt=De.A;return Xx(tt,we),d_(void 0,tt)},H.setAutoFreeze=function(te){this.F=te},H.setUseProxies=function(te){te&&!NT&&Pf(20),this.g=te},H.applyPatches=function(te,we){var De;for(De=we.length-1;De>=0;De--){var tt=we[De];if(tt.path.length===0&&tt.op==="replace"){te=tt.value;break}}var Ct=ng("Patches").$;return e0(te)?Ct(te,we):this.produce(te,function(tn){return Ct(tn,we.slice(De+1))})},C}(),rd=new pO;rd.produce,rd.produceWithPatches.bind(rd),rd.setAutoFreeze.bind(rd),rd.setUseProxies.bind(rd),rd.applyPatches.bind(rd),rd.createDraft.bind(rd),rd.finishDraft.bind(rd);var wy={currentProjectStateDefinitionVersion:"0.4.0"},Qx=wy;async function mO(C,H,te){await um(0),C.transaction(({drafts:we})=>{var De;const tt=H.address.projectId;we.ephemeral.coreByProject[tt]={lastExportedObject:null,loadingState:{type:"loading"}},we.ahistoric.coreByProject[tt]={ahistoricStuff:""};function Ct(){we.ephemeral.coreByProject[tt].loadingState={type:"loaded"},we.historic.coreByProject[tt]={sheetsById:{},definitionVersion:Qx.currentProjectStateDefinitionVersion,revisionHistory:[]}}function tn(je){we.ephemeral.coreByProject[tt].loadingState={type:"loaded"},we.historic.coreByProject[tt]=je}function dn(){we.ephemeral.coreByProject[tt].loadingState={type:"loaded"}}function Bn(je){we.ephemeral.coreByProject[tt].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:je}}const br=(De=Zg(we.historic))==null?void 0:De.coreByProject[H.address.projectId];br?te&&br.revisionHistory.indexOf(te.revisionHistory[0])==-1?Bn(te):dn():te?tn(te):Ct()})}function zT(){}function UT(C){var H,te;const we=(H=C==null?void 0:C.logging)!=null&&H.internal?(te=C.logging.min)!=null?te:256:1/0,De=we<=128,tt=we<=512,Ct=k3(void 0,{_debug:De?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):zT,_error:tt?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):zT});if(C){const{logger:tn,logging:dn}=C;tn&&Ct.configureLogger(tn),dn?Ct.configureLogging(dn):Ct.configureLogging({dev:!1})}return Ct.getLogger().named("Theatre")}var gO=class{constructor(C,H={},te){this.config=H,this.publicApi=te,Y(this,"pointers"),Y(this,"_pointerProxies"),Y(this,"address"),Y(this,"_studioReadyDeferred"),Y(this,"_assetStorageReadyDeferred"),Y(this,"_readyPromise"),Y(this,"_sheetTemplates",new lO.Atom({})),Y(this,"sheetTemplatesP",this._sheetTemplates.pointer),Y(this,"_studio"),Y(this,"assetStorage"),Y(this,"type","Theatre_Project"),Y(this,"_logger");var we;this._logger=UT({logging:{dev:!0}}).named("Project",C),this._logger.traceDev("creating project"),this.address={projectId:C};const De=new lO.Atom({ahistoric:{ahistoricStuff:""},historic:(we=H.state)!=null?we:{sheetsById:{},definitionVersion:Qx.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=tg(),this.assetStorage={getAssetUrl:tt=>{var Ct;return"".concat((Ct=H.assets)==null?void 0:Ct.baseUrl,"/").concat(tt)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new PT.PointerProxy(De.pointer.historic),ahistoric:new PT.PointerProxy(De.pointer.ahistoric),ephemeral:new PT.PointerProxy(De.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},Me.add(C,this),this._studioReadyDeferred=tg(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),H.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error('Argument config.state in Theatre.getProject("'.concat(C,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(C,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(C,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(C){if(this._studio){if(this._studio!==C)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=C,C.initialized.then(async()=>{var H;await mO(C,this,this.config.state),this._pointerProxies.historic.setPointer(C.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(C.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(C.atomP.ephemeral.coreByProject[this.address.projectId]),await C.createAssetStorage(this,(H=this.config.assets)==null?void 0:H.baseUrl).then(te=>{this.assetStorage=te,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(H=>{throw console.error(H),H})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(C,H="default"){let te=this._sheetTemplates.get()[C];return te||(te=new Hz(this,C),this._sheetTemplates.reduce(we=>F(N({},we),{[C]:te}))),te.getInstance(H)}},LE=class{get type(){return"Theatre_Project_PublicAPI"}constructor(C,H={}){Ye(this,new gO(C,H,this))}get ready(){return Ke(this).ready}get isReady(){return Ke(this).isReady()}get address(){return N({},Ke(this).address)}getAssetUrl(C){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return C.id?Ke(this).assetStorage.getAssetUrl(C.id):void 0}sheet(C,H="default"){const te=MT(C);return Ke(this).getOrCreateSheet(te,H).publicApi}};j(Se());var Jx=tr,FE=tr;function Zx(C,H={}){const te=Me.get(C);if(te)return te.publicApi;const De=UT().named("Project",C);return H.state?(yO(C,H.state),De._debug("deep validated config.state on disk")):De._debug("no config.state"),new LE(C,H)}var vO=(C,H)=>{if(Array.isArray(H)||H==null||H.definitionVersion!==Qx.currentProjectStateDefinitionVersion)throw new Fx("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(C),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},yO=(C,H)=>{vO(C,H)};function zE(C,H,te){const we=te?Ke(te).ticker:ST();if((0,Jx.isPointer)(C))return(0,FE.pointerToPrism)(C).onChange(we,H,!0);if((0,FE.isPrism)(C))return C.onChange(we,H,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function jT(C){if((0,Jx.isPointer)(C))return(0,FE.pointerToPrism)(C).getValue();throw new Error("Called val(p) where p is not a pointer.")}var _O=class{constructor(){Y(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.0"}getBitsForStudio(C,H){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=C;const te={projectsP:Me.atom.pointer.projects,privateAPI:Ke,coreExports:X,getCoreRafDriver:W3};H(te)}};HT();function HT(){if(typeof window>"u")return;const C=window[CE];if(typeof C<"u")throw typeof C=="object"&&C&&typeof C.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(CE," seems to be already set by a module other than @theatre/core."));const H=new _O;window[CE]=H;const te=window[G3];te&&te!==null&&te.type==="Theatre_StudioBundle"&&te.registerCoreBundle(H)}/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)
	*/})(KL,KL.exports);var Cs=KL.exports,tVe=Object.create,zY=Object.defineProperty,nVe=Object.defineProperties,rVe=Object.getOwnPropertyDescriptor,iVe=Object.getOwnPropertyDescriptors,XAe=Object.getOwnPropertyNames,YL=Object.getOwnPropertySymbols,oVe=Object.getPrototypeOf,UY=Object.prototype.hasOwnProperty,KAe=Object.prototype.propertyIsEnumerable,b_e=(n,e,t)=>e in n?zY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ru=(n,e)=>{for(var t in e||(e={}))UY.call(e,t)&&b_e(n,t,e[t]);if(YL)for(var t of YL(e))KAe.call(e,t)&&b_e(n,t,e[t]);return n},ah=(n,e)=>nVe(n,iVe(e)),jY=(n,e)=>{var t={};for(var r in n)UY.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&YL)for(var r of YL(n))e.indexOf(r)<0&&KAe.call(n,r)&&(t[r]=n[r]);return t},sVe=(n,e)=>function(){return e||(0,n[XAe(n)[0]])((e={exports:{}}).exports,e),e.exports},aVe=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of XAe(e))!UY.call(n,o)&&o!==t&&zY(n,o,{get:()=>e[o],enumerable:!(r=rVe(e,o))||r.enumerable});return n},lVe=(n,e,t)=>(t=n!=null?tVe(oVe(n)):{},aVe(e||!n||!n.__esModule?zY(t,"default",{value:n,enumerable:!0}):t,n)),uVe=sVe({"../../node_modules/zustand/vanilla.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t){var r,o=new Set,s=function(P,N){var F=typeof P=="function"?P(r):P;if(F!==r){var K=r;r=N?F:Object.assign({},r,F),o.forEach(function(D){return D(r,K)})}},c=function(){return r},d=function(P,N,F){N===void 0&&(N=c),F===void 0&&(F=Object.is);var K=N(r);function D(){var I=N(r);if(!F(K,I)){var j=K;P(K=I,j)}}return o.add(D),function(){return o.delete(D)}},g=function(P,N,F){return N||F?d(P,N,F):(o.add(P),function(){return o.delete(P)})},_=function(){return o.clear()},b={setState:s,getState:c,subscribe:g,destroy:_};return r=t(s,c,b),b}n.default=e}}),cVe=lVe(uVe()),qL=new WeakSet,fVe=(n,e)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new U0,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(t,r)=>{n({scene:t,gl:r}),e().createSnapshot()},addEditable:(t,r)=>{n(o=>({editables:ah(ru({},o.editables),{[t]:r})}))},removeEditable:t=>{n(r=>{const o=ru({},r.editables);return delete o[t],{editables:o}})},createSnapshot:()=>{n(t=>{var r,o;return{sceneSnapshot:(o=(r=t.scene)==null?void 0:r.clone())!=null?o:null,editablesSnapshot:t.editables}})},setSnapshotProxyObject:(t,r)=>{n(o=>({editablesSnapshot:ah(ru({},o.editablesSnapshot),{[r]:ah(ru({},o.editablesSnapshot[r]),{proxyObject:t})})}))}}),Jb=(0,cVe.default)(fVe),dVe=({gl:n,scene:e})=>{const t=Jb.getState().init;t(e,n)};function HY(n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function hVe(){return fh(({invalidate:n})=>n)}var YAe=an.createContext(void 0),pVe=()=>{const n=an.useContext(YAe);if(!n)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return n},qAe=()=>pVe().sheet,mVe=({sheet:n,children:e})=>{const{scene:t,gl:r}=fh(o=>({scene:o.scene,gl:o.gl}));return an.useEffect(()=>{if(!n||n.type!=="Theatre_Sheet_PublicAPI")throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")},[n]),an.useLayoutEffect(()=>{dVe({gl:r,scene:t})},[t,r]),c1.createElement(YAe.Provider,{value:{sheet:n}},e)},gVe=mVe;function QAe(n){return typeof n=="number"&&isFinite(n)}function vVe(n){return["x","y","z"].every(e=>QAe(n[e]))}var SX=n=>n?{x:n[0],y:n[1],z:n[2]}:{x:0,y:0,z:0},cV=(n,e=SX(),{nudgeMultiplier:t=.01}={})=>({parse:r=>{const o=r[n],s=o?Array.isArray(o)?SX(o):QAe(o)?{x:o,y:o,z:o}:vVe(o)?{x:o.x,y:o.y,z:o.z}:(Cs.notify.warning(`Invalid value for vector prop "${n}"`,`Couldn't make sense of \`${n}={${JSON.stringify(o)}}\`, falling back to \`${n}={${JSON.stringify([e.x,e.y,e.z])}}\`.

To fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`),e):e;return["x","y","z"].forEach(c=>{r[`${n}-${c}`]&&(s[c]=r[`${n}-${c}`])}),s},apply:(r,o)=>{o[n].set(r.x,r.y,r.z)},type:{[n]:{x:Cs.types.number(e.x,{nudgeMultiplier:t}),y:Cs.types.number(e.y,{nudgeMultiplier:t}),z:Cs.types.number(e.z,{nudgeMultiplier:t})}}}),Lp=(n,e=0,{nudgeMultiplier:t=.01}={})=>({parse:r=>{var o;return(o=r[n])!=null?o:e},apply:(r,o)=>{o[n]=r},type:{[n]:Cs.types.number(e,{nudgeMultiplier:t})}}),HC=(n,e=new Dr(0,0,0))=>({parse:t=>{var r;return ah(ru({},(r=t[n])!=null?r:e),{a:1})},apply:(t,r)=>{r[n].setRGB(t.r,t.g,t.b)},type:{[n]:Cs.types.rgba(ah(ru({},e),{a:1}))}}),rR=(n,e)=>ah(ru({},n),{props:ru(ru({},n.props),e)}),a1={props:{position:cV("position"),rotation:cV("rotation"),scale:cV("scale",SX([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:n=>new VL(n,GC)},E_e=ah(ru({},rR(a1,{intensity:Lp("intensity",1),distance:Lp("distance"),decay:Lp("decay"),color:HC("color",new Dr("white"))})),{dimensionless:!0}),A_e=ah(ru({},rR(a1,{near:Lp("near",.1,{nudgeMultiplier:.1}),far:Lp("far",2e3,{nudgeMultiplier:.1})})),{updateObject:n=>{n.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:n=>new oAe(n)}),GC="#40AAA4",yVe={group:ah(ru({},a1),{icon:"collection",createHelper:n=>new VL(n,GC)}),mesh:ah(ru({},a1),{icon:"cube",createHelper:n=>new VL(n,GC)}),spotLight:ah(ru({},rR(E_e,{angle:Lp("angle",0,{nudgeMultiplier:.001}),penumbra:Lp("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:n=>new TY(n,GC)}),directionalLight:ah(ru({},rR(a1,{intensity:Lp("intensity",1),color:HC("color",new Dr("white"))})),{icon:"sun",dimensionless:!0,createHelper:n=>new iAe(n,1,GC)}),pointLight:ah(ru({},E_e),{icon:"lightBulb",createHelper:n=>new rAe(n,1,GC)}),ambientLight:{props:{intensity:Lp("intensity",1),color:HC("color",new Dr("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:Lp("intensity",1),color:HC("color",new Dr("white")),groundColor:HC("groundColor",new Dr("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:rR(A_e,{fov:Lp("fov",50,{nudgeMultiplier:.1}),zoom:Lp("zoom",1)}),orthographicCamera:A_e,points:a1,line:a1,lineLoop:a1,lineSegments:a1,fog:{props:{color:HC("color"),near:Lp("near",1,{nudgeMultiplier:.1}),far:Lp("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},_Ve=yVe;Jb.getState().createSnapshot;var JAe=n=>`${n.sheetId}:${n.sheetInstanceId}:${n.objectKey}`,wVe=an.createContext(void 0),xVe=()=>{var n;return(n=an.useContext(wVe))==null?void 0:n.rafDriver},SVe=n=>{const e=(r,o)=>{if(r!=="primitive"&&!o)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return an.forwardRef((s,c)=>{var d=s,{theatreKey:g,visible:_,editableType:b,additionalProps:A,objRef:P}=d,N=jY(d,["theatreKey","visible","editableType","additionalProps","objRef"]);if(typeof g!="string")throw new Error(`No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${g}`);if(r==="primitive"&&!b)throw new Error(`When using the primitive component, you must provide the editableType prop. Received: ${b}`);const F=o??b,K=an.useRef(),D=qAe(),I=xVe(),[j,T]=an.useState(void 0),Y=an.useMemo(()=>JAe(ah(ru({},D.address),{objectKey:g})),[D,g]),ce=hVe();return an.useEffect(()=>{if(r==="perspectiveCamera"||r==="orthographicCamera"){const le=r.charAt(0).toUpperCase()+r.slice(1);Cs.notify.warning(`Possibly incorrect use of <e.${r} />`,`You seem to have declared the camera "${g}" simply as \`<e.${r} ... />\`. This alone won't make r3f use it for rendering.

The easiest way to create a custom animatable \`${le}\` is to import it from \`@react-three/drei\`, and make it editable.
\`\`\`
import {${le}} from '@react-three/drei'

const EditableCamera =
  editable(${le}, '${r}')
\`\`\`
Then you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.
\`\`\`
<EditableCamera
  theatreKey="${g}"
  makeDefault
>
\`\`\`
`)}},[r,g]),an.useLayoutEffect(()=>{if(D)if(j){D.object(g,Object.assign(ru({},A),...Object.values(n[F].props).map(le=>le.type)),{reconfigure:!0});return}else{const le=D.object(g,Object.assign(ru({},A),...Object.values(n[F].props).map(Z=>Z.type)));qL.add(le),T(le),P&&(typeof P=="function"?P(le):P.current=le),Jb.getState().addEditable(Y,{type:F,sheetObject:le,visibleOnlyInEditor:_==="editor",objectConfig:n[F]})}},[D,Y,A]),an.useLayoutEffect(()=>{j&&(j.initialValue=Object.fromEntries(Object.entries(n[F].props).map(([le,Z])=>[le,Z.parse(N)])))},[j,...Object.keys(n[F].props).map(le=>N[le])]),an.useLayoutEffect(()=>{if(!j)return;const le=K.current,Z=Le=>{var X,fe;Object.entries(n[F].props).forEach(([st,Ue])=>Ue.apply(Le[st],le)),(fe=(X=n[F]).updateObject)==null||fe.call(X,le),ce()};Z(j.value);const Se=j.onValuesChange(Z,I);return()=>{Se(),j.sheet.detachObject(g),qL.delete(j),Jb.getState().removeEditable(Y)}},[j,I]),c1.createElement(r,ah(ru({ref:HY([K,c])},N),{visible:_!=="editor"&&_,userData:{__editable:!0,__storeKey:Y}}))})},t=ah(ru({},Object.fromEntries(Object.keys(n).map(r=>[r,e(r,r)]))),{primitive:e("primitive",null)});return Object.assign(e,t)},bVe=SVe(_Ve),GY=bVe,EVe=GY(an.forwardRef((n,e)=>{var t=n,{makeDefault:r,lookAt:o}=t,s=jY(t,["makeDefault","lookAt"]);const c=fh(({set:b})=>b),d=fh(({camera:b})=>b),g=fh(({size:b})=>b),_=an.useRef(null);return an.useLayoutEffect(()=>{s.manual||(_.current.aspect=g.width/g.height)},[g,s]),an.useLayoutEffect(()=>{_.current.updateProjectionMatrix()}),an.useLayoutEffect(()=>{if(r){const b=d;return c(()=>({camera:_.current})),()=>c(()=>({camera:b}))}},[_,r,c]),k1(()=>{var b;if(o&&_.current){_.current.lookAt(Array.isArray(o)?new Je(...o):o.current?o.current.position:o);const A=Jb.getState().editablesSnapshot;A&&((b=A[_.current.userData.__storeKey].proxyObject)==null||b.rotation.copy(_.current.rotation))}}),an.createElement("perspectiveCamera",ru({ref:HY([_,e])},s))}),"perspectiveCamera");GY(an.forwardRef((n,e)=>{var t=n,{makeDefault:r,lookAt:o}=t,s=jY(t,["makeDefault","lookAt"]);const c=fh(({set:b})=>b),d=fh(({camera:b})=>b),g=fh(({size:b})=>b),_=an.useRef(null);return an.useLayoutEffect(()=>{s.manual||_.current.updateProjectionMatrix()},[g,s]),an.useLayoutEffect(()=>{_.current.updateProjectionMatrix()}),an.useLayoutEffect(()=>{if(r){const b=d;return c(()=>({camera:_.current})),()=>c(()=>({camera:b}))}},[_,r,c]),k1(()=>{var b;if(o&&_.current){_.current.lookAt(Array.isArray(o)?new Je(...o):o.current?o.current.position:o);const A=Jb.getState().editablesSnapshot;A&&((b=A[_.current.userData.__storeKey].proxyObject)==null||b.rotation.copy(_.current.rotation))}}),an.createElement("orthographicCamera",ru({left:g.width/-2,right:g.width/2,top:g.height/2,bottom:g.height/-2,ref:HY([_,e])},s))}),"orthographicCamera");const AVe=()=>{var _,b;const[n]=zM(FY),[,e]=zM(WAe),t=JF("./room3-21.glb");an.useEffect(()=>(e(!0),()=>{e(!1)}),[]);const r=IGe(t.animations,t.scene),[o,s]=an.useState(!1),c=((b=(_=r.actions.Door)==null?void 0:_.getClip())==null?void 0:b.duration)||0,d=an.useRef(c/2),g=r.mixer;return an.useEffect(()=>{if(n>=22){const A=r.actions.Door;A.play(),setTimeout(()=>{A.paused=!0,g.update(d.current),s(!0)},d.current*1e3)}},[n,o,r.actions,g]),xn.jsx(xn.Fragment,{children:xn.jsx("mesh",{children:xn.jsx("primitive",{object:t.scene})})})},CVe=({children:n,customAnimation:e,customJustify:t,customMargin:r})=>xn.jsx(xn.Fragment,{children:xn.jsx("div",{className:`pointer-events-none absolute z-10 w-screen h-screen flex flex-col  ${e}  ${t} ${r}`,children:n})}),Sm=({children:n,customClassName:e})=>xn.jsx(xn.Fragment,{children:xn.jsx("div",{className:`mx-auto max-w-[40vw]  ${e}`,children:n})}),BC=({children:n,customAnimation:e,customJustify:t,customMargin:r})=>xn.jsx(xn.Fragment,{children:xn.jsx("div",{className:`pointer-events-none absolute z-10 w-screen h-screen flex flex-col ${e} ${t} ${r}`,children:n})}),Wo={global:"global",vision:"vision",communication:"communication",Num1:"VR & Metaverse",ContentNum1a:"Reliable partner for your 360° Virtual Reality (VR) Experience",ContentNum1b:"At globalvision, we produce high-quality interactive and 360° 3D content for our customers, whether for simulation or contemplative experiences.",ContentNum1c:"Our services include:",ContentNum1d:`1. Conceptualisation of ideas and development of a scenario in line with the customer’s needs.

                2. Capture of 360° images or modelling of digital environments / 3D objects.

                3. Post-production: adding interactions, scenario elements and other advanced functions.

                4. Finalization: packaging the experience in an appropriate format (.apk, .exe, or online experience).`,ContentNum1e:"We work with latest 6DOF Virtual Reality headsets, and create experiences both for PC-based VR and for standalone devices like Meta Quest 3.",ContentNum1f:"Reach out to us to learn more about our capabilities and how we can bring your project to life.",Num2:"Augmented Reality",ContentNum2a:"Transform your products presentation with Augmented Reality",ContentNum2b:"Elevate your brand experience, or augment your physical displays, with Augmented Reality (AR).",ContentNum2c:"We code native apps and webAR platforms, compatible with all major brands, from concept to screens.",ContentNum2d:"We convey the message and visuals you have in mind, and ensure it displays smoothly for your viewers.",ContentNum2e:"Our services include:",ContentNum2f:`1. App / webAR experience design, UI / UX and conceptual guidelines.

                2. A supportive team for your 3D design, interface and custom features and coding.

                3. Dedicated or cross-compatible tools that helps to promote your experience to your particular audience.

                4. Upload of your app on the major app stores (Android, Apple) or online on a dedicated hosting.`,Num3:"Artificial intelligence",ContentNum3a:"Harness the power of AI with experts",ContentNum3b:"We make Artificial Intelligence work for you. Through generative images, custom-trained chatbots, or LLM deployment for your own corporate needs, we deploy AI solutions that fit in your processes.",ContentNum3c:"Our tools a custom-built to your needs, and trained with your own data, so it matches your exact standards.",ContentNum3d:"Get the consulting you need, and the tools you demand with our dedicated team of experts, working across tech stacks for your best interests.",ContentNum3e:"We deploy the following services:",ContentNum3f:`1. Consulting and workshops organization for corporate needs.

                2. Creation and deployment of custom-trained chatbots and LLMs.

                3. 3D avatar assistants creation (digital twins / employees replicas)

                4. Pre-trained models for HR / Sales / Administrative tasks.`,Num4:"Rental services",ContentNum4a:"Rent VR / AR / Visual hardware for your events",ContentNum4b:"It is possible to rent all necessary equipment for your next hi-tech event. Whether you need VR headsets, or complete streaming solution, we have you covered.",ContentNum4c:"Our rental service allows every customer to rent the needed material for a reasonable costs and zero hassle.",ContentNum4d:"All equipments are readily available in our office in Geneva, Switzerland. Our team can also accompany and support your event with on-site event services.",ContentNum4e:"Rent the following equipment with us:",ContentNum4f:`1. Virtual Reality: Meta Quest 2 and Meta Quest 3 headsets, UV-C sanitization systems, events kits.

                2. Augmented Reality: tablets and mixed-Reality devices, holograms, accessories.

                3. Events streaming: all sound and video equipment (4K cameras, video mixer) for live streaming of events.

                4. Lights, LED panels, ambiant strips.`,Num5:"Video & streaming",ContentNum5a:"Video production and live streaming of your events with us",ContentNum5b:"Quality video production and live streaming of your events is handled at highest level of service with GlobalVision. ",ContentNum5c:"We deploy 4k video equipment, with multi-camera service, video mixer and augmented layer of graphics to bring your production quality up. Wether in studio condition, or as a live production, we enable your event to reach a wider audience and get recorded and archived properly. We provide all necessary equipment for stage lighting, video capture and live online streaming.",ContentNum5d:"Contact us today to discuss your video needs and how we can help.",Num6:"Company",ContentNum6a:"We are GlobalVision: partner in Visual Innovation",ContentNum6b:"We are a small, agile team of professionals, bringing projects to life. AR / VR / AI specialists, programmers, 3D designers, UI/UX and events specialists. We are based in Geneva, Switzerland and have a regional office in Ho Chi Minh city, Vietnam. We are delivering successes since 1998 and for many years to come. ",ContentNum6c:"If you would like to know more about us, just get in touch. ",Num7:"Contact us",ContentNum7a:"Feel inspired to get in touch?",ContentNum7b:"Contact us using the form, give us a call or come drink a coffee in the office:",ContentNum7c:`GlobalVision Communication sàrl

                37 ch. J.-Ph. de Sauvage

                1219 Chatelaine

                Geneva, Switzerland`};kY({SpotLightHelper:TY});const C_e=({showHelper:n=!0,...e})=>{fh();const t=an.useRef(),r=an.useRef();return k1(()=>{n&&r.current&&r.current.update()}),xn.jsx(GY.spotLight,{ref:t,...e})};function MVe(){const n=Cs.getProject("Product Animation").sheet("Scene"),[e]=zM(FY),[t]=zM(WAe);an.useEffect(()=>{console.log("Room model load state (logged from App):",t)},[t]);const r=e===1,o=e>=3&&e<5,s=e===4,c=e>=7&&e<9,d=e>=8&&e<9,g=e>=12&&e<14,_=e>=13&&e<14,b=e>=18&&e<20,A=e>=19&&e<20,P=e>=24&&e<26,N=e>=25&&e<26,F=e>=29&&e<31,K=e===28&&e<29,[D,I]=an.useState("hidden");return an.useEffect(()=>(I(o||s||c||g||_||b||A||P||N||F||K?"":t?"fade-out":"hidden"),()=>{I("hidden")}),[o,s,c,g,_,b,A,P,N,K,F]),xn.jsxs(xn.Fragment,{children:[t&&xn.jsxs(xn.Fragment,{children:[xn.jsx(CVe,{customAnimation:`bg-zinc-200/50 ${r?"fade-in":"fade-out"}`,customJustify:"justify-center items-center",children:xn.jsx(Sm,{customClassName:`${r?"fade-in":"fade-out"}`,children:xn.jsxs("h1",{className:" flex",children:[xn.jsx("span",{className:"text-7xl text-black mr-1",children:Wo.global}),xn.jsxs("div",{className:"flex flex-col justify-center items-center",children:[xn.jsx("span",{className:"text-7xl text-[#61c7e3]",children:Wo.vision}),xn.jsx("p",{className:"text-2xl text-black",children:Wo.communication})]})]})})}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950  ${s?"fade-in":"fade-out"}`,customJustify:"justify-start items-center max-w-[10] mx-auto",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${o?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num1})})}),s&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum1a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum1b})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum1c})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum1d.toString().split(`
`).map((j,T)=>xn.jsxs(c1.Fragment,{children:[j,xn.jsx("p",{})]},T))})})]})]}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950/50   ${c?"fade-in":"fade-out"}`,customJustify:"w-1/2 flex justify-start items-center mx-auto",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${c?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num2})})}),d&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum2a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum2b})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum2c})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum2d})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum2e})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum2f.toString().split(`
`).map((j,T)=>xn.jsxs(c1.Fragment,{children:[j,xn.jsx("p",{})]},T))})})]})]}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950/50   ${g?"fade-in":"fade-out"}`,customJustify:"w-1/2 flex justify-start items-center mx-auto right-0",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${g?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num3})})}),_&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum3a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum3b})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum3c})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum3d})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum3e})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum3f.toString().split(`
`).map((j,T)=>xn.jsxs(c1.Fragment,{children:[j,xn.jsx("p",{})]},T))})})]})]}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950/50   ${b?"fade-in":"fade-out"}`,customJustify:"w-1/2 flex justify-start items-center mx-auto right-0",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${b?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num4})})}),A&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum4a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum4b})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum4c})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum4d})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum4e})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum4f.toString().split(`
`).map((j,T)=>xn.jsxs(c1.Fragment,{children:[j,xn.jsx("p",{})]},T))})})]})]}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950/50   ${P?"fade-in":"fade-out"}`,customJustify:"w-1/2 flex justify-start items-center mx-auto right-0",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${P?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num5})})}),N&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum5a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum5b})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum5c})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum5d})})]})]}),xn.jsxs(BC,{customAnimation:`${D} bg-neutral-950/50   ${K?"fade-in":"fade-out"}`,customJustify:"w-1/2 flex justify-start items-center mx-auto ",customMargin:"",children:[xn.jsx(Sm,{customClassName:`${K?"fade-in":"fade-out"}`,children:xn.jsx("h1",{className:"flex",children:xn.jsx("span",{className:"text-7xl text-white mr-1",children:Wo.Num7})})}),K&&xn.jsxs(Sm,{customClassName:`${D} fade-in`,children:[xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-2xl text-white mr-1",children:Wo.ContentNum7a})}),xn.jsx("br",{}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum7b})}),xn.jsx("p",{className:"flex",children:xn.jsx("span",{className:"text-1xl text-white mr-1",children:Wo.ContentNum7c.toString().split(`
`).map((j,T)=>xn.jsxs(c1.Fragment,{children:[j,xn.jsx("p",{})]},T))})})]})]})]}),xn.jsx($He,{gl:{physicallyCorrectiLights:!0,preserveDrawingBuffer:!0},children:xn.jsxs(P7e,{pages:14,distance:1,damping:.4,children:[xn.jsx(gVe,{sheet:n,children:xn.jsx(TVe,{})}),xn.jsx(R7e,{html:!0})]})})]})}const TVe=()=>{const n=qAe(),e=BY(),[t,r]=zM(eVe),[o,s]=zM(FY),c=Cs.val(n.sequence.pointer.length);function d(g,_){const b=Math.floor(g.offset*g.pages)+1,A=g.offset*g.pages%1,P=Math.floor(A*2)+1,N=(b-1)*2+P;console.log("Current page:",b),console.log("Current Scene:",N),_(b),s(N)}return k1(()=>{e&&(d(e,r),n.sequence.position=e.offset*c)}),an.useEffect(()=>{console.log("Current Scene:",o)},[o]),xn.jsxs(xn.Fragment,{children:[xn.jsx("color",{attach:"background",args:["black"]}),xn.jsx(zGe,{preset:"city"}),xn.jsx(EVe,{theatreKey:"Camera",makeDefault:!0,position:[0,0,0],fov:35,near:.1,far:70}),xn.jsx(C_e,{theatreKey:"spot light 1",intensity:1,position:[1,0,0],showHelper:!1}),xn.jsx(C_e,{theatreKey:"spot light 2",intensity:1,position:[0,0,0],showHelper:!1}),xn.jsx(AVe,{})]})};function B5(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QL={exports:{}};QL.exports;(function(n,e){var t={},r=Object.create,o=Object.freeze,s=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,A=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,F=(i,l)=>{if(l=Symbol[i])return l;throw Error("Symbol."+i+" is not defined")},K=(i,l,u)=>l in i?s(i,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[l]=u,D=(i,l)=>{for(var u in l||(l={}))P.call(l,u)&&K(i,u,l[u]);if(b)for(var u of b(l))N.call(l,u)&&K(i,u,l[u]);return i},I=(i,l)=>c(i,g(l)),j=(i,l)=>{var u={};for(var m in i)P.call(i,m)&&l.indexOf(m)<0&&(u[m]=i[m]);if(i!=null&&b)for(var m of b(i))l.indexOf(m)<0&&N.call(i,m)&&(u[m]=i[m]);return u},T=(i,l)=>()=>(i&&(l=i(i=0)),l),Y=(i,l)=>()=>(l||i((l={exports:{}}).exports,l),l.exports),ce=(i,l)=>{for(var u in l)s(i,u,{get:l[u],enumerable:!0})},le=(i,l,u,m)=>{if(l&&typeof l=="object"||typeof l=="function")for(let w of _(l))!P.call(i,w)&&w!==u&&s(i,w,{get:()=>l[w],enumerable:!(m=d(l,w))||m.enumerable});return i},Z=(i,l,u)=>(u=i!=null?r(A(i)):{},le(l||!i||!i.__esModule?s(u,"default",{value:i,enumerable:!0}):u,i)),Se=i=>le(s({},"__esModule",{value:!0}),i),Le=(i,l,u)=>(K(i,typeof l!="symbol"?l+"":l,u),u),X=(i,l)=>o(s(i,"raw",{value:o(l||i.slice())})),fe=(i,l,u)=>new Promise((m,w)=>{var E=L=>{try{k(u.next(L))}catch(U){w(U)}},M=L=>{try{k(u.throw(L))}catch(U){w(U)}},k=L=>L.done?m(L.value):Promise.resolve(L.value).then(E,M);k((u=u.apply(i,l)).next())}),st=function(i,l){this[0]=i,this[1]=l},Ue=i=>{var l=i[F("asyncIterator")],u=!1,m,w={};return l==null?(l=i[F("iterator")](),m=E=>w[E]=M=>l[E](M)):(l=l.call(i),m=E=>w[E]=M=>{if(u){if(u=!1,E==="throw")throw M;return M}return u=!0,{done:!1,value:new st(new Promise(k=>{var L=l[E](M);if(!(L instanceof Object))throw TypeError("Object expected");k(L)}),1)}}),w[F("iterator")]=()=>w,m("next"),"throw"in l?m("throw"):w.throw=E=>{throw E},"return"in l&&m("return"),w};function Me(i){Ke=i}function be(){return Ke}var Ke,Ye=T(()=>{});function de(i,l,u=[]){if(typeof i=="object"&&i){if(ve(i)||ye(i)){l(i,u);return}for(let[m,w]of Object.entries(i))de(w,l,[...u,m])}else{if(i==null)return;l(i,u)}}var ve,ye,_e=T(()=>{ve=i=>typeof i=="object"&&i!==null&&Object.hasOwnProperty.call(i,"type")&&i.type==="image"&&Object.hasOwnProperty.call(i,"id")&&typeof i.id=="string"&&i.id!=="",ye=i=>typeof i=="object"&&i!==null&&Object.hasOwnProperty.call(i,"r")&&Object.hasOwnProperty.call(i,"g")&&Object.hasOwnProperty.call(i,"b")&&Object.hasOwnProperty.call(i,"a")&&typeof i.r=="number"&&typeof i.g=="number"&&typeof i.b=="number"&&typeof i.a=="number"});function ge(i){return l=>typeof l=="object"&&!!l&&l.type===i}var dt,qe,_t,Qe,zt,Lt,Kt,ln=T(()=>{dt=ge("Theatre_Project"),qe=ge("Theatre_Sheet"),_t=ge("Theatre_SheetTemplate"),Qe=ge("Theatre_SheetObject"),zt=ge("Theatre_SheetObjectTemplate"),Lt=ge("Theatre_Sheet_PublicAPI"),Kt=ge("Theatre_SheetObject_PublicAPI")}),bn,Ze,nn=T(()=>{bn=typeof eu=="object"&&eu&&eu.Object===Object&&eu,Ze=bn}),jt,fn,cn,Dn=T(()=>{nn(),jt=typeof self=="object"&&self&&self.Object===Object&&self,fn=Ze||jt||Function("return this")(),cn=fn}),Qn,nr,Tr=T(()=>{Dn(),Qn=cn.Symbol,nr=Qn});function ct(i){var l=rn.call(i,Pn),u=i[Pn];try{i[Pn]=void 0;var m=!0}catch{}var w=Dt.call(i);return m&&(l?i[Pn]=u:delete i[Pn]),w}var Ne,rn,Dt,Pn,Wn,ei=T(()=>{Tr(),Ne=Object.prototype,rn=Ne.hasOwnProperty,Dt=Ne.toString,Pn=nr?nr.toStringTag:void 0,Wn=ct});function jr(i){return vr.call(i)}var Yn,vr,Mt,Zt=T(()=>{Yn=Object.prototype,vr=Yn.toString,Mt=jr});function yr(i){return i==null?i===void 0?Hr:hr:Rr&&Rr in Object(i)?Wn(i):Mt(i)}var hr,Hr,Rr,wr,qr=T(()=>{Tr(),ei(),Zt(),hr="[object Null]",Hr="[object Undefined]",Rr=nr?nr.toStringTag:void 0,wr=yr});function ri(i){return i!=null&&typeof i=="object"}var Nn,Bt=T(()=>{Nn=ri});function _r(i){return typeof i=="symbol"||Nn(i)&&wr(i)==Xt}var Xt,er,xr=T(()=>{qr(),Bt(),Xt="[object Symbol]",er=_r});function Mi(i,l){for(var u=-1,m=i==null?0:i.length,w=Array(m);++u<m;)w[u]=l(i[u],u,i);return w}var Di,eo=T(()=>{Di=Mi}),Ro,Ri,to=T(()=>{Ro=Array.isArray,Ri=Ro});function _s(i){if(typeof i=="string")return i;if(Ri(i))return Di(i,_s)+"";if(er(i))return ss?ss.call(i):"";var l=i+"";return l=="0"&&1/i==-zs?"-0":l}var zs,ol,ss,ks,fi=T(()=>{Tr(),eo(),to(),xr(),zs=1/0,ol=nr?nr.prototype:void 0,ss=ol?ol.toString:void 0,ks=_s});function ba(i){for(var l=i.length;l--&&su.test(i.charAt(l)););return l}var su,Re,$e=T(()=>{su=/\s/,Re=ba});function At(i){return i&&i.slice(0,Re(i)+1).replace(Pe,"")}var Pe,at,pt=T(()=>{$e(),Pe=/^\s+/,at=At});function St(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}var yt,on=T(()=>{yt=St});function Sn(i){if(typeof i=="number")return i;if(er(i))return In;if(yt(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=yt(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=at(i);var u=sr.test(i);return u||Un.test(i)?qn(i.slice(2),u?2:8):kn.test(i)?In:+i}var In,kn,sr,Un,qn,Er,Qr=T(()=>{pt(),on(),xr(),In=NaN,kn=/^[-+]0x[0-9a-f]+$/i,sr=/^0b[01]+$/i,Un=/^0o[0-7]+$/i,qn=parseInt,Er=Sn});function li(i){if(!i)return i===0?i:0;if(i=Er(i),i===ii||i===-ii){var l=i<0?-1:1;return l*Sr}return i===i?i:0}var ii,Sr,Ln,Gr=T(()=>{Qr(),ii=1/0,Sr=17976931348623157e292,Ln=li});function zr(i){var l=Ln(i),u=l%1;return l===l?u?l-u:l:0}var Wr,wi=T(()=>{Gr(),Wr=zr});function mo(i){return i}var Gi,si=T(()=>{Gi=mo});function Ti(i){if(!yt(i))return!1;var l=wr(i);return l==ae||l==Ae||l==So||l==Ge}var So,ae,Ae,Ge,ut,$t=T(()=>{qr(),on(),So="[object AsyncFunction]",ae="[object Function]",Ae="[object GeneratorFunction]",Ge="[object Proxy]",ut=Ti}),Yt,On,lr=T(()=>{Dn(),Yt=cn["__core-js_shared__"],On=Yt});function dr(i){return!!oi&&oi in i}var oi,Oi,Mo=T(()=>{lr(),oi=function(){var i=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Oi=dr});function Ua(i){if(i!=null){try{return ws.call(i)}catch{}try{return i+""}catch{}}return""}var na,ws,Is,Ea=T(()=>{na=Function.prototype,ws=na.toString,Is=Ua});function Pi(i){if(!yt(i)||Oi(i))return!1;var l=ut(i)?ps:ha;return l.test(Is(i))}var ki,ha,ra,au,ku,Us,ps,tc,nc=T(()=>{$t(),Mo(),on(),Ea(),ki=/[\\^$.*+?()[\]{}|]/g,ha=/^\[object .+?Constructor\]$/,ra=Function.prototype,au=Object.prototype,ku=ra.toString,Us=au.hasOwnProperty,ps=RegExp("^"+ku.call(Us).replace(ki,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tc=Pi});function Aa(i,l){return i==null?void 0:i[l]}var lu,js=T(()=>{lu=Aa});function uo(i,l){var u=lu(i,l);return tc(u)?u:void 0}var pa,as=T(()=>{nc(),js(),pa=uo}),No,Xo,Iu=T(()=>{as(),Dn(),No=pa(cn,"WeakMap"),Xo=No});function uu(i,l,u){switch(u.length){case 0:return i.call(l);case 1:return i.call(l,u[0]);case 2:return i.call(l,u[0],u[1]);case 3:return i.call(l,u[0],u[1],u[2])}return i.apply(l,u)}var of,Ca=T(()=>{of=uu});function ja(){}var rc,sl=T(()=>{rc=ja});function Ma(i,l){var u=-1,m=i.length;for(l||(l=Array(m));++u<m;)l[u]=i[u];return l}var Hs,Ru=T(()=>{Hs=Ma});function Ta(i){var l=0,u=0;return function(){var m=ls(),w=Cl-(m-u);if(u=m,w>0){if(++l>=Ha)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}var Ha,Cl,ls,Nl,Ll=T(()=>{Ha=800,Cl=16,ls=Date.now,Nl=Ta});function Rs(i){return function(){return i}}var Qo,Oo=T(()=>{Qo=Rs}),Go,Uo,cu=T(()=>{as(),Go=function(){try{var i=pa(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Uo=Go}),Ks,go,ma=T(()=>{Oo(),cu(),si(),Ks=Uo?function(i,l){return Uo(i,"toString",{configurable:!0,enumerable:!1,value:Qo(l),writable:!0})}:Gi,go=Ks}),Os,Ou,al=T(()=>{ma(),Ll(),Os=Nl(go),Ou=Os});function Ic(i,l,u,m){for(var w=i.length,E=u+(m?1:-1);m?E--:++E<w;)if(l(i[E],E,i))return E;return-1}var ic,Fl=T(()=>{ic=Ic});function oc(i){return i!==i}var sf,Rc=T(()=>{sf=oc});function Oc(i,l,u){for(var m=u-1,w=i.length;++m<w;)if(i[m]===l)return m;return-1}var Ml,Tl=T(()=>{Ml=Oc});function ll(i,l,u){return l===l?Ml(i,l,u):ic(i,sf,u)}var Pl,Bs=T(()=>{Fl(),Rc(),Tl(),Pl=ll});function ue(i,l){var u=i==null?0:i.length;return!!u&&Pl(i,l,0)>-1}var Ce,Ve=T(()=>{Bs(),Ce=ue});function ft(i,l){var u=typeof i;return l=l??en,!!l&&(u=="number"||u!="symbol"&&Vt.test(i))&&i>-1&&i%1==0&&i<l}var en,Vt,zn,ir=T(()=>{en=9007199254740991,Vt=/^(?:0|[1-9]\d*)$/,zn=ft});function Zr(i,l,u){l=="__proto__"&&Uo?Uo(i,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[l]=u}var Xr,Cr=T(()=>{cu(),Xr=Zr});function Kr(i,l){return i===l||i!==i&&l!==l}var so,To=T(()=>{so=Kr});function Ys(i,l,u){var m=i[l];(!(vo.call(i,l)&&so(m,u))||u===void 0&&!(l in i))&&Xr(i,l,u)}var fu,vo,Ga,Ad=T(()=>{Cr(),To(),fu=Object.prototype,vo=fu.hasOwnProperty,Ga=Ys});function Bu(i,l,u){return l=Du(l===void 0?i.length-1:l,0),function(){for(var m=arguments,w=-1,E=Du(m.length-l,0),M=Array(E);++w<E;)M[w]=m[l+w];w=-1;for(var k=Array(l+1);++w<l;)k[w]=m[w];return k[l]=u(M),of(i,this,k)}}var Du,sc,Bc=T(()=>{Ca(),Du=Math.max,sc=Bu});function du(i,l){return Ou(sc(i,l,Gi),i+"")}var Nu,af=T(()=>{si(),Bc(),al(),Nu=du});function ac(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=lf}var lf,qs,Qs=T(()=>{lf=9007199254740991,qs=ac});function Te(i){return i!=null&&qs(i.length)&&!ut(i)}var ot,Tt=T(()=>{$t(),Qs(),ot=Te});function An(i,l,u){if(!yt(u))return!1;var m=typeof l;return(m=="number"?ot(u)&&zn(l,u.length):m=="string"&&l in u)?so(u[l],i):!1}var pi,Co=T(()=>{To(),Tt(),ir(),on(),pi=An});function no(i){var l=i&&i.constructor,u=typeof l=="function"&&l.prototype||yo;return i===u}var yo,uf,Js=T(()=>{yo=Object.prototype,uf=no});function kl(i,l){for(var u=-1,m=Array(i);++u<i;)m[u]=l(u);return m}var Va,Wa=T(()=>{Va=kl});function Jo(i){return Nn(i)&&wr(i)==co}var co,wo,ia=T(()=>{qr(),Bt(),co="[object Arguments]",wo=Jo}),cf,zl,Dc,oa,Gs,ff=T(()=>{ia(),Bt(),cf=Object.prototype,zl=cf.hasOwnProperty,Dc=cf.propertyIsEnumerable,oa=wo(function(){return arguments}())?wo:function(i){return Nn(i)&&zl.call(i,"callee")&&!Dc.call(i,"callee")},Gs=oa});function Cd(){return!1}var Xa,ga=T(()=>{Xa=Cd}),Pa,ul,jf,Md,Xp,Kp,Td,ip=T(()=>{Dn(),ga(),Pa=e&&!e.nodeType&&e,ul=Pa&&!0&&n&&!n.nodeType&&n,jf=ul&&ul.exports===Pa,Md=jf?cn.Buffer:void 0,Xp=Md?Md.isBuffer:void 0,Kp=Xp||Xa,Td=Kp});function df(i){return Nn(i)&&qs(i.length)&&!!Zo[wr(i)]}var Pd,Hf,Gf,Vf,lc,kd,hf,Id,Ko,op,ph,uc,sp,ap,mh,lp,Rd,jg,Hg,Dm,Yp,gh,Wf,vh,Zo,Nm,qp=T(()=>{qr(),Qs(),Bt(),Pd="[object Arguments]",Hf="[object Array]",Gf="[object Boolean]",Vf="[object Date]",lc="[object Error]",kd="[object Function]",hf="[object Map]",Id="[object Number]",Ko="[object Object]",op="[object RegExp]",ph="[object Set]",uc="[object String]",sp="[object WeakMap]",ap="[object ArrayBuffer]",mh="[object DataView]",lp="[object Float32Array]",Rd="[object Float64Array]",jg="[object Int8Array]",Hg="[object Int16Array]",Dm="[object Int32Array]",Yp="[object Uint8Array]",gh="[object Uint8ClampedArray]",Wf="[object Uint16Array]",vh="[object Uint32Array]",Zo={},Zo[lp]=Zo[Rd]=Zo[jg]=Zo[Hg]=Zo[Dm]=Zo[Yp]=Zo[gh]=Zo[Wf]=Zo[vh]=!0,Zo[Pd]=Zo[Hf]=Zo[ap]=Zo[Gf]=Zo[mh]=Zo[Vf]=Zo[lc]=Zo[kd]=Zo[hf]=Zo[Id]=Zo[Ko]=Zo[op]=Zo[ph]=Zo[uc]=Zo[sp]=!1,Nm=df});function Qp(i){return function(l){return i(l)}}var yh,Lm=T(()=>{yh=Qp}),Jp,pf,Nc,_h,cl,Zs,Po=T(()=>{nn(),Jp=e&&!e.nodeType&&e,pf=Jp&&!0&&n&&!n.nodeType&&n,Nc=pf&&pf.exports===Jp,_h=Nc&&Ze.process,cl=function(){try{var i=pf&&pf.require&&pf.require("util").types;return i||_h&&_h.binding&&_h.binding("util")}catch{}}(),Zs=cl}),ka,Lc,Xf,Od=T(()=>{qp(),Lm(),Po(),ka=Zs&&Zs.isTypedArray,Lc=ka?yh(ka):Nm,Xf=Lc});function Lu(i,l){var u=Ri(i),m=!u&&Gs(i),w=!u&&!m&&Td(i),E=!u&&!m&&!w&&Xf(i),M=u||m||w||E,k=M?Va(i.length,String):[],L=k.length;for(var U in i)(l||$s.call(i,U))&&!(M&&(U=="length"||w&&(U=="offset"||U=="parent")||E&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||zn(U,L)))&&k.push(U);return k}var Yo,$s,wh,Ul=T(()=>{Wa(),ff(),to(),ip(),ir(),Od(),Yo=Object.prototype,$s=Yo.hasOwnProperty,wh=Lu});function xo(i,l){return function(u){return i(l(u))}}var ms,$o=T(()=>{ms=xo}),Vo,Fc,Ka=T(()=>{$o(),Vo=ms(Object.keys,Object),Fc=Vo});function fl(i){if(!uf(i))return Fc(i);var l=[];for(var u in Object(i))mf.call(i,u)&&u!="constructor"&&l.push(u);return l}var cc,mf,Ia,up=T(()=>{Js(),Ka(),cc=Object.prototype,mf=cc.hasOwnProperty,Ia=fl});function cp(i){return ot(i)?wh(i):Ia(i)}var zc,gf=T(()=>{Ul(),up(),Tt(),zc=cp});function Zp(i,l){if(Ri(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||er(i)?!0:xh.test(i)||!Fu.test(i)||l!=null&&i in Object(l)}var Fu,xh,hu,Bd=T(()=>{to(),xr(),Fu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xh=/^\w*$/,hu=Zp}),$p,Il,Ya=T(()=>{as(),$p=pa(Object,"create"),Il=$p});function pu(){this.__data__=Il?Il(null):{},this.size=0}var em,Sh=T(()=>{Ya(),em=pu});function Vs(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}var Ra,Nr=T(()=>{Ra=Vs});function Pr(i){var l=this.__data__;if(Il){var u=l[i];return u===dl?void 0:u}return Fm.call(l,i)?l[i]:void 0}var dl,vf,Fm,yf,mu=T(()=>{Ya(),dl="__lodash_hash_undefined__",vf=Object.prototype,Fm=vf.hasOwnProperty,yf=Pr});function Oa(i){var l=this.__data__;return Il?l[i]!==void 0:us.call(l,i)}var hl,us,gu,zm=T(()=>{Ya(),hl=Object.prototype,us=hl.hasOwnProperty,gu=Oa});function tm(i,l){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=Il&&l===void 0?fp:l,this}var fp,bh,dp=T(()=>{Ya(),fp="__lodash_hash_undefined__",bh=tm});function fc(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var Eh,Uc=T(()=>{Sh(),Nr(),mu(),zm(),dp(),fc.prototype.clear=em,fc.prototype.delete=Ra,fc.prototype.get=yf,fc.prototype.has=gu,fc.prototype.set=bh,Eh=fc});function hp(){this.__data__=[],this.size=0}var Kv,dc=T(()=>{Kv=hp});function pp(i,l){for(var u=i.length;u--;)if(so(i[u][0],l))return u;return-1}var _f,zu=T(()=>{To(),_f=pp});function Ah(i){var l=this.__data__,u=_f(l,i);if(u<0)return!1;var m=l.length-1;return u==m?l.pop():jc.call(l,u,1),--this.size,!0}var wf,jc,xf,hc=T(()=>{zu(),wf=Array.prototype,jc=wf.splice,xf=Ah});function Ba(i){var l=this.__data__,u=_f(l,i);return u<0?void 0:l[u][1]}var vu,Ch=T(()=>{zu(),vu=Ba});function mp(i){return _f(this.__data__,i)>-1}var jl,Uu=T(()=>{zu(),jl=mp});function nm(i,l){var u=this.__data__,m=_f(u,i);return m<0?(++this.size,u.push([i,l])):u[m][1]=l,this}var Mh,Hl=T(()=>{zu(),Mh=nm});function bo(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var ti,ai=T(()=>{dc(),hc(),Ch(),Uu(),Hl(),bo.prototype.clear=Kv,bo.prototype.delete=xf,bo.prototype.get=vu,bo.prototype.has=jl,bo.prototype.set=Mh,ti=bo}),Ki,Ji,Lo=T(()=>{as(),Dn(),Ki=pa(cn,"Map"),Ji=Ki});function va(){this.size=0,this.__data__={hash:new Eh,map:new(Ji||ti),string:new Eh}}var es,Ds=T(()=>{Uc(),ai(),Lo(),es=va});function Hc(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}var Gc,Dd=T(()=>{Gc=Hc});function Vc(i,l){var u=i.__data__;return Gc(l)?u[typeof l=="string"?"string":"hash"]:u.map}var xs,ya=T(()=>{Dd(),xs=Vc});function Th(i){var l=xs(this,i).delete(i);return this.size-=l?1:0,l}var yu,Sf=T(()=>{ya(),yu=Th});function bf(i){return xs(this,i).get(i)}var _a,Gl=T(()=>{ya(),_a=bf});function Vl(i){return xs(this,i).has(i)}var qa,Ef=T(()=>{ya(),qa=Vl});function pc(i,l){var u=xs(this,i),m=u.size;return u.set(i,l),this.size+=u.size==m?0:1,this}var Nd,Kf=T(()=>{ya(),Nd=pc});function Ni(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var Bo,Ws=T(()=>{Ds(),Sf(),Gl(),Ef(),Kf(),Ni.prototype.clear=es,Ni.prototype.delete=yu,Ni.prototype.get=_a,Ni.prototype.has=qa,Ni.prototype.set=Nd,Bo=Ni});function Da(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new TypeError(sa);var u=function(){var m=arguments,w=l?l.apply(this,m):m[0],E=u.cache;if(E.has(w))return E.get(w);var M=i.apply(this,m);return u.cache=E.set(w,M)||E,M};return u.cache=new(Da.Cache||Bo),u}var sa,Na,mc=T(()=>{Ws(),sa="Expected a function",Da.Cache=Bo,Na=Da});function ts(i){var l=Na(i,function(m){return u.size===ea&&u.clear(),m}),u=l.cache;return l}var ea,cs,ju=T(()=>{mc(),ea=500,cs=ts}),Ld,Yf,Af,Ns,rm=T(()=>{ju(),Ld=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yf=/\\(\\)?/g,Af=cs(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(Ld,function(u,m,w,E){l.push(w?E.replace(Yf,"$1"):m||u)}),l}),Ns=Af});function Ph(i){return i==null?"":ks(i)}var Wc,_u=T(()=>{fi(),Wc=Ph});function Hu(i,l){return Ri(i)?i:hu(i,l)?[i]:Ns(Wc(i))}var qf,Qf=T(()=>{to(),Bd(),rm(),_u(),qf=Hu});function Cf(i){if(typeof i=="string"||er(i))return i;var l=i+"";return l=="0"&&1/i==-Jf?"-0":l}var Jf,Gu,Vu=T(()=>{xr(),Jf=1/0,Gu=Cf});function pl(i,l){l=qf(l,i);for(var u=0,m=l.length;i!=null&&u<m;)i=i[Gu(l[u++])];return u&&u==m?i:void 0}var Qa,im=T(()=>{Qf(),Vu(),Qa=pl});function Gg(i,l,u){var m=i==null?void 0:Qa(i,l);return m===void 0?u:m}var Zf,Mf=T(()=>{im(),Zf=Gg});function gp(i,l){for(var u=-1,m=l.length,w=i.length;++u<m;)i[w+u]=l[u];return i}var kh,Rl=T(()=>{kh=gp});function Wl(i){return Ri(i)||Gs(i)||!!($f&&i&&i[$f])}var $f,Tf,wu=T(()=>{Tr(),ff(),to(),$f=nr?nr.isConcatSpreadable:void 0,Tf=Wl});function gc(i,l,u,m,w){var E=-1,M=i.length;for(u||(u=Tf),w||(w=[]);++E<M;){var k=i[E];l>0&&u(k)?l>1?gc(k,l-1,u,m,w):kh(w,k):m||(w[w.length]=k)}return w}var xu,ed=T(()=>{Rl(),wu(),xu=gc}),Ih,vp,Um=T(()=>{$o(),Ih=ms(Object.getPrototypeOf,Object),vp=Ih});function jm(i){if(!Nn(i)||wr(i)!=yp)return!1;var l=vp(i);if(l===null)return!0;var u=Vg.call(l,"constructor")&&l.constructor;return typeof u=="function"&&u instanceof u&&_p.call(u)==x}var yp,Hm,om,_p,Vg,x,a,f=T(()=>{qr(),Um(),Bt(),yp="[object Object]",Hm=Function.prototype,om=Object.prototype,_p=Hm.toString,Vg=om.hasOwnProperty,x=_p.call(Object),a=jm});function S(i){var l=Math[i];return function(u,m){if(u=Er(u),m=m==null?0:z(Wr(m),292),m&&R(u)){var w=(Wc(u)+"e").split("e"),E=l(w[0]+"e"+(+w[1]+m));return w=(Wc(E)+"e").split("e"),+(w[0]+"e"+(+w[1]-m))}return l(u)}}var R,z,ne,ke=T(()=>{Dn(),wi(),Qr(),_u(),R=cn.isFinite,z=Math.min,ne=S});function nt(i,l,u){return i===i&&(u!==void 0&&(i=i<=u?i:u),l!==void 0&&(i=i>=l?i:l)),i}var Pt,gn=T(()=>{Pt=nt});function Jn(i,l,u){return u===void 0&&(u=l,l=void 0),u!==void 0&&(u=Er(u),u=u===u?u:0),l!==void 0&&(l=Er(l),l=l===l?l:0),Pt(Er(i),l,u)}var Kn,Lr=T(()=>{gn(),Qr(),Kn=Jn});function Or(){this.__data__=new ti,this.size=0}var Mr,Zi=T(()=>{ai(),Mr=Or});function sn(i){var l=this.__data__,u=l.delete(i);return this.size=l.size,u}var et,rt=T(()=>{et=sn});function Rt(i){return this.__data__.get(i)}var Fn,ar=T(()=>{Fn=Rt});function Br(i){return this.__data__.has(i)}var Ur,Li=T(()=>{Ur=Br});function Fi(i,l){var u=this.__data__;if(u instanceof ti){var m=u.__data__;if(!Ji||m.length<$i-1)return m.push([i,l]),this.size=++u.size,this;u=this.__data__=new Bo(m)}return u.set(i,l),this.size=u.size,this}var $i,Xc,R1=T(()=>{ai(),Lo(),Ws(),$i=200,Xc=Fi});function Gm(i){var l=this.__data__=new ti(i);this.size=l.size}var Vm,iE=T(()=>{ai(),Zi(),rt(),ar(),Li(),R1(),Gm.prototype.clear=Mr,Gm.prototype.delete=et,Gm.prototype.get=Fn,Gm.prototype.has=Ur,Gm.prototype.set=Xc,Vm=Gm});function oE(i,l){for(var u=-1,m=i==null?0:i.length,w=0,E=[];++u<m;){var M=i[u];l(M,u,i)&&(E[w++]=M)}return E}var O1,sE=T(()=>{O1=oE});function B1(){return[]}var wp,aT=T(()=>{wp=B1}),lx,D1,N1,ux,Yv,vc=T(()=>{sE(),aT(),lx=Object.prototype,D1=lx.propertyIsEnumerable,N1=Object.getOwnPropertySymbols,ux=N1?function(i){return i==null?[]:(i=Object(i),O1(N1(i),function(l){return D1.call(i,l)}))}:wp,Yv=ux});function lT(i,l,u){var m=l(i);return Ri(i)?m:kh(m,u(i))}var aE,L1=T(()=>{Rl(),to(),aE=lT});function Wu(i){return aE(i,zc,Yv)}var cx,ui=T(()=>{L1(),vc(),gf(),cx=Wu}),Wg,Q0,lE=T(()=>{as(),Dn(),Wg=pa(cn,"DataView"),Q0=Wg}),fx,Wm,F1=T(()=>{as(),Dn(),fx=pa(cn,"Promise"),Wm=fx}),z1,Xm,dx=T(()=>{as(),Dn(),z1=pa(cn,"Set"),Xm=z1}),J0,U1,Z0,Xl,td,Rh,hx,px,Fd,j1,Oh,Km,H1,uE=T(()=>{lE(),Lo(),F1(),dx(),Iu(),qr(),Ea(),J0="[object Map]",U1="[object Object]",Z0="[object Promise]",Xl="[object Set]",td="[object WeakMap]",Rh="[object DataView]",hx=Is(Q0),px=Is(Ji),Fd=Is(Wm),j1=Is(Xm),Oh=Is(Xo),Km=wr,(Q0&&Km(new Q0(new ArrayBuffer(1)))!=Rh||Ji&&Km(new Ji)!=J0||Wm&&Km(Wm.resolve())!=Z0||Xm&&Km(new Xm)!=Xl||Xo&&Km(new Xo)!=td)&&(Km=function(i){var l=wr(i),u=l==U1?i.constructor:void 0,m=u?Is(u):"";if(m)switch(m){case hx:return Rh;case px:return J0;case Fd:return Z0;case j1:return Xl;case Oh:return td}return l}),H1=Km}),mx,G1,uT=T(()=>{Dn(),mx=cn.Uint8Array,G1=mx});function V1(i){return this.__data__.set(i,W1),this}var W1,nd,qo=T(()=>{W1="__lodash_hash_undefined__",nd=V1});function Su(i){return this.__data__.has(i)}var ml,Xu=T(()=>{ml=Su});function yc(i){var l=-1,u=i==null?0:i.length;for(this.__data__=new Bo;++l<u;)this.add(i[l])}var Ym,ro=T(()=>{Ws(),qo(),Xu(),yc.prototype.add=yc.prototype.push=nd,yc.prototype.has=ml,Ym=yc});function qm(i,l){for(var u=-1,m=i==null?0:i.length;++u<m;)if(l(i[u],u,i))return!0;return!1}var Qm,X1=T(()=>{Qm=qm});function gx(i,l){return i.has(l)}var Xg,Kc=T(()=>{Xg=gx});function vx(i,l,u,m,w,E){var M=u&Kg,k=i.length,L=l.length;if(k!=L&&!(M&&L>k))return!1;var U=E.get(i),q=E.get(l);if(U&&q)return U==l&&q==i;var J=-1,Q=!0,W=u&xp?new Ym:void 0;for(E.set(i,l),E.set(l,i);++J<k;){var ee=i[J],$=l[J];if(m)var ie=M?m($,ee,J,l,i,E):m(ee,$,J,i,l,E);if(ie!==void 0){if(ie)continue;Q=!1;break}if(W){if(!Qm(l,function(se,he){if(!Xg(W,he)&&(ee===se||w(ee,se,u,m,E)))return W.push(he)})){Q=!1;break}}else if(!(ee===$||w(ee,$,u,m,E))){Q=!1;break}}return E.delete(i),E.delete(l),Q}var Kg,xp,qv,K1=T(()=>{ro(),X1(),Kc(),Kg=1,xp=2,qv=vx});function Bh(i){var l=-1,u=Array(i.size);return i.forEach(function(m,w){u[++l]=[w,m]}),u}var $0,Jm=T(()=>{$0=Bh});function Y1(i){var l=-1,u=Array(i.size);return i.forEach(function(m){u[++l]=m}),u}var Zm,ey=T(()=>{Zm=Y1});function q1(i,l,u,m,w,E,M){switch(u){case $m:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case Z1:return!(i.byteLength!=l.byteLength||!E(new G1(i),new G1(l)));case Sp:case zd:case Q1:return so(+i,+l);case Yc:return i.name==l.name&&i.message==l.message;case J1:case sm:return i==l+"";case yx:var k=$0;case cE:var L=m&ty;if(k||(k=Zm),i.size!=l.size&&!L)return!1;var U=M.get(i);if(U)return U==l;m|=_c,M.set(i,l);var q=qv(k(i),k(l),m,w,E,M);return M.delete(i),q;case _x:if(bp)return bp.call(i)==bp.call(l)}return!1}var ty,_c,Sp,zd,Yc,yx,Q1,J1,cE,sm,_x,Z1,$m,ny,bp,wx,fE=T(()=>{Tr(),uT(),To(),K1(),Jm(),ey(),ty=1,_c=2,Sp="[object Boolean]",zd="[object Date]",Yc="[object Error]",yx="[object Map]",Q1="[object Number]",J1="[object RegExp]",cE="[object Set]",sm="[object String]",_x="[object Symbol]",Z1="[object ArrayBuffer]",$m="[object DataView]",ny=nr?nr.prototype:void 0,bp=ny?ny.valueOf:void 0,wx=q1});function xx(i,l,u,m,w,E){var M=u&ry,k=cx(i),L=k.length,U=cx(l),q=U.length;if(L!=q&&!M)return!1;for(var J=L;J--;){var Q=k[J];if(!(M?Q in l:Sx.call(l,Q)))return!1}var W=E.get(i),ee=E.get(l);if(W&&ee)return W==l&&ee==i;var $=!0;E.set(i,l),E.set(l,i);for(var ie=M;++J<L;){Q=k[J];var se=i[Q],he=l[Q];if(m)var xe=M?m(he,se,Q,l,i,E):m(se,he,Q,i,l,E);if(!(xe===void 0?se===he||w(se,he,u,m,E):xe)){$=!1;break}ie||(ie=Q=="constructor")}if($&&!ie){var Be=i.constructor,Oe=l.constructor;Be!=Oe&&"constructor"in i&&"constructor"in l&&!(typeof Be=="function"&&Be instanceof Be&&typeof Oe=="function"&&Oe instanceof Oe)&&($=!1)}return E.delete(i),E.delete(l),$}var ry,dE,Sx,iy,hE=T(()=>{ui(),ry=1,dE=Object.prototype,Sx=dE.hasOwnProperty,iy=xx});function Yg(i,l,u,m,w,E){var M=Ri(i),k=Ri(l),L=M?$1:H1(i),U=k?$1:H1(l);L=L==eg?ta:L,U=U==eg?ta:U;var q=L==ta,J=U==ta,Q=L==U;if(Q&&Td(i)){if(!Td(l))return!1;M=!0,q=!1}if(Q&&!q)return E||(E=new Vm),M||Xf(i)?qv(i,l,u,m,w,E):wx(i,l,L,u,m,w,E);if(!(u&pE)){var W=q&&e_.call(i,"__wrapped__"),ee=J&&e_.call(l,"__wrapped__");if(W||ee){var $=W?i.value():i,ie=ee?l.value():l;return E||(E=new Vm),w($,ie,u,m,E)}}return Q?(E||(E=new Vm),iy(i,l,u,m,w,E)):!1}var pE,eg,$1,ta,mE,e_,bx,gE=T(()=>{iE(),K1(),fE(),hE(),uE(),to(),ip(),Od(),pE=1,eg="[object Arguments]",$1="[object Array]",ta="[object Object]",mE=Object.prototype,e_=mE.hasOwnProperty,bx=Yg});function Qv(i,l,u,m,w){return i===l?!0:i==null||l==null||!Nn(i)&&!Nn(l)?i!==i&&l!==l:bx(i,l,u,m,Qv,w)}var t_,Ex=T(()=>{gE(),Bt(),t_=Qv});function Ud(i,l,u,m){var w=u.length,E=w,M=!m;if(i==null)return!E;for(i=Object(i);w--;){var k=u[w];if(M&&k[2]?k[1]!==i[k[0]]:!(k[0]in i))return!1}for(;++w<E;){k=u[w];var L=k[0],U=i[L],q=k[1];if(M&&k[2]){if(U===void 0&&!(L in i))return!1}else{var J=new Vm;if(m)var Q=m(U,q,L,i,l,J);if(!(Q===void 0?t_(q,U,n_|Ax,m,J):Q))return!1}}return!0}var n_,Ax,Ep,r_=T(()=>{iE(),Ex(),n_=1,Ax=2,Ep=Ud});function qg(i){return i===i&&!yt(i)}var Jv,i_=T(()=>{on(),Jv=qg});function Cx(i){for(var l=zc(i),u=l.length;u--;){var m=l[u],w=i[m];l[u]=[m,w,Jv(w)]}return l}var Mx,Tx=T(()=>{i_(),gf(),Mx=Cx});function cT(i,l){return function(u){return u==null?!1:u[i]===l&&(l!==void 0||i in Object(u))}}var o_,s_=T(()=>{o_=cT});function a_(i){var l=Mx(i);return l.length==1&&l[0][2]?o_(l[0][0],l[0][1]):function(u){return u===i||Ep(u,i,l)}}var oy,vE=T(()=>{r_(),Tx(),s_(),oy=a_});function Px(i,l){return i!=null&&l in Object(i)}var yE,_E=T(()=>{yE=Px});function kx(i,l,u){l=qf(l,i);for(var m=-1,w=l.length,E=!1;++m<w;){var M=Gu(l[m]);if(!(E=i!=null&&u(i,M)))break;i=i[M]}return E||++m!=w?E:(w=i==null?0:i.length,!!w&&qs(w)&&zn(M,w)&&(Ri(i)||Gs(i)))}var sy,Ix=T(()=>{Qf(),ff(),to(),ir(),Qs(),Vu(),sy=kx});function l_(i,l){return i!=null&&sy(i,l,yE)}var Rx,fT=T(()=>{_E(),Ix(),Rx=l_});function u_(i,l){return hu(i)&&Jv(l)?o_(Gu(i),l):function(u){var m=Zf(u,i);return m===void 0&&m===l?Rx(u,i):t_(l,m,Ox|Zv)}}var Ox,Zv,wE,ay=T(()=>{Ex(),Mf(),fT(),Bd(),i_(),s_(),Vu(),Ox=1,Zv=2,wE=u_});function h(i){return function(l){return l==null?void 0:l[i]}}var v,O=T(()=>{v=h});function G(i){return function(l){return Qa(l,i)}}var re,pe=T(()=>{im(),re=G});function Fe(i){return hu(i)?v(Gu(i)):re(i)}var wt,Nt=T(()=>{O(),pe(),Bd(),Vu(),wt=Fe});function Mn(i){return typeof i=="function"?i:i==null?Gi:typeof i=="object"?Ri(i)?wE(i[0],i[1]):oy(i):wt(i)}var $n,fr=T(()=>{vE(),ay(),si(),to(),Nt(),$n=Mn});function ur(i,l,u,m){for(var w=-1,E=i==null?0:i.length;++w<E;){var M=i[w];l(m,M,u(M),i)}return m}var $r,di=T(()=>{$r=ur});function mi(i){return function(l,u,m){for(var w=-1,E=Object(l),M=m(l),k=M.length;k--;){var L=M[i?k:++w];if(u(E[L],L,E)===!1)break}return l}}var Ja,un=T(()=>{Ja=mi}),Ut,yn,kr=T(()=>{un(),Ut=Ja(),yn=Ut});function xi(i,l){return i&&yn(i,l,zc)}var zi,ji=T(()=>{kr(),gf(),zi=xi});function Qi(i,l){return function(u,m){if(u==null)return u;if(!ot(u))return i(u,m);for(var w=u.length,E=l?w:-1,M=Object(u);(l?E--:++E<w)&&m(M[E],E,M)!==!1;);return u}}var Kl,ns=T(()=>{Tt(),Kl=Qi}),am,Bx,dT=T(()=>{ji(),ns(),am=Kl(zi),Bx=am});function cz(i,l,u,m){return Bx(i,function(w,E,M){l(m,w,u(w),M)}),m}var p3,m3=T(()=>{dT(),p3=cz});function fz(i,l){return function(u,m){var w=Ri(u)?$r:p3,E=l?l():{};return w(u,i,$n(m,2),E)}}var g3,dz=T(()=>{di(),m3(),fr(),to(),g3=fz}),v3,xE,hz=T(()=>{Dn(),v3=function(){return cn.Date.now()},xE=v3});function hT(i,l,u){var m,w,E,M,k,L,U=0,q=!1,J=!1,Q=!0;if(typeof i!="function")throw new TypeError(SE);l=Er(l)||0,yt(u)&&(q=!!u.leading,J="maxWait"in u,E=J?y3(Er(u.maxWait)||0,l):E,Q="trailing"in u?!!u.trailing:Q);function W(He){var vt=m,lt=w;return m=w=void 0,U=He,M=i.apply(lt,vt),M}function ee(He){return U=He,k=setTimeout(se,l),q?W(He):M}function $(He){var vt=He-L,lt=He-U,ht=l-vt;return J?pT(ht,E-lt):ht}function ie(He){var vt=He-L,lt=He-U;return L===void 0||vt>=l||vt<0||J&&lt>=E}function se(){var He=xE();if(ie(He))return he(He);k=setTimeout(se,$(He))}function he(He){return k=void 0,Q&&m?W(He):(m=w=void 0,M)}function xe(){k!==void 0&&clearTimeout(k),U=0,m=L=w=k=void 0}function Be(){return k===void 0?M:he(xE())}function Oe(){var He=xE(),vt=ie(He);if(m=arguments,w=this,L=He,vt){if(k===void 0)return ee(L);if(J)return clearTimeout(k),k=setTimeout(se,l),W(L)}return k===void 0&&(k=setTimeout(se,l)),M}return Oe.cancel=xe,Oe.flush=Be,Oe}var SE,y3,pT,bE,mT=T(()=>{on(),hz(),Qr(),SE="Expected a function",y3=Math.max,pT=Math.min,bE=hT});function pz(i,l,u){for(var m=-1,w=i==null?0:i.length;++m<w;)if(u(l,i[m]))return!0;return!1}var gT,_3=T(()=>{gT=pz});function mz(i){var l=i==null?0:i.length;return l?i[l-1]:void 0}var ly,EE=T(()=>{ly=mz});function w3(i,l,u){var m=i==null?0:i.length;if(!m)return-1;var w=u==null?0:Wr(u);return w<0&&(w=x3(m+w,0)),ic(i,$n(l,3),w)}var x3,vT,gz=T(()=>{Fl(),fr(),wi(),x3=Math.max,vT=w3});function S3(i,l,u){var m=i==null?0:i.length;if(!m)return-1;var w=m-1;return u!==void 0&&(w=Wr(u),w=u<0?b3(m+w,0):E3(w,m-1)),ic(i,$n(l,3),w,!0)}var b3,E3,A3,vz=T(()=>{Fl(),fr(),wi(),b3=Math.max,E3=Math.min,A3=S3});function Dx(i,l){var u=-1,m=ot(i)?Array(i.length):[];return Bx(i,function(w,E,M){m[++u]=l(w,E,M)}),m}var C3,M3=T(()=>{dT(),Tt(),C3=Dx});function yz(i,l,u){return i>=P3(l,u)&&i<T3(l,u)}var T3,P3,Nx,yT=T(()=>{T3=Math.max,P3=Math.min,Nx=yz});function _z(i,l,u){return l=Ln(l),u===void 0?(u=l,l=0):u=Ln(u),i=Er(i),Nx(i,l,u)}var _T,wa=T(()=>{yT(),Gr(),Qr(),_T=_z});function Dh(i){return typeof i=="number"&&i==Wr(i)}var jd,uy=T(()=>{wi(),jd=Dh}),aa,Nh,k3=T(()=>{Cr(),dz(),aa=g3(function(i,l,u){Xr(i,u,l)}),Nh=aa});function wz(i,l){var u={};return l=$n(l,3),zi(i,function(m,w,E){Xr(u,w,l(m,w,E))}),u}var cy,I3=T(()=>{Cr(),ji(),fr(),cy=wz});function xz(i,l,u,m){if(!yt(i))return i;l=qf(l,i);for(var w=-1,E=l.length,M=E-1,k=i;k!=null&&++w<E;){var L=Gu(l[w]),U=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return i;if(w!=M){var q=k[L];U=m?m(q,L,k):void 0,U===void 0&&(U=yt(q)?q:zn(l[w+1])?[]:{})}Ga(k,L,U),k=k[L]}return i}var R3,O3=T(()=>{Ad(),Qf(),ir(),on(),Vu(),R3=xz});function B3(i,l){var u=i.length;for(i.sort(l);u--;)i[u]=i[u].value;return i}var Lx,D3=T(()=>{Lx=B3});function Sz(i,l){if(i!==l){var u=i!==void 0,m=i===null,w=i===i,E=er(i),M=l!==void 0,k=l===null,L=l===l,U=er(l);if(!k&&!U&&!E&&i>l||E&&M&&L&&!k&&!U||m&&M&&L||!u&&L||!w)return 1;if(!m&&!E&&!U&&i<l||U&&u&&w&&!m&&!E||k&&u&&w||!M&&w||!L)return-1}return 0}var wT,N3=T(()=>{xr(),wT=Sz});function L3(i,l,u){for(var m=-1,w=i.criteria,E=l.criteria,M=w.length,k=u.length;++m<M;){var L=wT(w[m],E[m]);if(L){if(m>=k)return L;var U=u[m];return L*(U=="desc"?-1:1)}}return i.index-l.index}var F3,bz=T(()=>{N3(),F3=L3});function z3(i,l,u){l.length?l=Di(l,function(E){return Ri(E)?function(M){return Qa(M,E.length===1?E[0]:E)}:E}):l=[Gi];var m=-1;l=Di(l,yh($n));var w=C3(i,function(E,M,k){var L=Di(l,function(U){return U(E)});return{criteria:L,index:++m,value:E}});return Lx(w,function(E,M){return F3(E,M,u)})}var U3,Ez=T(()=>{eo(),im(),fr(),M3(),D3(),Lm(),bz(),si(),to(),U3=z3});function Fx(i,l,u,m){for(var w=u-1,E=i.length;++w<E;)if(m(i[w],l))return w;return-1}var xT,Az=T(()=>{xT=Fx});function Cz(i,l,u,m){var w=m?xT:Pl,E=-1,M=l.length,k=i;for(i===l&&(l=Hs(l)),u&&(k=Di(i,yh(u)));++E<M;)for(var L=0,U=l[E],q=u?u(U):U;(L=w(k,q,L,m))>-1;)k!==i&&tg.call(k,L,1),tg.call(i,L,1);return i}var wc,tg,j3,AE=T(()=>{eo(),Bs(),Az(),Lm(),Ru(),wc=Array.prototype,tg=wc.splice,j3=Cz});function Mz(i,l){return i&&i.length&&l&&l.length?j3(i,l):i}var H3,Tz=T(()=>{AE(),H3=Mz}),G3,CE,Pz=T(()=>{af(),Tz(),G3=Nu(H3),CE=G3}),zx,fy,kz=T(()=>{ke(),zx=ne("round"),fy=zx});function Iz(i,l,u){return i==null?i:R3(i,l,u)}var dy,Ux=T(()=>{O3(),dy=Iz}),V3,jx,W3=T(()=>{ed(),Ez(),af(),Co(),V3=Nu(function(i,l){if(i==null)return[];var u=l.length;return u>1&&pi(i,l[0],l[1])?l=[]:u>2&&pi(l[0],l[1],l[2])&&(l=[l[0]]),U3(i,xu(l,1),[])}),jx=V3}),ST,X3,K3,Rz=T(()=>{dx(),sl(),ey(),ST=1/0,X3=Xm&&1/Zm(new Xm([,-0]))[1]==ST?function(i){return new Xm(i)}:rc,K3=X3});function Oz(i,l,u){var m=-1,w=Ce,E=i.length,M=!0,k=[],L=k;if(u)M=!1,w=gT;else if(E>=Y3){var U=l?null:K3(i);if(U)return Zm(U);M=!1,w=Xg,L=new Ym}else L=l?[]:k;e:for(;++m<E;){var q=i[m],J=l?l(q):q;if(q=u||q!==0?q:0,M&&J===J){for(var Q=L.length;Q--;)if(L[Q]===J)continue e;l&&L.push(J),k.push(q)}else w(L,J,u)||(L!==k&&L.push(J),k.push(q))}return k}var Y3,q3,Bz=T(()=>{ro(),Ve(),_3(),Kc(),Rz(),ey(),Y3=200,q3=Oz});function hy(i){return i&&i.length?q3(i):[]}var Hd,c_=T(()=>{Bz(),Hd=hy}),Yl=T(()=>{Lr(),mT(),gz(),wa(),uy(),f(),EE(),I3(),mc(),kz(),c_()}),Q3=Y((i,l)=>{var u;l.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:eu):m=>(u||(u=Promise.resolve())).then(m).catch(w=>setTimeout(()=>{throw w},0))}),Dz=Y(i=>{var l=Symbol.for("react.element"),u=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Q=Symbol.iterator;function W(Xe){return Xe===null||typeof Xe!="object"?null:(Xe=Q&&Xe[Q]||Xe["@@iterator"],typeof Xe=="function"?Xe:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ie={};function se(Xe,it,hn){this.props=Xe,this.context=it,this.refs=ie,this.updater=hn||ee}se.prototype.isReactComponent={},se.prototype.setState=function(Xe,it){if(typeof Xe!="object"&&typeof Xe!="function"&&Xe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Xe,it,"setState")},se.prototype.forceUpdate=function(Xe){this.updater.enqueueForceUpdate(this,Xe,"forceUpdate")};function he(){}he.prototype=se.prototype;function xe(Xe,it,hn){this.props=Xe,this.context=it,this.refs=ie,this.updater=hn||ee}var Be=xe.prototype=new he;Be.constructor=xe,$(Be,se.prototype),Be.isPureReactComponent=!0;var Oe=Array.isArray,He=Object.prototype.hasOwnProperty,vt={current:null},lt={key:!0,ref:!0,__self:!0,__source:!0};function ht(Xe,it,hn){var vn,En={},Qt=null,Jr=null;if(it!=null)for(vn in it.ref!==void 0&&(Jr=it.ref),it.key!==void 0&&(Qt=""+it.key),it)He.call(it,vn)&&!lt.hasOwnProperty(vn)&&(En[vn]=it[vn]);var jn=arguments.length-2;if(jn===1)En.children=hn;else if(1<jn){for(var Vr=Array(jn),Si=0;Si<jn;Si++)Vr[Si]=arguments[Si+2];En.children=Vr}if(Xe&&Xe.defaultProps)for(vn in jn=Xe.defaultProps,jn)En[vn]===void 0&&(En[vn]=jn[vn]);return{$$typeof:l,type:Xe,key:Qt,ref:Jr,props:En,_owner:vt.current}}function It(Xe,it){return{$$typeof:l,type:Xe.type,key:it,ref:Xe.ref,props:Xe.props,_owner:Xe._owner}}function _n(Xe){return typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===l}function We(Xe){var it={"=":"=0",":":"=2"};return"$"+Xe.replace(/[=:]/g,function(hn){return it[hn]})}var kt=/\/+/g;function Ee(Xe,it){return typeof Xe=="object"&&Xe!==null&&Xe.key!=null?We(""+Xe.key):it.toString(36)}function Ht(Xe,it,hn,vn,En){var Qt=typeof Xe;(Qt==="undefined"||Qt==="boolean")&&(Xe=null);var Jr=!1;if(Xe===null)Jr=!0;else switch(Qt){case"string":case"number":Jr=!0;break;case"object":switch(Xe.$$typeof){case l:case u:Jr=!0}}if(Jr)return Jr=Xe,En=En(Jr),Xe=vn===""?"."+Ee(Jr,0):vn,Oe(En)?(hn="",Xe!=null&&(hn=Xe.replace(kt,"$&/")+"/"),Ht(En,it,hn,"",function(Si){return Si})):En!=null&&(_n(En)&&(En=It(En,hn+(!En.key||Jr&&Jr.key===En.key?"":(""+En.key).replace(kt,"$&/")+"/")+Xe)),it.push(En)),1;if(Jr=0,vn=vn===""?".":vn+":",Oe(Xe))for(var jn=0;jn<Xe.length;jn++){Qt=Xe[jn];var Vr=vn+Ee(Qt,jn);Jr+=Ht(Qt,it,hn,Vr,En)}else if(Vr=W(Xe),typeof Vr=="function")for(Xe=Vr.call(Xe),jn=0;!(Qt=Xe.next()).done;)Qt=Qt.value,Vr=vn+Ee(Qt,jn++),Jr+=Ht(Qt,it,hn,Vr,En);else if(Qt==="object")throw it=String(Xe),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(Xe).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.");return Jr}function cr(Xe,it,hn){if(Xe==null)return Xe;var vn=[],En=0;return Ht(Xe,vn,"","",function(Qt){return it.call(hn,Qt,En++)}),vn}function bt(Xe){if(Xe._status===-1){var it=Xe._result;it=it(),it.then(function(hn){(Xe._status===0||Xe._status===-1)&&(Xe._status=1,Xe._result=hn)},function(hn){(Xe._status===0||Xe._status===-1)&&(Xe._status=2,Xe._result=hn)}),Xe._status===-1&&(Xe._status=0,Xe._result=it)}if(Xe._status===1)return Xe._result.default;throw Xe._result}var Et={current:null},Wt={transition:null},Hn={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Wt,ReactCurrentOwner:vt};i.Children={map:cr,forEach:function(Xe,it,hn){cr(Xe,function(){it.apply(this,arguments)},hn)},count:function(Xe){var it=0;return cr(Xe,function(){it++}),it},toArray:function(Xe){return cr(Xe,function(it){return it})||[]},only:function(Xe){if(!_n(Xe))throw Error("React.Children.only expected to receive a single React element child.");return Xe}},i.Component=se,i.Fragment=m,i.Profiler=E,i.PureComponent=xe,i.StrictMode=w,i.Suspense=U,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hn,i.cloneElement=function(Xe,it,hn){if(Xe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Xe+".");var vn=$({},Xe.props),En=Xe.key,Qt=Xe.ref,Jr=Xe._owner;if(it!=null){if(it.ref!==void 0&&(Qt=it.ref,Jr=vt.current),it.key!==void 0&&(En=""+it.key),Xe.type&&Xe.type.defaultProps)var jn=Xe.type.defaultProps;for(Vr in it)He.call(it,Vr)&&!lt.hasOwnProperty(Vr)&&(vn[Vr]=it[Vr]===void 0&&jn!==void 0?jn[Vr]:it[Vr])}var Vr=arguments.length-2;if(Vr===1)vn.children=hn;else if(1<Vr){jn=Array(Vr);for(var Si=0;Si<Vr;Si++)jn[Si]=arguments[Si+2];vn.children=jn}return{$$typeof:l,type:Xe.type,key:En,ref:Qt,props:vn,_owner:Jr}},i.createContext=function(Xe){return Xe={$$typeof:k,_currentValue:Xe,_currentValue2:Xe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Xe.Provider={$$typeof:M,_context:Xe},Xe.Consumer=Xe},i.createElement=ht,i.createFactory=function(Xe){var it=ht.bind(null,Xe);return it.type=Xe,it},i.createRef=function(){return{current:null}},i.forwardRef=function(Xe){return{$$typeof:L,render:Xe}},i.isValidElement=_n,i.lazy=function(Xe){return{$$typeof:J,_payload:{_status:-1,_result:Xe},_init:bt}},i.memo=function(Xe,it){return{$$typeof:q,type:Xe,compare:it===void 0?null:it}},i.startTransition=function(Xe){var it=Wt.transition;Wt.transition={};try{Xe()}finally{Wt.transition=it}},i.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},i.useCallback=function(Xe,it){return Et.current.useCallback(Xe,it)},i.useContext=function(Xe){return Et.current.useContext(Xe)},i.useDebugValue=function(){},i.useDeferredValue=function(Xe){return Et.current.useDeferredValue(Xe)},i.useEffect=function(Xe,it){return Et.current.useEffect(Xe,it)},i.useId=function(){return Et.current.useId()},i.useImperativeHandle=function(Xe,it,hn){return Et.current.useImperativeHandle(Xe,it,hn)},i.useInsertionEffect=function(Xe,it){return Et.current.useInsertionEffect(Xe,it)},i.useLayoutEffect=function(Xe,it){return Et.current.useLayoutEffect(Xe,it)},i.useMemo=function(Xe,it){return Et.current.useMemo(Xe,it)},i.useReducer=function(Xe,it,hn){return Et.current.useReducer(Xe,it,hn)},i.useRef=function(Xe){return Et.current.useRef(Xe)},i.useState=function(Xe){return Et.current.useState(Xe)},i.useSyncExternalStore=function(Xe,it,hn){return Et.current.useSyncExternalStore(Xe,it,hn)},i.useTransition=function(){return Et.current.useTransition()},i.version="18.2.0"}),Ot=Y((i,l)=>{l.exports=Dz()}),Nz=Y(i=>{function l(Et,Wt){var Hn=Et.length;Et.push(Wt);e:for(;0<Hn;){var Xe=Hn-1>>>1,it=Et[Xe];if(0<w(it,Wt))Et[Xe]=Wt,Et[Hn]=it,Hn=Xe;else break e}}function u(Et){return Et.length===0?null:Et[0]}function m(Et){if(Et.length===0)return null;var Wt=Et[0],Hn=Et.pop();if(Hn!==Wt){Et[0]=Hn;e:for(var Xe=0,it=Et.length,hn=it>>>1;Xe<hn;){var vn=2*(Xe+1)-1,En=Et[vn],Qt=vn+1,Jr=Et[Qt];if(0>w(En,Hn))Qt<it&&0>w(Jr,En)?(Et[Xe]=Jr,Et[Qt]=Hn,Xe=Qt):(Et[Xe]=En,Et[vn]=Hn,Xe=vn);else if(Qt<it&&0>w(Jr,Hn))Et[Xe]=Jr,Et[Qt]=Hn,Xe=Qt;else break e}}return Wt}function w(Et,Wt){var Hn=Et.sortIndex-Wt.sortIndex;return Hn!==0?Hn:Et.id-Wt.id}typeof performance=="object"&&typeof performance.now=="function"?(E=performance,i.unstable_now=function(){return E.now()}):(M=Date,k=M.now(),i.unstable_now=function(){return M.now()-k});var E,M,k,L=[],U=[],q=1,J=null,Q=3,W=!1,ee=!1,$=!1,ie=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(Et){for(var Wt=u(U);Wt!==null;){if(Wt.callback===null)m(U);else if(Wt.startTime<=Et)m(U),Wt.sortIndex=Wt.expirationTime,l(L,Wt);else break;Wt=u(U)}}function Be(Et){if($=!1,xe(Et),!ee)if(u(L)!==null)ee=!0,cr(Oe);else{var Wt=u(U);Wt!==null&&bt(Be,Wt.startTime-Et)}}function Oe(Et,Wt){ee=!1,$&&($=!1,se(lt),lt=-1),W=!0;var Hn=Q;try{for(xe(Wt),J=u(L);J!==null&&(!(J.expirationTime>Wt)||Et&&!_n());){var Xe=J.callback;if(typeof Xe=="function"){J.callback=null,Q=J.priorityLevel;var it=Xe(J.expirationTime<=Wt);Wt=i.unstable_now(),typeof it=="function"?J.callback=it:J===u(L)&&m(L),xe(Wt)}else m(L);J=u(L)}if(J!==null)var hn=!0;else{var vn=u(U);vn!==null&&bt(Be,vn.startTime-Wt),hn=!1}return hn}finally{J=null,Q=Hn,W=!1}}var He=!1,vt=null,lt=-1,ht=5,It=-1;function _n(){return!(i.unstable_now()-It<ht)}function We(){if(vt!==null){var Et=i.unstable_now();It=Et;var Wt=!0;try{Wt=vt(!0,Et)}finally{Wt?kt():(He=!1,vt=null)}}else He=!1}var kt;typeof he=="function"?kt=function(){he(We)}:typeof MessageChannel<"u"?(Ee=new MessageChannel,Ht=Ee.port2,Ee.port1.onmessage=We,kt=function(){Ht.postMessage(null)}):kt=function(){ie(We,0)};var Ee,Ht;function cr(Et){vt=Et,He||(He=!0,kt())}function bt(Et,Wt){lt=ie(function(){Et(i.unstable_now())},Wt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Et){Et.callback=null},i.unstable_continueExecution=function(){ee||W||(ee=!0,cr(Oe))},i.unstable_forceFrameRate=function(Et){0>Et||125<Et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<Et?Math.floor(1e3/Et):5},i.unstable_getCurrentPriorityLevel=function(){return Q},i.unstable_getFirstCallbackNode=function(){return u(L)},i.unstable_next=function(Et){switch(Q){case 1:case 2:case 3:var Wt=3;break;default:Wt=Q}var Hn=Q;Q=Wt;try{return Et()}finally{Q=Hn}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Et,Wt){switch(Et){case 1:case 2:case 3:case 4:case 5:break;default:Et=3}var Hn=Q;Q=Et;try{return Wt()}finally{Q=Hn}},i.unstable_scheduleCallback=function(Et,Wt,Hn){var Xe=i.unstable_now();switch(typeof Hn=="object"&&Hn!==null?(Hn=Hn.delay,Hn=typeof Hn=="number"&&0<Hn?Xe+Hn:Xe):Hn=Xe,Et){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=Hn+it,Et={id:q++,callback:Wt,priorityLevel:Et,startTime:Hn,expirationTime:it,sortIndex:-1},Hn>Xe?(Et.sortIndex=Hn,l(U,Et),u(L)===null&&Et===u(U)&&($?(se(lt),lt=-1):$=!0,bt(Be,Hn-Xe))):(Et.sortIndex=it,l(L,Et),ee||W||(ee=!0,cr(Oe))),Et},i.unstable_shouldYield=_n,i.unstable_wrapCallback=function(Et){var Wt=Q;return function(){var Hn=Q;Q=Wt;try{return Et.apply(this,arguments)}finally{Q=Hn}}}}),bT=Y((i,l)=>{l.exports=Nz()}),Lz=Y(i=>{var l=Ot(),u=bT();function m(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,B=1;B<arguments.length;B++)y+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,E={};function M(p,y){k(p,y),k(p+"Capture",y)}function k(p,y){for(E[p]=y,p=0;p<y.length;p++)w.add(y[p])}var L=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U=Object.prototype.hasOwnProperty,q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J={},Q={};function W(p){return U.call(Q,p)?!0:U.call(J,p)?!1:q.test(p)?Q[p]=!0:(J[p]=!0,!1)}function ee(p,y,B,V){if(B!==null&&B.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return V?!1:B!==null?!B.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function $(p,y,B,V){if(y===null||typeof y>"u"||ee(p,y,B,V))return!0;if(V)return!1;if(B!==null)switch(B.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function ie(p,y,B,V,oe,me,ze){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=V,this.attributeNamespace=oe,this.mustUseProperty=B,this.propertyName=p,this.type=y,this.sanitizeURL=me,this.removeEmptyString=ze}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){se[p]=new ie(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];se[y]=new ie(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){se[p]=new ie(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){se[p]=new ie(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){se[p]=new ie(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){se[p]=new ie(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){se[p]=new ie(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){se[p]=new ie(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){se[p]=new ie(p,5,!1,p.toLowerCase(),null,!1,!1)});var he=/[\-:]([a-z])/g;function xe(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(he,xe);se[y]=new ie(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(he,xe);se[y]=new ie(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(he,xe);se[y]=new ie(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){se[p]=new ie(p,1,!1,p.toLowerCase(),null,!1,!1)}),se.xlinkHref=new ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){se[p]=new ie(p,1,!1,p.toLowerCase(),null,!0,!0)});function Be(p,y,B,V){var oe=se.hasOwnProperty(y)?se[y]:null;(oe!==null?oe.type!==0:V||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&($(y,B,oe,V)&&(B=null),V||oe===null?W(y)&&(B===null?p.removeAttribute(y):p.setAttribute(y,""+B)):oe.mustUseProperty?p[oe.propertyName]=B===null?oe.type===3?!1:"":B:(y=oe.attributeName,V=oe.attributeNamespace,B===null?p.removeAttribute(y):(oe=oe.type,B=oe===3||oe===4&&B===!0?"":""+B,V?p.setAttributeNS(V,y,B):p.setAttribute(y,B))))}var Oe=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,He=Symbol.for("react.element"),vt=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),It=Symbol.for("react.profiler"),_n=Symbol.for("react.provider"),We=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),cr=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Wt=Symbol.iterator;function Hn(p){return p===null||typeof p!="object"?null:(p=Wt&&p[Wt]||p["@@iterator"],typeof p=="function"?p:null)}var Xe=Object.assign,it;function hn(p){if(it===void 0)try{throw Error()}catch(B){var y=B.stack.trim().match(/\n( *(at )?)/);it=y&&y[1]||""}return`
`+it+p}var vn=!1;function En(p,y){if(!p||vn)return"";vn=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Rn){var V=Rn}Reflect.construct(p,[],y)}else{try{y.call()}catch(Rn){V=Rn}p.call(y.prototype)}else{try{throw Error()}catch(Rn){V=Rn}p()}}catch(Rn){if(Rn&&V&&typeof Rn.stack=="string"){for(var oe=Rn.stack.split(`
`),me=V.stack.split(`
`),ze=oe.length-1,xt=me.length-1;1<=ze&&0<=xt&&oe[ze]!==me[xt];)xt--;for(;1<=ze&&0<=xt;ze--,xt--)if(oe[ze]!==me[xt]){if(ze!==1||xt!==1)do if(ze--,xt--,0>xt||oe[ze]!==me[xt]){var Ft=`
`+oe[ze].replace(" at new "," at ");return p.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",p.displayName)),Ft}while(1<=ze&&0<=xt);break}}}finally{vn=!1,Error.prepareStackTrace=B}return(p=p?p.displayName||p.name:"")?hn(p):""}function Qt(p){switch(p.tag){case 5:return hn(p.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return p=En(p.type,!1),p;case 11:return p=En(p.type.render,!1),p;case 1:return p=En(p.type,!0),p;default:return""}}function Jr(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case lt:return"Fragment";case vt:return"Portal";case It:return"Profiler";case ht:return"StrictMode";case Ee:return"Suspense";case Ht:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case We:return(p.displayName||"Context")+".Consumer";case _n:return(p._context.displayName||"Context")+".Provider";case kt:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case cr:return y=p.displayName||null,y!==null?y:Jr(p.type)||"Memo";case bt:y=p._payload,p=p._init;try{return Jr(p(y))}catch{}}return null}function jn(p){var y=p.type;switch(p.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=y.render,p=p.displayName||p.name||"",y.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jr(y);case 8:return y===ht?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function Vr(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Si(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Wi(p){var y=Si(p)?"checked":"value",B=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),V=""+p[y];if(!p.hasOwnProperty(y)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var oe=B.get,me=B.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return oe.call(this)},set:function(ze){V=""+ze,me.call(this,ze)}}),Object.defineProperty(p,y,{enumerable:B.enumerable}),{getValue:function(){return V},setValue:function(ze){V=""+ze},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Hi(p){p._valueTracker||(p._valueTracker=Wi(p))}function Ls(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var B=y.getValue(),V="";return p&&(V=Si(p)?p.checked?"true":"false":p.value),p=V,p!==B?(y.setValue(p),!0):!1}function Ie(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Tn(p,y){var B=y.checked;return Xe({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??p._wrapperState.initialChecked})}function Cn(p,y){var B=y.defaultValue==null?"":y.defaultValue,V=y.checked!=null?y.checked:y.defaultChecked;B=Vr(y.value!=null?y.value:B),p._wrapperState={initialChecked:V,initialValue:B,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function gt(p,y){y=y.checked,y!=null&&Be(p,"checked",y,!1)}function mt(p,y){gt(p,y);var B=Vr(y.value),V=y.type;if(B!=null)V==="number"?(B===0&&p.value===""||p.value!=B)&&(p.value=""+B):p.value!==""+B&&(p.value=""+B);else if(V==="submit"||V==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?Xn(p,y.type,B):y.hasOwnProperty("defaultValue")&&Xn(p,y.type,Vr(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function Jt(p,y,B){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var V=y.type;if(!(V!=="submit"&&V!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,B||y===p.value||(p.value=y),p.defaultValue=y}B=p.name,B!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,B!==""&&(p.name=B)}function Xn(p,y,B){(y!=="number"||Ie(p.ownerDocument)!==p)&&(B==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+B&&(p.defaultValue=""+B))}var rr=Array.isArray;function pn(p,y,B,V){if(p=p.options,y){y={};for(var oe=0;oe<B.length;oe++)y["$"+B[oe]]=!0;for(B=0;B<p.length;B++)oe=y.hasOwnProperty("$"+p[B].value),p[B].selected!==oe&&(p[B].selected=oe),oe&&V&&(p[B].defaultSelected=!0)}else{for(B=""+Vr(B),y=null,oe=0;oe<p.length;oe++){if(p[oe].value===B){p[oe].selected=!0,V&&(p[oe].defaultSelected=!0);return}y!==null||p[oe].disabled||(y=p[oe])}y!==null&&(y.selected=!0)}}function pr(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(m(91));return Xe({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Zn(p,y){var B=y.value;if(B==null){if(B=y.children,y=y.defaultValue,B!=null){if(y!=null)throw Error(m(92));if(rr(B)){if(1<B.length)throw Error(m(93));B=B[0]}y=B}y==null&&(y=""),B=y}p._wrapperState={initialValue:Vr(B)}}function or(p,y){var B=Vr(y.value),V=Vr(y.defaultValue);B!=null&&(B=""+B,B!==p.value&&(p.value=B),y.defaultValue==null&&p.defaultValue!==B&&(p.defaultValue=B)),V!=null&&(p.defaultValue=""+V)}function Bi(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}function Es(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?Es(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var hd,G_=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,B,V,oe){MSApp.execUnsafeLocalFunction(function(){return p(y,B,V,oe)})}:p}(function(p,y){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=y;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=hd.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function Yd(p,y){if(y){var B=p.firstChild;if(B&&B===p.lastChild&&B.nodeType===3){B.nodeValue=y;return}}p.textContent=y}var yv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jl=["Webkit","ms","Moz","O"];Object.keys(yv).forEach(function(p){Jl.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),yv[y]=yv[p]})});function zS(p,y,B){return y==null||typeof y=="boolean"||y===""?"":B||typeof y!="number"||y===0||yv.hasOwnProperty(p)&&yv[p]?(""+y).trim():y+"px"}function DA(p,y){p=p.style;for(var B in y)if(y.hasOwnProperty(B)){var V=B.indexOf("--")===0,oe=zS(B,y[B],V);B==="float"&&(B="cssFloat"),V?p.setProperty(B,oe):p[B]=oe}}var _v=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NA(p,y){if(y){if(_v[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(m(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(m(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(m(61))}if(y.style!=null&&typeof y.style!="object")throw Error(m(62))}}function gk(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vk=null;function yk(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var LA=null,mg=null,wv=null;function Upe(p){if(p=zk(p)){if(typeof LA!="function")throw Error(m(280));var y=p.stateNode;y&&(y=D4(y),LA(p.stateNode,p.type,y))}}function jpe(p){mg?wv?wv.push(p):wv=[p]:mg=p}function Hpe(){if(mg){var p=mg,y=wv;if(wv=mg=null,Upe(p),y)for(p=0;p<y.length;p++)Upe(y[p])}}function Gpe(p,y){return p(y)}function Vpe(){}var Qj=!1;function Wpe(p,y,B){if(Qj)return p(y,B);Qj=!0;try{return Gpe(p,y,B)}finally{Qj=!1,(mg!==null||wv!==null)&&(Vpe(),Hpe())}}function _k(p,y){var B=p.stateNode;if(B===null)return null;var V=D4(B);if(V===null)return null;B=V[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(p=p.type,V=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!V;break e;default:p=!1}if(p)return null;if(B&&typeof B!="function")throw Error(m(231,y,typeof B));return B}var Jj=!1;if(L)try{FA={},Object.defineProperty(FA,"passive",{get:function(){Jj=!0}}),window.addEventListener("test",FA,FA),window.removeEventListener("test",FA,FA)}catch{Jj=!1}var FA;function oDe(p,y,B,V,oe,me,ze,xt,Ft){var Rn=Array.prototype.slice.call(arguments,3);try{y.apply(B,Rn)}catch(gr){this.onError(gr)}}var wk=!1,c4=null,f4=!1,Zj=null,sDe={onError:function(p){wk=!0,c4=p}};function aDe(p,y,B,V,oe,me,ze,xt,Ft){wk=!1,c4=null,oDe.apply(sDe,arguments)}function lDe(p,y,B,V,oe,me,ze,xt,Ft){if(aDe.apply(this,arguments),wk){if(wk){var Rn=c4;wk=!1,c4=null}else throw Error(m(198));f4||(f4=!0,Zj=Rn)}}function US(p){var y=p,B=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,y.flags&4098&&(B=y.return),p=y.return;while(p)}return y.tag===3?B:null}function Xpe(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function Kpe(p){if(US(p)!==p)throw Error(m(188))}function uDe(p){var y=p.alternate;if(!y){if(y=US(p),y===null)throw Error(m(188));return y!==p?null:p}for(var B=p,V=y;;){var oe=B.return;if(oe===null)break;var me=oe.alternate;if(me===null){if(V=oe.return,V!==null){B=V;continue}break}if(oe.child===me.child){for(me=oe.child;me;){if(me===B)return Kpe(oe),p;if(me===V)return Kpe(oe),y;me=me.sibling}throw Error(m(188))}if(B.return!==V.return)B=oe,V=me;else{for(var ze=!1,xt=oe.child;xt;){if(xt===B){ze=!0,B=oe,V=me;break}if(xt===V){ze=!0,V=oe,B=me;break}xt=xt.sibling}if(!ze){for(xt=me.child;xt;){if(xt===B){ze=!0,B=me,V=oe;break}if(xt===V){ze=!0,V=me,B=oe;break}xt=xt.sibling}if(!ze)throw Error(m(189))}}if(B.alternate!==V)throw Error(m(190))}if(B.tag!==3)throw Error(m(188));return B.stateNode.current===B?p:y}function Ype(p){return p=uDe(p),p!==null?qpe(p):null}function qpe(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var y=qpe(p);if(y!==null)return y;p=p.sibling}return null}var Qpe=u.unstable_scheduleCallback,Jpe=u.unstable_cancelCallback,cDe=u.unstable_shouldYield,fDe=u.unstable_requestPaint,Qu=u.unstable_now,dDe=u.unstable_getCurrentPriorityLevel,$j=u.unstable_ImmediatePriority,Zpe=u.unstable_UserBlockingPriority,d4=u.unstable_NormalPriority,hDe=u.unstable_LowPriority,$pe=u.unstable_IdlePriority,h4=null,M0=null;function pDe(p){if(M0&&typeof M0.onCommitFiberRoot=="function")try{M0.onCommitFiberRoot(h4,p,void 0,(p.current.flags&128)===128)}catch{}}var xv=Math.clz32?Math.clz32:vDe,mDe=Math.log,gDe=Math.LN2;function vDe(p){return p>>>=0,p===0?32:31-(mDe(p)/gDe|0)|0}var p4=64,m4=4194304;function xk(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function g4(p,y){var B=p.pendingLanes;if(B===0)return 0;var V=0,oe=p.suspendedLanes,me=p.pingedLanes,ze=B&268435455;if(ze!==0){var xt=ze&~oe;xt!==0?V=xk(xt):(me&=ze,me!==0&&(V=xk(me)))}else ze=B&~oe,ze!==0?V=xk(ze):me!==0&&(V=xk(me));if(V===0)return 0;if(y!==0&&y!==V&&!(y&oe)&&(oe=V&-V,me=y&-y,oe>=me||oe===16&&(me&4194240)!==0))return y;if(V&4&&(V|=B&16),y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=V;0<y;)B=31-xv(y),oe=1<<B,V|=p[B],y&=~oe;return V}function yDe(p,y){switch(p){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _De(p,y){for(var B=p.suspendedLanes,V=p.pingedLanes,oe=p.expirationTimes,me=p.pendingLanes;0<me;){var ze=31-xv(me),xt=1<<ze,Ft=oe[ze];Ft===-1?(!(xt&B)||xt&V)&&(oe[ze]=yDe(xt,y)):Ft<=y&&(p.expiredLanes|=xt),me&=~xt}}function eH(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function eme(){var p=p4;return p4<<=1,!(p4&4194240)&&(p4=64),p}function tH(p){for(var y=[],B=0;31>B;B++)y.push(p);return y}function Sk(p,y,B){p.pendingLanes|=y,y!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,y=31-xv(y),p[y]=B}function wDe(p,y){var B=p.pendingLanes&~y;p.pendingLanes=y,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=y,p.mutableReadLanes&=y,p.entangledLanes&=y,y=p.entanglements;var V=p.eventTimes;for(p=p.expirationTimes;0<B;){var oe=31-xv(B),me=1<<oe;y[oe]=0,V[oe]=-1,p[oe]=-1,B&=~me}}function nH(p,y){var B=p.entangledLanes|=y;for(p=p.entanglements;B;){var V=31-xv(B),oe=1<<V;oe&y|p[V]&y&&(p[V]|=y),B&=~oe}}var ca=0;function tme(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var nme,rH,rme,ime,ome,iH=!1,v4=[],V_=null,W_=null,X_=null,bk=new Map,Ek=new Map,K_=[],xDe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sme(p,y){switch(p){case"focusin":case"focusout":V_=null;break;case"dragenter":case"dragleave":W_=null;break;case"mouseover":case"mouseout":X_=null;break;case"pointerover":case"pointerout":bk.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ek.delete(y.pointerId)}}function Ak(p,y,B,V,oe,me){return p===null||p.nativeEvent!==me?(p={blockedOn:y,domEventName:B,eventSystemFlags:V,nativeEvent:me,targetContainers:[oe]},y!==null&&(y=zk(y),y!==null&&rH(y)),p):(p.eventSystemFlags|=V,y=p.targetContainers,oe!==null&&y.indexOf(oe)===-1&&y.push(oe),p)}function SDe(p,y,B,V,oe){switch(y){case"focusin":return V_=Ak(V_,p,y,B,V,oe),!0;case"dragenter":return W_=Ak(W_,p,y,B,V,oe),!0;case"mouseover":return X_=Ak(X_,p,y,B,V,oe),!0;case"pointerover":var me=oe.pointerId;return bk.set(me,Ak(bk.get(me)||null,p,y,B,V,oe)),!0;case"gotpointercapture":return me=oe.pointerId,Ek.set(me,Ak(Ek.get(me)||null,p,y,B,V,oe)),!0}return!1}function ame(p){var y=jS(p.target);if(y!==null){var B=US(y);if(B!==null){if(y=B.tag,y===13){if(y=Xpe(B),y!==null){p.blockedOn=y,ome(p.priority,function(){rme(B)});return}}else if(y===3&&B.stateNode.current.memoizedState.isDehydrated){p.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}p.blockedOn=null}function y4(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var B=sH(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(B===null){B=p.nativeEvent;var V=new B.constructor(B.type,B);vk=V,B.target.dispatchEvent(V),vk=null}else return y=zk(B),y!==null&&rH(y),p.blockedOn=B,!1;y.shift()}return!0}function lme(p,y,B){y4(p)&&B.delete(y)}function bDe(){iH=!1,V_!==null&&y4(V_)&&(V_=null),W_!==null&&y4(W_)&&(W_=null),X_!==null&&y4(X_)&&(X_=null),bk.forEach(lme),Ek.forEach(lme)}function Ck(p,y){p.blockedOn===y&&(p.blockedOn=null,iH||(iH=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,bDe)))}function Mk(p){function y(oe){return Ck(oe,p)}if(0<v4.length){Ck(v4[0],p);for(var B=1;B<v4.length;B++){var V=v4[B];V.blockedOn===p&&(V.blockedOn=null)}}for(V_!==null&&Ck(V_,p),W_!==null&&Ck(W_,p),X_!==null&&Ck(X_,p),bk.forEach(y),Ek.forEach(y),B=0;B<K_.length;B++)V=K_[B],V.blockedOn===p&&(V.blockedOn=null);for(;0<K_.length&&(B=K_[0],B.blockedOn===null);)ame(B),B.blockedOn===null&&K_.shift()}var zA=Oe.ReactCurrentBatchConfig,_4=!0;function EDe(p,y,B,V){var oe=ca,me=zA.transition;zA.transition=null;try{ca=1,oH(p,y,B,V)}finally{ca=oe,zA.transition=me}}function ADe(p,y,B,V){var oe=ca,me=zA.transition;zA.transition=null;try{ca=4,oH(p,y,B,V)}finally{ca=oe,zA.transition=me}}function oH(p,y,B,V){if(_4){var oe=sH(p,y,B,V);if(oe===null)xH(p,y,V,w4,B),sme(p,V);else if(SDe(oe,p,y,B,V))V.stopPropagation();else if(sme(p,V),y&4&&-1<xDe.indexOf(p)){for(;oe!==null;){var me=zk(oe);if(me!==null&&nme(me),me=sH(p,y,B,V),me===null&&xH(p,y,V,w4,B),me===oe)break;oe=me}oe!==null&&V.stopPropagation()}else xH(p,y,V,null,B)}}var w4=null;function sH(p,y,B,V){if(w4=null,p=yk(V),p=jS(p),p!==null)if(y=US(p),y===null)p=null;else if(B=y.tag,B===13){if(p=Xpe(y),p!==null)return p;p=null}else if(B===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null);return w4=p,null}function ume(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dDe()){case $j:return 1;case Zpe:return 4;case d4:case hDe:return 16;case $pe:return 536870912;default:return 16}default:return 16}}var Y_=null,aH=null,x4=null;function cme(){if(x4)return x4;var p,y=aH,B=y.length,V,oe="value"in Y_?Y_.value:Y_.textContent,me=oe.length;for(p=0;p<B&&y[p]===oe[p];p++);var ze=B-p;for(V=1;V<=ze&&y[B-V]===oe[me-V];V++);return x4=oe.slice(p,1<V?1-V:void 0)}function S4(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function b4(){return!0}function fme(){return!1}function gm(p){function y(B,V,oe,me,ze){this._reactName=B,this._targetInst=oe,this.type=V,this.nativeEvent=me,this.target=ze,this.currentTarget=null;for(var xt in p)p.hasOwnProperty(xt)&&(B=p[xt],this[xt]=B?B(me):me[xt]);return this.isDefaultPrevented=(me.defaultPrevented!=null?me.defaultPrevented:me.returnValue===!1)?b4:fme,this.isPropagationStopped=fme,this}return Xe(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=b4)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=b4)},persist:function(){},isPersistent:b4}),y}var UA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lH=gm(UA),Tk=Xe({},UA,{view:0,detail:0}),CDe=gm(Tk),uH,cH,Pk,E4=Xe({},Tk,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dH,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Pk&&(Pk&&p.type==="mousemove"?(uH=p.screenX-Pk.screenX,cH=p.screenY-Pk.screenY):cH=uH=0,Pk=p),uH)},movementY:function(p){return"movementY"in p?p.movementY:cH}}),dme=gm(E4),MDe=Xe({},E4,{dataTransfer:0}),TDe=gm(MDe),PDe=Xe({},Tk,{relatedTarget:0}),fH=gm(PDe),kDe=Xe({},UA,{animationName:0,elapsedTime:0,pseudoElement:0}),IDe=gm(kDe),RDe=Xe({},UA,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),ODe=gm(RDe),BDe=Xe({},UA,{data:0}),hme=gm(BDe),DDe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NDe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LDe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FDe(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=LDe[p])?!!y[p]:!1}function dH(){return FDe}var zDe=Xe({},Tk,{key:function(p){if(p.key){var y=DDe[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=S4(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?NDe[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dH,charCode:function(p){return p.type==="keypress"?S4(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?S4(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),UDe=gm(zDe),jDe=Xe({},E4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pme=gm(jDe),HDe=Xe({},Tk,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dH}),GDe=gm(HDe),VDe=Xe({},UA,{propertyName:0,elapsedTime:0,pseudoElement:0}),WDe=gm(VDe),XDe=Xe({},E4,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),KDe=gm(XDe),YDe=[9,13,27,32],hH=L&&"CompositionEvent"in window,kk=null;L&&"documentMode"in document&&(kk=document.documentMode);var qDe=L&&"TextEvent"in window&&!kk,mme=L&&(!hH||kk&&8<kk&&11>=kk),gme=" ",vme=!1;function yme(p,y){switch(p){case"keyup":return YDe.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _me(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var jA=!1;function QDe(p,y){switch(p){case"compositionend":return _me(y);case"keypress":return y.which!==32?null:(vme=!0,gme);case"textInput":return p=y.data,p===gme&&vme?null:p;default:return null}}function JDe(p,y){if(jA)return p==="compositionend"||!hH&&yme(p,y)?(p=cme(),x4=aH=Y_=null,jA=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return mme&&y.locale!=="ko"?null:y.data;default:return null}}var ZDe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wme(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!ZDe[p.type]:y==="textarea"}function xme(p,y,B,V){jpe(V),y=R4(y,"onChange"),0<y.length&&(B=new lH("onChange","change",null,B,V),p.push({event:B,listeners:y}))}var Ik=null,Rk=null;function $De(p){Ume(p,0)}function A4(p){var y=XA(p);if(Ls(y))return p}function e4e(p,y){if(p==="change")return y}var Sme=!1;L&&(L?(C4="oninput"in document,C4||(mH=document.createElement("div"),mH.setAttribute("oninput","return;"),C4=typeof mH.oninput=="function"),pH=C4):pH=!1,Sme=pH&&(!document.documentMode||9<document.documentMode));var pH,C4,mH;function bme(){Ik&&(Ik.detachEvent("onpropertychange",Eme),Rk=Ik=null)}function Eme(p){if(p.propertyName==="value"&&A4(Rk)){var y=[];xme(y,Rk,p,yk(p)),Wpe($De,y)}}function t4e(p,y,B){p==="focusin"?(bme(),Ik=y,Rk=B,Ik.attachEvent("onpropertychange",Eme)):p==="focusout"&&bme()}function n4e(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return A4(Rk)}function r4e(p,y){if(p==="click")return A4(y)}function i4e(p,y){if(p==="input"||p==="change")return A4(y)}function o4e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var Sv=typeof Object.is=="function"?Object.is:o4e;function Ok(p,y){if(Sv(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var B=Object.keys(p),V=Object.keys(y);if(B.length!==V.length)return!1;for(V=0;V<B.length;V++){var oe=B[V];if(!U.call(y,oe)||!Sv(p[oe],y[oe]))return!1}return!0}function Ame(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Cme(p,y){var B=Ame(p);p=0;for(var V;B;){if(B.nodeType===3){if(V=p+B.textContent.length,p<=y&&V>=y)return{node:B,offset:y-p};p=V}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=Ame(B)}}function Mme(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?Mme(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function Tme(){for(var p=window,y=Ie();y instanceof p.HTMLIFrameElement;){try{var B=typeof y.contentWindow.location.href=="string"}catch{B=!1}if(B)p=y.contentWindow;else break;y=Ie(p.document)}return y}function gH(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function s4e(p){var y=Tme(),B=p.focusedElem,V=p.selectionRange;if(y!==B&&B&&B.ownerDocument&&Mme(B.ownerDocument.documentElement,B)){if(V!==null&&gH(B)){if(y=V.start,p=V.end,p===void 0&&(p=y),"selectionStart"in B)B.selectionStart=y,B.selectionEnd=Math.min(p,B.value.length);else if(p=(y=B.ownerDocument||document)&&y.defaultView||window,p.getSelection){p=p.getSelection();var oe=B.textContent.length,me=Math.min(V.start,oe);V=V.end===void 0?me:Math.min(V.end,oe),!p.extend&&me>V&&(oe=V,V=me,me=oe),oe=Cme(B,me);var ze=Cme(B,V);oe&&ze&&(p.rangeCount!==1||p.anchorNode!==oe.node||p.anchorOffset!==oe.offset||p.focusNode!==ze.node||p.focusOffset!==ze.offset)&&(y=y.createRange(),y.setStart(oe.node,oe.offset),p.removeAllRanges(),me>V?(p.addRange(y),p.extend(ze.node,ze.offset)):(y.setEnd(ze.node,ze.offset),p.addRange(y)))}}for(y=[],p=B;p=p.parentNode;)p.nodeType===1&&y.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<y.length;B++)p=y[B],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var a4e=L&&"documentMode"in document&&11>=document.documentMode,HA=null,vH=null,Bk=null,yH=!1;function Pme(p,y,B){var V=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;yH||HA==null||HA!==Ie(V)||(V=HA,"selectionStart"in V&&gH(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Bk&&Ok(Bk,V)||(Bk=V,V=R4(vH,"onSelect"),0<V.length&&(y=new lH("onSelect","select",null,y,B),p.push({event:y,listeners:V}),y.target=HA)))}function M4(p,y){var B={};return B[p.toLowerCase()]=y.toLowerCase(),B["Webkit"+p]="webkit"+y,B["Moz"+p]="moz"+y,B}var GA={animationend:M4("Animation","AnimationEnd"),animationiteration:M4("Animation","AnimationIteration"),animationstart:M4("Animation","AnimationStart"),transitionend:M4("Transition","TransitionEnd")},_H={},kme={};L&&(kme=document.createElement("div").style,"AnimationEvent"in window||(delete GA.animationend.animation,delete GA.animationiteration.animation,delete GA.animationstart.animation),"TransitionEvent"in window||delete GA.transitionend.transition);function T4(p){if(_H[p])return _H[p];if(!GA[p])return p;var y=GA[p],B;for(B in y)if(y.hasOwnProperty(B)&&B in kme)return _H[p]=y[B];return p}var Ime=T4("animationend"),Rme=T4("animationiteration"),Ome=T4("animationstart"),Bme=T4("transitionend"),Dme=new Map,Nme="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function q_(p,y){Dme.set(p,y),M(y,[p])}for(k4=0;k4<Nme.length;k4++)P4=Nme[k4],Lme=P4.toLowerCase(),Fme=P4[0].toUpperCase()+P4.slice(1),q_(Lme,"on"+Fme);var P4,Lme,Fme,k4;q_(Ime,"onAnimationEnd"),q_(Rme,"onAnimationIteration"),q_(Ome,"onAnimationStart"),q_("dblclick","onDoubleClick"),q_("focusin","onFocus"),q_("focusout","onBlur"),q_(Bme,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),M("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),M("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),M("onBeforeInput",["compositionend","keypress","textInput","paste"]),M("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),M("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),M("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4e=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dk));function zme(p,y,B){var V=p.type||"unknown-event";p.currentTarget=B,lDe(V,y,void 0,p),p.currentTarget=null}function Ume(p,y){y=(y&4)!==0;for(var B=0;B<p.length;B++){var V=p[B],oe=V.event;V=V.listeners;e:{var me=void 0;if(y)for(var ze=V.length-1;0<=ze;ze--){var xt=V[ze],Ft=xt.instance,Rn=xt.currentTarget;if(xt=xt.listener,Ft!==me&&oe.isPropagationStopped())break e;zme(oe,xt,Rn),me=Ft}else for(ze=0;ze<V.length;ze++){if(xt=V[ze],Ft=xt.instance,Rn=xt.currentTarget,xt=xt.listener,Ft!==me&&oe.isPropagationStopped())break e;zme(oe,xt,Rn),me=Ft}}}if(f4)throw p=Zj,f4=!1,Zj=null,p}function yl(p,y){var B=y[MH];B===void 0&&(B=y[MH]=new Set);var V=p+"__bubble";B.has(V)||(jme(y,p,2,!1),B.add(V))}function wH(p,y,B){var V=0;y&&(V|=4),jme(B,p,V,y)}var I4="_reactListening"+Math.random().toString(36).slice(2);function Nk(p){if(!p[I4]){p[I4]=!0,w.forEach(function(B){B!=="selectionchange"&&(l4e.has(B)||wH(B,!1,p),wH(B,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[I4]||(y[I4]=!0,wH("selectionchange",!1,y))}}function jme(p,y,B,V){switch(ume(y)){case 1:var oe=EDe;break;case 4:oe=ADe;break;default:oe=oH}B=oe.bind(null,y,B,p),oe=void 0,!Jj||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(oe=!0),V?oe!==void 0?p.addEventListener(y,B,{capture:!0,passive:oe}):p.addEventListener(y,B,!0):oe!==void 0?p.addEventListener(y,B,{passive:oe}):p.addEventListener(y,B,!1)}function xH(p,y,B,V,oe){var me=V;if(!(y&1)&&!(y&2)&&V!==null)e:for(;;){if(V===null)return;var ze=V.tag;if(ze===3||ze===4){var xt=V.stateNode.containerInfo;if(xt===oe||xt.nodeType===8&&xt.parentNode===oe)break;if(ze===4)for(ze=V.return;ze!==null;){var Ft=ze.tag;if((Ft===3||Ft===4)&&(Ft=ze.stateNode.containerInfo,Ft===oe||Ft.nodeType===8&&Ft.parentNode===oe))return;ze=ze.return}for(;xt!==null;){if(ze=jS(xt),ze===null)return;if(Ft=ze.tag,Ft===5||Ft===6){V=me=ze;continue e}xt=xt.parentNode}}V=V.return}Wpe(function(){var Rn=me,gr=yk(B),Ar=[];e:{var mr=Dme.get(p);if(mr!==void 0){var ci=lH,bi=p;switch(p){case"keypress":if(S4(B)===0)break e;case"keydown":case"keyup":ci=UDe;break;case"focusin":bi="focus",ci=fH;break;case"focusout":bi="blur",ci=fH;break;case"beforeblur":case"afterblur":ci=fH;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ci=dme;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ci=TDe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ci=GDe;break;case Ime:case Rme:case Ome:ci=IDe;break;case Bme:ci=WDe;break;case"scroll":ci=CDe;break;case"wheel":ci=KDe;break;case"copy":case"cut":case"paste":ci=ODe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ci=pme}var Ci=(y&4)!==0,Ju=!Ci&&p==="scroll",mn=Ci?mr!==null?mr+"Capture":null:mr;Ci=[];for(var Gt=Rn,wn;Gt!==null;){wn=Gt;var Fr=wn.stateNode;if(wn.tag===5&&Fr!==null&&(wn=Fr,mn!==null&&(Fr=_k(Gt,mn),Fr!=null&&Ci.push(Lk(Gt,Fr,wn)))),Ju)break;Gt=Gt.return}0<Ci.length&&(mr=new ci(mr,bi,null,B,gr),Ar.push({event:mr,listeners:Ci}))}}if(!(y&7)){e:{if(mr=p==="mouseover"||p==="pointerover",ci=p==="mouseout"||p==="pointerout",mr&&B!==vk&&(bi=B.relatedTarget||B.fromElement)&&(jS(bi)||bi[Vy]))break e;if((ci||mr)&&(mr=gr.window===gr?gr:(mr=gr.ownerDocument)?mr.defaultView||mr.parentWindow:window,ci?(bi=B.relatedTarget||B.toElement,ci=Rn,bi=bi?jS(bi):null,bi!==null&&(Ju=US(bi),bi!==Ju||bi.tag!==5&&bi.tag!==6)&&(bi=null)):(ci=null,bi=Rn),ci!==bi)){if(Ci=dme,Fr="onMouseLeave",mn="onMouseEnter",Gt="mouse",(p==="pointerout"||p==="pointerover")&&(Ci=pme,Fr="onPointerLeave",mn="onPointerEnter",Gt="pointer"),Ju=ci==null?mr:XA(ci),wn=bi==null?mr:XA(bi),mr=new Ci(Fr,Gt+"leave",ci,B,gr),mr.target=Ju,mr.relatedTarget=wn,Fr=null,jS(gr)===Rn&&(Ci=new Ci(mn,Gt+"enter",bi,B,gr),Ci.target=wn,Ci.relatedTarget=Ju,Fr=Ci),Ju=Fr,ci&&bi)t:{for(Ci=ci,mn=bi,Gt=0,wn=Ci;wn;wn=VA(wn))Gt++;for(wn=0,Fr=mn;Fr;Fr=VA(Fr))wn++;for(;0<Gt-wn;)Ci=VA(Ci),Gt--;for(;0<wn-Gt;)mn=VA(mn),wn--;for(;Gt--;){if(Ci===mn||mn!==null&&Ci===mn.alternate)break t;Ci=VA(Ci),mn=VA(mn)}Ci=null}else Ci=null;ci!==null&&Hme(Ar,mr,ci,Ci,!1),bi!==null&&Ju!==null&&Hme(Ar,Ju,bi,Ci,!0)}}e:{if(mr=Rn?XA(Rn):window,ci=mr.nodeName&&mr.nodeName.toLowerCase(),ci==="select"||ci==="input"&&mr.type==="file")var Ii=e4e;else if(wme(mr))if(Sme)Ii=i4e;else{Ii=n4e;var Yi=t4e}else(ci=mr.nodeName)&&ci.toLowerCase()==="input"&&(mr.type==="checkbox"||mr.type==="radio")&&(Ii=r4e);if(Ii&&(Ii=Ii(p,Rn))){xme(Ar,Ii,B,gr);break e}Yi&&Yi(p,mr,Rn),p==="focusout"&&(Yi=mr._wrapperState)&&Yi.controlled&&mr.type==="number"&&Xn(mr,"number",mr.value)}switch(Yi=Rn?XA(Rn):window,p){case"focusin":(wme(Yi)||Yi.contentEditable==="true")&&(HA=Yi,vH=Rn,Bk=null);break;case"focusout":Bk=vH=HA=null;break;case"mousedown":yH=!0;break;case"contextmenu":case"mouseup":case"dragend":yH=!1,Pme(Ar,B,gr);break;case"selectionchange":if(a4e)break;case"keydown":case"keyup":Pme(Ar,B,gr)}var qi;if(hH)e:{switch(p){case"compositionstart":var ho="onCompositionStart";break e;case"compositionend":ho="onCompositionEnd";break e;case"compositionupdate":ho="onCompositionUpdate";break e}ho=void 0}else jA?yme(p,B)&&(ho="onCompositionEnd"):p==="keydown"&&B.keyCode===229&&(ho="onCompositionStart");ho&&(mme&&B.locale!=="ko"&&(jA||ho!=="onCompositionStart"?ho==="onCompositionEnd"&&jA&&(qi=cme()):(Y_=gr,aH="value"in Y_?Y_.value:Y_.textContent,jA=!0)),Yi=R4(Rn,ho),0<Yi.length&&(ho=new hme(ho,p,null,B,gr),Ar.push({event:ho,listeners:Yi}),qi?ho.data=qi:(qi=_me(B),qi!==null&&(ho.data=qi)))),(qi=qDe?QDe(p,B):JDe(p,B))&&(Rn=R4(Rn,"onBeforeInput"),0<Rn.length&&(gr=new hme("onBeforeInput","beforeinput",null,B,gr),Ar.push({event:gr,listeners:Rn}),gr.data=qi))}Ume(Ar,y)})}function Lk(p,y,B){return{instance:p,listener:y,currentTarget:B}}function R4(p,y){for(var B=y+"Capture",V=[];p!==null;){var oe=p,me=oe.stateNode;oe.tag===5&&me!==null&&(oe=me,me=_k(p,B),me!=null&&V.unshift(Lk(p,me,oe)),me=_k(p,y),me!=null&&V.push(Lk(p,me,oe))),p=p.return}return V}function VA(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Hme(p,y,B,V,oe){for(var me=y._reactName,ze=[];B!==null&&B!==V;){var xt=B,Ft=xt.alternate,Rn=xt.stateNode;if(Ft!==null&&Ft===V)break;xt.tag===5&&Rn!==null&&(xt=Rn,oe?(Ft=_k(B,me),Ft!=null&&ze.unshift(Lk(B,Ft,xt))):oe||(Ft=_k(B,me),Ft!=null&&ze.push(Lk(B,Ft,xt)))),B=B.return}ze.length!==0&&p.push({event:y,listeners:ze})}var u4e=/\r\n?/g,c4e=/\u0000|\uFFFD/g;function Gme(p){return(typeof p=="string"?p:""+p).replace(u4e,`
`).replace(c4e,"")}function O4(p,y,B){if(y=Gme(y),Gme(p)!==y&&B)throw Error(m(425))}function B4(){}var SH=null,bH=null;function EH(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var AH=typeof setTimeout=="function"?setTimeout:void 0,f4e=typeof clearTimeout=="function"?clearTimeout:void 0,Vme=typeof Promise=="function"?Promise:void 0,d4e=typeof queueMicrotask=="function"?queueMicrotask:typeof Vme<"u"?function(p){return Vme.resolve(null).then(p).catch(h4e)}:AH;function h4e(p){setTimeout(function(){throw p})}function CH(p,y){var B=y,V=0;do{var oe=B.nextSibling;if(p.removeChild(B),oe&&oe.nodeType===8)if(B=oe.data,B==="/$"){if(V===0){p.removeChild(oe),Mk(y);return}V--}else B!=="$"&&B!=="$?"&&B!=="$!"||V++;B=oe}while(B);Mk(y)}function Q_(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return p}function Wme(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var B=p.data;if(B==="$"||B==="$!"||B==="$?"){if(y===0)return p;y--}else B==="/$"&&y++}p=p.previousSibling}return null}var WA=Math.random().toString(36).slice(2),T0="__reactFiber$"+WA,Fk="__reactProps$"+WA,Vy="__reactContainer$"+WA,MH="__reactEvents$"+WA,p4e="__reactListeners$"+WA,m4e="__reactHandles$"+WA;function jS(p){var y=p[T0];if(y)return y;for(var B=p.parentNode;B;){if(y=B[Vy]||B[T0]){if(B=y.alternate,y.child!==null||B!==null&&B.child!==null)for(p=Wme(p);p!==null;){if(B=p[T0])return B;p=Wme(p)}return y}p=B,B=p.parentNode}return null}function zk(p){return p=p[T0]||p[Vy],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function XA(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(m(33))}function D4(p){return p[Fk]||null}var TH=[],KA=-1;function J_(p){return{current:p}}function _l(p){0>KA||(p.current=TH[KA],TH[KA]=null,KA--)}function nl(p,y){KA++,TH[KA]=p.current,p.current=y}var Z_={},qd=J_(Z_),Ip=J_(!1),HS=Z_;function YA(p,y){var B=p.type.contextTypes;if(!B)return Z_;var V=p.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===y)return V.__reactInternalMemoizedMaskedChildContext;var oe={},me;for(me in B)oe[me]=y[me];return V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=oe),oe}function Rp(p){return p=p.childContextTypes,p!=null}function N4(){_l(Ip),_l(qd)}function Xme(p,y,B){if(qd.current!==Z_)throw Error(m(168));nl(qd,y),nl(Ip,B)}function Kme(p,y,B){var V=p.stateNode;if(y=y.childContextTypes,typeof V.getChildContext!="function")return B;V=V.getChildContext();for(var oe in V)if(!(oe in y))throw Error(m(108,jn(p)||"Unknown",oe));return Xe({},B,V)}function L4(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Z_,HS=qd.current,nl(qd,p),nl(Ip,Ip.current),!0}function Yme(p,y,B){var V=p.stateNode;if(!V)throw Error(m(169));B?(p=Kme(p,y,HS),V.__reactInternalMemoizedMergedChildContext=p,_l(Ip),_l(qd),nl(qd,p)):_l(Ip),nl(Ip,B)}var Wy=null,F4=!1,PH=!1;function qme(p){Wy===null?Wy=[p]:Wy.push(p)}function g4e(p){F4=!0,qme(p)}function $_(){if(!PH&&Wy!==null){PH=!0;var p=0,y=ca;try{var B=Wy;for(ca=1;p<B.length;p++){var V=B[p];do V=V(!0);while(V!==null)}Wy=null,F4=!1}catch(oe){throw Wy!==null&&(Wy=Wy.slice(p+1)),Qpe($j,$_),oe}finally{ca=y,PH=!1}}return null}var qA=[],QA=0,z4=null,U4=0,gg=[],vg=0,GS=null,Xy=1,Ky="";function VS(p,y){qA[QA++]=U4,qA[QA++]=z4,z4=p,U4=y}function Qme(p,y,B){gg[vg++]=Xy,gg[vg++]=Ky,gg[vg++]=GS,GS=p;var V=Xy;p=Ky;var oe=32-xv(V)-1;V&=~(1<<oe),B+=1;var me=32-xv(y)+oe;if(30<me){var ze=oe-oe%5;me=(V&(1<<ze)-1).toString(32),V>>=ze,oe-=ze,Xy=1<<32-xv(y)+oe|B<<oe|V,Ky=me+p}else Xy=1<<me|B<<oe|V,Ky=p}function kH(p){p.return!==null&&(VS(p,1),Qme(p,1,0))}function IH(p){for(;p===z4;)z4=qA[--QA],qA[QA]=null,U4=qA[--QA],qA[QA]=null;for(;p===GS;)GS=gg[--vg],gg[vg]=null,Ky=gg[--vg],gg[vg]=null,Xy=gg[--vg],gg[vg]=null}var vm=null,ym=null,Ol=!1,bv=null;function Jme(p,y){var B=xg(5,null,null,0);B.elementType="DELETED",B.stateNode=y,B.return=p,y=p.deletions,y===null?(p.deletions=[B],p.flags|=16):y.push(B)}function Zme(p,y){switch(p.tag){case 5:var B=p.type;return y=y.nodeType!==1||B.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,vm=p,ym=Q_(y.firstChild),!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,vm=p,ym=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(B=GS!==null?{id:Xy,overflow:Ky}:null,p.memoizedState={dehydrated:y,treeContext:B,retryLane:1073741824},B=xg(18,null,null,0),B.stateNode=y,B.return=p,p.child=B,vm=p,ym=null,!0):!1;default:return!1}}function RH(p){return(p.mode&1)!==0&&(p.flags&128)===0}function OH(p){if(Ol){var y=ym;if(y){var B=y;if(!Zme(p,y)){if(RH(p))throw Error(m(418));y=Q_(B.nextSibling);var V=vm;y&&Zme(p,y)?Jme(V,B):(p.flags=p.flags&-4097|2,Ol=!1,vm=p)}}else{if(RH(p))throw Error(m(418));p.flags=p.flags&-4097|2,Ol=!1,vm=p}}}function $me(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;vm=p}function j4(p){if(p!==vm)return!1;if(!Ol)return $me(p),Ol=!0,!1;var y;if((y=p.tag!==3)&&!(y=p.tag!==5)&&(y=p.type,y=y!=="head"&&y!=="body"&&!EH(p.type,p.memoizedProps)),y&&(y=ym)){if(RH(p))throw ege(),Error(m(418));for(;y;)Jme(p,y),y=Q_(y.nextSibling)}if($me(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(m(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var B=p.data;if(B==="/$"){if(y===0){ym=Q_(p.nextSibling);break e}y--}else B!=="$"&&B!=="$!"&&B!=="$?"||y++}p=p.nextSibling}ym=null}}else ym=vm?Q_(p.stateNode.nextSibling):null;return!0}function ege(){for(var p=ym;p;)p=Q_(p.nextSibling)}function JA(){ym=vm=null,Ol=!1}function BH(p){bv===null?bv=[p]:bv.push(p)}var v4e=Oe.ReactCurrentBatchConfig;function Ev(p,y){if(p&&p.defaultProps){y=Xe({},y),p=p.defaultProps;for(var B in p)y[B]===void 0&&(y[B]=p[B]);return y}return y}var H4=J_(null),G4=null,ZA=null,DH=null;function NH(){DH=ZA=G4=null}function LH(p){var y=H4.current;_l(H4),p._currentValue=y}function FH(p,y,B){for(;p!==null;){var V=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,V!==null&&(V.childLanes|=y)):V!==null&&(V.childLanes&y)!==y&&(V.childLanes|=y),p===B)break;p=p.return}}function $A(p,y){G4=p,DH=ZA=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&y&&(Op=!0),p.firstContext=null)}function yg(p){var y=p._currentValue;if(DH!==p)if(p={context:p,memoizedValue:y,next:null},ZA===null){if(G4===null)throw Error(m(308));ZA=p,G4.dependencies={lanes:0,firstContext:p}}else ZA=ZA.next=p;return y}var WS=null;function zH(p){WS===null?WS=[p]:WS.push(p)}function tge(p,y,B,V){var oe=y.interleaved;return oe===null?(B.next=B,zH(y)):(B.next=oe.next,oe.next=B),y.interleaved=B,Yy(p,V)}function Yy(p,y){p.lanes|=y;var B=p.alternate;for(B!==null&&(B.lanes|=y),B=p,p=p.return;p!==null;)p.childLanes|=y,B=p.alternate,B!==null&&(B.childLanes|=y),B=p,p=p.return;return B.tag===3?B.stateNode:null}var ew=!1;function UH(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nge(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function qy(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function tw(p,y,B){var V=p.updateQueue;if(V===null)return null;if(V=V.shared,As&2){var oe=V.pending;return oe===null?y.next=y:(y.next=oe.next,oe.next=y),V.pending=y,Yy(p,B)}return oe=V.interleaved,oe===null?(y.next=y,zH(V)):(y.next=oe.next,oe.next=y),V.interleaved=y,Yy(p,B)}function V4(p,y,B){if(y=y.updateQueue,y!==null&&(y=y.shared,(B&4194240)!==0)){var V=y.lanes;V&=p.pendingLanes,B|=V,y.lanes=B,nH(p,B)}}function rge(p,y){var B=p.updateQueue,V=p.alternate;if(V!==null&&(V=V.updateQueue,B===V)){var oe=null,me=null;if(B=B.firstBaseUpdate,B!==null){do{var ze={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};me===null?oe=me=ze:me=me.next=ze,B=B.next}while(B!==null);me===null?oe=me=y:me=me.next=y}else oe=me=y;B={baseState:V.baseState,firstBaseUpdate:oe,lastBaseUpdate:me,shared:V.shared,effects:V.effects},p.updateQueue=B;return}p=B.lastBaseUpdate,p===null?B.firstBaseUpdate=y:p.next=y,B.lastBaseUpdate=y}function W4(p,y,B,V){var oe=p.updateQueue;ew=!1;var me=oe.firstBaseUpdate,ze=oe.lastBaseUpdate,xt=oe.shared.pending;if(xt!==null){oe.shared.pending=null;var Ft=xt,Rn=Ft.next;Ft.next=null,ze===null?me=Rn:ze.next=Rn,ze=Ft;var gr=p.alternate;gr!==null&&(gr=gr.updateQueue,xt=gr.lastBaseUpdate,xt!==ze&&(xt===null?gr.firstBaseUpdate=Rn:xt.next=Rn,gr.lastBaseUpdate=Ft))}if(me!==null){var Ar=oe.baseState;ze=0,gr=Rn=Ft=null,xt=me;do{var mr=xt.lane,ci=xt.eventTime;if((V&mr)===mr){gr!==null&&(gr=gr.next={eventTime:ci,lane:0,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null});e:{var bi=p,Ci=xt;switch(mr=y,ci=B,Ci.tag){case 1:if(bi=Ci.payload,typeof bi=="function"){Ar=bi.call(ci,Ar,mr);break e}Ar=bi;break e;case 3:bi.flags=bi.flags&-65537|128;case 0:if(bi=Ci.payload,mr=typeof bi=="function"?bi.call(ci,Ar,mr):bi,mr==null)break e;Ar=Xe({},Ar,mr);break e;case 2:ew=!0}}xt.callback!==null&&xt.lane!==0&&(p.flags|=64,mr=oe.effects,mr===null?oe.effects=[xt]:mr.push(xt))}else ci={eventTime:ci,lane:mr,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null},gr===null?(Rn=gr=ci,Ft=Ar):gr=gr.next=ci,ze|=mr;if(xt=xt.next,xt===null){if(xt=oe.shared.pending,xt===null)break;mr=xt,xt=mr.next,mr.next=null,oe.lastBaseUpdate=mr,oe.shared.pending=null}}while(!0);if(gr===null&&(Ft=Ar),oe.baseState=Ft,oe.firstBaseUpdate=Rn,oe.lastBaseUpdate=gr,y=oe.shared.interleaved,y!==null){oe=y;do ze|=oe.lane,oe=oe.next;while(oe!==y)}else me===null&&(oe.shared.lanes=0);YS|=ze,p.lanes=ze,p.memoizedState=Ar}}function ige(p,y,B){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var V=p[y],oe=V.callback;if(oe!==null){if(V.callback=null,V=B,typeof oe!="function")throw Error(m(191,oe));oe.call(V)}}}var oge=new l.Component().refs;function jH(p,y,B,V){y=p.memoizedState,B=B(V,y),B=B==null?y:Xe({},y,B),p.memoizedState=B,p.lanes===0&&(p.updateQueue.baseState=B)}var X4={isMounted:function(p){return(p=p._reactInternals)?US(p)===p:!1},enqueueSetState:function(p,y,B){p=p._reactInternals;var V=Kh(),oe=ow(p),me=qy(V,oe);me.payload=y,B!=null&&(me.callback=B),y=tw(p,me,oe),y!==null&&(Mv(y,p,oe,V),V4(y,p,oe))},enqueueReplaceState:function(p,y,B){p=p._reactInternals;var V=Kh(),oe=ow(p),me=qy(V,oe);me.tag=1,me.payload=y,B!=null&&(me.callback=B),y=tw(p,me,oe),y!==null&&(Mv(y,p,oe,V),V4(y,p,oe))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var B=Kh(),V=ow(p),oe=qy(B,V);oe.tag=2,y!=null&&(oe.callback=y),y=tw(p,oe,V),y!==null&&(Mv(y,p,V,B),V4(y,p,V))}};function sge(p,y,B,V,oe,me,ze){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(V,me,ze):y.prototype&&y.prototype.isPureReactComponent?!Ok(B,V)||!Ok(oe,me):!0}function age(p,y,B){var V=!1,oe=Z_,me=y.contextType;return typeof me=="object"&&me!==null?me=yg(me):(oe=Rp(y)?HS:qd.current,V=y.contextTypes,me=(V=V!=null)?YA(p,oe):Z_),y=new y(B,me),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=X4,p.stateNode=y,y._reactInternals=p,V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=oe,p.__reactInternalMemoizedMaskedChildContext=me),y}function lge(p,y,B,V){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(B,V),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(B,V),y.state!==p&&X4.enqueueReplaceState(y,y.state,null)}function HH(p,y,B,V){var oe=p.stateNode;oe.props=B,oe.state=p.memoizedState,oe.refs=oge,UH(p);var me=y.contextType;typeof me=="object"&&me!==null?oe.context=yg(me):(me=Rp(y)?HS:qd.current,oe.context=YA(p,me)),oe.state=p.memoizedState,me=y.getDerivedStateFromProps,typeof me=="function"&&(jH(p,y,me,B),oe.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof oe.getSnapshotBeforeUpdate=="function"||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(y=oe.state,typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount(),y!==oe.state&&X4.enqueueReplaceState(oe,oe.state,null),W4(p,B,oe,V),oe.state=p.memoizedState),typeof oe.componentDidMount=="function"&&(p.flags|=4194308)}function Uk(p,y,B){if(p=B.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(m(309));var V=B.stateNode}if(!V)throw Error(m(147,p));var oe=V,me=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===me?y.ref:(y=function(ze){var xt=oe.refs;xt===oge&&(xt=oe.refs={}),ze===null?delete xt[me]:xt[me]=ze},y._stringRef=me,y)}if(typeof p!="string")throw Error(m(284));if(!B._owner)throw Error(m(290,p))}return p}function K4(p,y){throw p=Object.prototype.toString.call(y),Error(m(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p))}function uge(p){var y=p._init;return y(p._payload)}function cge(p){function y(mn,Gt){if(p){var wn=mn.deletions;wn===null?(mn.deletions=[Gt],mn.flags|=16):wn.push(Gt)}}function B(mn,Gt){if(!p)return null;for(;Gt!==null;)y(mn,Gt),Gt=Gt.sibling;return null}function V(mn,Gt){for(mn=new Map;Gt!==null;)Gt.key!==null?mn.set(Gt.key,Gt):mn.set(Gt.index,Gt),Gt=Gt.sibling;return mn}function oe(mn,Gt){return mn=aw(mn,Gt),mn.index=0,mn.sibling=null,mn}function me(mn,Gt,wn){return mn.index=wn,p?(wn=mn.alternate,wn!==null?(wn=wn.index,wn<Gt?(mn.flags|=2,Gt):wn):(mn.flags|=2,Gt)):(mn.flags|=1048576,Gt)}function ze(mn){return p&&mn.alternate===null&&(mn.flags|=2),mn}function xt(mn,Gt,wn,Fr){return Gt===null||Gt.tag!==6?(Gt=E7(wn,mn.mode,Fr),Gt.return=mn,Gt):(Gt=oe(Gt,wn),Gt.return=mn,Gt)}function Ft(mn,Gt,wn,Fr){var Ii=wn.type;return Ii===lt?gr(mn,Gt,wn.props.children,Fr,wn.key):Gt!==null&&(Gt.elementType===Ii||typeof Ii=="object"&&Ii!==null&&Ii.$$typeof===bt&&uge(Ii)===Gt.type)?(Fr=oe(Gt,wn.props),Fr.ref=Uk(mn,Gt,wn),Fr.return=mn,Fr):(Fr=dN(wn.type,wn.key,wn.props,null,mn.mode,Fr),Fr.ref=Uk(mn,Gt,wn),Fr.return=mn,Fr)}function Rn(mn,Gt,wn,Fr){return Gt===null||Gt.tag!==4||Gt.stateNode.containerInfo!==wn.containerInfo||Gt.stateNode.implementation!==wn.implementation?(Gt=A7(wn,mn.mode,Fr),Gt.return=mn,Gt):(Gt=oe(Gt,wn.children||[]),Gt.return=mn,Gt)}function gr(mn,Gt,wn,Fr,Ii){return Gt===null||Gt.tag!==7?(Gt=ZS(wn,mn.mode,Fr,Ii),Gt.return=mn,Gt):(Gt=oe(Gt,wn),Gt.return=mn,Gt)}function Ar(mn,Gt,wn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return Gt=E7(""+Gt,mn.mode,wn),Gt.return=mn,Gt;if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case He:return wn=dN(Gt.type,Gt.key,Gt.props,null,mn.mode,wn),wn.ref=Uk(mn,null,Gt),wn.return=mn,wn;case vt:return Gt=A7(Gt,mn.mode,wn),Gt.return=mn,Gt;case bt:var Fr=Gt._init;return Ar(mn,Fr(Gt._payload),wn)}if(rr(Gt)||Hn(Gt))return Gt=ZS(Gt,mn.mode,wn,null),Gt.return=mn,Gt;K4(mn,Gt)}return null}function mr(mn,Gt,wn,Fr){var Ii=Gt!==null?Gt.key:null;if(typeof wn=="string"&&wn!==""||typeof wn=="number")return Ii!==null?null:xt(mn,Gt,""+wn,Fr);if(typeof wn=="object"&&wn!==null){switch(wn.$$typeof){case He:return wn.key===Ii?Ft(mn,Gt,wn,Fr):null;case vt:return wn.key===Ii?Rn(mn,Gt,wn,Fr):null;case bt:return Ii=wn._init,mr(mn,Gt,Ii(wn._payload),Fr)}if(rr(wn)||Hn(wn))return Ii!==null?null:gr(mn,Gt,wn,Fr,null);K4(mn,wn)}return null}function ci(mn,Gt,wn,Fr,Ii){if(typeof Fr=="string"&&Fr!==""||typeof Fr=="number")return mn=mn.get(wn)||null,xt(Gt,mn,""+Fr,Ii);if(typeof Fr=="object"&&Fr!==null){switch(Fr.$$typeof){case He:return mn=mn.get(Fr.key===null?wn:Fr.key)||null,Ft(Gt,mn,Fr,Ii);case vt:return mn=mn.get(Fr.key===null?wn:Fr.key)||null,Rn(Gt,mn,Fr,Ii);case bt:var Yi=Fr._init;return ci(mn,Gt,wn,Yi(Fr._payload),Ii)}if(rr(Fr)||Hn(Fr))return mn=mn.get(wn)||null,gr(Gt,mn,Fr,Ii,null);K4(Gt,Fr)}return null}function bi(mn,Gt,wn,Fr){for(var Ii=null,Yi=null,qi=Gt,ho=Gt=0,Nf=null;qi!==null&&ho<wn.length;ho++){qi.index>ho?(Nf=qi,qi=null):Nf=qi.sibling;var Fs=mr(mn,qi,wn[ho],Fr);if(Fs===null){qi===null&&(qi=Nf);break}p&&qi&&Fs.alternate===null&&y(mn,qi),Gt=me(Fs,Gt,ho),Yi===null?Ii=Fs:Yi.sibling=Fs,Yi=Fs,qi=Nf}if(ho===wn.length)return B(mn,qi),Ol&&VS(mn,ho),Ii;if(qi===null){for(;ho<wn.length;ho++)qi=Ar(mn,wn[ho],Fr),qi!==null&&(Gt=me(qi,Gt,ho),Yi===null?Ii=qi:Yi.sibling=qi,Yi=qi);return Ol&&VS(mn,ho),Ii}for(qi=V(mn,qi);ho<wn.length;ho++)Nf=ci(qi,mn,ho,wn[ho],Fr),Nf!==null&&(p&&Nf.alternate!==null&&qi.delete(Nf.key===null?ho:Nf.key),Gt=me(Nf,Gt,ho),Yi===null?Ii=Nf:Yi.sibling=Nf,Yi=Nf);return p&&qi.forEach(function(lw){return y(mn,lw)}),Ol&&VS(mn,ho),Ii}function Ci(mn,Gt,wn,Fr){var Ii=Hn(wn);if(typeof Ii!="function")throw Error(m(150));if(wn=Ii.call(wn),wn==null)throw Error(m(151));for(var Yi=Ii=null,qi=Gt,ho=Gt=0,Nf=null,Fs=wn.next();qi!==null&&!Fs.done;ho++,Fs=wn.next()){qi.index>ho?(Nf=qi,qi=null):Nf=qi.sibling;var lw=mr(mn,qi,Fs.value,Fr);if(lw===null){qi===null&&(qi=Nf);break}p&&qi&&lw.alternate===null&&y(mn,qi),Gt=me(lw,Gt,ho),Yi===null?Ii=lw:Yi.sibling=lw,Yi=lw,qi=Nf}if(Fs.done)return B(mn,qi),Ol&&VS(mn,ho),Ii;if(qi===null){for(;!Fs.done;ho++,Fs=wn.next())Fs=Ar(mn,Fs.value,Fr),Fs!==null&&(Gt=me(Fs,Gt,ho),Yi===null?Ii=Fs:Yi.sibling=Fs,Yi=Fs);return Ol&&VS(mn,ho),Ii}for(qi=V(mn,qi);!Fs.done;ho++,Fs=wn.next())Fs=ci(qi,mn,ho,Fs.value,Fr),Fs!==null&&(p&&Fs.alternate!==null&&qi.delete(Fs.key===null?ho:Fs.key),Gt=me(Fs,Gt,ho),Yi===null?Ii=Fs:Yi.sibling=Fs,Yi=Fs);return p&&qi.forEach(function(Q4e){return y(mn,Q4e)}),Ol&&VS(mn,ho),Ii}function Ju(mn,Gt,wn,Fr){if(typeof wn=="object"&&wn!==null&&wn.type===lt&&wn.key===null&&(wn=wn.props.children),typeof wn=="object"&&wn!==null){switch(wn.$$typeof){case He:e:{for(var Ii=wn.key,Yi=Gt;Yi!==null;){if(Yi.key===Ii){if(Ii=wn.type,Ii===lt){if(Yi.tag===7){B(mn,Yi.sibling),Gt=oe(Yi,wn.props.children),Gt.return=mn,mn=Gt;break e}}else if(Yi.elementType===Ii||typeof Ii=="object"&&Ii!==null&&Ii.$$typeof===bt&&uge(Ii)===Yi.type){B(mn,Yi.sibling),Gt=oe(Yi,wn.props),Gt.ref=Uk(mn,Yi,wn),Gt.return=mn,mn=Gt;break e}B(mn,Yi);break}else y(mn,Yi);Yi=Yi.sibling}wn.type===lt?(Gt=ZS(wn.props.children,mn.mode,Fr,wn.key),Gt.return=mn,mn=Gt):(Fr=dN(wn.type,wn.key,wn.props,null,mn.mode,Fr),Fr.ref=Uk(mn,Gt,wn),Fr.return=mn,mn=Fr)}return ze(mn);case vt:e:{for(Yi=wn.key;Gt!==null;){if(Gt.key===Yi)if(Gt.tag===4&&Gt.stateNode.containerInfo===wn.containerInfo&&Gt.stateNode.implementation===wn.implementation){B(mn,Gt.sibling),Gt=oe(Gt,wn.children||[]),Gt.return=mn,mn=Gt;break e}else{B(mn,Gt);break}else y(mn,Gt);Gt=Gt.sibling}Gt=A7(wn,mn.mode,Fr),Gt.return=mn,mn=Gt}return ze(mn);case bt:return Yi=wn._init,Ju(mn,Gt,Yi(wn._payload),Fr)}if(rr(wn))return bi(mn,Gt,wn,Fr);if(Hn(wn))return Ci(mn,Gt,wn,Fr);K4(mn,wn)}return typeof wn=="string"&&wn!==""||typeof wn=="number"?(wn=""+wn,Gt!==null&&Gt.tag===6?(B(mn,Gt.sibling),Gt=oe(Gt,wn),Gt.return=mn,mn=Gt):(B(mn,Gt),Gt=E7(wn,mn.mode,Fr),Gt.return=mn,mn=Gt),ze(mn)):B(mn,Gt)}return Ju}var eC=cge(!0),fge=cge(!1),jk={},P0=J_(jk),Hk=J_(jk),Gk=J_(jk);function XS(p){if(p===jk)throw Error(m(174));return p}function GH(p,y){switch(nl(Gk,y),nl(Hk,p),nl(P0,jk),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:fo(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=fo(y,p)}_l(P0),nl(P0,y)}function tC(){_l(P0),_l(Hk),_l(Gk)}function dge(p){XS(Gk.current);var y=XS(P0.current),B=fo(y,p.type);y!==B&&(nl(Hk,p),nl(P0,B))}function VH(p){Hk.current===p&&(_l(P0),_l(Hk))}var Zl=J_(0);function Y4(p){for(var y=p;y!==null;){if(y.tag===13){var B=y.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var WH=[];function XH(){for(var p=0;p<WH.length;p++)WH[p]._workInProgressVersionPrimary=null;WH.length=0}var q4=Oe.ReactCurrentDispatcher,KH=Oe.ReactCurrentBatchConfig,KS=0,$l=null,Qc=null,Bf=null,Q4=!1,Vk=!1,Wk=0,y4e=0;function Qd(){throw Error(m(321))}function YH(p,y){if(y===null)return!1;for(var B=0;B<y.length&&B<p.length;B++)if(!Sv(p[B],y[B]))return!1;return!0}function qH(p,y,B,V,oe,me){if(KS=me,$l=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,q4.current=p===null||p.memoizedState===null?S4e:b4e,p=B(V,oe),Vk){me=0;do{if(Vk=!1,Wk=0,25<=me)throw Error(m(301));me+=1,Bf=Qc=null,y.updateQueue=null,q4.current=E4e,p=B(V,oe)}while(Vk)}if(q4.current=$4,y=Qc!==null&&Qc.next!==null,KS=0,Bf=Qc=$l=null,Q4=!1,y)throw Error(m(300));return p}function QH(){var p=Wk!==0;return Wk=0,p}function k0(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bf===null?$l.memoizedState=Bf=p:Bf=Bf.next=p,Bf}function _g(){if(Qc===null){var p=$l.alternate;p=p!==null?p.memoizedState:null}else p=Qc.next;var y=Bf===null?$l.memoizedState:Bf.next;if(y!==null)Bf=y,Qc=p;else{if(p===null)throw Error(m(310));Qc=p,p={memoizedState:Qc.memoizedState,baseState:Qc.baseState,baseQueue:Qc.baseQueue,queue:Qc.queue,next:null},Bf===null?$l.memoizedState=Bf=p:Bf=Bf.next=p}return Bf}function Xk(p,y){return typeof y=="function"?y(p):y}function JH(p){var y=_g(),B=y.queue;if(B===null)throw Error(m(311));B.lastRenderedReducer=p;var V=Qc,oe=V.baseQueue,me=B.pending;if(me!==null){if(oe!==null){var ze=oe.next;oe.next=me.next,me.next=ze}V.baseQueue=oe=me,B.pending=null}if(oe!==null){me=oe.next,V=V.baseState;var xt=ze=null,Ft=null,Rn=me;do{var gr=Rn.lane;if((KS&gr)===gr)Ft!==null&&(Ft=Ft.next={lane:0,action:Rn.action,hasEagerState:Rn.hasEagerState,eagerState:Rn.eagerState,next:null}),V=Rn.hasEagerState?Rn.eagerState:p(V,Rn.action);else{var Ar={lane:gr,action:Rn.action,hasEagerState:Rn.hasEagerState,eagerState:Rn.eagerState,next:null};Ft===null?(xt=Ft=Ar,ze=V):Ft=Ft.next=Ar,$l.lanes|=gr,YS|=gr}Rn=Rn.next}while(Rn!==null&&Rn!==me);Ft===null?ze=V:Ft.next=xt,Sv(V,y.memoizedState)||(Op=!0),y.memoizedState=V,y.baseState=ze,y.baseQueue=Ft,B.lastRenderedState=V}if(p=B.interleaved,p!==null){oe=p;do me=oe.lane,$l.lanes|=me,YS|=me,oe=oe.next;while(oe!==p)}else oe===null&&(B.lanes=0);return[y.memoizedState,B.dispatch]}function ZH(p){var y=_g(),B=y.queue;if(B===null)throw Error(m(311));B.lastRenderedReducer=p;var V=B.dispatch,oe=B.pending,me=y.memoizedState;if(oe!==null){B.pending=null;var ze=oe=oe.next;do me=p(me,ze.action),ze=ze.next;while(ze!==oe);Sv(me,y.memoizedState)||(Op=!0),y.memoizedState=me,y.baseQueue===null&&(y.baseState=me),B.lastRenderedState=me}return[me,V]}function hge(){}function pge(p,y){var B=$l,V=_g(),oe=y(),me=!Sv(V.memoizedState,oe);if(me&&(V.memoizedState=oe,Op=!0),V=V.queue,$H(vge.bind(null,B,V,p),[p]),V.getSnapshot!==y||me||Bf!==null&&Bf.memoizedState.tag&1){if(B.flags|=2048,Kk(9,gge.bind(null,B,V,oe,y),void 0,null),Df===null)throw Error(m(349));KS&30||mge(B,y,oe)}return oe}function mge(p,y,B){p.flags|=16384,p={getSnapshot:y,value:B},y=$l.updateQueue,y===null?(y={lastEffect:null,stores:null},$l.updateQueue=y,y.stores=[p]):(B=y.stores,B===null?y.stores=[p]:B.push(p))}function gge(p,y,B,V){y.value=B,y.getSnapshot=V,yge(y)&&_ge(p)}function vge(p,y,B){return B(function(){yge(y)&&_ge(p)})}function yge(p){var y=p.getSnapshot;p=p.value;try{var B=y();return!Sv(p,B)}catch{return!0}}function _ge(p){var y=Yy(p,1);y!==null&&Mv(y,p,1,-1)}function wge(p){var y=k0();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xk,lastRenderedState:p},y.queue=p,p=p.dispatch=x4e.bind(null,$l,p),[y.memoizedState,p]}function Kk(p,y,B,V){return p={tag:p,create:y,destroy:B,deps:V,next:null},y=$l.updateQueue,y===null?(y={lastEffect:null,stores:null},$l.updateQueue=y,y.lastEffect=p.next=p):(B=y.lastEffect,B===null?y.lastEffect=p.next=p:(V=B.next,B.next=p,p.next=V,y.lastEffect=p)),p}function xge(){return _g().memoizedState}function J4(p,y,B,V){var oe=k0();$l.flags|=p,oe.memoizedState=Kk(1|y,B,void 0,V===void 0?null:V)}function Z4(p,y,B,V){var oe=_g();V=V===void 0?null:V;var me=void 0;if(Qc!==null){var ze=Qc.memoizedState;if(me=ze.destroy,V!==null&&YH(V,ze.deps)){oe.memoizedState=Kk(y,B,me,V);return}}$l.flags|=p,oe.memoizedState=Kk(1|y,B,me,V)}function Sge(p,y){return J4(8390656,8,p,y)}function $H(p,y){return Z4(2048,8,p,y)}function bge(p,y){return Z4(4,2,p,y)}function Ege(p,y){return Z4(4,4,p,y)}function Age(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function Cge(p,y,B){return B=B!=null?B.concat([p]):null,Z4(4,4,Age.bind(null,y,p),B)}function e7(){}function Mge(p,y){var B=_g();y=y===void 0?null:y;var V=B.memoizedState;return V!==null&&y!==null&&YH(y,V[1])?V[0]:(B.memoizedState=[p,y],p)}function Tge(p,y){var B=_g();y=y===void 0?null:y;var V=B.memoizedState;return V!==null&&y!==null&&YH(y,V[1])?V[0]:(p=p(),B.memoizedState=[p,y],p)}function Pge(p,y,B){return KS&21?(Sv(B,y)||(B=eme(),$l.lanes|=B,YS|=B,p.baseState=!0),y):(p.baseState&&(p.baseState=!1,Op=!0),p.memoizedState=B)}function _4e(p,y){var B=ca;ca=B!==0&&4>B?B:4,p(!0);var V=KH.transition;KH.transition={};try{p(!1),y()}finally{ca=B,KH.transition=V}}function kge(){return _g().memoizedState}function w4e(p,y,B){var V=ow(p);if(B={lane:V,action:B,hasEagerState:!1,eagerState:null,next:null},Ige(p))Rge(y,B);else if(B=tge(p,y,B,V),B!==null){var oe=Kh();Mv(B,p,V,oe),Oge(B,y,V)}}function x4e(p,y,B){var V=ow(p),oe={lane:V,action:B,hasEagerState:!1,eagerState:null,next:null};if(Ige(p))Rge(y,oe);else{var me=p.alternate;if(p.lanes===0&&(me===null||me.lanes===0)&&(me=y.lastRenderedReducer,me!==null))try{var ze=y.lastRenderedState,xt=me(ze,B);if(oe.hasEagerState=!0,oe.eagerState=xt,Sv(xt,ze)){var Ft=y.interleaved;Ft===null?(oe.next=oe,zH(y)):(oe.next=Ft.next,Ft.next=oe),y.interleaved=oe;return}}catch{}finally{}B=tge(p,y,oe,V),B!==null&&(oe=Kh(),Mv(B,p,V,oe),Oge(B,y,V))}}function Ige(p){var y=p.alternate;return p===$l||y!==null&&y===$l}function Rge(p,y){Vk=Q4=!0;var B=p.pending;B===null?y.next=y:(y.next=B.next,B.next=y),p.pending=y}function Oge(p,y,B){if(B&4194240){var V=y.lanes;V&=p.pendingLanes,B|=V,y.lanes=B,nH(p,B)}}var $4={readContext:yg,useCallback:Qd,useContext:Qd,useEffect:Qd,useImperativeHandle:Qd,useInsertionEffect:Qd,useLayoutEffect:Qd,useMemo:Qd,useReducer:Qd,useRef:Qd,useState:Qd,useDebugValue:Qd,useDeferredValue:Qd,useTransition:Qd,useMutableSource:Qd,useSyncExternalStore:Qd,useId:Qd,unstable_isNewReconciler:!1},S4e={readContext:yg,useCallback:function(p,y){return k0().memoizedState=[p,y===void 0?null:y],p},useContext:yg,useEffect:Sge,useImperativeHandle:function(p,y,B){return B=B!=null?B.concat([p]):null,J4(4194308,4,Age.bind(null,y,p),B)},useLayoutEffect:function(p,y){return J4(4194308,4,p,y)},useInsertionEffect:function(p,y){return J4(4,2,p,y)},useMemo:function(p,y){var B=k0();return y=y===void 0?null:y,p=p(),B.memoizedState=[p,y],p},useReducer:function(p,y,B){var V=k0();return y=B!==void 0?B(y):y,V.memoizedState=V.baseState=y,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},V.queue=p,p=p.dispatch=w4e.bind(null,$l,p),[V.memoizedState,p]},useRef:function(p){var y=k0();return p={current:p},y.memoizedState=p},useState:wge,useDebugValue:e7,useDeferredValue:function(p){return k0().memoizedState=p},useTransition:function(){var p=wge(!1),y=p[0];return p=_4e.bind(null,p[1]),k0().memoizedState=p,[y,p]},useMutableSource:function(){},useSyncExternalStore:function(p,y,B){var V=$l,oe=k0();if(Ol){if(B===void 0)throw Error(m(407));B=B()}else{if(B=y(),Df===null)throw Error(m(349));KS&30||mge(V,y,B)}oe.memoizedState=B;var me={value:B,getSnapshot:y};return oe.queue=me,Sge(vge.bind(null,V,me,p),[p]),V.flags|=2048,Kk(9,gge.bind(null,V,me,B,y),void 0,null),B},useId:function(){var p=k0(),y=Df.identifierPrefix;if(Ol){var B=Ky,V=Xy;B=(V&~(1<<32-xv(V)-1)).toString(32)+B,y=":"+y+"R"+B,B=Wk++,0<B&&(y+="H"+B.toString(32)),y+=":"}else B=y4e++,y=":"+y+"r"+B.toString(32)+":";return p.memoizedState=y},unstable_isNewReconciler:!1},b4e={readContext:yg,useCallback:Mge,useContext:yg,useEffect:$H,useImperativeHandle:Cge,useInsertionEffect:bge,useLayoutEffect:Ege,useMemo:Tge,useReducer:JH,useRef:xge,useState:function(){return JH(Xk)},useDebugValue:e7,useDeferredValue:function(p){var y=_g();return Pge(y,Qc.memoizedState,p)},useTransition:function(){var p=JH(Xk)[0],y=_g().memoizedState;return[p,y]},useMutableSource:hge,useSyncExternalStore:pge,useId:kge,unstable_isNewReconciler:!1},E4e={readContext:yg,useCallback:Mge,useContext:yg,useEffect:$H,useImperativeHandle:Cge,useInsertionEffect:bge,useLayoutEffect:Ege,useMemo:Tge,useReducer:ZH,useRef:xge,useState:function(){return ZH(Xk)},useDebugValue:e7,useDeferredValue:function(p){var y=_g();return Qc===null?y.memoizedState=p:Pge(y,Qc.memoizedState,p)},useTransition:function(){var p=ZH(Xk)[0],y=_g().memoizedState;return[p,y]},useMutableSource:hge,useSyncExternalStore:pge,useId:kge,unstable_isNewReconciler:!1};function nC(p,y){try{var B="",V=y;do B+=Qt(V),V=V.return;while(V);var oe=B}catch(me){oe=`
Error generating stack: `+me.message+`
`+me.stack}return{value:p,source:y,stack:oe,digest:null}}function t7(p,y,B){return{value:p,source:null,stack:B??null,digest:y??null}}function n7(p,y){try{console.error(y.value)}catch(B){setTimeout(function(){throw B})}}var A4e=typeof WeakMap=="function"?WeakMap:Map;function Bge(p,y,B){B=qy(-1,B),B.tag=3,B.payload={element:null};var V=y.value;return B.callback=function(){sN||(sN=!0,g7=V),n7(p,y)},B}function Dge(p,y,B){B=qy(-1,B),B.tag=3;var V=p.type.getDerivedStateFromError;if(typeof V=="function"){var oe=y.value;B.payload=function(){return V(oe)},B.callback=function(){n7(p,y)}}var me=p.stateNode;return me!==null&&typeof me.componentDidCatch=="function"&&(B.callback=function(){n7(p,y),typeof V!="function"&&(rw===null?rw=new Set([this]):rw.add(this));var ze=y.stack;this.componentDidCatch(y.value,{componentStack:ze!==null?ze:""})}),B}function Nge(p,y,B){var V=p.pingCache;if(V===null){V=p.pingCache=new A4e;var oe=new Set;V.set(y,oe)}else oe=V.get(y),oe===void 0&&(oe=new Set,V.set(y,oe));oe.has(B)||(oe.add(B),p=z4e.bind(null,p,y,B),y.then(p,p))}function Lge(p){do{var y;if((y=p.tag===13)&&(y=p.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return p;p=p.return}while(p!==null);return null}function Fge(p,y,B,V,oe){return p.mode&1?(p.flags|=65536,p.lanes=oe,p):(p===y?p.flags|=65536:(p.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(y=qy(-1,1),y.tag=2,tw(B,y,1))),B.lanes|=1),p)}var C4e=Oe.ReactCurrentOwner,Op=!1;function Xh(p,y,B,V){y.child=p===null?fge(y,null,B,V):eC(y,p.child,B,V)}function zge(p,y,B,V,oe){B=B.render;var me=y.ref;return $A(y,oe),V=qH(p,y,B,V,me,oe),B=QH(),p!==null&&!Op?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~oe,Qy(p,y,oe)):(Ol&&B&&kH(y),y.flags|=1,Xh(p,y,V,oe),y.child)}function Uge(p,y,B,V,oe){if(p===null){var me=B.type;return typeof me=="function"&&!b7(me)&&me.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(y.tag=15,y.type=me,jge(p,y,me,V,oe)):(p=dN(B.type,null,V,y,y.mode,oe),p.ref=y.ref,p.return=y,y.child=p)}if(me=p.child,!(p.lanes&oe)){var ze=me.memoizedProps;if(B=B.compare,B=B!==null?B:Ok,B(ze,V)&&p.ref===y.ref)return Qy(p,y,oe)}return y.flags|=1,p=aw(me,V),p.ref=y.ref,p.return=y,y.child=p}function jge(p,y,B,V,oe){if(p!==null){var me=p.memoizedProps;if(Ok(me,V)&&p.ref===y.ref)if(Op=!1,y.pendingProps=V=me,(p.lanes&oe)!==0)p.flags&131072&&(Op=!0);else return y.lanes=p.lanes,Qy(p,y,oe)}return r7(p,y,B,V,oe)}function Hge(p,y,B){var V=y.pendingProps,oe=V.children,me=p!==null?p.memoizedState:null;if(V.mode==="hidden")if(!(y.mode&1))y.memoizedState={baseLanes:0,cachePool:null,transitions:null},nl(iC,_m),_m|=B;else{if(!(B&1073741824))return p=me!==null?me.baseLanes|B:B,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p,cachePool:null,transitions:null},y.updateQueue=null,nl(iC,_m),_m|=p,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=me!==null?me.baseLanes:B,nl(iC,_m),_m|=V}else me!==null?(V=me.baseLanes|B,y.memoizedState=null):V=B,nl(iC,_m),_m|=V;return Xh(p,y,oe,B),y.child}function Gge(p,y){var B=y.ref;(p===null&&B!==null||p!==null&&p.ref!==B)&&(y.flags|=512,y.flags|=2097152)}function r7(p,y,B,V,oe){var me=Rp(B)?HS:qd.current;return me=YA(y,me),$A(y,oe),B=qH(p,y,B,V,me,oe),V=QH(),p!==null&&!Op?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~oe,Qy(p,y,oe)):(Ol&&V&&kH(y),y.flags|=1,Xh(p,y,B,oe),y.child)}function Vge(p,y,B,V,oe){if(Rp(B)){var me=!0;L4(y)}else me=!1;if($A(y,oe),y.stateNode===null)tN(p,y),age(y,B,V),HH(y,B,V,oe),V=!0;else if(p===null){var ze=y.stateNode,xt=y.memoizedProps;ze.props=xt;var Ft=ze.context,Rn=B.contextType;typeof Rn=="object"&&Rn!==null?Rn=yg(Rn):(Rn=Rp(B)?HS:qd.current,Rn=YA(y,Rn));var gr=B.getDerivedStateFromProps,Ar=typeof gr=="function"||typeof ze.getSnapshotBeforeUpdate=="function";Ar||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(xt!==V||Ft!==Rn)&&lge(y,ze,V,Rn),ew=!1;var mr=y.memoizedState;ze.state=mr,W4(y,V,ze,oe),Ft=y.memoizedState,xt!==V||mr!==Ft||Ip.current||ew?(typeof gr=="function"&&(jH(y,B,gr,V),Ft=y.memoizedState),(xt=ew||sge(y,B,xt,V,mr,Ft,Rn))?(Ar||typeof ze.UNSAFE_componentWillMount!="function"&&typeof ze.componentWillMount!="function"||(typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount()),typeof ze.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ze.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=V,y.memoizedState=Ft),ze.props=V,ze.state=Ft,ze.context=Rn,V=xt):(typeof ze.componentDidMount=="function"&&(y.flags|=4194308),V=!1)}else{ze=y.stateNode,nge(p,y),xt=y.memoizedProps,Rn=y.type===y.elementType?xt:Ev(y.type,xt),ze.props=Rn,Ar=y.pendingProps,mr=ze.context,Ft=B.contextType,typeof Ft=="object"&&Ft!==null?Ft=yg(Ft):(Ft=Rp(B)?HS:qd.current,Ft=YA(y,Ft));var ci=B.getDerivedStateFromProps;(gr=typeof ci=="function"||typeof ze.getSnapshotBeforeUpdate=="function")||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(xt!==Ar||mr!==Ft)&&lge(y,ze,V,Ft),ew=!1,mr=y.memoizedState,ze.state=mr,W4(y,V,ze,oe);var bi=y.memoizedState;xt!==Ar||mr!==bi||Ip.current||ew?(typeof ci=="function"&&(jH(y,B,ci,V),bi=y.memoizedState),(Rn=ew||sge(y,B,Rn,V,mr,bi,Ft)||!1)?(gr||typeof ze.UNSAFE_componentWillUpdate!="function"&&typeof ze.componentWillUpdate!="function"||(typeof ze.componentWillUpdate=="function"&&ze.componentWillUpdate(V,bi,Ft),typeof ze.UNSAFE_componentWillUpdate=="function"&&ze.UNSAFE_componentWillUpdate(V,bi,Ft)),typeof ze.componentDidUpdate=="function"&&(y.flags|=4),typeof ze.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ze.componentDidUpdate!="function"||xt===p.memoizedProps&&mr===p.memoizedState||(y.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||xt===p.memoizedProps&&mr===p.memoizedState||(y.flags|=1024),y.memoizedProps=V,y.memoizedState=bi),ze.props=V,ze.state=bi,ze.context=Ft,V=Rn):(typeof ze.componentDidUpdate!="function"||xt===p.memoizedProps&&mr===p.memoizedState||(y.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||xt===p.memoizedProps&&mr===p.memoizedState||(y.flags|=1024),V=!1)}return i7(p,y,B,V,me,oe)}function i7(p,y,B,V,oe,me){Gge(p,y);var ze=(y.flags&128)!==0;if(!V&&!ze)return oe&&Yme(y,B,!1),Qy(p,y,me);V=y.stateNode,C4e.current=y;var xt=ze&&typeof B.getDerivedStateFromError!="function"?null:V.render();return y.flags|=1,p!==null&&ze?(y.child=eC(y,p.child,null,me),y.child=eC(y,null,xt,me)):Xh(p,y,xt,me),y.memoizedState=V.state,oe&&Yme(y,B,!0),y.child}function Wge(p){var y=p.stateNode;y.pendingContext?Xme(p,y.pendingContext,y.pendingContext!==y.context):y.context&&Xme(p,y.context,!1),GH(p,y.containerInfo)}function Xge(p,y,B,V,oe){return JA(),BH(oe),y.flags|=256,Xh(p,y,B,V),y.child}var o7={dehydrated:null,treeContext:null,retryLane:0};function s7(p){return{baseLanes:p,cachePool:null,transitions:null}}function Kge(p,y,B){var V=y.pendingProps,oe=Zl.current,me=!1,ze=(y.flags&128)!==0,xt;if((xt=ze)||(xt=p!==null&&p.memoizedState===null?!1:(oe&2)!==0),xt?(me=!0,y.flags&=-129):(p===null||p.memoizedState!==null)&&(oe|=1),nl(Zl,oe&1),p===null)return OH(y),p=y.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(y.mode&1?p.data==="$!"?y.lanes=8:y.lanes=1073741824:y.lanes=1,null):(ze=V.children,p=V.fallback,me?(V=y.mode,me=y.child,ze={mode:"hidden",children:ze},!(V&1)&&me!==null?(me.childLanes=0,me.pendingProps=ze):me=hN(ze,V,0,null),p=ZS(p,V,B,null),me.return=y,p.return=y,me.sibling=p,y.child=me,y.child.memoizedState=s7(B),y.memoizedState=o7,p):a7(y,ze));if(oe=p.memoizedState,oe!==null&&(xt=oe.dehydrated,xt!==null))return M4e(p,y,ze,V,xt,oe,B);if(me){me=V.fallback,ze=y.mode,oe=p.child,xt=oe.sibling;var Ft={mode:"hidden",children:V.children};return!(ze&1)&&y.child!==oe?(V=y.child,V.childLanes=0,V.pendingProps=Ft,y.deletions=null):(V=aw(oe,Ft),V.subtreeFlags=oe.subtreeFlags&14680064),xt!==null?me=aw(xt,me):(me=ZS(me,ze,B,null),me.flags|=2),me.return=y,V.return=y,V.sibling=me,y.child=V,V=me,me=y.child,ze=p.child.memoizedState,ze=ze===null?s7(B):{baseLanes:ze.baseLanes|B,cachePool:null,transitions:ze.transitions},me.memoizedState=ze,me.childLanes=p.childLanes&~B,y.memoizedState=o7,V}return me=p.child,p=me.sibling,V=aw(me,{mode:"visible",children:V.children}),!(y.mode&1)&&(V.lanes=B),V.return=y,V.sibling=null,p!==null&&(B=y.deletions,B===null?(y.deletions=[p],y.flags|=16):B.push(p)),y.child=V,y.memoizedState=null,V}function a7(p,y){return y=hN({mode:"visible",children:y},p.mode,0,null),y.return=p,p.child=y}function eN(p,y,B,V){return V!==null&&BH(V),eC(y,p.child,null,B),p=a7(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function M4e(p,y,B,V,oe,me,ze){if(B)return y.flags&256?(y.flags&=-257,V=t7(Error(m(422))),eN(p,y,ze,V)):y.memoizedState!==null?(y.child=p.child,y.flags|=128,null):(me=V.fallback,oe=y.mode,V=hN({mode:"visible",children:V.children},oe,0,null),me=ZS(me,oe,ze,null),me.flags|=2,V.return=y,me.return=y,V.sibling=me,y.child=V,y.mode&1&&eC(y,p.child,null,ze),y.child.memoizedState=s7(ze),y.memoizedState=o7,me);if(!(y.mode&1))return eN(p,y,ze,null);if(oe.data==="$!"){if(V=oe.nextSibling&&oe.nextSibling.dataset,V)var xt=V.dgst;return V=xt,me=Error(m(419)),V=t7(me,V,void 0),eN(p,y,ze,V)}if(xt=(ze&p.childLanes)!==0,Op||xt){if(V=Df,V!==null){switch(ze&-ze){case 4:oe=2;break;case 16:oe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oe=32;break;case 536870912:oe=268435456;break;default:oe=0}oe=oe&(V.suspendedLanes|ze)?0:oe,oe!==0&&oe!==me.retryLane&&(me.retryLane=oe,Yy(p,oe),Mv(V,p,oe,-1))}return S7(),V=t7(Error(m(421))),eN(p,y,ze,V)}return oe.data==="$?"?(y.flags|=128,y.child=p.child,y=U4e.bind(null,p),oe._reactRetry=y,null):(p=me.treeContext,ym=Q_(oe.nextSibling),vm=y,Ol=!0,bv=null,p!==null&&(gg[vg++]=Xy,gg[vg++]=Ky,gg[vg++]=GS,Xy=p.id,Ky=p.overflow,GS=y),y=a7(y,V.children),y.flags|=4096,y)}function Yge(p,y,B){p.lanes|=y;var V=p.alternate;V!==null&&(V.lanes|=y),FH(p.return,y,B)}function l7(p,y,B,V,oe){var me=p.memoizedState;me===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:V,tail:B,tailMode:oe}:(me.isBackwards=y,me.rendering=null,me.renderingStartTime=0,me.last=V,me.tail=B,me.tailMode=oe)}function qge(p,y,B){var V=y.pendingProps,oe=V.revealOrder,me=V.tail;if(Xh(p,y,V.children,B),V=Zl.current,V&2)V=V&1|2,y.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Yge(p,B,y);else if(p.tag===19)Yge(p,B,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}V&=1}if(nl(Zl,V),!(y.mode&1))y.memoizedState=null;else switch(oe){case"forwards":for(B=y.child,oe=null;B!==null;)p=B.alternate,p!==null&&Y4(p)===null&&(oe=B),B=B.sibling;B=oe,B===null?(oe=y.child,y.child=null):(oe=B.sibling,B.sibling=null),l7(y,!1,oe,B,me);break;case"backwards":for(B=null,oe=y.child,y.child=null;oe!==null;){if(p=oe.alternate,p!==null&&Y4(p)===null){y.child=oe;break}p=oe.sibling,oe.sibling=B,B=oe,oe=p}l7(y,!0,B,null,me);break;case"together":l7(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function tN(p,y){!(y.mode&1)&&p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2)}function Qy(p,y,B){if(p!==null&&(y.dependencies=p.dependencies),YS|=y.lanes,!(B&y.childLanes))return null;if(p!==null&&y.child!==p.child)throw Error(m(153));if(y.child!==null){for(p=y.child,B=aw(p,p.pendingProps),y.child=B,B.return=y;p.sibling!==null;)p=p.sibling,B=B.sibling=aw(p,p.pendingProps),B.return=y;B.sibling=null}return y.child}function T4e(p,y,B){switch(y.tag){case 3:Wge(y),JA();break;case 5:dge(y);break;case 1:Rp(y.type)&&L4(y);break;case 4:GH(y,y.stateNode.containerInfo);break;case 10:var V=y.type._context,oe=y.memoizedProps.value;nl(H4,V._currentValue),V._currentValue=oe;break;case 13:if(V=y.memoizedState,V!==null)return V.dehydrated!==null?(nl(Zl,Zl.current&1),y.flags|=128,null):B&y.child.childLanes?Kge(p,y,B):(nl(Zl,Zl.current&1),p=Qy(p,y,B),p!==null?p.sibling:null);nl(Zl,Zl.current&1);break;case 19:if(V=(B&y.childLanes)!==0,p.flags&128){if(V)return qge(p,y,B);y.flags|=128}if(oe=y.memoizedState,oe!==null&&(oe.rendering=null,oe.tail=null,oe.lastEffect=null),nl(Zl,Zl.current),V)break;return null;case 22:case 23:return y.lanes=0,Hge(p,y,B)}return Qy(p,y,B)}var Qge,u7,Jge,Zge;Qge=function(p,y){for(var B=y.child;B!==null;){if(B.tag===5||B.tag===6)p.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===y)break;for(;B.sibling===null;){if(B.return===null||B.return===y)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},u7=function(){},Jge=function(p,y,B,V){var oe=p.memoizedProps;if(oe!==V){p=y.stateNode,XS(P0.current);var me=null;switch(B){case"input":oe=Tn(p,oe),V=Tn(p,V),me=[];break;case"select":oe=Xe({},oe,{value:void 0}),V=Xe({},V,{value:void 0}),me=[];break;case"textarea":oe=pr(p,oe),V=pr(p,V),me=[];break;default:typeof oe.onClick!="function"&&typeof V.onClick=="function"&&(p.onclick=B4)}NA(B,V);var ze;B=null;for(Rn in oe)if(!V.hasOwnProperty(Rn)&&oe.hasOwnProperty(Rn)&&oe[Rn]!=null)if(Rn==="style"){var xt=oe[Rn];for(ze in xt)xt.hasOwnProperty(ze)&&(B||(B={}),B[ze]="")}else Rn!=="dangerouslySetInnerHTML"&&Rn!=="children"&&Rn!=="suppressContentEditableWarning"&&Rn!=="suppressHydrationWarning"&&Rn!=="autoFocus"&&(E.hasOwnProperty(Rn)?me||(me=[]):(me=me||[]).push(Rn,null));for(Rn in V){var Ft=V[Rn];if(xt=oe!=null?oe[Rn]:void 0,V.hasOwnProperty(Rn)&&Ft!==xt&&(Ft!=null||xt!=null))if(Rn==="style")if(xt){for(ze in xt)!xt.hasOwnProperty(ze)||Ft&&Ft.hasOwnProperty(ze)||(B||(B={}),B[ze]="");for(ze in Ft)Ft.hasOwnProperty(ze)&&xt[ze]!==Ft[ze]&&(B||(B={}),B[ze]=Ft[ze])}else B||(me||(me=[]),me.push(Rn,B)),B=Ft;else Rn==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,xt=xt?xt.__html:void 0,Ft!=null&&xt!==Ft&&(me=me||[]).push(Rn,Ft)):Rn==="children"?typeof Ft!="string"&&typeof Ft!="number"||(me=me||[]).push(Rn,""+Ft):Rn!=="suppressContentEditableWarning"&&Rn!=="suppressHydrationWarning"&&(E.hasOwnProperty(Rn)?(Ft!=null&&Rn==="onScroll"&&yl("scroll",p),me||xt===Ft||(me=[])):(me=me||[]).push(Rn,Ft))}B&&(me=me||[]).push("style",B);var Rn=me;(y.updateQueue=Rn)&&(y.flags|=4)}},Zge=function(p,y,B,V){B!==V&&(y.flags|=4)};function Yk(p,y){if(!Ol)switch(p.tailMode){case"hidden":y=p.tail;for(var B=null;y!==null;)y.alternate!==null&&(B=y),y=y.sibling;B===null?p.tail=null:B.sibling=null;break;case"collapsed":B=p.tail;for(var V=null;B!==null;)B.alternate!==null&&(V=B),B=B.sibling;V===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:V.sibling=null}}function Jd(p){var y=p.alternate!==null&&p.alternate.child===p.child,B=0,V=0;if(y)for(var oe=p.child;oe!==null;)B|=oe.lanes|oe.childLanes,V|=oe.subtreeFlags&14680064,V|=oe.flags&14680064,oe.return=p,oe=oe.sibling;else for(oe=p.child;oe!==null;)B|=oe.lanes|oe.childLanes,V|=oe.subtreeFlags,V|=oe.flags,oe.return=p,oe=oe.sibling;return p.subtreeFlags|=V,p.childLanes=B,y}function P4e(p,y,B){var V=y.pendingProps;switch(IH(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jd(y),null;case 1:return Rp(y.type)&&N4(),Jd(y),null;case 3:return V=y.stateNode,tC(),_l(Ip),_l(qd),XH(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(p===null||p.child===null)&&(j4(y)?y.flags|=4:p===null||p.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,bv!==null&&(_7(bv),bv=null))),u7(p,y),Jd(y),null;case 5:VH(y);var oe=XS(Gk.current);if(B=y.type,p!==null&&y.stateNode!=null)Jge(p,y,B,V,oe),p.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!V){if(y.stateNode===null)throw Error(m(166));return Jd(y),null}if(p=XS(P0.current),j4(y)){V=y.stateNode,B=y.type;var me=y.memoizedProps;switch(V[T0]=y,V[Fk]=me,p=(y.mode&1)!==0,B){case"dialog":yl("cancel",V),yl("close",V);break;case"iframe":case"object":case"embed":yl("load",V);break;case"video":case"audio":for(oe=0;oe<Dk.length;oe++)yl(Dk[oe],V);break;case"source":yl("error",V);break;case"img":case"image":case"link":yl("error",V),yl("load",V);break;case"details":yl("toggle",V);break;case"input":Cn(V,me),yl("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!me.multiple},yl("invalid",V);break;case"textarea":Zn(V,me),yl("invalid",V)}NA(B,me),oe=null;for(var ze in me)if(me.hasOwnProperty(ze)){var xt=me[ze];ze==="children"?typeof xt=="string"?V.textContent!==xt&&(me.suppressHydrationWarning!==!0&&O4(V.textContent,xt,p),oe=["children",xt]):typeof xt=="number"&&V.textContent!==""+xt&&(me.suppressHydrationWarning!==!0&&O4(V.textContent,xt,p),oe=["children",""+xt]):E.hasOwnProperty(ze)&&xt!=null&&ze==="onScroll"&&yl("scroll",V)}switch(B){case"input":Hi(V),Jt(V,me,!0);break;case"textarea":Hi(V),Bi(V);break;case"select":case"option":break;default:typeof me.onClick=="function"&&(V.onclick=B4)}V=oe,y.updateQueue=V,V!==null&&(y.flags|=4)}else{ze=oe.nodeType===9?oe:oe.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Es(B)),p==="http://www.w3.org/1999/xhtml"?B==="script"?(p=ze.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof V.is=="string"?p=ze.createElement(B,{is:V.is}):(p=ze.createElement(B),B==="select"&&(ze=p,V.multiple?ze.multiple=!0:V.size&&(ze.size=V.size))):p=ze.createElementNS(p,B),p[T0]=y,p[Fk]=V,Qge(p,y,!1,!1),y.stateNode=p;e:{switch(ze=gk(B,V),B){case"dialog":yl("cancel",p),yl("close",p),oe=V;break;case"iframe":case"object":case"embed":yl("load",p),oe=V;break;case"video":case"audio":for(oe=0;oe<Dk.length;oe++)yl(Dk[oe],p);oe=V;break;case"source":yl("error",p),oe=V;break;case"img":case"image":case"link":yl("error",p),yl("load",p),oe=V;break;case"details":yl("toggle",p),oe=V;break;case"input":Cn(p,V),oe=Tn(p,V),yl("invalid",p);break;case"option":oe=V;break;case"select":p._wrapperState={wasMultiple:!!V.multiple},oe=Xe({},V,{value:void 0}),yl("invalid",p);break;case"textarea":Zn(p,V),oe=pr(p,V),yl("invalid",p);break;default:oe=V}NA(B,oe),xt=oe;for(me in xt)if(xt.hasOwnProperty(me)){var Ft=xt[me];me==="style"?DA(p,Ft):me==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&G_(p,Ft)):me==="children"?typeof Ft=="string"?(B!=="textarea"||Ft!=="")&&Yd(p,Ft):typeof Ft=="number"&&Yd(p,""+Ft):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(E.hasOwnProperty(me)?Ft!=null&&me==="onScroll"&&yl("scroll",p):Ft!=null&&Be(p,me,Ft,ze))}switch(B){case"input":Hi(p),Jt(p,V,!1);break;case"textarea":Hi(p),Bi(p);break;case"option":V.value!=null&&p.setAttribute("value",""+Vr(V.value));break;case"select":p.multiple=!!V.multiple,me=V.value,me!=null?pn(p,!!V.multiple,me,!1):V.defaultValue!=null&&pn(p,!!V.multiple,V.defaultValue,!0);break;default:typeof oe.onClick=="function"&&(p.onclick=B4)}switch(B){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return Jd(y),null;case 6:if(p&&y.stateNode!=null)Zge(p,y,p.memoizedProps,V);else{if(typeof V!="string"&&y.stateNode===null)throw Error(m(166));if(B=XS(Gk.current),XS(P0.current),j4(y)){if(V=y.stateNode,B=y.memoizedProps,V[T0]=y,(me=V.nodeValue!==B)&&(p=vm,p!==null))switch(p.tag){case 3:O4(V.nodeValue,B,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&O4(V.nodeValue,B,(p.mode&1)!==0)}me&&(y.flags|=4)}else V=(B.nodeType===9?B:B.ownerDocument).createTextNode(V),V[T0]=y,y.stateNode=V}return Jd(y),null;case 13:if(_l(Zl),V=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Ol&&ym!==null&&y.mode&1&&!(y.flags&128))ege(),JA(),y.flags|=98560,me=!1;else if(me=j4(y),V!==null&&V.dehydrated!==null){if(p===null){if(!me)throw Error(m(318));if(me=y.memoizedState,me=me!==null?me.dehydrated:null,!me)throw Error(m(317));me[T0]=y}else JA(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;Jd(y),me=!1}else bv!==null&&(_7(bv),bv=null),me=!0;if(!me)return y.flags&65536?y:null}return y.flags&128?(y.lanes=B,y):(V=V!==null,V!==(p!==null&&p.memoizedState!==null)&&V&&(y.child.flags|=8192,y.mode&1&&(p===null||Zl.current&1?Jc===0&&(Jc=3):S7())),y.updateQueue!==null&&(y.flags|=4),Jd(y),null);case 4:return tC(),u7(p,y),p===null&&Nk(y.stateNode.containerInfo),Jd(y),null;case 10:return LH(y.type._context),Jd(y),null;case 17:return Rp(y.type)&&N4(),Jd(y),null;case 19:if(_l(Zl),me=y.memoizedState,me===null)return Jd(y),null;if(V=(y.flags&128)!==0,ze=me.rendering,ze===null)if(V)Yk(me,!1);else{if(Jc!==0||p!==null&&p.flags&128)for(p=y.child;p!==null;){if(ze=Y4(p),ze!==null){for(y.flags|=128,Yk(me,!1),V=ze.updateQueue,V!==null&&(y.updateQueue=V,y.flags|=4),y.subtreeFlags=0,V=B,B=y.child;B!==null;)me=B,p=V,me.flags&=14680066,ze=me.alternate,ze===null?(me.childLanes=0,me.lanes=p,me.child=null,me.subtreeFlags=0,me.memoizedProps=null,me.memoizedState=null,me.updateQueue=null,me.dependencies=null,me.stateNode=null):(me.childLanes=ze.childLanes,me.lanes=ze.lanes,me.child=ze.child,me.subtreeFlags=0,me.deletions=null,me.memoizedProps=ze.memoizedProps,me.memoizedState=ze.memoizedState,me.updateQueue=ze.updateQueue,me.type=ze.type,p=ze.dependencies,me.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),B=B.sibling;return nl(Zl,Zl.current&1|2),y.child}p=p.sibling}me.tail!==null&&Qu()>oC&&(y.flags|=128,V=!0,Yk(me,!1),y.lanes=4194304)}else{if(!V)if(p=Y4(ze),p!==null){if(y.flags|=128,V=!0,B=p.updateQueue,B!==null&&(y.updateQueue=B,y.flags|=4),Yk(me,!0),me.tail===null&&me.tailMode==="hidden"&&!ze.alternate&&!Ol)return Jd(y),null}else 2*Qu()-me.renderingStartTime>oC&&B!==1073741824&&(y.flags|=128,V=!0,Yk(me,!1),y.lanes=4194304);me.isBackwards?(ze.sibling=y.child,y.child=ze):(B=me.last,B!==null?B.sibling=ze:y.child=ze,me.last=ze)}return me.tail!==null?(y=me.tail,me.rendering=y,me.tail=y.sibling,me.renderingStartTime=Qu(),y.sibling=null,B=Zl.current,nl(Zl,V?B&1|2:B&1),y):(Jd(y),null);case 22:case 23:return x7(),V=y.memoizedState!==null,p!==null&&p.memoizedState!==null!==V&&(y.flags|=8192),V&&y.mode&1?_m&1073741824&&(Jd(y),y.subtreeFlags&6&&(y.flags|=8192)):Jd(y),null;case 24:return null;case 25:return null}throw Error(m(156,y.tag))}function k4e(p,y){switch(IH(y),y.tag){case 1:return Rp(y.type)&&N4(),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return tC(),_l(Ip),_l(qd),XH(),p=y.flags,p&65536&&!(p&128)?(y.flags=p&-65537|128,y):null;case 5:return VH(y),null;case 13:if(_l(Zl),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(m(340));JA()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return _l(Zl),null;case 4:return tC(),null;case 10:return LH(y.type._context),null;case 22:case 23:return x7(),null;case 24:return null;default:return null}}var nN=!1,Zd=!1,I4e=typeof WeakSet=="function"?WeakSet:Set,gi=null;function rC(p,y){var B=p.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(V){Eu(p,y,V)}else B.current=null}function $ge(p,y,B){try{B()}catch(V){Eu(p,y,V)}}var eve=!1;function R4e(p,y){if(SH=_4,p=Tme(),gH(p)){if("selectionStart"in p)var B={start:p.selectionStart,end:p.selectionEnd};else e:{B=(B=p.ownerDocument)&&B.defaultView||window;var V=B.getSelection&&B.getSelection();if(V&&V.rangeCount!==0){B=V.anchorNode;var oe=V.anchorOffset,me=V.focusNode;V=V.focusOffset;try{B.nodeType,me.nodeType}catch{B=null;break e}var ze=0,xt=-1,Ft=-1,Rn=0,gr=0,Ar=p,mr=null;t:for(;;){for(var ci;Ar!==B||oe!==0&&Ar.nodeType!==3||(xt=ze+oe),Ar!==me||V!==0&&Ar.nodeType!==3||(Ft=ze+V),Ar.nodeType===3&&(ze+=Ar.nodeValue.length),(ci=Ar.firstChild)!==null;)mr=Ar,Ar=ci;for(;;){if(Ar===p)break t;if(mr===B&&++Rn===oe&&(xt=ze),mr===me&&++gr===V&&(Ft=ze),(ci=Ar.nextSibling)!==null)break;Ar=mr,mr=Ar.parentNode}Ar=ci}B=xt===-1||Ft===-1?null:{start:xt,end:Ft}}else B=null}B=B||{start:0,end:0}}else B=null;for(bH={focusedElem:p,selectionRange:B},_4=!1,gi=y;gi!==null;)if(y=gi,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,gi=p;else for(;gi!==null;){y=gi;try{var bi=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(bi!==null){var Ci=bi.memoizedProps,Ju=bi.memoizedState,mn=y.stateNode,Gt=mn.getSnapshotBeforeUpdate(y.elementType===y.type?Ci:Ev(y.type,Ci),Ju);mn.__reactInternalSnapshotBeforeUpdate=Gt}break;case 3:var wn=y.stateNode.containerInfo;wn.nodeType===1?wn.textContent="":wn.nodeType===9&&wn.documentElement&&wn.removeChild(wn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(m(163))}}catch(Fr){Eu(y,y.return,Fr)}if(p=y.sibling,p!==null){p.return=y.return,gi=p;break}gi=y.return}return bi=eve,eve=!1,bi}function qk(p,y,B){var V=y.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var oe=V=V.next;do{if((oe.tag&p)===p){var me=oe.destroy;oe.destroy=void 0,me!==void 0&&$ge(y,B,me)}oe=oe.next}while(oe!==V)}}function rN(p,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var B=y=y.next;do{if((B.tag&p)===p){var V=B.create;B.destroy=V()}B=B.next}while(B!==y)}}function c7(p){var y=p.ref;if(y!==null){var B=p.stateNode;switch(p.tag){case 5:p=B;break;default:p=B}typeof y=="function"?y(p):y.current=p}}function tve(p){var y=p.alternate;y!==null&&(p.alternate=null,tve(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&(delete y[T0],delete y[Fk],delete y[MH],delete y[p4e],delete y[m4e])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function nve(p){return p.tag===5||p.tag===3||p.tag===4}function rve(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||nve(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function f7(p,y,B){var V=p.tag;if(V===5||V===6)p=p.stateNode,y?B.nodeType===8?B.parentNode.insertBefore(p,y):B.insertBefore(p,y):(B.nodeType===8?(y=B.parentNode,y.insertBefore(p,B)):(y=B,y.appendChild(p)),B=B._reactRootContainer,B!=null||y.onclick!==null||(y.onclick=B4));else if(V!==4&&(p=p.child,p!==null))for(f7(p,y,B),p=p.sibling;p!==null;)f7(p,y,B),p=p.sibling}function d7(p,y,B){var V=p.tag;if(V===5||V===6)p=p.stateNode,y?B.insertBefore(p,y):B.appendChild(p);else if(V!==4&&(p=p.child,p!==null))for(d7(p,y,B),p=p.sibling;p!==null;)d7(p,y,B),p=p.sibling}var pd=null,Av=!1;function nw(p,y,B){for(B=B.child;B!==null;)ive(p,y,B),B=B.sibling}function ive(p,y,B){if(M0&&typeof M0.onCommitFiberUnmount=="function")try{M0.onCommitFiberUnmount(h4,B)}catch{}switch(B.tag){case 5:Zd||rC(B,y);case 6:var V=pd,oe=Av;pd=null,nw(p,y,B),pd=V,Av=oe,pd!==null&&(Av?(p=pd,B=B.stateNode,p.nodeType===8?p.parentNode.removeChild(B):p.removeChild(B)):pd.removeChild(B.stateNode));break;case 18:pd!==null&&(Av?(p=pd,B=B.stateNode,p.nodeType===8?CH(p.parentNode,B):p.nodeType===1&&CH(p,B),Mk(p)):CH(pd,B.stateNode));break;case 4:V=pd,oe=Av,pd=B.stateNode.containerInfo,Av=!0,nw(p,y,B),pd=V,Av=oe;break;case 0:case 11:case 14:case 15:if(!Zd&&(V=B.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){oe=V=V.next;do{var me=oe,ze=me.destroy;me=me.tag,ze!==void 0&&(me&2||me&4)&&$ge(B,y,ze),oe=oe.next}while(oe!==V)}nw(p,y,B);break;case 1:if(!Zd&&(rC(B,y),V=B.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=B.memoizedProps,V.state=B.memoizedState,V.componentWillUnmount()}catch(xt){Eu(B,y,xt)}nw(p,y,B);break;case 21:nw(p,y,B);break;case 22:B.mode&1?(Zd=(V=Zd)||B.memoizedState!==null,nw(p,y,B),Zd=V):nw(p,y,B);break;default:nw(p,y,B)}}function ove(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var B=p.stateNode;B===null&&(B=p.stateNode=new I4e),y.forEach(function(V){var oe=j4e.bind(null,p,V);B.has(V)||(B.add(V),V.then(oe,oe))})}}function Cv(p,y){var B=y.deletions;if(B!==null)for(var V=0;V<B.length;V++){var oe=B[V];try{var me=p,ze=y,xt=ze;e:for(;xt!==null;){switch(xt.tag){case 5:pd=xt.stateNode,Av=!1;break e;case 3:pd=xt.stateNode.containerInfo,Av=!0;break e;case 4:pd=xt.stateNode.containerInfo,Av=!0;break e}xt=xt.return}if(pd===null)throw Error(m(160));ive(me,ze,oe),pd=null,Av=!1;var Ft=oe.alternate;Ft!==null&&(Ft.return=null),oe.return=null}catch(Rn){Eu(oe,y,Rn)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)sve(y,p),y=y.sibling}function sve(p,y){var B=p.alternate,V=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Cv(y,p),I0(p),V&4){try{qk(3,p,p.return),rN(3,p)}catch(Ci){Eu(p,p.return,Ci)}try{qk(5,p,p.return)}catch(Ci){Eu(p,p.return,Ci)}}break;case 1:Cv(y,p),I0(p),V&512&&B!==null&&rC(B,B.return);break;case 5:if(Cv(y,p),I0(p),V&512&&B!==null&&rC(B,B.return),p.flags&32){var oe=p.stateNode;try{Yd(oe,"")}catch(Ci){Eu(p,p.return,Ci)}}if(V&4&&(oe=p.stateNode,oe!=null)){var me=p.memoizedProps,ze=B!==null?B.memoizedProps:me,xt=p.type,Ft=p.updateQueue;if(p.updateQueue=null,Ft!==null)try{xt==="input"&&me.type==="radio"&&me.name!=null&&gt(oe,me),gk(xt,ze);var Rn=gk(xt,me);for(ze=0;ze<Ft.length;ze+=2){var gr=Ft[ze],Ar=Ft[ze+1];gr==="style"?DA(oe,Ar):gr==="dangerouslySetInnerHTML"?G_(oe,Ar):gr==="children"?Yd(oe,Ar):Be(oe,gr,Ar,Rn)}switch(xt){case"input":mt(oe,me);break;case"textarea":or(oe,me);break;case"select":var mr=oe._wrapperState.wasMultiple;oe._wrapperState.wasMultiple=!!me.multiple;var ci=me.value;ci!=null?pn(oe,!!me.multiple,ci,!1):mr!==!!me.multiple&&(me.defaultValue!=null?pn(oe,!!me.multiple,me.defaultValue,!0):pn(oe,!!me.multiple,me.multiple?[]:"",!1))}oe[Fk]=me}catch(Ci){Eu(p,p.return,Ci)}}break;case 6:if(Cv(y,p),I0(p),V&4){if(p.stateNode===null)throw Error(m(162));oe=p.stateNode,me=p.memoizedProps;try{oe.nodeValue=me}catch(Ci){Eu(p,p.return,Ci)}}break;case 3:if(Cv(y,p),I0(p),V&4&&B!==null&&B.memoizedState.isDehydrated)try{Mk(y.containerInfo)}catch(Ci){Eu(p,p.return,Ci)}break;case 4:Cv(y,p),I0(p);break;case 13:Cv(y,p),I0(p),oe=p.child,oe.flags&8192&&(me=oe.memoizedState!==null,oe.stateNode.isHidden=me,!me||oe.alternate!==null&&oe.alternate.memoizedState!==null||(m7=Qu())),V&4&&ove(p);break;case 22:if(gr=B!==null&&B.memoizedState!==null,p.mode&1?(Zd=(Rn=Zd)||gr,Cv(y,p),Zd=Rn):Cv(y,p),I0(p),V&8192){if(Rn=p.memoizedState!==null,(p.stateNode.isHidden=Rn)&&!gr&&p.mode&1)for(gi=p,gr=p.child;gr!==null;){for(Ar=gi=gr;gi!==null;){switch(mr=gi,ci=mr.child,mr.tag){case 0:case 11:case 14:case 15:qk(4,mr,mr.return);break;case 1:rC(mr,mr.return);var bi=mr.stateNode;if(typeof bi.componentWillUnmount=="function"){V=mr,B=mr.return;try{y=V,bi.props=y.memoizedProps,bi.state=y.memoizedState,bi.componentWillUnmount()}catch(Ci){Eu(V,B,Ci)}}break;case 5:rC(mr,mr.return);break;case 22:if(mr.memoizedState!==null){uve(Ar);continue}}ci!==null?(ci.return=mr,gi=ci):uve(Ar)}gr=gr.sibling}e:for(gr=null,Ar=p;;){if(Ar.tag===5){if(gr===null){gr=Ar;try{oe=Ar.stateNode,Rn?(me=oe.style,typeof me.setProperty=="function"?me.setProperty("display","none","important"):me.display="none"):(xt=Ar.stateNode,Ft=Ar.memoizedProps.style,ze=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,xt.style.display=zS("display",ze))}catch(Ci){Eu(p,p.return,Ci)}}}else if(Ar.tag===6){if(gr===null)try{Ar.stateNode.nodeValue=Rn?"":Ar.memoizedProps}catch(Ci){Eu(p,p.return,Ci)}}else if((Ar.tag!==22&&Ar.tag!==23||Ar.memoizedState===null||Ar===p)&&Ar.child!==null){Ar.child.return=Ar,Ar=Ar.child;continue}if(Ar===p)break e;for(;Ar.sibling===null;){if(Ar.return===null||Ar.return===p)break e;gr===Ar&&(gr=null),Ar=Ar.return}gr===Ar&&(gr=null),Ar.sibling.return=Ar.return,Ar=Ar.sibling}}break;case 19:Cv(y,p),I0(p),V&4&&ove(p);break;case 21:break;default:Cv(y,p),I0(p)}}function I0(p){var y=p.flags;if(y&2){try{e:{for(var B=p.return;B!==null;){if(nve(B)){var V=B;break e}B=B.return}throw Error(m(160))}switch(V.tag){case 5:var oe=V.stateNode;V.flags&32&&(Yd(oe,""),V.flags&=-33);var me=rve(p);d7(p,me,oe);break;case 3:case 4:var ze=V.stateNode.containerInfo,xt=rve(p);f7(p,xt,ze);break;default:throw Error(m(161))}}catch(Ft){Eu(p,p.return,Ft)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function O4e(p,y,B){gi=p,ave(p)}function ave(p,y,B){for(var V=(p.mode&1)!==0;gi!==null;){var oe=gi,me=oe.child;if(oe.tag===22&&V){var ze=oe.memoizedState!==null||nN;if(!ze){var xt=oe.alternate,Ft=xt!==null&&xt.memoizedState!==null||Zd;xt=nN;var Rn=Zd;if(nN=ze,(Zd=Ft)&&!Rn)for(gi=oe;gi!==null;)ze=gi,Ft=ze.child,ze.tag===22&&ze.memoizedState!==null?cve(oe):Ft!==null?(Ft.return=ze,gi=Ft):cve(oe);for(;me!==null;)gi=me,ave(me),me=me.sibling;gi=oe,nN=xt,Zd=Rn}lve(p)}else oe.subtreeFlags&8772&&me!==null?(me.return=oe,gi=me):lve(p)}}function lve(p){for(;gi!==null;){var y=gi;if(y.flags&8772){var B=y.alternate;try{if(y.flags&8772)switch(y.tag){case 0:case 11:case 15:Zd||rN(5,y);break;case 1:var V=y.stateNode;if(y.flags&4&&!Zd)if(B===null)V.componentDidMount();else{var oe=y.elementType===y.type?B.memoizedProps:Ev(y.type,B.memoizedProps);V.componentDidUpdate(oe,B.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var me=y.updateQueue;me!==null&&ige(y,me,V);break;case 3:var ze=y.updateQueue;if(ze!==null){if(B=null,y.child!==null)switch(y.child.tag){case 5:B=y.child.stateNode;break;case 1:B=y.child.stateNode}ige(y,ze,B)}break;case 5:var xt=y.stateNode;if(B===null&&y.flags&4){B=xt;var Ft=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&B.focus();break;case"img":Ft.src&&(B.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Rn=y.alternate;if(Rn!==null){var gr=Rn.memoizedState;if(gr!==null){var Ar=gr.dehydrated;Ar!==null&&Mk(Ar)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(m(163))}Zd||y.flags&512&&c7(y)}catch(mr){Eu(y,y.return,mr)}}if(y===p){gi=null;break}if(B=y.sibling,B!==null){B.return=y.return,gi=B;break}gi=y.return}}function uve(p){for(;gi!==null;){var y=gi;if(y===p){gi=null;break}var B=y.sibling;if(B!==null){B.return=y.return,gi=B;break}gi=y.return}}function cve(p){for(;gi!==null;){var y=gi;try{switch(y.tag){case 0:case 11:case 15:var B=y.return;try{rN(4,y)}catch(Ft){Eu(y,B,Ft)}break;case 1:var V=y.stateNode;if(typeof V.componentDidMount=="function"){var oe=y.return;try{V.componentDidMount()}catch(Ft){Eu(y,oe,Ft)}}var me=y.return;try{c7(y)}catch(Ft){Eu(y,me,Ft)}break;case 5:var ze=y.return;try{c7(y)}catch(Ft){Eu(y,ze,Ft)}}}catch(Ft){Eu(y,y.return,Ft)}if(y===p){gi=null;break}var xt=y.sibling;if(xt!==null){xt.return=y.return,gi=xt;break}gi=y.return}}var B4e=Math.ceil,iN=Oe.ReactCurrentDispatcher,h7=Oe.ReactCurrentOwner,wg=Oe.ReactCurrentBatchConfig,As=0,Df=null,Ac=null,md=0,_m=0,iC=J_(0),Jc=0,Qk=null,YS=0,oN=0,p7=0,Jk=null,Bp=null,m7=0,oC=1/0,Jy=null,sN=!1,g7=null,rw=null,aN=!1,iw=null,lN=0,Zk=0,v7=null,uN=-1,cN=0;function Kh(){return As&6?Qu():uN!==-1?uN:uN=Qu()}function ow(p){return p.mode&1?As&2&&md!==0?md&-md:v4e.transition!==null?(cN===0&&(cN=eme()),cN):(p=ca,p!==0||(p=window.event,p=p===void 0?16:ume(p.type)),p):1}function Mv(p,y,B,V){if(50<Zk)throw Zk=0,v7=null,Error(m(185));Sk(p,B,V),(!(As&2)||p!==Df)&&(p===Df&&(!(As&2)&&(oN|=B),Jc===4&&sw(p,md)),Dp(p,V),B===1&&As===0&&!(y.mode&1)&&(oC=Qu()+500,F4&&$_()))}function Dp(p,y){var B=p.callbackNode;_De(p,y);var V=g4(p,p===Df?md:0);if(V===0)B!==null&&Jpe(B),p.callbackNode=null,p.callbackPriority=0;else if(y=V&-V,p.callbackPriority!==y){if(B!=null&&Jpe(B),y===1)p.tag===0?g4e(dve.bind(null,p)):qme(dve.bind(null,p)),d4e(function(){!(As&6)&&$_()}),B=null;else{switch(tme(V)){case 1:B=$j;break;case 4:B=Zpe;break;case 16:B=d4;break;case 536870912:B=$pe;break;default:B=d4}B=wve(B,fve.bind(null,p))}p.callbackPriority=y,p.callbackNode=B}}function fve(p,y){if(uN=-1,cN=0,As&6)throw Error(m(327));var B=p.callbackNode;if(sC()&&p.callbackNode!==B)return null;var V=g4(p,p===Df?md:0);if(V===0)return null;if(V&30||V&p.expiredLanes||y)y=fN(p,V);else{y=V;var oe=As;As|=2;var me=pve();(Df!==p||md!==y)&&(Jy=null,oC=Qu()+500,QS(p,y));do try{L4e();break}catch(xt){hve(p,xt)}while(!0);NH(),iN.current=me,As=oe,Ac!==null?y=0:(Df=null,md=0,y=Jc)}if(y!==0){if(y===2&&(oe=eH(p),oe!==0&&(V=oe,y=y7(p,oe))),y===1)throw B=Qk,QS(p,0),sw(p,V),Dp(p,Qu()),B;if(y===6)sw(p,V);else{if(oe=p.current.alternate,!(V&30)&&!D4e(oe)&&(y=fN(p,V),y===2&&(me=eH(p),me!==0&&(V=me,y=y7(p,me))),y===1))throw B=Qk,QS(p,0),sw(p,V),Dp(p,Qu()),B;switch(p.finishedWork=oe,p.finishedLanes=V,y){case 0:case 1:throw Error(m(345));case 2:JS(p,Bp,Jy);break;case 3:if(sw(p,V),(V&130023424)===V&&(y=m7+500-Qu(),10<y)){if(g4(p,0)!==0)break;if(oe=p.suspendedLanes,(oe&V)!==V){Kh(),p.pingedLanes|=p.suspendedLanes&oe;break}p.timeoutHandle=AH(JS.bind(null,p,Bp,Jy),y);break}JS(p,Bp,Jy);break;case 4:if(sw(p,V),(V&4194240)===V)break;for(y=p.eventTimes,oe=-1;0<V;){var ze=31-xv(V);me=1<<ze,ze=y[ze],ze>oe&&(oe=ze),V&=~me}if(V=oe,V=Qu()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*B4e(V/1960))-V,10<V){p.timeoutHandle=AH(JS.bind(null,p,Bp,Jy),V);break}JS(p,Bp,Jy);break;case 5:JS(p,Bp,Jy);break;default:throw Error(m(329))}}}return Dp(p,Qu()),p.callbackNode===B?fve.bind(null,p):null}function y7(p,y){var B=Jk;return p.current.memoizedState.isDehydrated&&(QS(p,y).flags|=256),p=fN(p,y),p!==2&&(y=Bp,Bp=B,y!==null&&_7(y)),p}function _7(p){Bp===null?Bp=p:Bp.push.apply(Bp,p)}function D4e(p){for(var y=p;;){if(y.flags&16384){var B=y.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var V=0;V<B.length;V++){var oe=B[V],me=oe.getSnapshot;oe=oe.value;try{if(!Sv(me(),oe))return!1}catch{return!1}}}if(B=y.child,y.subtreeFlags&16384&&B!==null)B.return=y,y=B;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function sw(p,y){for(y&=~p7,y&=~oN,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var B=31-xv(y),V=1<<B;p[B]=-1,y&=~V}}function dve(p){if(As&6)throw Error(m(327));sC();var y=g4(p,0);if(!(y&1))return Dp(p,Qu()),null;var B=fN(p,y);if(p.tag!==0&&B===2){var V=eH(p);V!==0&&(y=V,B=y7(p,V))}if(B===1)throw B=Qk,QS(p,0),sw(p,y),Dp(p,Qu()),B;if(B===6)throw Error(m(345));return p.finishedWork=p.current.alternate,p.finishedLanes=y,JS(p,Bp,Jy),Dp(p,Qu()),null}function w7(p,y){var B=As;As|=1;try{return p(y)}finally{As=B,As===0&&(oC=Qu()+500,F4&&$_())}}function qS(p){iw!==null&&iw.tag===0&&!(As&6)&&sC();var y=As;As|=1;var B=wg.transition,V=ca;try{if(wg.transition=null,ca=1,p)return p()}finally{ca=V,wg.transition=B,As=y,!(As&6)&&$_()}}function x7(){_m=iC.current,_l(iC)}function QS(p,y){p.finishedWork=null,p.finishedLanes=0;var B=p.timeoutHandle;if(B!==-1&&(p.timeoutHandle=-1,f4e(B)),Ac!==null)for(B=Ac.return;B!==null;){var V=B;switch(IH(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&N4();break;case 3:tC(),_l(Ip),_l(qd),XH();break;case 5:VH(V);break;case 4:tC();break;case 13:_l(Zl);break;case 19:_l(Zl);break;case 10:LH(V.type._context);break;case 22:case 23:x7()}B=B.return}if(Df=p,Ac=p=aw(p.current,null),md=_m=y,Jc=0,Qk=null,p7=oN=YS=0,Bp=Jk=null,WS!==null){for(y=0;y<WS.length;y++)if(B=WS[y],V=B.interleaved,V!==null){B.interleaved=null;var oe=V.next,me=B.pending;if(me!==null){var ze=me.next;me.next=oe,V.next=ze}B.pending=V}WS=null}return p}function hve(p,y){do{var B=Ac;try{if(NH(),q4.current=$4,Q4){for(var V=$l.memoizedState;V!==null;){var oe=V.queue;oe!==null&&(oe.pending=null),V=V.next}Q4=!1}if(KS=0,Bf=Qc=$l=null,Vk=!1,Wk=0,h7.current=null,B===null||B.return===null){Jc=1,Qk=y,Ac=null;break}e:{var me=p,ze=B.return,xt=B,Ft=y;if(y=md,xt.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var Rn=Ft,gr=xt,Ar=gr.tag;if(!(gr.mode&1)&&(Ar===0||Ar===11||Ar===15)){var mr=gr.alternate;mr?(gr.updateQueue=mr.updateQueue,gr.memoizedState=mr.memoizedState,gr.lanes=mr.lanes):(gr.updateQueue=null,gr.memoizedState=null)}var ci=Lge(ze);if(ci!==null){ci.flags&=-257,Fge(ci,ze,xt,me,y),ci.mode&1&&Nge(me,Rn,y),y=ci,Ft=Rn;var bi=y.updateQueue;if(bi===null){var Ci=new Set;Ci.add(Ft),y.updateQueue=Ci}else bi.add(Ft);break e}else{if(!(y&1)){Nge(me,Rn,y),S7();break e}Ft=Error(m(426))}}else if(Ol&&xt.mode&1){var Ju=Lge(ze);if(Ju!==null){!(Ju.flags&65536)&&(Ju.flags|=256),Fge(Ju,ze,xt,me,y),BH(nC(Ft,xt));break e}}me=Ft=nC(Ft,xt),Jc!==4&&(Jc=2),Jk===null?Jk=[me]:Jk.push(me),me=ze;do{switch(me.tag){case 3:me.flags|=65536,y&=-y,me.lanes|=y;var mn=Bge(me,Ft,y);rge(me,mn);break e;case 1:xt=Ft;var Gt=me.type,wn=me.stateNode;if(!(me.flags&128)&&(typeof Gt.getDerivedStateFromError=="function"||wn!==null&&typeof wn.componentDidCatch=="function"&&(rw===null||!rw.has(wn)))){me.flags|=65536,y&=-y,me.lanes|=y;var Fr=Dge(me,xt,y);rge(me,Fr);break e}}me=me.return}while(me!==null)}gve(B)}catch(Ii){y=Ii,Ac===B&&B!==null&&(Ac=B=B.return);continue}break}while(!0)}function pve(){var p=iN.current;return iN.current=$4,p===null?$4:p}function S7(){(Jc===0||Jc===3||Jc===2)&&(Jc=4),Df===null||!(YS&268435455)&&!(oN&268435455)||sw(Df,md)}function fN(p,y){var B=As;As|=2;var V=pve();(Df!==p||md!==y)&&(Jy=null,QS(p,y));do try{N4e();break}catch(oe){hve(p,oe)}while(!0);if(NH(),As=B,iN.current=V,Ac!==null)throw Error(m(261));return Df=null,md=0,Jc}function N4e(){for(;Ac!==null;)mve(Ac)}function L4e(){for(;Ac!==null&&!cDe();)mve(Ac)}function mve(p){var y=_ve(p.alternate,p,_m);p.memoizedProps=p.pendingProps,y===null?gve(p):Ac=y,h7.current=null}function gve(p){var y=p;do{var B=y.alternate;if(p=y.return,y.flags&32768){if(B=k4e(B,y),B!==null){B.flags&=32767,Ac=B;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Jc=6,Ac=null;return}}else if(B=P4e(B,y,_m),B!==null){Ac=B;return}if(y=y.sibling,y!==null){Ac=y;return}Ac=y=p}while(y!==null);Jc===0&&(Jc=5)}function JS(p,y,B){var V=ca,oe=wg.transition;try{wg.transition=null,ca=1,F4e(p,y,B,V)}finally{wg.transition=oe,ca=V}return null}function F4e(p,y,B,V){do sC();while(iw!==null);if(As&6)throw Error(m(327));B=p.finishedWork;var oe=p.finishedLanes;if(B===null)return null;if(p.finishedWork=null,p.finishedLanes=0,B===p.current)throw Error(m(177));p.callbackNode=null,p.callbackPriority=0;var me=B.lanes|B.childLanes;if(wDe(p,me),p===Df&&(Ac=Df=null,md=0),!(B.subtreeFlags&2064)&&!(B.flags&2064)||aN||(aN=!0,wve(d4,function(){return sC(),null})),me=(B.flags&15990)!==0,B.subtreeFlags&15990||me){me=wg.transition,wg.transition=null;var ze=ca;ca=1;var xt=As;As|=4,h7.current=null,R4e(p,B),sve(B,p),s4e(bH),_4=!!SH,bH=SH=null,p.current=B,O4e(B),fDe(),As=xt,ca=ze,wg.transition=me}else p.current=B;if(aN&&(aN=!1,iw=p,lN=oe),me=p.pendingLanes,me===0&&(rw=null),pDe(B.stateNode),Dp(p,Qu()),y!==null)for(V=p.onRecoverableError,B=0;B<y.length;B++)oe=y[B],V(oe.value,{componentStack:oe.stack,digest:oe.digest});if(sN)throw sN=!1,p=g7,g7=null,p;return lN&1&&p.tag!==0&&sC(),me=p.pendingLanes,me&1?p===v7?Zk++:(Zk=0,v7=p):Zk=0,$_(),null}function sC(){if(iw!==null){var p=tme(lN),y=wg.transition,B=ca;try{if(wg.transition=null,ca=16>p?16:p,iw===null)var V=!1;else{if(p=iw,iw=null,lN=0,As&6)throw Error(m(331));var oe=As;for(As|=4,gi=p.current;gi!==null;){var me=gi,ze=me.child;if(gi.flags&16){var xt=me.deletions;if(xt!==null){for(var Ft=0;Ft<xt.length;Ft++){var Rn=xt[Ft];for(gi=Rn;gi!==null;){var gr=gi;switch(gr.tag){case 0:case 11:case 15:qk(8,gr,me)}var Ar=gr.child;if(Ar!==null)Ar.return=gr,gi=Ar;else for(;gi!==null;){gr=gi;var mr=gr.sibling,ci=gr.return;if(tve(gr),gr===Rn){gi=null;break}if(mr!==null){mr.return=ci,gi=mr;break}gi=ci}}}var bi=me.alternate;if(bi!==null){var Ci=bi.child;if(Ci!==null){bi.child=null;do{var Ju=Ci.sibling;Ci.sibling=null,Ci=Ju}while(Ci!==null)}}gi=me}}if(me.subtreeFlags&2064&&ze!==null)ze.return=me,gi=ze;else e:for(;gi!==null;){if(me=gi,me.flags&2048)switch(me.tag){case 0:case 11:case 15:qk(9,me,me.return)}var mn=me.sibling;if(mn!==null){mn.return=me.return,gi=mn;break e}gi=me.return}}var Gt=p.current;for(gi=Gt;gi!==null;){ze=gi;var wn=ze.child;if(ze.subtreeFlags&2064&&wn!==null)wn.return=ze,gi=wn;else e:for(ze=Gt;gi!==null;){if(xt=gi,xt.flags&2048)try{switch(xt.tag){case 0:case 11:case 15:rN(9,xt)}}catch(Ii){Eu(xt,xt.return,Ii)}if(xt===ze){gi=null;break e}var Fr=xt.sibling;if(Fr!==null){Fr.return=xt.return,gi=Fr;break e}gi=xt.return}}if(As=oe,$_(),M0&&typeof M0.onPostCommitFiberRoot=="function")try{M0.onPostCommitFiberRoot(h4,p)}catch{}V=!0}return V}finally{ca=B,wg.transition=y}}return!1}function vve(p,y,B){y=nC(B,y),y=Bge(p,y,1),p=tw(p,y,1),y=Kh(),p!==null&&(Sk(p,1,y),Dp(p,y))}function Eu(p,y,B){if(p.tag===3)vve(p,p,B);else for(;y!==null;){if(y.tag===3){vve(y,p,B);break}else if(y.tag===1){var V=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(rw===null||!rw.has(V))){p=nC(B,p),p=Dge(y,p,1),y=tw(y,p,1),p=Kh(),y!==null&&(Sk(y,1,p),Dp(y,p));break}}y=y.return}}function z4e(p,y,B){var V=p.pingCache;V!==null&&V.delete(y),y=Kh(),p.pingedLanes|=p.suspendedLanes&B,Df===p&&(md&B)===B&&(Jc===4||Jc===3&&(md&130023424)===md&&500>Qu()-m7?QS(p,0):p7|=B),Dp(p,y)}function yve(p,y){y===0&&(p.mode&1?(y=m4,m4<<=1,!(m4&130023424)&&(m4=4194304)):y=1);var B=Kh();p=Yy(p,y),p!==null&&(Sk(p,y,B),Dp(p,B))}function U4e(p){var y=p.memoizedState,B=0;y!==null&&(B=y.retryLane),yve(p,B)}function j4e(p,y){var B=0;switch(p.tag){case 13:var V=p.stateNode,oe=p.memoizedState;oe!==null&&(B=oe.retryLane);break;case 19:V=p.stateNode;break;default:throw Error(m(314))}V!==null&&V.delete(y),yve(p,B)}var _ve;_ve=function(p,y,B){if(p!==null)if(p.memoizedProps!==y.pendingProps||Ip.current)Op=!0;else{if(!(p.lanes&B)&&!(y.flags&128))return Op=!1,T4e(p,y,B);Op=!!(p.flags&131072)}else Op=!1,Ol&&y.flags&1048576&&Qme(y,U4,y.index);switch(y.lanes=0,y.tag){case 2:var V=y.type;tN(p,y),p=y.pendingProps;var oe=YA(y,qd.current);$A(y,B),oe=qH(null,y,V,p,oe,B);var me=QH();return y.flags|=1,typeof oe=="object"&&oe!==null&&typeof oe.render=="function"&&oe.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Rp(V)?(me=!0,L4(y)):me=!1,y.memoizedState=oe.state!==null&&oe.state!==void 0?oe.state:null,UH(y),oe.updater=X4,y.stateNode=oe,oe._reactInternals=y,HH(y,V,p,B),y=i7(null,y,V,!0,me,B)):(y.tag=0,Ol&&me&&kH(y),Xh(null,y,oe,B),y=y.child),y;case 16:V=y.elementType;e:{switch(tN(p,y),p=y.pendingProps,oe=V._init,V=oe(V._payload),y.type=V,oe=y.tag=G4e(V),p=Ev(V,p),oe){case 0:y=r7(null,y,V,p,B);break e;case 1:y=Vge(null,y,V,p,B);break e;case 11:y=zge(null,y,V,p,B);break e;case 14:y=Uge(null,y,V,Ev(V.type,p),B);break e}throw Error(m(306,V,""))}return y;case 0:return V=y.type,oe=y.pendingProps,oe=y.elementType===V?oe:Ev(V,oe),r7(p,y,V,oe,B);case 1:return V=y.type,oe=y.pendingProps,oe=y.elementType===V?oe:Ev(V,oe),Vge(p,y,V,oe,B);case 3:e:{if(Wge(y),p===null)throw Error(m(387));V=y.pendingProps,me=y.memoizedState,oe=me.element,nge(p,y),W4(y,V,null,B);var ze=y.memoizedState;if(V=ze.element,me.isDehydrated)if(me={element:V,isDehydrated:!1,cache:ze.cache,pendingSuspenseBoundaries:ze.pendingSuspenseBoundaries,transitions:ze.transitions},y.updateQueue.baseState=me,y.memoizedState=me,y.flags&256){oe=nC(Error(m(423)),y),y=Xge(p,y,V,B,oe);break e}else if(V!==oe){oe=nC(Error(m(424)),y),y=Xge(p,y,V,B,oe);break e}else for(ym=Q_(y.stateNode.containerInfo.firstChild),vm=y,Ol=!0,bv=null,B=fge(y,null,V,B),y.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(JA(),V===oe){y=Qy(p,y,B);break e}Xh(p,y,V,B)}y=y.child}return y;case 5:return dge(y),p===null&&OH(y),V=y.type,oe=y.pendingProps,me=p!==null?p.memoizedProps:null,ze=oe.children,EH(V,oe)?ze=null:me!==null&&EH(V,me)&&(y.flags|=32),Gge(p,y),Xh(p,y,ze,B),y.child;case 6:return p===null&&OH(y),null;case 13:return Kge(p,y,B);case 4:return GH(y,y.stateNode.containerInfo),V=y.pendingProps,p===null?y.child=eC(y,null,V,B):Xh(p,y,V,B),y.child;case 11:return V=y.type,oe=y.pendingProps,oe=y.elementType===V?oe:Ev(V,oe),zge(p,y,V,oe,B);case 7:return Xh(p,y,y.pendingProps,B),y.child;case 8:return Xh(p,y,y.pendingProps.children,B),y.child;case 12:return Xh(p,y,y.pendingProps.children,B),y.child;case 10:e:{if(V=y.type._context,oe=y.pendingProps,me=y.memoizedProps,ze=oe.value,nl(H4,V._currentValue),V._currentValue=ze,me!==null)if(Sv(me.value,ze)){if(me.children===oe.children&&!Ip.current){y=Qy(p,y,B);break e}}else for(me=y.child,me!==null&&(me.return=y);me!==null;){var xt=me.dependencies;if(xt!==null){ze=me.child;for(var Ft=xt.firstContext;Ft!==null;){if(Ft.context===V){if(me.tag===1){Ft=qy(-1,B&-B),Ft.tag=2;var Rn=me.updateQueue;if(Rn!==null){Rn=Rn.shared;var gr=Rn.pending;gr===null?Ft.next=Ft:(Ft.next=gr.next,gr.next=Ft),Rn.pending=Ft}}me.lanes|=B,Ft=me.alternate,Ft!==null&&(Ft.lanes|=B),FH(me.return,B,y),xt.lanes|=B;break}Ft=Ft.next}}else if(me.tag===10)ze=me.type===y.type?null:me.child;else if(me.tag===18){if(ze=me.return,ze===null)throw Error(m(341));ze.lanes|=B,xt=ze.alternate,xt!==null&&(xt.lanes|=B),FH(ze,B,y),ze=me.sibling}else ze=me.child;if(ze!==null)ze.return=me;else for(ze=me;ze!==null;){if(ze===y){ze=null;break}if(me=ze.sibling,me!==null){me.return=ze.return,ze=me;break}ze=ze.return}me=ze}Xh(p,y,oe.children,B),y=y.child}return y;case 9:return oe=y.type,V=y.pendingProps.children,$A(y,B),oe=yg(oe),V=V(oe),y.flags|=1,Xh(p,y,V,B),y.child;case 14:return V=y.type,oe=Ev(V,y.pendingProps),oe=Ev(V.type,oe),Uge(p,y,V,oe,B);case 15:return jge(p,y,y.type,y.pendingProps,B);case 17:return V=y.type,oe=y.pendingProps,oe=y.elementType===V?oe:Ev(V,oe),tN(p,y),y.tag=1,Rp(V)?(p=!0,L4(y)):p=!1,$A(y,B),age(y,V,oe),HH(y,V,oe,B),i7(null,y,V,!0,p,B);case 19:return qge(p,y,B);case 22:return Hge(p,y,B)}throw Error(m(156,y.tag))};function wve(p,y){return Qpe(p,y)}function H4e(p,y,B,V){this.tag=p,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xg(p,y,B,V){return new H4e(p,y,B,V)}function b7(p){return p=p.prototype,!(!p||!p.isReactComponent)}function G4e(p){if(typeof p=="function")return b7(p)?1:0;if(p!=null){if(p=p.$$typeof,p===kt)return 11;if(p===cr)return 14}return 2}function aw(p,y){var B=p.alternate;return B===null?(B=xg(p.tag,y,p.key,p.mode),B.elementType=p.elementType,B.type=p.type,B.stateNode=p.stateNode,B.alternate=p,p.alternate=B):(B.pendingProps=y,B.type=p.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=p.flags&14680064,B.childLanes=p.childLanes,B.lanes=p.lanes,B.child=p.child,B.memoizedProps=p.memoizedProps,B.memoizedState=p.memoizedState,B.updateQueue=p.updateQueue,y=p.dependencies,B.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},B.sibling=p.sibling,B.index=p.index,B.ref=p.ref,B}function dN(p,y,B,V,oe,me){var ze=2;if(V=p,typeof p=="function")b7(p)&&(ze=1);else if(typeof p=="string")ze=5;else e:switch(p){case lt:return ZS(B.children,oe,me,y);case ht:ze=8,oe|=8;break;case It:return p=xg(12,B,y,oe|2),p.elementType=It,p.lanes=me,p;case Ee:return p=xg(13,B,y,oe),p.elementType=Ee,p.lanes=me,p;case Ht:return p=xg(19,B,y,oe),p.elementType=Ht,p.lanes=me,p;case Et:return hN(B,oe,me,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case _n:ze=10;break e;case We:ze=9;break e;case kt:ze=11;break e;case cr:ze=14;break e;case bt:ze=16,V=null;break e}throw Error(m(130,p==null?p:typeof p,""))}return y=xg(ze,B,y,oe),y.elementType=p,y.type=V,y.lanes=me,y}function ZS(p,y,B,V){return p=xg(7,p,V,y),p.lanes=B,p}function hN(p,y,B,V){return p=xg(22,p,V,y),p.elementType=Et,p.lanes=B,p.stateNode={isHidden:!1},p}function E7(p,y,B){return p=xg(6,p,null,y),p.lanes=B,p}function A7(p,y,B){return y=xg(4,p.children!==null?p.children:[],p.key,y),y.lanes=B,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function V4e(p,y,B,V,oe){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tH(0),this.expirationTimes=tH(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tH(0),this.identifierPrefix=V,this.onRecoverableError=oe,this.mutableSourceEagerHydrationData=null}function C7(p,y,B,V,oe,me,ze,xt,Ft){return p=new V4e(p,y,B,xt,Ft),y===1?(y=1,me===!0&&(y|=8)):y=0,me=xg(3,null,null,y),p.current=me,me.stateNode=p,me.memoizedState={element:V,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},UH(me),p}function W4e(p,y,B){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vt,key:V==null?null:""+V,children:p,containerInfo:y,implementation:B}}function xve(p){if(!p)return Z_;p=p._reactInternals;e:{if(US(p)!==p||p.tag!==1)throw Error(m(170));var y=p;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Rp(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(m(171))}if(p.tag===1){var B=p.type;if(Rp(B))return Kme(p,B,y)}return y}function Sve(p,y,B,V,oe,me,ze,xt,Ft){return p=C7(B,V,!0,p,oe,me,ze,xt,Ft),p.context=xve(null),B=p.current,V=Kh(),oe=ow(B),me=qy(V,oe),me.callback=y??null,tw(B,me,oe),p.current.lanes=oe,Sk(p,oe,V),Dp(p,V),p}function pN(p,y,B,V){var oe=y.current,me=Kh(),ze=ow(oe);return B=xve(B),y.context===null?y.context=B:y.pendingContext=B,y=qy(me,ze),y.payload={element:p},V=V===void 0?null:V,V!==null&&(y.callback=V),p=tw(oe,y,ze),p!==null&&(Mv(p,oe,ze,me),V4(p,oe,ze)),ze}function mN(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function bve(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var B=p.retryLane;p.retryLane=B!==0&&B<y?B:y}}function M7(p,y){bve(p,y),(p=p.alternate)&&bve(p,y)}function X4e(){return null}var Eve=typeof reportError=="function"?reportError:function(p){console.error(p)};function T7(p){this._internalRoot=p}gN.prototype.render=T7.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(m(409));pN(p,y,null,null)},gN.prototype.unmount=T7.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;qS(function(){pN(null,p,null,null)}),y[Vy]=null}};function gN(p){this._internalRoot=p}gN.prototype.unstable_scheduleHydration=function(p){if(p){var y=ime();p={blockedOn:null,target:p,priority:y};for(var B=0;B<K_.length&&y!==0&&y<K_[B].priority;B++);K_.splice(B,0,p),B===0&&ame(p)}};function P7(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function vN(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Ave(){}function K4e(p,y,B,V,oe){if(oe){if(typeof V=="function"){var me=V;V=function(){var Rn=mN(ze);me.call(Rn)}}var ze=Sve(y,V,p,0,null,!1,!1,"",Ave);return p._reactRootContainer=ze,p[Vy]=ze.current,Nk(p.nodeType===8?p.parentNode:p),qS(),ze}for(;oe=p.lastChild;)p.removeChild(oe);if(typeof V=="function"){var xt=V;V=function(){var Rn=mN(Ft);xt.call(Rn)}}var Ft=C7(p,0,!1,null,null,!1,!1,"",Ave);return p._reactRootContainer=Ft,p[Vy]=Ft.current,Nk(p.nodeType===8?p.parentNode:p),qS(function(){pN(y,Ft,B,V)}),Ft}function yN(p,y,B,V,oe){var me=B._reactRootContainer;if(me){var ze=me;if(typeof oe=="function"){var xt=oe;oe=function(){var Ft=mN(ze);xt.call(Ft)}}pN(y,ze,p,oe)}else ze=K4e(B,y,p,oe,V);return mN(ze)}nme=function(p){switch(p.tag){case 3:var y=p.stateNode;if(y.current.memoizedState.isDehydrated){var B=xk(y.pendingLanes);B!==0&&(nH(y,B|1),Dp(y,Qu()),!(As&6)&&(oC=Qu()+500,$_()))}break;case 13:qS(function(){var V=Yy(p,1);if(V!==null){var oe=Kh();Mv(V,p,1,oe)}}),M7(p,1)}},rH=function(p){if(p.tag===13){var y=Yy(p,134217728);if(y!==null){var B=Kh();Mv(y,p,134217728,B)}M7(p,134217728)}},rme=function(p){if(p.tag===13){var y=ow(p),B=Yy(p,y);if(B!==null){var V=Kh();Mv(B,p,y,V)}M7(p,y)}},ime=function(){return ca},ome=function(p,y){var B=ca;try{return ca=p,y()}finally{ca=B}},LA=function(p,y,B){switch(y){case"input":if(mt(p,B),y=B.name,B.type==="radio"&&y!=null){for(B=p;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<B.length;y++){var V=B[y];if(V!==p&&V.form===p.form){var oe=D4(V);if(!oe)throw Error(m(90));Ls(V),mt(V,oe)}}}break;case"textarea":or(p,B);break;case"select":y=B.value,y!=null&&pn(p,!!B.multiple,y,!1)}},Gpe=w7,Vpe=qS;var Y4e={usingClientEntryPoint:!1,Events:[zk,XA,D4,jpe,Hpe,w7]},$k={findFiberByHostInstance:jS,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q4e={bundleType:$k.bundleType,version:$k.version,rendererPackageName:$k.rendererPackageName,rendererConfig:$k.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Ype(p),p===null?null:p.stateNode},findFiberByHostInstance:$k.findFiberByHostInstance||X4e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(eI=__REACT_DEVTOOLS_GLOBAL_HOOK__,!eI.isDisabled&&eI.supportsFiber))try{h4=eI.inject(q4e),M0=eI}catch{}var eI;i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y4e,i.createPortal=function(p,y){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P7(y))throw Error(m(200));return W4e(p,y,null,B)},i.createRoot=function(p,y){if(!P7(p))throw Error(m(299));var B=!1,V="",oe=Eve;return y!=null&&(y.unstable_strictMode===!0&&(B=!0),y.identifierPrefix!==void 0&&(V=y.identifierPrefix),y.onRecoverableError!==void 0&&(oe=y.onRecoverableError)),y=C7(p,1,!1,null,null,B,!1,V,oe),p[Vy]=y.current,Nk(p.nodeType===8?p.parentNode:p),new T7(y)},i.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(m(188)):(p=Object.keys(p).join(","),Error(m(268,p)));return p=Ype(y),p=p===null?null:p.stateNode,p},i.flushSync=function(p){return qS(p)},i.hydrate=function(p,y,B){if(!vN(y))throw Error(m(200));return yN(null,p,y,!0,B)},i.hydrateRoot=function(p,y,B){if(!P7(p))throw Error(m(405));var V=B!=null&&B.hydratedSources||null,oe=!1,me="",ze=Eve;if(B!=null&&(B.unstable_strictMode===!0&&(oe=!0),B.identifierPrefix!==void 0&&(me=B.identifierPrefix),B.onRecoverableError!==void 0&&(ze=B.onRecoverableError)),y=Sve(y,null,p,1,B??null,oe,!1,me,ze),p[Vy]=y.current,Nk(p),V)for(p=0;p<V.length;p++)B=V[p],oe=B._getVersion,oe=oe(B._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[B,oe]:y.mutableSourceEagerHydrationData.push(B,oe);return new gN(y)},i.render=function(p,y,B){if(!vN(y))throw Error(m(200));return yN(null,p,y,!1,B)},i.unmountComponentAtNode=function(p){if(!vN(p))throw Error(m(40));return p._reactRootContainer?(qS(function(){yN(null,null,p,!1,function(){p._reactRootContainer=null,p[Vy]=null})}),!0):!1},i.unstable_batchedUpdates=w7,i.unstable_renderSubtreeIntoContainer=function(p,y,B,V){if(!vN(B))throw Error(m(200));if(p==null||p._reactInternals===void 0)throw Error(m(38));return yN(p,y,B,!1,V)},i.version="18.2.0-next-9e3b772b8-20220608"}),Qg=Y((i,l)=>{function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(m){console.error(m)}}u(),l.exports=Lz()});function J3(i){let[,l]=(0,$v.useState)(0);return(0,$v.useCallback)(()=>{l(u=>u+1)},[])}function ao(i,l,u){let m=(0,$v.useCallback)(i,l),w=(0,$v.useRef)(null);w.current?w.current.set(m):w.current=new Hx.Atom(m);let E=(0,$v.useRef)(null);return E.current||(E.current=(0,Hx.prism)(()=>w.current.prism.getValue()())),Ap(E.current,u)}function Fz(){TE||(TE=!0,(0,Z3.default)(()=>{(0,ME.unstable_batchedUpdates)(function(){for(var i,l;lm.length>0;){let u=lm.shift();my.delete(u);let m;py&&((i=u.debug)==null||i.history.push("queue reached"));try{m=u.der.getValue()}catch(w){py&&((l=u.debug)==null||l.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(w),u.runUpdate();continue}m!==u.lastValue&&(u.lastValue=m,u.runUpdate())}TE=!1},1)}))}function Ap(i,l){var u;let m=J3(),w=(0,$v.useRef)(void 0);w.current||(ET++,w.current={order:ET,runUpdate:()=>{w.current.unmounted||m()},der:i,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var M;py&&((M=w.current.debug)==null||M.history.push("queueUpdate()")),$3(w.current)},untap:i.onStale(()=>{py&&w.current.debug.history.push("onStale(cb)"),w.current.queueUpdate()})},py&&(w.current.debug={label:l,traceOfFirstTimeRender:new Error,history:[]})),(0,$v.useLayoutEffect)(()=>function(){w.current.unmounted=!0,w.current.untap(),AT(w.current)},[]),AT(w.current);let E=w.current.der.getValue();return w.current.lastValue=E,py&&((u=w.current.debug)==null||u.history.push("rendered")),E}var Hx,Z3,$v,ME,py,_o,ET,lm,my,TE,$3,eO,AT,Ai=T(()=>{Hx=tr,Yl(),Z3=Z(Q3()),$v=Z(Ot()),ME=Z(Qg()),py=!1,_o=(i,l)=>ao(()=>(0,Hx.val)(i),[i],l),ET=0,lm=[],my=new Set,TE=!1,$3=i=>{eO(i),Fz()},eO=i=>{if(!my.has(i))if(my.add(i),lm.length===0)lm.push(i);else{let l=vT(lm,u=>u.order>=i.order);l===-1?lm.push(i):lm[l].order>i.order&&lm.splice(l,0,i)}},AT=i=>{if(!my.has(i))return;my.delete(i);let l=vT(lm,u=>u===i);lm.splice(l,1)}}),zz=Y(i=>{var l=60103,u=60106,m=60107,w=60108,E=60114,M=60109,k=60110,L=60112,U=60113,q=60120,J=60115,Q=60116,W=60121,ee=60122,$=60117,ie=60129,se=60131;typeof Symbol=="function"&&Symbol.for&&(he=Symbol.for,l=he("react.element"),u=he("react.portal"),m=he("react.fragment"),w=he("react.strict_mode"),E=he("react.profiler"),M=he("react.provider"),k=he("react.context"),L=he("react.forward_ref"),U=he("react.suspense"),q=he("react.suspense_list"),J=he("react.memo"),Q=he("react.lazy"),W=he("react.block"),ee=he("react.server.block"),$=he("react.fundamental"),ie=he("react.debug_trace_mode"),se=he("react.legacy_hidden"));var he;function xe(Ee){if(typeof Ee=="object"&&Ee!==null){var Ht=Ee.$$typeof;switch(Ht){case l:switch(Ee=Ee.type,Ee){case m:case E:case w:case U:case q:return Ee;default:switch(Ee=Ee&&Ee.$$typeof,Ee){case k:case L:case Q:case J:case M:return Ee;default:return Ht}}case u:return Ht}}}var Be=M,Oe=l,He=L,vt=m,lt=Q,ht=J,It=u,_n=E,We=w,kt=U;i.ContextConsumer=k,i.ContextProvider=Be,i.Element=Oe,i.ForwardRef=He,i.Fragment=vt,i.Lazy=lt,i.Memo=ht,i.Portal=It,i.Profiler=_n,i.StrictMode=We,i.Suspense=kt,i.isAsyncMode=function(){return!1},i.isConcurrentMode=function(){return!1},i.isContextConsumer=function(Ee){return xe(Ee)===k},i.isContextProvider=function(Ee){return xe(Ee)===M},i.isElement=function(Ee){return typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===l},i.isForwardRef=function(Ee){return xe(Ee)===L},i.isFragment=function(Ee){return xe(Ee)===m},i.isLazy=function(Ee){return xe(Ee)===Q},i.isMemo=function(Ee){return xe(Ee)===J},i.isPortal=function(Ee){return xe(Ee)===u},i.isProfiler=function(Ee){return xe(Ee)===E},i.isStrictMode=function(Ee){return xe(Ee)===w},i.isSuspense=function(Ee){return xe(Ee)===U},i.isValidElementType=function(Ee){return typeof Ee=="string"||typeof Ee=="function"||Ee===m||Ee===E||Ee===ie||Ee===w||Ee===U||Ee===q||Ee===se||typeof Ee=="object"&&Ee!==null&&(Ee.$$typeof===Q||Ee.$$typeof===J||Ee.$$typeof===M||Ee.$$typeof===k||Ee.$$typeof===L||Ee.$$typeof===$||Ee.$$typeof===W||Ee[0]===ee)},i.typeOf=xe}),tO=Y((i,l)=>{l.exports=zz()}),nO=Y((i,l)=>{l.exports=function(u,m,w,E){var M=w?w.call(E,u,m):void 0;if(M!==void 0)return!!M;if(u===m)return!0;if(typeof u!="object"||!u||typeof m!="object"||!m)return!1;var k=Object.keys(u),L=Object.keys(m);if(k.length!==L.length)return!1;for(var U=Object.prototype.hasOwnProperty.bind(m),q=0;q<k.length;q++){var J=k[q];if(!U(J))return!1;var Q=u[J],W=m[J];if(M=w?w.call(E,Q,W,J):void 0,M===!1||M===void 0&&Q!==W)return!1}return!0}});function Gx(i){function l(it,hn,vn,En,Qt){for(var Jr=0,jn=0,Vr=0,Si=0,Wi,Hi,Ls=0,Ie=0,Tn,Cn=Tn=Wi=0,gt=0,mt=0,Jt=0,Xn=0,rr=vn.length,pn=rr-1,pr,Zn="",or="",Bi="",Es="",fo;gt<rr;){if(Hi=vn.charCodeAt(gt),gt===pn&&jn+Si+Vr+Jr!==0&&(jn!==0&&(Hi=jn===47?10:47),Si=Vr=Jr=0,rr++,pn++),jn+Si+Vr+Jr===0){if(gt===pn&&(0<mt&&(Zn=Zn.replace(Q,"")),0<Zn.trim().length)){switch(Hi){case 32:case 9:case 59:case 13:case 10:break;default:Zn+=vn.charAt(gt)}Hi=59}switch(Hi){case 123:for(Zn=Zn.trim(),Wi=Zn.charCodeAt(0),Tn=1,Xn=++gt;gt<rr;){switch(Hi=vn.charCodeAt(gt)){case 123:Tn++;break;case 125:Tn--;break;case 47:switch(Hi=vn.charCodeAt(gt+1)){case 42:case 47:e:{for(Cn=gt+1;Cn<pn;++Cn)switch(vn.charCodeAt(Cn)){case 47:if(Hi===42&&vn.charCodeAt(Cn-1)===42&&gt+2!==Cn){gt=Cn+1;break e}break;case 10:if(Hi===47){gt=Cn+1;break e}}gt=Cn}}break;case 91:Hi++;case 40:Hi++;case 34:case 39:for(;gt++<pn&&vn.charCodeAt(gt)!==Hi;);}if(Tn===0)break;gt++}switch(Tn=vn.substring(Xn,gt),Wi===0&&(Wi=(Zn=Zn.replace(J,"").trim()).charCodeAt(0)),Wi){case 64:switch(0<mt&&(Zn=Zn.replace(Q,"")),Hi=Zn.charCodeAt(1),Hi){case 100:case 109:case 115:case 45:mt=hn;break;default:mt=cr}if(Tn=l(hn,mt,Tn,Hi,Qt+1),Xn=Tn.length,0<Et&&(mt=u(cr,Zn,Jt),fo=k(3,Tn,mt,hn,kt,We,Xn,Hi,Qt,En),Zn=mt.join(""),fo!==void 0&&(Xn=(Tn=fo.trim()).length)===0&&(Hi=0,Tn="")),0<Xn)switch(Hi){case 115:Zn=Zn.replace(He,M);case 100:case 109:case 45:Tn=Zn+"{"+Tn+"}";break;case 107:Zn=Zn.replace(he,"$1 $2"),Tn=Zn+"{"+Tn+"}",Tn=Ht===1||Ht===2&&E("@"+Tn,3)?"@-webkit-"+Tn+"@"+Tn:"@"+Tn;break;default:Tn=Zn+Tn,En===112&&(Tn=(or+=Tn,""))}else Tn="";break;default:Tn=l(hn,u(hn,Zn,Jt),Tn,En,Qt+1)}Bi+=Tn,Tn=Jt=mt=Cn=Wi=0,Zn="",Hi=vn.charCodeAt(++gt);break;case 125:case 59:if(Zn=(0<mt?Zn.replace(Q,""):Zn).trim(),1<(Xn=Zn.length))switch(Cn===0&&(Wi=Zn.charCodeAt(0),Wi===45||96<Wi&&123>Wi)&&(Xn=(Zn=Zn.replace(" ",":")).length),0<Et&&(fo=k(1,Zn,hn,it,kt,We,or.length,En,Qt,En))!==void 0&&(Xn=(Zn=fo.trim()).length)===0&&(Zn="\0\0"),Wi=Zn.charCodeAt(0),Hi=Zn.charCodeAt(1),Wi){case 0:break;case 64:if(Hi===105||Hi===99){Es+=Zn+vn.charAt(gt);break}default:Zn.charCodeAt(Xn-1)!==58&&(or+=w(Zn,Wi,Hi,Zn.charCodeAt(2)))}Jt=mt=Cn=Wi=0,Zn="",Hi=vn.charCodeAt(++gt)}}switch(Hi){case 13:case 10:jn===47?jn=0:1+Wi===0&&En!==107&&0<Zn.length&&(mt=1,Zn+="\0"),0<Et*Hn&&k(0,Zn,hn,it,kt,We,or.length,En,Qt,En),We=1,kt++;break;case 59:case 125:if(jn+Si+Vr+Jr===0){We++;break}default:switch(We++,pr=vn.charAt(gt),Hi){case 9:case 32:if(Si+Jr+jn===0)switch(Ls){case 44:case 58:case 9:case 32:pr="";break;default:Hi!==32&&(pr=" ")}break;case 0:pr="\\0";break;case 12:pr="\\f";break;case 11:pr="\\v";break;case 38:Si+jn+Jr===0&&(mt=Jt=1,pr="\f"+pr);break;case 108:if(Si+jn+Jr+Ee===0&&0<Cn)switch(gt-Cn){case 2:Ls===112&&vn.charCodeAt(gt-3)===58&&(Ee=Ls);case 8:Ie===111&&(Ee=Ie)}break;case 58:Si+jn+Jr===0&&(Cn=gt);break;case 44:jn+Vr+Si+Jr===0&&(mt=1,pr+="\r");break;case 34:case 39:jn===0&&(Si=Si===Hi?0:Si===0?Hi:Si);break;case 91:Si+jn+Vr===0&&Jr++;break;case 93:Si+jn+Vr===0&&Jr--;break;case 41:Si+jn+Jr===0&&Vr--;break;case 40:if(Si+jn+Jr===0){if(Wi===0)switch(2*Ls+3*Ie){case 533:break;default:Wi=1}Vr++}break;case 64:jn+Vr+Si+Jr+Cn+Tn===0&&(Tn=1);break;case 42:case 47:if(!(0<Si+Jr+Vr))switch(jn){case 0:switch(2*Hi+3*vn.charCodeAt(gt+1)){case 235:jn=47;break;case 220:Xn=gt,jn=42}break;case 42:Hi===47&&Ls===42&&Xn+2!==gt&&(vn.charCodeAt(Xn+2)===33&&(or+=vn.substring(Xn,gt+1)),pr="",jn=0)}}jn===0&&(Zn+=pr)}Ie=Ls,Ls=Hi,gt++}if(Xn=or.length,0<Xn){if(mt=hn,0<Et&&(fo=k(2,or,mt,it,kt,We,Xn,En,Qt,En),fo!==void 0&&(or=fo).length===0))return Es+or+Bi;if(or=mt.join(",")+"{"+or+"}",Ht*Ee!==0){switch(Ht!==2||E(or,2)||(Ee=0),Ee){case 111:or=or.replace(Be,":-moz-$1")+or;break;case 112:or=or.replace(xe,"::-webkit-input-$1")+or.replace(xe,"::-moz-$1")+or.replace(xe,":-ms-input-$1")+or}Ee=0}}return Es+or+Bi}function u(it,hn,vn){var En=hn.trim().split(ie);hn=En;var Qt=En.length,Jr=it.length;switch(Jr){case 0:case 1:var jn=0;for(it=Jr===0?"":it[0]+" ";jn<Qt;++jn)hn[jn]=m(it,hn[jn],vn).trim();break;default:var Vr=jn=0;for(hn=[];jn<Qt;++jn)for(var Si=0;Si<Jr;++Si)hn[Vr++]=m(it[Si]+" ",En[jn],vn).trim()}return hn}function m(it,hn,vn){var En=hn.charCodeAt(0);switch(33>En&&(En=(hn=hn.trim()).charCodeAt(0)),En){case 38:return hn.replace(se,"$1"+it.trim());case 58:return it.trim()+hn.replace(se,"$1"+it.trim());default:if(0<1*vn&&0<hn.indexOf("\f"))return hn.replace(se,(it.charCodeAt(0)===58?"":"$1")+it.trim())}return it+hn}function w(it,hn,vn,En){var Qt=it+";",Jr=2*hn+3*vn+4*En;if(Jr===944){it=Qt.indexOf(":",9)+1;var jn=Qt.substring(it,Qt.length-1).trim();return jn=Qt.substring(0,it).trim()+jn+";",Ht===1||Ht===2&&E(jn,1)?"-webkit-"+jn+jn:jn}if(Ht===0||Ht===2&&!E(Qt,1))return Qt;switch(Jr){case 1015:return Qt.charCodeAt(10)===97?"-webkit-"+Qt+Qt:Qt;case 951:return Qt.charCodeAt(3)===116?"-webkit-"+Qt+Qt:Qt;case 963:return Qt.charCodeAt(5)===110?"-webkit-"+Qt+Qt:Qt;case 1009:if(Qt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Qt+Qt;case 978:return"-webkit-"+Qt+"-moz-"+Qt+Qt;case 1019:case 983:return"-webkit-"+Qt+"-moz-"+Qt+"-ms-"+Qt+Qt;case 883:if(Qt.charCodeAt(8)===45)return"-webkit-"+Qt+Qt;if(0<Qt.indexOf("image-set(",11))return Qt.replace(_n,"$1-webkit-$2")+Qt;break;case 932:if(Qt.charCodeAt(4)===45)switch(Qt.charCodeAt(5)){case 103:return"-webkit-box-"+Qt.replace("-grow","")+"-webkit-"+Qt+"-ms-"+Qt.replace("grow","positive")+Qt;case 115:return"-webkit-"+Qt+"-ms-"+Qt.replace("shrink","negative")+Qt;case 98:return"-webkit-"+Qt+"-ms-"+Qt.replace("basis","preferred-size")+Qt}return"-webkit-"+Qt+"-ms-"+Qt+Qt;case 964:return"-webkit-"+Qt+"-ms-flex-"+Qt+Qt;case 1023:if(Qt.charCodeAt(8)!==99)break;return jn=Qt.substring(Qt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+jn+"-webkit-"+Qt+"-ms-flex-pack"+jn+Qt;case 1005:return ee.test(Qt)?Qt.replace(W,":-webkit-")+Qt.replace(W,":-moz-")+Qt:Qt;case 1e3:switch(jn=Qt.substring(13).trim(),hn=jn.indexOf("-")+1,jn.charCodeAt(0)+jn.charCodeAt(hn)){case 226:jn=Qt.replace(Oe,"tb");break;case 232:jn=Qt.replace(Oe,"tb-rl");break;case 220:jn=Qt.replace(Oe,"lr");break;default:return Qt}return"-webkit-"+Qt+"-ms-"+jn+Qt;case 1017:if(Qt.indexOf("sticky",9)===-1)break;case 975:switch(hn=(Qt=it).length-10,jn=(Qt.charCodeAt(hn)===33?Qt.substring(0,hn):Qt).substring(it.indexOf(":",7)+1).trim(),Jr=jn.charCodeAt(0)+(jn.charCodeAt(7)|0)){case 203:if(111>jn.charCodeAt(8))break;case 115:Qt=Qt.replace(jn,"-webkit-"+jn)+";"+Qt;break;case 207:case 102:Qt=Qt.replace(jn,"-webkit-"+(102<Jr?"inline-":"")+"box")+";"+Qt.replace(jn,"-webkit-"+jn)+";"+Qt.replace(jn,"-ms-"+jn+"box")+";"+Qt}return Qt+";";case 938:if(Qt.charCodeAt(5)===45)switch(Qt.charCodeAt(6)){case 105:return jn=Qt.replace("-items",""),"-webkit-"+Qt+"-webkit-box-"+jn+"-ms-flex-"+jn+Qt;case 115:return"-webkit-"+Qt+"-ms-flex-item-"+Qt.replace(lt,"")+Qt;default:return"-webkit-"+Qt+"-ms-flex-line-pack"+Qt.replace("align-content","").replace(lt,"")+Qt}break;case 973:case 989:if(Qt.charCodeAt(3)!==45||Qt.charCodeAt(4)===122)break;case 931:case 953:if(It.test(it)===!0)return(jn=it.substring(it.indexOf(":")+1)).charCodeAt(0)===115?w(it.replace("stretch","fill-available"),hn,vn,En).replace(":fill-available",":stretch"):Qt.replace(jn,"-webkit-"+jn)+Qt.replace(jn,"-moz-"+jn.replace("fill-",""))+Qt;break;case 962:if(Qt="-webkit-"+Qt+(Qt.charCodeAt(5)===102?"-ms-"+Qt:"")+Qt,vn+En===211&&Qt.charCodeAt(13)===105&&0<Qt.indexOf("transform",10))return Qt.substring(0,Qt.indexOf(";",27)+1).replace($,"$1-webkit-$2")+Qt}return Qt}function E(it,hn){var vn=it.indexOf(hn===1?":":"{"),En=it.substring(0,hn!==3?vn:10);return vn=it.substring(vn+1,it.length-1),Wt(hn!==2?En:En.replace(ht,"$1"),vn,hn)}function M(it,hn){var vn=w(hn,hn.charCodeAt(0),hn.charCodeAt(1),hn.charCodeAt(2));return vn!==hn+";"?vn.replace(vt," or ($1)").substring(4):"("+hn+")"}function k(it,hn,vn,En,Qt,Jr,jn,Vr,Si,Wi){for(var Hi=0,Ls=hn,Ie;Hi<Et;++Hi)switch(Ie=bt[Hi].call(q,it,Ls,vn,En,Qt,Jr,jn,Vr,Si,Wi)){case void 0:case!1:case!0:case null:break;default:Ls=Ie}if(Ls!==hn)return Ls}function L(it){switch(it){case void 0:case null:Et=bt.length=0;break;default:if(typeof it=="function")bt[Et++]=it;else if(typeof it=="object")for(var hn=0,vn=it.length;hn<vn;++hn)L(it[hn]);else Hn=!!it|0}return L}function U(it){return it=it.prefix,it!==void 0&&(Wt=null,it?typeof it!="function"?Ht=1:(Ht=2,Wt=it):Ht=0),U}function q(it,hn){var vn=it;if(33>vn.charCodeAt(0)&&(vn=vn.trim()),Xe=vn,vn=[Xe],0<Et){var En=k(-1,hn,vn,vn,kt,We,0,0,0,0);En!==void 0&&typeof En=="string"&&(hn=En)}var Qt=l(cr,vn,hn,0,0);return 0<Et&&(En=k(-2,Qt,vn,vn,kt,We,Qt.length,0,0,0),En!==void 0&&(Qt=En)),Xe="",Ee=0,We=kt=1,Qt}var J=/^\0+/g,Q=/[\0\r\f]/g,W=/: */g,ee=/zoo|gra/,$=/([,: ])(transform)/g,ie=/,\r+?/g,se=/([\t\r\n ])*\f?&/g,he=/@(k\w+)\s*(\S*)\s*/,xe=/::(place)/g,Be=/:(read-only)/g,Oe=/[svh]\w+-[tblr]{2}/,He=/\(\s*(.*)\s*\)/g,vt=/([\s\S]*?);/g,lt=/-self|flex-/g,ht=/[^]*?(:[rp][el]a[\w-]+)[^]*/,It=/stretch|:\s*\w+\-(?:conte|avail)/,_n=/([^-])(image-set\()/,We=1,kt=1,Ee=0,Ht=1,cr=[],bt=[],Et=0,Wt=null,Hn=0,Xe="";return q.use=L,q.set=U,i!==void 0&&U(i),q}var CT,Uz=T(()=>{CT=Gx}),rO,iO,jz=T(()=>{rO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iO=rO});function MT(i){var l=Object.create(null);return function(u){return l[u]===void 0&&(l[u]=i(u)),l[u]}}var oO,Vx=T(()=>{oO=MT}),sO,aO,TT,Hz=T(()=>{Vx(),sO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aO=oO(function(i){return sO.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),TT=aO}),PT=Y(i=>{var l=typeof Symbol=="function"&&Symbol.for,u=l?Symbol.for("react.element"):60103,m=l?Symbol.for("react.portal"):60106,w=l?Symbol.for("react.fragment"):60107,E=l?Symbol.for("react.strict_mode"):60108,M=l?Symbol.for("react.profiler"):60114,k=l?Symbol.for("react.provider"):60109,L=l?Symbol.for("react.context"):60110,U=l?Symbol.for("react.async_mode"):60111,q=l?Symbol.for("react.concurrent_mode"):60111,J=l?Symbol.for("react.forward_ref"):60112,Q=l?Symbol.for("react.suspense"):60113,W=l?Symbol.for("react.suspense_list"):60120,ee=l?Symbol.for("react.memo"):60115,$=l?Symbol.for("react.lazy"):60116,ie=l?Symbol.for("react.block"):60121,se=l?Symbol.for("react.fundamental"):60117,he=l?Symbol.for("react.responder"):60118,xe=l?Symbol.for("react.scope"):60119;function Be(He){if(typeof He=="object"&&He!==null){var vt=He.$$typeof;switch(vt){case u:switch(He=He.type,He){case U:case q:case w:case M:case E:case Q:return He;default:switch(He=He&&He.$$typeof,He){case L:case J:case $:case ee:case k:return He;default:return vt}}case m:return vt}}}function Oe(He){return Be(He)===q}i.AsyncMode=U,i.ConcurrentMode=q,i.ContextConsumer=L,i.ContextProvider=k,i.Element=u,i.ForwardRef=J,i.Fragment=w,i.Lazy=$,i.Memo=ee,i.Portal=m,i.Profiler=M,i.StrictMode=E,i.Suspense=Q,i.isAsyncMode=function(He){return Oe(He)||Be(He)===U},i.isConcurrentMode=Oe,i.isContextConsumer=function(He){return Be(He)===L},i.isContextProvider=function(He){return Be(He)===k},i.isElement=function(He){return typeof He=="object"&&He!==null&&He.$$typeof===u},i.isForwardRef=function(He){return Be(He)===J},i.isFragment=function(He){return Be(He)===w},i.isLazy=function(He){return Be(He)===$},i.isMemo=function(He){return Be(He)===ee},i.isPortal=function(He){return Be(He)===m},i.isProfiler=function(He){return Be(He)===M},i.isStrictMode=function(He){return Be(He)===E},i.isSuspense=function(He){return Be(He)===Q},i.isValidElementType=function(He){return typeof He=="string"||typeof He=="function"||He===w||He===q||He===M||He===E||He===Q||He===W||typeof He=="object"&&He!==null&&(He.$$typeof===$||He.$$typeof===ee||He.$$typeof===k||He.$$typeof===L||He.$$typeof===J||He.$$typeof===se||He.$$typeof===he||He.$$typeof===xe||He.$$typeof===ie)},i.typeOf=Be}),lO=Y((i,l)=>{l.exports=PT()}),Gz=Y((i,l)=>{var u=lO(),m={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},E={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k={};k[u.ForwardRef]=E,k[u.Memo]=M;function L(ie){return u.isMemo(ie)?M:k[ie.$$typeof]||m}var U=Object.defineProperty,q=Object.getOwnPropertyNames,J=Object.getOwnPropertySymbols,Q=Object.getOwnPropertyDescriptor,W=Object.getPrototypeOf,ee=Object.prototype;function $(ie,se,he){if(typeof se!="string"){if(ee){var xe=W(se);xe&&xe!==ee&&$(ie,xe,he)}var Be=q(se);J&&(Be=Be.concat(J(se)));for(var Oe=L(ie),He=L(se),vt=0;vt<Be.length;++vt){var lt=Be[vt];if(!w[lt]&&!(he&&he[lt])&&!(He&&He[lt])&&!(Oe&&Oe[lt])){var ht=Q(se,lt);try{U(ie,lt,ht)}catch{}}}}return ie}l.exports=$});function um(){return(um=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i}).apply(this,arguments)}function Pf(i){return typeof i=="function"}function e0(i){return i.displayName||i.name||"Component"}function Jg(i){return i&&typeof i.styledComponentId=="string"}function Zg(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];throw new Error("An error occurred. See https://git.io/JUIaE#"+i+" for more information."+(u.length>0?" Args: "+u.join(", "):""))}function gy(i){var l,u="";for(l=Math.abs(i);l>52;l=l/52|0)u=rd(l%52)+u;return(rd(l%52)+u).replace(pO,"$1-$2")}function vy(i){for(var l=0;l<i.length;l+=1){var u=i[l];if(Pf(u)&&!Jg(u))return!1}return!0}function PE(i){var l,u,m,w,E=i===void 0?rg:i,M=E.options,k=M===void 0?rg:M,L=E.plugins,U=L===void 0?t0:L,q=new CT(k),J=[],Q=function($){function ie(se){if(se)try{$(se+"}")}catch{}}return function(se,he,xe,Be,Oe,He,vt,lt,ht,It){switch(se){case 1:if(ht===0&&he.charCodeAt(0)===64)return $(he+";"),"";break;case 2:if(lt===0)return he+"/*|*/";break;case 3:switch(lt){case 102:case 112:return $(xe[0]+he),"";default:return he+(It===0?"/*|*/":"")}case-2:he.split("/*|*/}").forEach(ie)}}}(function($){J.push($)}),W=function($,ie,se){return ie===0&&gO.indexOf(se[u.length])!==-1||se.match(w)?$:"."+l};function ee($,ie,se,he){he===void 0&&(he="&");var xe=$.replace(UT,""),Be=ie&&se?se+" "+ie+" { "+xe+" }":xe;return l=he,u=ie,m=new RegExp("\\"+u+"\\b","g"),w=new RegExp("(\\"+u+"\\b){2,}"),q(se||!ie?"":ie,Be)}return q.use([].concat(U,[function($,ie,se){$===2&&se.length&&se[0].lastIndexOf(u)>0&&(se[0]=se[0].replace(m,W))},Q,function($){if($===-2){var ie=J;return J=[],ie}}])),ee.hash=U.length?U.reduce(function($,ie){return ie.name||Zg(15),wy($,ie.name)},5381).toString():"",ee}function kT(){return(0,Za.useContext)(LE)||FE}function IT(){return(0,Za.useContext)(Jx)||Zx}function uO(i){var l=(0,Za.useState)(i.stylisPlugins),u=l[0],m=l[1],w=kT(),E=(0,Za.useMemo)(function(){var k=w;return i.sheet?k=i.sheet:i.target&&(k=k.reconstructWithOptions({target:i.target},!1)),i.disableCSSOMInjection&&(k=k.reconstructWithOptions({useCSSOMInjection:!1})),k},[i.disableCSSOMInjection,i.sheet,i.target]),M=(0,Za.useMemo)(function(){return PE({options:{prefix:!i.disableVendorPrefixes},plugins:u})},[i.disableVendorPrefixes,u]);return(0,Za.useEffect)(function(){(0,RE.default)(u,i.stylisPlugins)||m(i.stylisPlugins)},[i.stylisPlugins]),Za.default.createElement(LE.Provider,{value:E},Za.default.createElement(Jx.Provider,{value:M},i.children))}function kE(i){return yO.test(i)?i.replace(zE,_O).replace(jT,"-ms-"):i}function $g(i,l,u,m){if(Array.isArray(i)){for(var w,E=[],M=0,k=i.length;M<k;M+=1)(w=$g(i[M],l,u,m))!==""&&(Array.isArray(w)?E.push.apply(E,w):E.push(w));return E}if(HT(i))return"";if(Jg(i))return"."+i.styledComponentId;if(Pf(i)){if(typeof(U=i)!="function"||U.prototype&&U.prototype.isReactComponent||!l)return i;var L=i(l);return $g(L,l,u,m)}var U;return i instanceof vO?u?(i.inject(u,m),i.getName(m)):i:d_(i)?function q(J,Q){var W,ee,$=[];for(var ie in J)J.hasOwnProperty(ie)&&!HT(J[ie])&&(Array.isArray(J[ie])&&J[ie].isCss||Pf(J[ie])?$.push(kE(ie)+":",J[ie],";"):d_(J[ie])?$.push.apply($,q(J[ie],ie)):$.push(kE(ie)+": "+(W=ie,(ee=J[ie])==null||typeof ee=="boolean"||ee===""?"":typeof ee!="number"||ee===0||W in iO||W.startsWith("--")?String(ee).trim():ee+"px")+";"));return Q?[Q+" {"].concat($,["}"]):$}(i):i.toString()}function Ku(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];return Pf(i)||d_(i)?C($g(BT(t0,[i].concat(u)))):u.length===0&&i.length===1&&typeof i[0]=="string"?i:C($g(BT(i,u)))}function Wx(i){return i.replace(te,"-").replace(we,"")}function f_(i){return typeof i=="string"&&!0}function Vz(i,l,u){var m=i[u];tt(l)&&tt(m)?IE(m,l):i[u]=l}function IE(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];for(var w=0,E=u;w<E.length;w++){var M=E[w];if(tt(M))for(var k in M)Ct(k)&&Vz(i,M[k],k)}return i}function ng(i,l,u){var m=Jg(i),w=!f_(i),E=l.attrs,M=E===void 0?t0:E,k=l.componentId,L=k===void 0?function(he,xe){var Be=typeof he!="string"?"sc":Wx(he);dn[Be]=(dn[Be]||0)+1;var Oe=Be+"-"+De("5.3.11"+Be+dn[Be]);return xe?xe+"-"+Oe:Oe}(l.displayName,l.parentComponentId):k,U=l.displayName,q=U===void 0?function(he){return f_(he)?"styled."+he:"Styled("+e0(he)+")"}(i):U,J=l.displayName&&l.componentId?Wx(l.displayName)+"-"+l.componentId:l.componentId||L,Q=m&&i.attrs?Array.prototype.concat(i.attrs,M).filter(Boolean):M,W=l.shouldForwardProp;m&&i.shouldForwardProp&&(W=l.shouldForwardProp?function(he,xe,Be){return i.shouldForwardProp(he,xe,Be)&&l.shouldForwardProp(he,xe,Be)}:i.shouldForwardProp);var ee,$=new zT(u,J,m?i.componentStyle:void 0),ie=$.isStatic&&M.length===0,se=function(he,xe){return function(Be,Oe,He,vt){var lt=Be.attrs,ht=Be.componentStyle,It=Be.defaultProps,_n=Be.foldedComponentIds,We=Be.shouldForwardProp,kt=Be.styledComponentId,Ee=Be.target,Ht=function(En,Qt,Jr){En===void 0&&(En=rg);var jn=um({},Qt,{theme:En}),Vr={};return Jr.forEach(function(Si){var Wi,Hi,Ls,Ie=Si;for(Wi in Pf(Ie)&&(Ie=Ie(jn)),Ie)jn[Wi]=Vr[Wi]=Wi==="className"?(Hi=Vr[Wi],Ls=Ie[Wi],Hi&&Ls?Hi+" "+Ls:Hi||Ls):Ie[Wi]}),[jn,Vr]}(H(Oe,(0,Za.useContext)(tn),It)||rg,Oe,lt),cr=Ht[0],bt=Ht[1],Et=function(En,Qt,Jr,jn){var Vr=kT(),Si=IT(),Wi=Qt?En.generateAndInjectStyles(rg,Vr,Si):En.generateAndInjectStyles(Jr,Vr,Si);return Wi}(ht,vt,cr),Wt=He,Hn=bt.$as||Oe.$as||bt.as||Oe.as||Ee,Xe=f_(Hn),it=bt!==Oe?um({},Oe,{},bt):Oe,hn={};for(var vn in it)vn[0]!=="$"&&vn!=="as"&&(vn==="forwardedAs"?hn.as=it[vn]:(We?We(vn,TT,Hn):!Xe||TT(vn))&&(hn[vn]=it[vn]));return Oe.style&&bt.style!==Oe.style&&(hn.style=um({},Oe.style,{},bt.style)),hn.className=Array.prototype.concat(_n,kt,Et!==kt?Et:null,Oe.className,bt.className).filter(Boolean).join(" "),hn.ref=Wt,(0,Za.createElement)(Hn,hn)}(ee,he,xe,ie)};return se.displayName=q,(ee=Za.default.forwardRef(se)).attrs=Q,ee.componentStyle=$,ee.displayName=q,ee.shouldForwardProp=W,ee.foldedComponentIds=m?Array.prototype.concat(i.foldedComponentIds,i.styledComponentId):t0,ee.styledComponentId=J,ee.target=m?i.target:i,ee.withComponent=function(he){var xe=l.componentId,Be=function(He,vt){if(He==null)return{};var lt,ht,It={},_n=Object.keys(He);for(ht=0;ht<_n.length;ht++)lt=_n[ht],vt.indexOf(lt)>=0||(It[lt]=He[lt]);return It}(l,["componentId"]),Oe=xe&&xe+"-"+(f_(he)?he:Wx(e0(he)));return ng(he,um({},Be,{attrs:Q,componentId:Oe}),u)},Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(he){this._foldedDefaultProps=m?IE({},i.defaultProps,he):he}}),Object.defineProperty(ee,"toString",{value:function(){return"."+ee.styledComponentId}}),w&&(0,OT.default)(ee,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),ee}function RT(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];var w=Ku.apply(void 0,[i].concat(u)),E="sc-global-"+De(JSON.stringify(w)),M=new br(w,E);function k(U){var q=kT(),J=IT(),Q=(0,Za.useContext)(tn),W=(0,Za.useRef)(q.allocateGSInstance(E)).current;return q.server&&L(W,U,q,Q,J),(0,Za.useLayoutEffect)(function(){if(!q.server)return L(W,U,q,Q,J),function(){return M.removeStyles(W,q)}},[W,U,q,Q,J]),null}function L(U,q,J,Q,W){if(M.isStatic)M.renderStyles(U,OE,J,W);else{var ee=um({},q,{theme:H(q,Q,k.defaultProps)});M.renderStyles(U,ee,J,W)}}return Za.default.memo(k)}var Xx,Za,RE,OT,BT,d_,t0,rg,Cp,h_,DT,OE,BE,yy,Kx,_y,p_,m_,DE,cO,fO,NT,LT,Yx,kf,dO,NE,hO,FT,qx,ev,pO,rd,wy,Qx,mO,zT,UT,gO,LE,Jx,FE,Zx,vO,yO,zE,jT,_O,HT,C,H,te,we,De,tt,Ct,tn,dn,Bn,br,je,qt=T(()=>{Xx=Z(tO()),Za=Z(Ot()),RE=Z(nO()),Uz(),jz(),Hz(),OT=Z(Gz()),BT=function(i,l){for(var u=[i[0]],m=0,w=l.length;m<w;m+=1)u.push(l[m],i[m+1]);return u},d_=function(i){return i!==null&&typeof i=="object"&&(i.toString?i.toString():Object.prototype.toString.call(i))==="[object Object]"&&!(0,Xx.typeOf)(i)},t0=Object.freeze([]),rg=Object.freeze({}),Cp=typeof process<"u"&&t!==void 0&&(t.REACT_APP_SC_ATTR||t.SC_ATTR)||"data-styled",h_=typeof window<"u"&&"HTMLElement"in window,DT=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&t!==void 0&&(t.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&t.REACT_APP_SC_DISABLE_SPEEDY!==""?t.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&t.REACT_APP_SC_DISABLE_SPEEDY:t.SC_DISABLE_SPEEDY!==void 0&&t.SC_DISABLE_SPEEDY!==""&&t.SC_DISABLE_SPEEDY!=="false"&&t.SC_DISABLE_SPEEDY)),OE={},BE=function(){function i(u){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=u}var l=i.prototype;return l.indexOfGroup=function(u){for(var m=0,w=0;w<u;w++)m+=this.groupSizes[w];return m},l.insertRules=function(u,m){if(u>=this.groupSizes.length){for(var w=this.groupSizes,E=w.length,M=E;u>=M;)(M<<=1)<0&&Zg(16,""+u);this.groupSizes=new Uint32Array(M),this.groupSizes.set(w),this.length=M;for(var k=E;k<M;k++)this.groupSizes[k]=0}for(var L=this.indexOfGroup(u+1),U=0,q=m.length;U<q;U++)this.tag.insertRule(L,m[U])&&(this.groupSizes[u]++,L++)},l.clearGroup=function(u){if(u<this.length){var m=this.groupSizes[u],w=this.indexOfGroup(u),E=w+m;this.groupSizes[u]=0;for(var M=w;M<E;M++)this.tag.deleteRule(w)}},l.getGroup=function(u){var m="";if(u>=this.length||this.groupSizes[u]===0)return m;for(var w=this.groupSizes[u],E=this.indexOfGroup(u),M=E+w,k=E;k<M;k++)m+=this.tag.getRule(k)+`/*!sc*/
`;return m},i}(),yy=new Map,Kx=new Map,_y=1,p_=function(i){if(yy.has(i))return yy.get(i);for(;Kx.has(_y);)_y++;var l=_y++;return yy.set(i,l),Kx.set(l,i),l},m_=function(i){return Kx.get(i)},DE=function(i,l){l>=_y&&(_y=l+1),yy.set(i,l),Kx.set(l,i)},cO="style["+Cp+'][data-styled-version="5.3.11"]',fO=new RegExp("^"+Cp+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),NT=function(i,l,u){for(var m,w=u.split(","),E=0,M=w.length;E<M;E++)(m=w[E])&&i.registerName(l,m)},LT=function(i,l){for(var u=(l.textContent||"").split(`/*!sc*/
`),m=[],w=0,E=u.length;w<E;w++){var M=u[w].trim();if(M){var k=M.match(fO);if(k){var L=0|parseInt(k[1],10),U=k[2];L!==0&&(DE(U,L),NT(i,U,k[3]),i.getTag().insertRules(L,m)),m.length=0}else m.push(M)}}},Yx=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},kf=function(i){var l=document.head,u=i||l,m=document.createElement("style"),w=function(k){for(var L=k.childNodes,U=L.length;U>=0;U--){var q=L[U];if(q&&q.nodeType===1&&q.hasAttribute(Cp))return q}}(u),E=w!==void 0?w.nextSibling:null;m.setAttribute(Cp,"active"),m.setAttribute("data-styled-version","5.3.11");var M=Yx();return M&&m.setAttribute("nonce",M),u.insertBefore(m,E),m},dO=function(){function i(u){var m=this.element=kf(u);m.appendChild(document.createTextNode("")),this.sheet=function(w){if(w.sheet)return w.sheet;for(var E=document.styleSheets,M=0,k=E.length;M<k;M++){var L=E[M];if(L.ownerNode===w)return L}Zg(17)}(m),this.length=0}var l=i.prototype;return l.insertRule=function(u,m){try{return this.sheet.insertRule(m,u),this.length++,!0}catch{return!1}},l.deleteRule=function(u){this.sheet.deleteRule(u),this.length--},l.getRule=function(u){var m=this.sheet.cssRules[u];return m!==void 0&&typeof m.cssText=="string"?m.cssText:""},i}(),NE=function(){function i(u){var m=this.element=kf(u);this.nodes=m.childNodes,this.length=0}var l=i.prototype;return l.insertRule=function(u,m){if(u<=this.length&&u>=0){var w=document.createTextNode(m),E=this.nodes[u];return this.element.insertBefore(w,E||null),this.length++,!0}return!1},l.deleteRule=function(u){this.element.removeChild(this.nodes[u]),this.length--},l.getRule=function(u){return u<this.length?this.nodes[u].textContent:""},i}(),hO=function(){function i(u){this.rules=[],this.length=0}var l=i.prototype;return l.insertRule=function(u,m){return u<=this.length&&(this.rules.splice(u,0,m),this.length++,!0)},l.deleteRule=function(u){this.rules.splice(u,1),this.length--},l.getRule=function(u){return u<this.length?this.rules[u]:""},i}(),FT=h_,qx={isServer:!h_,useCSSOMInjection:!DT},ev=function(){function i(u,m,w){u===void 0&&(u=rg),m===void 0&&(m={}),this.options=um({},qx,{},u),this.gs=m,this.names=new Map(w),this.server=!!u.isServer,!this.server&&h_&&FT&&(FT=!1,function(E){for(var M=document.querySelectorAll(cO),k=0,L=M.length;k<L;k++){var U=M[k];U&&U.getAttribute(Cp)!=="active"&&(LT(E,U),U.parentNode&&U.parentNode.removeChild(U))}}(this))}i.registerId=function(u){return p_(u)};var l=i.prototype;return l.reconstructWithOptions=function(u,m){return m===void 0&&(m=!0),new i(um({},this.options,{},u),this.gs,m&&this.names||void 0)},l.allocateGSInstance=function(u){return this.gs[u]=(this.gs[u]||0)+1},l.getTag=function(){return this.tag||(this.tag=(w=(m=this.options).isServer,E=m.useCSSOMInjection,M=m.target,u=w?new hO(M):E?new dO(M):new NE(M),new BE(u)));var u,m,w,E,M},l.hasNameForId=function(u,m){return this.names.has(u)&&this.names.get(u).has(m)},l.registerName=function(u,m){if(p_(u),this.names.has(u))this.names.get(u).add(m);else{var w=new Set;w.add(m),this.names.set(u,w)}},l.insertRules=function(u,m,w){this.registerName(u,m),this.getTag().insertRules(p_(u),w)},l.clearNames=function(u){this.names.has(u)&&this.names.get(u).clear()},l.clearRules=function(u){this.getTag().clearGroup(p_(u)),this.clearNames(u)},l.clearTag=function(){this.tag=void 0},l.toString=function(){return function(u){for(var m=u.getTag(),w=m.length,E="",M=0;M<w;M++){var k=m_(M);if(k!==void 0){var L=u.names.get(k),U=m.getGroup(M);if(L&&U&&L.size){var q=Cp+".g"+M+'[id="'+k+'"]',J="";L!==void 0&&L.forEach(function(Q){Q.length>0&&(J+=Q+",")}),E+=""+U+q+'{content:"'+J+`"}/*!sc*/
`}}}return E}(this)},i}(),pO=/(a)(d)/gi,rd=function(i){return String.fromCharCode(i+(i>25?39:97))},wy=function(i,l){for(var u=l.length;u;)i=33*i^l.charCodeAt(--u);return i},Qx=function(i){return wy(5381,i)},mO=Qx("5.3.11"),zT=function(){function i(l,u,m){this.rules=l,this.staticRulesId="",this.isStatic=(m===void 0||m.isStatic)&&vy(l),this.componentId=u,this.baseHash=wy(mO,u),this.baseStyle=m,ev.registerId(u)}return i.prototype.generateAndInjectStyles=function(l,u,m){var w=this.componentId,E=[];if(this.baseStyle&&E.push(this.baseStyle.generateAndInjectStyles(l,u,m)),this.isStatic&&!m.hash)if(this.staticRulesId&&u.hasNameForId(w,this.staticRulesId))E.push(this.staticRulesId);else{var M=$g(this.rules,l,u,m).join(""),k=gy(wy(this.baseHash,M)>>>0);if(!u.hasNameForId(w,k)){var L=m(M,"."+k,void 0,w);u.insertRules(w,k,L)}E.push(k),this.staticRulesId=k}else{for(var U=this.rules.length,q=wy(this.baseHash,m.hash),J="",Q=0;Q<U;Q++){var W=this.rules[Q];if(typeof W=="string")J+=W;else if(W){var ee=$g(W,l,u,m),$=Array.isArray(ee)?ee.join(""):ee;q=wy(q,$+Q),J+=$}}if(J){var ie=gy(q>>>0);if(!u.hasNameForId(w,ie)){var se=m(J,"."+ie,void 0,w);u.insertRules(w,ie,se)}E.push(ie)}}return E.join(" ")},i}(),UT=/^\s*\/\/.*$/gm,gO=[":","[",".","#"],LE=Za.default.createContext(),LE.Consumer,Jx=Za.default.createContext(),FE=(Jx.Consumer,new ev),Zx=PE(),vO=function(){function i(l,u){var m=this;this.inject=function(w,E){E===void 0&&(E=Zx);var M=m.name+E.hash;w.hasNameForId(m.id,M)||w.insertRules(m.id,M,E(m.rules,M,"@keyframes"))},this.toString=function(){return Zg(12,String(m.name))},this.name=l,this.id="sc-keyframes-"+l,this.rules=u}return i.prototype.getName=function(l){return l===void 0&&(l=Zx),this.name+l.hash},i}(),yO=/([A-Z])/,zE=/([A-Z])/g,jT=/^ms-/,_O=function(i){return"-"+i.toLowerCase()},HT=function(i){return i==null||i===!1||i===""},C=function(i){return Array.isArray(i)&&(i.isCss=!0),i},H=function(i,l,u){return u===void 0&&(u=rg),i.theme!==u.theme&&i.theme||l||u.theme},te=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g,De=function(i){return gy(Qx(i)>>>0)},tt=function(i){return typeof i=="function"||typeof i=="object"&&i!==null&&!Array.isArray(i)},Ct=function(i){return i!=="__proto__"&&i!=="constructor"&&i!=="prototype"},tn=Za.default.createContext(),tn.Consumer,dn={},Bn=function(i){return function l(u,m,w){if(w===void 0&&(w=rg),!(0,Xx.isValidElementType)(m))return Zg(1,String(m));var E=function(){return u(m,w,Ku.apply(void 0,arguments))};return E.withConfig=function(M){return l(u,m,um({},w,{},M))},E.attrs=function(M){return l(u,m,um({},w,{attrs:Array.prototype.concat(w.attrs,M).filter(Boolean)}))},E}(ng,i)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(i){Bn[i]=Bn(i)}),br=function(){function i(u,m){this.rules=u,this.componentId=m,this.isStatic=vy(u),ev.registerId(this.componentId+1)}var l=i.prototype;return l.createStyles=function(u,m,w,E){var M=E($g(this.rules,m,w,E).join(""),""),k=this.componentId+u;w.insertRules(k,k,M)},l.removeStyles=function(u,m){m.clearRules(this.componentId+u)},l.renderStyles=function(u,m,w,E){u>2&&ev.registerId(this.componentId+u),this.removeStyles(u,w),this.createStyles(u,m,w,E)},i}(),function(){function i(){var u=this;this._emitSheetCSS=function(){var m=u.instance.toString();if(!m)return"";var w=Yx();return"<style "+[w&&'nonce="'+w+'"',Cp+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+m+"</style>"},this.getStyleTags=function(){return u.sealed?Zg(2):u._emitSheetCSS()},this.getStyleElement=function(){var m;if(u.sealed)return Zg(2);var w=((m={})[Cp]="",m["data-styled-version"]="5.3.11",m.dangerouslySetInnerHTML={__html:u.instance.toString()},m),E=Yx();return E&&(w.nonce=E),[Za.default.createElement("style",um({},w,{key:"sc-0-0"}))]},this.seal=function(){u.sealed=!0},this.instance=new ev({isServer:!0}),this.sealed=!1}var l=i.prototype;return l.collectStyles=function(u){return this.sealed?Zg(2):Za.default.createElement(uO,{sheet:this.instance},u)},l.interleaveWithNodeStream=function(u){return Zg(3)},i}(),je=Bn});function yi(){return yi=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i},yi.apply(this,arguments)}var _i=T(()=>{});function Eo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Fo=T(()=>{});function io(i,l){return io=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},io(i,l)}var fs=T(()=>{});function If(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,io(i,l)}var Gd=T(()=>{fs()});function xc(i){return xc=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},xc(i)}var la=T(()=>{});function Rf(i){return Function.toString.call(i).indexOf("[native code]")!==-1}var Lh=T(()=>{});function ig(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var xy=T(()=>{});function og(i,l,u){return ig()?og=Reflect.construct:og=function(m,w,E){var M=[null];M.push.apply(M,w);var k=Function.bind.apply(m,M),L=new k;return E&&io(L,E.prototype),L},og.apply(null,arguments)}var Sy=T(()=>{fs(),xy()});function tv(i){var l=typeof Map=="function"?new Map:void 0;return tv=function(u){if(u===null||!Rf(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(u))return l.get(u);l.set(u,m)}function m(){return og(u,arguments,xc(this).constructor)}return m.prototype=Object.create(u.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),io(m,u)},tv(i)}var by=T(()=>{la(),fs(),Lh(),Sy()}),bu=T(()=>{});function Fh(i){return i.charAt(0).toUpperCase()+i.slice(1)}function xa(i,l){if(!i)return l.toLowerCase();var u=i.split("-");if(u.length>1)return u.splice(1,0,l),u.reduce(function(w,E){return""+w+Fh(E)});var m=i.replace(/([a-z])([A-Z])/g,"$1"+l+"$2");return i===m?""+i+l:m}function nv(i,l){for(var u={},m=0;m<l.length;m+=1)(l[m]||l[m]===0)&&(u[xa(i,cq[m])]=l[m]);return u}function sg(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];var w=u[0],E=u[1],M=E===void 0?w:E,k=u[2],L=k===void 0?w:k,U=u[3],q=U===void 0?M:U,J=[w,M,L,q];return nv(i,J)}function Wz(i){return Math.round(i*255)}function xMe(i,l,u){return Wz(i)+","+Wz(l)+","+Wz(u)}function GT(i,l,u,m){if(m===void 0&&(m=xMe),l===0)return m(u,u,u);var w=(i%360+360)%360/60,E=(1-Math.abs(2*u-1))*l,M=E*(1-Math.abs(w%2-1)),k=0,L=0,U=0;w>=0&&w<1?(k=E,L=M):w>=1&&w<2?(k=M,L=E):w>=2&&w<3?(L=E,U=M):w>=3&&w<4?(L=M,U=E):w>=4&&w<5?(k=M,U=E):w>=5&&w<6&&(k=E,U=M);var q=u-E/2,J=k+q,Q=L+q,W=U+q;return m(J,Q,W)}function SMe(i){if(typeof i!="string")return i;var l=i.toLowerCase();return Zz[l]?"#"+Zz[l]:i}function Xz(i){if(typeof i!="string")throw new rv(3);var l=SMe(i);if(l.match(fq))return{red:parseInt(""+l[1]+l[2],16),green:parseInt(""+l[3]+l[4],16),blue:parseInt(""+l[5]+l[6],16)};if(l.match(dq)){var u=parseFloat((parseInt(""+l[7]+l[8],16)/255).toFixed(2));return{red:parseInt(""+l[1]+l[2],16),green:parseInt(""+l[3]+l[4],16),blue:parseInt(""+l[5]+l[6],16),alpha:u}}if(l.match(hq))return{red:parseInt(""+l[1]+l[1],16),green:parseInt(""+l[2]+l[2],16),blue:parseInt(""+l[3]+l[3],16)};if(l.match(pq)){var m=parseFloat((parseInt(""+l[4]+l[4],16)/255).toFixed(2));return{red:parseInt(""+l[1]+l[1],16),green:parseInt(""+l[2]+l[2],16),blue:parseInt(""+l[3]+l[3],16),alpha:m}}var w=bO.exec(l);if(w)return{red:parseInt(""+w[1],10),green:parseInt(""+w[2],10),blue:parseInt(""+w[3],10)};var E=mq.exec(l.substring(0,50));if(E)return{red:parseInt(""+E[1],10),green:parseInt(""+E[2],10),blue:parseInt(""+E[3],10),alpha:parseFloat(""+E[4])};var M=gq.exec(l);if(M){var k=parseInt(""+M[1],10),L=parseInt(""+M[2],10)/100,U=parseInt(""+M[3],10)/100,q="rgb("+GT(k,L,U)+")",J=bO.exec(q);if(!J)throw new rv(4,l,q);return{red:parseInt(""+J[1],10),green:parseInt(""+J[2],10),blue:parseInt(""+J[3],10)}}var Q=vq.exec(l.substring(0,50));if(Q){var W=parseInt(""+Q[1],10),ee=parseInt(""+Q[2],10)/100,$=parseInt(""+Q[3],10)/100,ie="rgb("+GT(W,ee,$)+")",se=bO.exec(ie);if(!se)throw new rv(4,l,ie);return{red:parseInt(""+se[1],10),green:parseInt(""+se[2],10),blue:parseInt(""+se[3],10),alpha:parseFloat(""+Q[4])}}throw new rv(5)}function bMe(i){var l=i.red/255,u=i.green/255,m=i.blue/255,w=Math.max(l,u,m),E=Math.min(l,u,m),M=(w+E)/2;if(w===E)return i.alpha!==void 0?{hue:0,saturation:0,lightness:M,alpha:i.alpha}:{hue:0,saturation:0,lightness:M};var k,L=w-E,U=M>.5?L/(2-w-E):L/(w+E);switch(w){case l:k=(u-m)/L+(u<m?6:0);break;case u:k=(m-l)/L+2;break;default:k=(l-u)/L+4;break}return k*=60,i.alpha!==void 0?{hue:k,saturation:U,lightness:M,alpha:i.alpha}:{hue:k,saturation:U,lightness:M}}function Kz(i){return bMe(Xz(i))}function $x(i){var l=i.toString(16);return l.length===1?"0"+l:l}function Yz(i){return $x(Math.round(i*255))}function EMe(i,l,u){return EO("#"+Yz(i)+Yz(l)+Yz(u))}function wO(i,l,u){return GT(i,l,u,EMe)}function AMe(i,l,u){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number")return wO(i,l,u);if(typeof i=="object"&&l===void 0&&u===void 0)return wO(i.hue,i.saturation,i.lightness);throw new rv(1)}function CMe(i,l,u,m){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number"&&typeof m=="number")return m>=1?wO(i,l,u):"rgba("+GT(i,l,u)+","+m+")";if(typeof i=="object"&&l===void 0&&u===void 0&&m===void 0)return i.alpha>=1?wO(i.hue,i.saturation,i.lightness):"rgba("+GT(i.hue,i.saturation,i.lightness)+","+i.alpha+")";throw new rv(2)}function qz(i,l,u){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number")return EO("#"+$x(i)+$x(l)+$x(u));if(typeof i=="object"&&l===void 0&&u===void 0)return EO("#"+$x(i.red)+$x(i.green)+$x(i.blue));throw new rv(6)}function lq(i,l,u,m){if(typeof i=="string"&&typeof l=="number"){var w=Xz(i);return"rgba("+w.red+","+w.green+","+w.blue+","+l+")"}else{if(typeof i=="number"&&typeof l=="number"&&typeof u=="number"&&typeof m=="number")return m>=1?qz(i,l,u):"rgba("+i+","+l+","+u+","+m+")";if(typeof i=="object"&&l===void 0&&u===void 0&&m===void 0)return i.alpha>=1?qz(i.red,i.green,i.blue):"rgba("+i.red+","+i.green+","+i.blue+","+i.alpha+")"}throw new rv(7)}function Qz(i){if(typeof i!="object")throw new rv(8);if(_q(i))return lq(i);if(yq(i))return qz(i);if(xq(i))return CMe(i);if(wq(i))return AMe(i);throw new rv(8)}function uq(i,l,u){return function(){var m=u.concat(Array.prototype.slice.call(arguments));return m.length>=l?i.apply(this,m):uq(i,l,m)}}function xO(i){return uq(i,i.length,[])}function SO(i,l,u){return Math.max(i,Math.min(l,u))}function MMe(i,l){if(l==="transparent")return l;var u=Kz(l);return Qz(yi({},u,{lightness:SO(0,1,u.lightness-parseFloat(i))}))}function TMe(i,l){if(l==="transparent")return l;var u=Kz(l);return Qz(yi({},u,{lightness:SO(0,1,u.lightness+parseFloat(i))}))}function PMe(i,l){if(l==="transparent")return l;var u=Kz(l);return Qz(yi({},u,{saturation:SO(0,1,u.saturation+parseFloat(i))}))}function kMe(i,l){if(l==="transparent")return l;var u=Xz(l),m=typeof u.alpha=="number"?u.alpha:1,w=yi({},u,{alpha:SO(0,1,+(m*100-parseFloat(i)*100).toFixed(2)/100)});return lq(w)}function Jz(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];return Sq.indexOf(i)>=0&&i?yi({},sg.apply(void 0,[""].concat(u)),{position:i}):sg.apply(void 0,["",i].concat(u))}var rv,cq,Zz,fq,dq,hq,pq,bO,mq,gq,vq,EO,yq,_q,wq,xq,VT,UE,AO,iv,Sq,cm=T(()=>{_i(),Fo(),Gd(),by(),bu(),rv=function(i){If(l,i);function l(u){var m;return m=i.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+u+" for more information.")||this,Eo(m)}return l}(tv(Error)),cq=["Top","Right","Bottom","Left"],Zz={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fq=/^#[a-fA-F0-9]{6}$/,dq=/^#[a-fA-F0-9]{8}$/,hq=/^#[a-fA-F0-9]{3}$/,pq=/^#[a-fA-F0-9]{4}$/,bO=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,mq=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,gq=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,vq=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,EO=function(i){return i.length===7&&i[1]===i[2]&&i[3]===i[4]&&i[5]===i[6]?"#"+i[1]+i[3]+i[5]:i},yq=function(i){return typeof i.red=="number"&&typeof i.green=="number"&&typeof i.blue=="number"&&(typeof i.alpha!="number"||typeof i.alpha>"u")},_q=function(i){return typeof i.red=="number"&&typeof i.green=="number"&&typeof i.blue=="number"&&typeof i.alpha=="number"},wq=function(i){return typeof i.hue=="number"&&typeof i.saturation=="number"&&typeof i.lightness=="number"&&(typeof i.alpha!="number"||typeof i.alpha>"u")},xq=function(i){return typeof i.hue=="number"&&typeof i.saturation=="number"&&typeof i.lightness=="number"&&typeof i.alpha=="number"},VT=xO(MMe),UE=xO(TMe),AO=xO(PMe),iv=xO(kMe),Sq=["absolute","fixed","relative","static","sticky"]});function IMe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function bq(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function eS(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?bq(Object(u),!0).forEach(function(m){IMe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):bq(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function jE(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}var WT=T(()=>{}),Eq,$z,Aq=T(()=>{Eq=Z(Ot()),$z=(0,Eq.createContext)({})});function RMe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function Cq(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function HE(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?Cq(Object(u),!0).forEach(function(m){RMe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):Cq(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function e6(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}function OMe(i,l){if(i){if(typeof i=="string")return Mq(i,l);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Mq(i,l)}}function Mq(i,l){(l==null||l>i.length)&&(l=i.length);for(var u=0,m=new Array(l);u<l;u++)m[u]=i[u];return m}function Tq(i,l){var u;if(typeof Symbol>"u"||i[Symbol.iterator]==null){if(Array.isArray(i)||(u=OMe(i))||l&&i&&typeof i.length=="number"){u&&(i=u);var m=0;return function(){return m>=i.length?{done:!0}:{done:!1,value:i[m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return u=i[Symbol.iterator](),u.next.bind(u)}var CO=T(()=>{});function BMe(i){return typeof i=="function"}var t6,Pq,DMe=T(()=>{t6=Z(Ot()),Aq(),CO(),Pq=function(i,l,u){u===void 0&&(u=l.children);var m=(0,t6.useContext)($z);if(m.useCreateElement)return m.useCreateElement(i,l,u);if(typeof i=="string"&&BMe(u)){l.children;var w=e6(l,["children"]);return u(w)}return(0,t6.createElement)(i,l,u)}});function NMe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function kq(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function GE(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?kq(Object(u),!0).forEach(function(m){NMe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):kq(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function LMe(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}var Iq=T(()=>{});function FMe(i){return typeof i=="object"&&i!=null}var zMe=T(()=>{});function n6(i){var l;if(!FMe(i))return!1;var u=Object.getPrototypeOf(i);return u==null?!0:((l=u.constructor)===null||l===void 0?void 0:l.toString())===Object.toString()}var Rq=T(()=>{zMe()});function Oq(i,l){for(var u=Object.keys(i),m={},w={},E=0,M=u;E<M.length;E++){var k=M[E];l.indexOf(k)>=0?m[k]=i[k]:w[k]=i[k]}return[m,w]}function Bq(i,l){if(l===void 0&&(l=[]),!n6(i.state))return Oq(i,l);var u=Oq(i,[].concat(l,["state"])),m=u[0],w=u[1],E=m.state,M=LMe(m,["state"]);return[GE(GE({},E),M),w]}var UMe=T(()=>{Iq(),Rq()});function MO(i,l){if(i===l)return!0;if(!i||!l||typeof i!="object"||typeof l!="object")return!1;var u=Object.keys(i),m=Object.keys(l),w=u.length;if(m.length!==w)return!1;for(var E=0,M=u;E<M.length;E++){var k=M[E];if(i[k]!==l[k])return!1}return!0}var r6=T(()=>{});function Dq(i){return i.name==="normalizePropsAreEqualInner"?i:function(l,u){return!n6(l.state)||!n6(u.state)?i(l,u):i(GE(GE({},l.state),l),GE(GE({},u.state),u))}}var jMe=T(()=>{Iq(),Rq()});function HMe(i){return(0,i6.forwardRef)(i)}function GMe(i,l){return(0,i6.memo)(i,l)}function XT(i){var l=i.as,u=i.useHook,m=i.memo,w=i.propsAreEqual,E=w===void 0?u==null?void 0:u.unstable_propsAreEqual:w,M=i.keys,k=M===void 0?(u==null?void 0:u.__keys)||[]:M,L=i.useCreateElement,U=L===void 0?Pq:L,q=function(J,Q){var W=J.as,ee=W===void 0?l:W,$=e6(J,["as"]);if(u){var ie,se=Bq($,k),he=se[0],xe=se[1],Be=u(he,HE({ref:Q},xe)),Oe=Be.wrapElement,He=e6(Be,["wrapElement"]),vt=((ie=ee.render)===null||ie===void 0?void 0:ie.__keys)||ee.__keys,lt=vt&&Bq($,vt)[0],ht=lt?HE(HE({},He),lt):He,It=U(ee,ht);return Oe?Oe(It):It}return U(ee,HE({ref:Q},$))};return q=HMe(q),m&&(q=GMe(q,E&&Dq(E))),q.__keys=k,q.unstable_propsAreEqual=Dq(E||MO),q}var i6,KT=T(()=>{i6=Z(Ot()),CO(),DMe(),UMe(),r6(),jMe()});function Nq(i,l){(0,o6.useDebugValue)(i);var u=(0,o6.useContext)($z);return u[i]!=null?u[i]:l}var o6,Lq=T(()=>{o6=Z(Ot()),Aq()});function VMe(i,l,u){l===void 0&&(l={}),u===void 0&&(u={});var m="use"+i+"Props";(0,Fq.useDebugValue)(m);var w=Nq(m);return w?w(l,u):u}var Fq,WMe=T(()=>{Fq=Z(Ot()),Lq()});function XMe(i,l,u){l===void 0&&(l={}),u===void 0&&(u={});var m="use"+i+"Options";(0,zq.useDebugValue)(m);var w=Nq(m);return w?HE(HE({},l),w(l,u)):l}var zq,KMe=T(()=>{zq=Z(Ot()),Lq(),CO()});function YMe(i){return Array.isArray(i)?i:typeof i<"u"?[i]:[]}var qMe=T(()=>{});function YT(i){var l,u,m=YMe(i.compose),w=function(k,L){if(i.useOptions&&(k=i.useOptions(k,L)),i.name&&(k=XMe(i.name,k,L)),i.compose)for(var U=Tq(m),q;!(q=U()).done;){var J=q.value;k=J.__useOptions(k,L)}return k},E=function(k,L,U){if(k===void 0&&(k={}),L===void 0&&(L={}),U===void 0&&(U=!1),U||(k=w(k,L)),i.useProps&&(L=i.useProps(k,L)),i.name&&(L=VMe(i.name,k,L)),i.compose)if(i.useComposeOptions&&(k=i.useComposeOptions(k,L)),i.useComposeProps)L=i.useComposeProps(k,L);else for(var q=Tq(m),J;!(J=q()).done;){var Q=J.value;L=Q(k,L,!0)}var W={},ee=L||{};for(var $ in ee)ee[$]!==void 0&&(W[$]=ee[$]);return W};E.__useOptions=w;var M=m.reduce(function(k,L){return k.push.apply(k,L.__keys||[]),k},[]);return E.__keys=[].concat(M,((l=i.useState)===null||l===void 0?void 0:l.__keys)||[],i.keys||[]),E.unstable_propsAreEqual=i.propsAreEqual||((u=m[0])===null||u===void 0?void 0:u.unstable_propsAreEqual)||MO,E}var qT=T(()=>{Z(Ot()),WMe(),CO(),KMe(),r6(),qMe()});function Uq(i,l){l===void 0&&(l=null),i&&(typeof i=="function"?i(l):i.current=l)}function jq(i,l){return(0,Hq.useMemo)(function(){return i==null&&l==null?null:function(u){Uq(i,u),Uq(l,u)}},[i,l])}var Hq,Gq=T(()=>{Hq=Z(Ot())});function s6(i){if(i.tagName==="BUTTON")return!0;if(i.tagName==="INPUT"){var l=i;return Vq.indexOf(l.type)!==-1}return!1}var Vq,a6=T(()=>{Vq=["button","color","file","image","reset","submit"]}),l6=T(()=>{}),QMe=T(()=>{l6(),Z(Ot())}),TO=T(()=>{l6(),Z(Ot()),QMe()});function Wq(i){return i?i.ownerDocument||i:document}var Xq=T(()=>{});function JMe(i){return i&&Wq(i).defaultView||Kq}var Kq,ZMe=T(()=>{Xq();try{Kq=window}catch{}});function $Me(){var i=JMe();return!!(typeof i<"u"&&i.document&&i.document.createElement)}var PO,u6=T(()=>{ZMe(),PO=$Me()}),c6,f6,d6=T(()=>{c6=Z(Ot()),u6(),f6=PO?c6.useLayoutEffect:c6.useEffect});function VE(i){var l=(0,Yq.useRef)(i);return f6(function(){l.current=i}),l}var Yq,qq=T(()=>{Yq=Z(Ot()),d6()});function eTe(i){return i.target===i.currentTarget}var tTe=T(()=>{});function nTe(i){var l=Wq(i),u=l.activeElement;return u!=null&&u.nodeName?u:null}var rTe=T(()=>{Xq()});function Qq(i,l){return i===l||i.contains(l)}var Jq=T(()=>{});function iTe(i){var l=nTe(i);if(!l)return!1;if(Qq(i,l))return!0;var u=l.getAttribute("aria-activedescendant");return u?u===i.id?!0:!!i.querySelector("#"+u):!1}var oTe=T(()=>{rTe(),Jq()});function sTe(i){return!Qq(i.currentTarget,i.target)}var aTe=T(()=>{Jq()});function kO(i){return PO?window.navigator.userAgent.indexOf(i)!==-1:!1}var lTe=T(()=>{u6()});function uTe(i,l){return"matches"in i?i.matches(l):"msMatchesSelector"in i?i.msMatchesSelector(l):i.webkitMatchesSelector(l)}var cTe=T(()=>{});function fTe(i){var l=i;return l.offsetWidth>0||l.offsetHeight>0||i.getClientRects().length>0}function dTe(i){return uTe(i,Zq)&&fTe(i)}var Zq,hTe=T(()=>{cTe(),Zq="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),$q,IO,eQ=T(()=>{WT(),KT(),qT(),r6(),$q=["unstable_system"],IO=YT({name:"Role",keys:$q,propsAreEqual:function(i,l){var u=i.unstable_system,m=jE(i,["unstable_system"]),w=l.unstable_system,E=jE(l,["unstable_system"]);return u!==w&&!MO(u,w)?!1:MO(m,E)}}),XT({as:"div",useHook:IO})});function tQ(i){!iTe(i)&&dTe(i)&&i.focus()}function pTe(i){return i.tagName==="BUTTON"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.tagName==="A"}function mTe(i){return i.tagName==="BUTTON"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"}function gTe(i,l,u,m){return i?l&&!u?-1:void 0:l?m:m||0}function h6(i,l){return(0,WE.useCallback)(function(u){var m;(m=i.current)===null||m===void 0||m.call(i,u),!u.defaultPrevented&&l&&(u.stopPropagation(),u.preventDefault())},[i,l])}var WE,nQ,rQ,p6,vTe=T(()=>{WT(),KT(),qT(),WE=Z(Ot()),Gq(),a6(),TO(),qq(),d6(),oTe(),aTe(),lTe(),hTe(),eQ(),nQ=["disabled","focusable"],rQ=kO("Mac")&&!kO("Chrome")&&(kO("Safari")||kO("Firefox")),p6=YT({name:"Tabbable",compose:IO,keys:nQ,useOptions:function(i,l){var u=l.disabled;return eS({disabled:u},i)},useProps:function(i,l){var u=l.ref,m=l.tabIndex,w=l.onClickCapture,E=l.onMouseDownCapture,M=l.onMouseDown,k=l.onKeyPressCapture,L=l.style,U=jE(l,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),q=(0,WE.useRef)(null),J=VE(w),Q=VE(E),W=VE(M),ee=VE(k),$=!!i.disabled&&!i.focusable,ie=(0,WE.useState)(!0),se=ie[0],he=ie[1],xe=(0,WE.useState)(!0),Be=xe[0],Oe=xe[1],He=i.disabled?eS({pointerEvents:"none"},L):L;f6(function(){var _n=q.current;_n&&(pTe(_n)||he(!1),mTe(_n)||Oe(!1))},[]);var vt=h6(J,i.disabled),lt=h6(Q,i.disabled),ht=h6(ee,i.disabled),It=(0,WE.useCallback)(function(_n){var We;(We=W.current)===null||We===void 0||We.call(W,_n);var kt=_n.currentTarget;if(!_n.defaultPrevented&&rQ&&!sTe(_n)&&s6(kt)){var Ee=requestAnimationFrame(function(){kt.removeEventListener("mouseup",Ht,!0),tQ(kt)}),Ht=function(){cancelAnimationFrame(Ee),tQ(kt)};kt.addEventListener("mouseup",Ht,{once:!0,capture:!0})}},[]);return eS({ref:jq(q,u),style:He,tabIndex:gTe($,se,Be,m),disabled:$&&Be?!0:void 0,"aria-disabled":i.disabled?!0:void 0,onClickCapture:vt,onMouseDownCapture:lt,onMouseDown:It,onKeyPressCapture:ht},U)}}),XT({as:"div",useHook:p6})});function yTe(i){var l=i.currentTarget;return i.isTrusted?s6(l)||l.tagName==="INPUT"||l.tagName==="TEXTAREA"||l.tagName==="A"||l.tagName==="SELECT":!1}var RO,iQ,m6,_Te=T(()=>{WT(),KT(),qT(),RO=Z(Ot()),a6(),TO(),qq(),tTe(),vTe(),iQ=["unstable_clickOnEnter","unstable_clickOnSpace"],m6=YT({name:"Clickable",compose:p6,keys:iQ,useOptions:function(i){var l=i.unstable_clickOnEnter,u=l===void 0?!0:l,m=i.unstable_clickOnSpace,w=m===void 0?!0:m,E=jE(i,["unstable_clickOnEnter","unstable_clickOnSpace"]);return eS({unstable_clickOnEnter:u,unstable_clickOnSpace:w},E)},useProps:function(i,l){var u=l.onKeyDown,m=l.onKeyUp,w=jE(l,["onKeyDown","onKeyUp"]),E=(0,RO.useState)(!1),M=E[0],k=E[1],L=VE(u),U=VE(m),q=(0,RO.useCallback)(function(Q){var W;if((W=L.current)===null||W===void 0||W.call(L,Q),!Q.defaultPrevented&&!i.disabled&&!Q.metaKey&&eTe(Q)){var ee=i.unstable_clickOnEnter&&Q.key==="Enter",$=i.unstable_clickOnSpace&&Q.key===" ";if(ee||$){if(yTe(Q))return;Q.preventDefault(),ee?Q.currentTarget.click():$&&k(!0)}}},[i.disabled,i.unstable_clickOnEnter,i.unstable_clickOnSpace]),J=(0,RO.useCallback)(function(Q){var W;if((W=U.current)===null||W===void 0||W.call(U,Q),!Q.defaultPrevented&&!i.disabled&&!Q.metaKey){var ee=i.unstable_clickOnSpace&&Q.key===" ";M&&ee&&(k(!1),Q.currentTarget.click())}},[i.disabled,i.unstable_clickOnSpace,M]);return eS({"data-active":M||void 0,onKeyDown:q,onKeyUp:J},w)}}),XT({as:"button",memo:!0,useHook:m6})}),QT,oQ,sQ,aQ,wTe=T(()=>{WT(),KT(),qT(),QT=Z(Ot()),Gq(),a6(),TO(),_Te(),oQ=[],sQ=YT({name:"Button",compose:m6,keys:oQ,useProps:function(i,l){var u=l.ref,m=jE(l,["ref"]),w=(0,QT.useRef)(null),E=(0,QT.useState)(void 0),M=E[0],k=E[1],L=(0,QT.useState)("button"),U=L[0],q=L[1];return(0,QT.useEffect)(function(){var J=w.current;J&&(s6(J)||(J.tagName!=="A"&&k("button"),q(void 0)))},[]),eS({ref:jq(w,u),role:M,type:U},m)}}),aQ=XT({as:"button",memo:!0,useHook:sQ})}),lQ,uQ,cQ,xTe=T(()=>{WT(),KT(),qT(),eQ(),lQ=[],uQ=YT({name:"Group",compose:IO,keys:lQ,useProps:function(i,l){return eS({role:"group"},l)}}),cQ=XT({as:"div",useHook:uQ})});function STe(){return PO?document.body:null}var fQ,XE,bTe=T(()=>{fQ=Z(Ot()),d6(),u6(),Z(Qg()),XE=(0,fQ.createContext)(STe())}),g6,ETe=T(()=>{typeof window<"u"&&(g6={get passive(){}},window.addEventListener("testPassive",null,g6),window.removeEventListener("testPassive",null,g6))}),tS=T(()=>{Z(Ot()),TO(),wTe(),xTe(),Z(Qg()),bTe(),ETe(),l6()});function rs(i){let l=(0,v6.useMemo)(()=>{let w=i;return{get current(){return w},set current(E){w=E,m(E)}}},[]),[u,m]=(0,v6.useState)(()=>i);return[l,u]}var v6,Ss=T(()=>{v6=Z(Ot())});function ATe(i){return l=>Vd.default.createElement(vQ,null,Vd.default.createElement(i,D({},l)))}var Vd,dQ,hQ,gs,KE,pQ,mQ,gQ,y6,_6,vQ,bs=T(()=>{cm(),qt(),qt(),Vd=Z(Ot()),dQ=Z(Qg()),tS(),Ss(),gs=Ku(hQ||(hQ=X([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),KE={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return UE(.6,KE.panel.bg)}}}}}},mQ=typeof window<"u"?RT(pQ||(pQ=X([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},y6=je.div(gQ||(gQ=X([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),_6=i=>Vd.default.createElement(uO,{disableVendorPrefixes:!0,target:i.target},Vd.default.createElement(Vd.default.Fragment,null,Vd.default.createElement(mQ,null),i.children)),vQ=i=>{let[l,u]=(0,Vd.useState)(null),[m,w]=(0,Vd.useState)(null);(0,Vd.useLayoutEffect)(()=>{if(!l)return;let{parentNode:k}=l;if(!k)return;let L=k.shadowRoot?parent.shadowRoot:k.attachShadow({mode:"open"});w(L)},[l]);let[E,M]=rs(void 0);return m?dQ.default.createPortal(Vd.default.createElement(_6,{target:m},Vd.default.createElement(Vd.default.Fragment,null,Vd.default.createElement(y6,{ref:E}),Vd.default.createElement(XE.Provider,{value:M},i.children))),m):Vd.default.createElement("template",{ref:u,"shadow-root":"open"},i.children)}}),YE,yQ,_Q,g_,wQ,JT,xQ,SQ,OO,bQ,w6,n0,Ey=T(()=>{bs(),qt(),YE={get outlinePanel(){return 1},get propsPanel(){return YE.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},yQ=KE.panel.bg,g_=je.span(_Q||(_Q=X([`
  white-space: nowrap;
`]))),JT=je.span(wQ||(wQ=X([`
  white-space: nowrap;
  color: `,`;
`])),KE.panel.head.punctuation.color),SQ=je.div(xQ||(xQ=X([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),yQ),OO=18,w6=je.div(bQ||(bQ=X([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),OO),n0=100}),EQ,ov,qE=T(()=>{EQ=()=>{},ov=EQ});function CTe(i){return x6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),x6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var x6,S6,MTe=T(()=>{x6=Z(Ot()),S6=CTe});function TTe(i){return b6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),b6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var b6,AQ,PTe=T(()=>{b6=Z(Ot()),AQ=TTe});function kTe(i){return E6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),E6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var E6,CQ,ITe=T(()=>{E6=Z(Ot()),CQ=kTe});function RTe(i){return A6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),A6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var A6,MQ,OTe=T(()=>{A6=Z(Ot()),MQ=RTe});function BTe(i){return C6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),C6.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var C6,M6,DTe=T(()=>{C6=Z(Ot()),M6=BTe});function NTe(i){return T6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),T6.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var T6,BO,LTe=T(()=>{T6=Z(Ot()),BO=NTe});function FTe(i){return P6.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),P6.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var P6,k6,zTe=T(()=>{P6=Z(Ot()),k6=FTe}),ZT=T(()=>{MTe(),PTe(),ITe(),OTe(),DTe(),LTe(),zTe()}),r0,TQ,DO,PQ,kQ,IQ,RQ,OQ,BQ,DQ,NQ,LQ,FQ,zQ,UQ,jQ,HQ,GQ,$T,NO=T(()=>{r0=Z(Ot()),qt(),qE(),bs(),ZT(),DO=je.li(TQ||(TQ=X([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),kQ=je.div(PQ||(PQ=X([""]))),RQ=je(kQ)(IQ||(IQ=X([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),gs),BQ=Ku(OQ||(OQ=X([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),NQ=je.span(DQ||(DQ=X([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),BQ,gs),FQ=je.div(LQ||(LQ=X([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),UQ=je.span(zQ||(zQ=X([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),DO),HQ=je.ul(jQ||(jQ=X([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),DO),GQ=({label:i,children:l,depth:u,select:m,selectionStatus:w,labelDecoration:E,collapsed:M=!1,setIsCollapsed:k})=>{let L=l!==void 0;return r0.default.createElement(DO,{style:{"--depth":u},className:M?"collapsed":""},r0.default.createElement(RQ,{className:w,onClick:m??ov,"data-header":!0},r0.default.createElement(FQ,null,L?r0.default.createElement(UQ,{onClick:U=>{U.stopPropagation(),U.preventDefault(),k==null||k(!M)}},r0.default.createElement(AQ,null)):r0.default.createElement(M6,null)),r0.default.createElement(NQ,null,r0.default.createElement("span",null,i)),E),L&&r0.default.createElement(HQ,null,l))},$T=GQ});function UTe(i){return Object.keys(i)}function jTe(i){return Object.keys((0,i0.val)(i.sheetTemplatesP))}function HTe(){let i=Hd(v_().filter(l=>qe(l)||Qe(l)).map(l=>Qe(l)?l.sheet:l))[0];if(i)return i.getSequence()}var i0,v_,VQ,y_=T(()=>{i0=tr,ln(),Yl(),Ye(),v_=()=>{var i;let l=(0,i0.val)(be().projectsP),u=((i=(0,i0.val)(be().atomP.historic.panels.outlinePanel.selection))!=null?i:[]).map(m=>{let w=l[m.projectId];if(!w)return;if(m.type==="Project")return w;if(!(0,i0.val)(w.sheetTemplatesP[m.sheetId]))return;let E=VQ(w,m.sheetId);if(!E)return;if(m.type==="Sheet")return E;let M=(0,i0.val)(E.objectsP[m.objectKey]);if(M)return M});return Hd(u.filter(m=>typeof m<"u"))},VQ=(i,l)=>{let u=be().atomP.historic.projects.stateByProjectId[i.address.projectId],m=(0,i0.val)(u.stateBySheetId[l].selectedInstanceId),w=(0,i0.val)(i.sheetTemplatesP[l]);if(w){if(m)return(0,i0.val)(w.instancesP[m]);{let E=(0,i0.val)(w.instancesP);return E[UTe(E)[0]]}}}}),WQ,XQ,GTe=T(()=>{Ye(),WQ=Z(Ot()),NO(),Ai(),y_(),XQ=({sheetObject:i,depth:l,overrideLabel:u})=>{let m=()=>{be().transaction(({stateEditors:E})=>{E.studio.historic.panels.outline.selection.set([i])})},w=ao(()=>v_(),[]);return WQ.default.createElement($T,{select:m,label:u??i.address.objectKey,depth:l,selectionStatus:w.includes(i)?"selected":"not-selected"})}});function I6(i){var l;let u=i.type==="namespace"?"namespace:".concat(i.sheet.address.sheetId,":").concat(i.path.join("/")):i.type==="Theatre_Project"?"project":i.type==="Theatre_Sheet"?"sheetInstance:".concat(i.address.sheetId,":").concat(i.address.sheetInstanceId):"unknown",m=i.type==="namespace"?i.sheet.address.projectId:i.address.projectId,w=(l=_o(be().atomP.ahistoric.projects.stateByProjectId[m].collapsedItemsInOutline[u]))!=null?l:!1,E=(0,KQ.useCallback)(M=>{be().transaction(({stateEditors:k})=>{k.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:m,isCollapsed:M,itemKey:u})})},[u]);return{collapsed:w,setCollapsed:E}}var KQ,R6=T(()=>{KQ=Z(Ot()),Ye(),Ai()});function YQ(i){return o0.default.createElement(o0.default.Fragment,null,[...i.namespace.entries()].map(([l,{object:u,nested:m}])=>o0.default.createElement(VTe,{key:l,label:l,object:u,nested:m,visualIndentation:i.visualIndentation,path:i.path,sheet:i.sheet})))}function VTe(i){let{nested:l,label:u,object:m,sheet:w}=i,{collapsed:E,setCollapsed:M}=I6({type:"namespace",sheet:w,path:[...i.path,u]}),k=l&&o0.default.createElement(YQ,{namespace:l,path:[...i.path,u],key:"namespaceTree("+u+")",visualIndentation:i.visualIndentation+1,sheet:w}),L=m&&o0.default.createElement(XQ,{depth:i.visualIndentation,key:"objectPath("+m.address.objectKey+")",sheetObject:m,overrideLabel:u});return o0.default.createElement(o0.default.Fragment,{key:"".concat(u," - ").concat(i.visualIndentation)},L,k&&o0.default.createElement($T,{selectionStatus:"not-selectable",label:u,key:"baseItem(".concat(u,")"),depth:i.visualIndentation,children:k,collapsed:E,setIsCollapsed:M}))}function qQ(i,l,u=WTe(l)){let[m,...w]=u,E=i.get(m);E||(E={nested:void 0,object:void 0,path:[...u]},i.set(m,E)),w.length===0?(console.assert(!E.object,"expect not to have existing object with same name",{existing:E,object:l}),E.object=l):(E.nested||(E.nested=new Map),qQ(E.nested,l,w))}function WTe(i){let l=O6.get(i);return l||(l=i.address.objectKey.split(eJ),console.assert(l.length>0,"expected not empty"),O6.set(i,l)),l}var QQ,o0,JQ,ZQ,$Q,eJ,O6,XTe=T(()=>{Ai(),QQ=tr,o0=Z(Ot()),qt(),GTe(),NO(),R6(),je.li(JQ||(JQ=X([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),ZQ=({sheet:i,depth:l})=>ao(()=>{let u=(0,QQ.val)(i.objectsP),m=Object.values(u).filter(E=>E!=null),w=new Map;return m.forEach(E=>{qQ(w,E)}),o0.default.createElement(YQ,{namespace:w,visualIndentation:l,path:[],sheet:i})},[i,l]),$Q=ZQ,eJ=/\s*\/\s*/g,O6=new WeakMap}),QE,tJ,nJ,rJ,iJ,oJ,sJ,KTe=T(()=>{Ye(),y_(),Ai(),QE=Z(Ot()),qt(),XTe(),NO(),R6(),nJ=je.div(tJ||(tJ=X([`
  display: flex;
`]))),je.li(rJ||(rJ=X([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),oJ=je.div(iJ||(iJ=X([""]))),sJ=({sheet:i,depth:l})=>{let{collapsed:u,setCollapsed:m}=I6(i),w=(0,QE.useCallback)(()=>{be().transaction(({stateEditors:E})=>{E.studio.historic.panels.outline.selection.set([i])})},[i]);return ao(()=>{let E=v_();return QE.default.createElement($T,{depth:l,select:w,setIsCollapsed:m,collapsed:u,selectionStatus:E.some(M=>M===i)?"selected":E.some(M=>M.type==="Theatre_SheetObject"&&M.sheet===i)?"descendant-is-selected":"not-selected",label:QE.default.createElement(nJ,null,i.address.sheetId,": ",i.address.sheetInstanceId)},QE.default.createElement(oJ,null,QE.default.createElement($Q,{depth:l+1,sheet:i,key:"objectList"+i.address.sheetInstanceId})))},[l,u])}}),B6,JE,aJ,lJ,uJ,cJ,YTe=T(()=>{Ai(),B6=tr,JE=Z(Ot()),qt(),KTe(),je.div(aJ||(aJ=X([`
  display: flex;
`]))),je.li(lJ||(lJ=X([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),je.div(uJ||(uJ=X([""]))),cJ=({sheetId:i,depth:l,project:u})=>ao(()=>{let m=(0,B6.val)(u.sheetTemplatesP[i]);if(!m)return JE.default.createElement(JE.default.Fragment,null);let w=(0,B6.val)(m.instancesP);return JE.default.createElement(JE.default.Fragment,null,Object.entries(w).map(([E,M])=>JE.default.createElement(sJ,{key:M.address.sheetInstanceId,sheet:M,depth:l})))},[l,i,u])}),LO,fJ,dJ,qTe=T(()=>{y_(),Ai(),LO=Z(Ot()),YTe(),fJ=({project:i,depth:l})=>ao(()=>{if(!i)return null;let u=jTe(i);return LO.default.createElement(LO.default.Fragment,null,u.map(m=>LO.default.createElement(cJ,{depth:l,sheetId:m,key:"sheet-".concat(m),project:i})))},[i,l]),dJ=fJ}),eP,hJ,pJ,mJ,gJ,vJ,QTe=T(()=>{eP=Z(Ot()),NO(),qTe(),Ye(),Ai(),y_(),hJ=tr,qt(),R6(),mJ=je.div(pJ||(pJ=X([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),gJ=({depth:i,project:l})=>{let u=ao(()=>v_(),[]),m=ao(()=>{let k=l.address.projectId,L=(0,hJ.val)(be().atomP.ephemeral.coreByProject[k].loadingState);return(L==null?void 0:L.type)==="browserStateIsNotBasedOnDiskState"},[l]),w=(0,eP.useCallback)(()=>{be().transaction(({stateEditors:k})=>{k.studio.historic.panels.outline.selection.set([l])})},[l]),{collapsed:E,setCollapsed:M}=I6(l);return eP.default.createElement($T,{depth:i,label:l.address.projectId,setIsCollapsed:M,collapsed:E,labelDecoration:m?eP.default.createElement(mJ,null,"Has Conflicts"):null,children:eP.default.createElement(dJ,{project:l,depth:i+1}),selectionStatus:u.includes(l)?"selected":u.some(k=>k.address.projectId===l.address.projectId)?"descendant-is-selected":"not-selected",select:w})},vJ=gJ}),yJ,D6,_J,wJ,xJ,SJ,JTe=T(()=>{yJ=tr,Ai(),Ye(),D6=Z(Ot()),qt(),QTe(),wJ=je.ul(_J||(_J=X([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),xJ=i=>ao(()=>{let l=(0,yJ.val)(be().projectsP);return D6.default.createElement(wJ,null,Object.keys(l).map(u=>{let m=l[u];return D6.default.createElement(vJ,{depth:0,project:m,key:"projectListItem-".concat(u)})}))},[]),SJ=xJ});function bJ(i){let[l,u]=(0,N6.useState)(!1);return(0,N6.useEffect)(()=>{let m=E=>{let M=l?200:50,k=56,L=i==="left"?E.x<M:E.x>window.innerWidth-M;L&&(L=E.y>k),u(!!L)};document.addEventListener("mousemove",m);let w=()=>{u(!1)};return document.addEventListener("mouseleave",w),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseleave",w)}},[l]),l}var N6,EJ=T(()=>{N6=Z(Ot())}),tP,ZE,L6,AJ,CJ,MJ,TJ,FO,nP,PJ,ZTe=T(()=>{tP=Z(Ot()),qt(),Ey(),JTe(),Ai(),Ye(),EJ(),ZE=tr,bs(),L6="44px",CJ=je.div(AJ||(AJ=X([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),gs,YE.outlinePanel,L6,L6,({pin:i})=>i?"block":"none"),MJ=()=>{var i;let l=(i=_o(be().atomP.ahistoric.pinOutline))!=null?i:!0,u=_o(PJ),m=bJ("left");return(0,tP.useLayoutEffect)(()=>{FO.set(m)},[m]),(0,tP.useEffect)(()=>()=>{nP.set(!1),FO.set(!1)},[]),tP.default.createElement(CJ,{pin:l||u,onMouseEnter:()=>{nP.set(!0)},onMouseLeave:()=>{nP.set(!1)}},tP.default.createElement(SJ,null))},TJ=MJ,FO=new ZE.Atom(!1),nP=new ZE.Atom(!1),PJ=(0,ZE.prism)(()=>{let i=(0,ZE.val)(nP.prism),l=(0,ZE.val)(FO.prism);return i||l})}),kJ,IJ,RJ,$Te=T(()=>{qt(),IJ=je.input.attrs({type:"checkbox"})(kJ||(kJ=X([`
  outline: none;
`]))),RJ=IJ});function ePe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,F6.useCallback)(E=>{l.permanentlySetValue(!!E.target.checked)},[i,l]);return F6.default.createElement(BJ,{checked:u,onChange:w,autoFocus:m})}var F6,OJ,BJ,DJ,tPe=T(()=>{F6=Z(Ot()),qt(),$Te(),BJ=je(RJ)(OJ||(OJ=X([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),DJ=ePe});function zO(i){return l=>{i.forEach(u=>{typeof u=="function"?u(l):u!=null&&(u.current=l)})}}var UO=T(()=>{});function z6(i,l,u){(0,NJ.useEffect)(()=>{if(!i||u===!1)return;let m=Array.isArray(i)?i.filter(E=>E):[i],w=E=>{m.every(M=>!E.composedPath().includes(M))&&l(E)};return window.addEventListener("mousedown",w,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",w,{capture:!0,passive:!1})}},[i,u])}var NJ,U6=T(()=>{NJ=Z(Ot())}),Ay,LJ,Cy,FJ,zJ,UJ,jJ,j6,HJ,ag,GJ,fm=T(()=>{Ay=Z(Ot()),qt(),LJ="pointer-root",Cy="--lockedCursor",zJ=je.div(FJ||(FJ=X([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),jJ=je.div(UJ||(UJ=X([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),j6=(0,Ay.createContext)({}),HJ=i=>{var l,u,m,w;let[E,M]=(0,Ay.useState)([]),k=(0,Ay.useMemo)(()=>({getLock:(U,q)=>{let J={className:U,cursor:q};return M(Q=>[...Q,J]),()=>{M(Q=>Q.filter(W=>W!==J))}}}),[]),L=(u=(l=E[0])==null?void 0:l.cursor)!=null?u:"";return Ay.default.createElement(j6.Provider,{value:k},Ay.default.createElement(zJ,{id:LJ,className:((w=(m=E[0])==null?void 0:m.className)!=null?w:"normal")+" "+i.className},Ay.default.createElement(jJ,{style:{cursor:L,[Cy]:L}},i.children)))},ag=(i,l,u)=>{let m=(0,Ay.useContext)(j6);(0,Ay.useLayoutEffect)(()=>{if(i)return m.getLock(l,u)},[i,l,u])},GJ=HJ});function VJ(i){return rP.default.createElement(H6.Provider,{value:i.logger},i.children)}function __(i,l){let u=(0,rP.useContext)(H6);return(0,rP.useMemo)(()=>i?u.named(i,l):u,[u,i,l])}var rP,H6,w_=T(()=>{rP=Z(Ot()),H6=rP.default.createContext(null)});function nPe(){let i=__("PointerCapturing"),l=sv.default.useRef(null),u=()=>l.current!=null;return m=>{let w,E=M=>(w=M,l.current=M,M);return{capturing:{capturePointer(M){if(i._debug("Capturing pointer",{forDebugName:m,reason:M}),l.current!=null)throw new Error('"'.concat(m,'" attempted capturing pointer for "').concat(M,'" while already captured by "').concat(l.current.debugOwnerName,'" for "').concat(l.current.debugReason,'"'));let k=E({debugOwnerName:m,debugReason:M});return{isCapturing(){return k===l.current},release(){return k===l.current?(i._debug("Releasing pointer",{forDebugName:m,reason:M}),E(null),!0):!1}}},isPointerBeingCaptured:u},forceRelease(){w&&l.current===w&&(i._debug("Force releasing pointer",{localCapture:w}),E(null))}}}}function rPe(i){let l=nPe();return sv.default.createElement(G6.Provider,{value:l},sv.default.createElement(XJ,{children:i.children}))}function WJ(i){let l=(0,sv.useContext)(G6),u=(0,sv.useMemo)(()=>l(i),[i,l]);return(0,sv.useEffect)(()=>()=>{u.forceRelease()},[u]),u.capturing}var sv,G6,XJ,V6=T(()=>{sv=Z(Ot()),w_(),G6=sv.default.createContext(null),XJ=sv.default.memo(({children:i})=>sv.default.createElement(sv.default.Fragment,null,i))}),W6,iPe=T(()=>{W6=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function ql(i,l){let u=(0,$E.useRef)(l);u.current=l;let m=l.shouldPointerLock&&!W6,w=(0,$E.useRef)({domDragStarted:!1}),{capturePointer:E}=WJ("useDrag for ".concat(l.debugName)),M=(0,$E.useRef)({onDrag:ov,onDragEnd:ov,onClick:ov}),k=(0,$E.useRef)(),[L,U]=rs(!1);return(0,$E.useLayoutEffect)(()=>{if(!i)return;let q=()=>{let he=w.current.domDragStarted&&w.current.detection.detected;L.current!==he&&(L.current=he)},J=he=>{if(!w.current.domDragStarted)return;let xe=w.current;if(!oPe(he,xe)&&(xe.detection.detected||(xe.detection.totalDistanceMoved+=Math.abs(he.movementY)+Math.abs(he.movementX),xe.detection.totalDistanceMoved>KJ&&(m&&i.requestPointerLock(),xe.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},q())),xe.detection.detected)){xe.detection.dragEventCount+=1;let{dragMovement:Be}=xe.detection;if(m)Be.x+=he.movementX,Be.y+=he.movementY;else{let{startPos:Oe}=xe;Be.x=he.screenX-Oe.x,Be.y=he.screenY-Oe.y}M.current.onDrag(Be.x,Be.y,he,he.movementX,he.movementY)}},Q=he=>{if(ee(),!w.current.domDragStarted)return;let xe=w.current.detection.detected;w.current={domDragStarted:!1},l.shouldPointerLock&&!W6&&document.exitPointerLock(),M.current.onDragEnd(xe),window.focus(),xe||M.current.onClick(he),q()},W=()=>{document.addEventListener("mousemove",J),document.addEventListener("mouseup",Q)},ee=()=>{var he;(he=k.current)==null||he.release(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",Q)},$=he=>{u.current.disabled||w.current.domDragStarted&&w.current.detection.detected&&(u.current.dontBlockMouseDown||(he.stopPropagation(),he.preventDefault()),w.current.detection={detected:!1,totalDistanceMoved:0},q())},ie=he=>{var xe,Be,Oe,He;(xe=k.current)==null||xe.release();let vt=u.current;if(vt.disabled===!0||!((Be=vt.buttons)!=null?Be:[0]).includes(he.button))return;let lt=vt.onDragStart(he);lt!==!1&&(M.current.onDrag=lt.onDrag,M.current.onDragEnd=(Oe=lt.onDragEnd)!=null?Oe:ov,M.current.onClick=(He=lt.onClick)!=null?He:ov,k.current=E("Drag start"),vt.dontBlockMouseDown||(he.stopPropagation(),he.preventDefault()),w.current={domDragStarted:!0,startPos:{x:he.screenX,y:he.screenY},detection:{detected:!1,totalDistanceMoved:0}},q(),W())},se=he=>{ie(he)};return i.addEventListener("mousedown",se),i.addEventListener("click",$),()=>{var he,xe;ee(),i.removeEventListener("mousedown",se),i.removeEventListener("click",$),w.current.domDragStarted&&((xe=(he=M.current).onDragEnd)==null||xe.call(he,w.current.detection.detected)),w.current={domDragStarted:!1},q()}},[i]),ag(U&&!!l.lockCSSCursorTo,"dragging",l.lockCSSCursorTo),[U]}function oPe(i,l){return(!l.detection.detected||l.detection.detected&&l.detection.dragEventCount<3)&&(Math.abs(i.movementX)>X6||Math.abs(i.movementY)>X6)}var $E,KJ,X6,Sc=T(()=>{$E=Z(Ot()),fm(),V6(),qE(),iPe(),Ss(),KJ=3,X6=100});function sPe(i){return isNaN(i)?"NaN":jd(i)?i.toFixed(0):fy(i,3).toString()}var YJ,qJ,My,QJ,jO,JJ,ZJ,$J,eZ,tZ,nZ,rZ,iZ,HO,K6=T(()=>{Yl(),YJ=Z(Ot()),qJ=Z(Ot()),My=Z(Ot()),qt(),UO(),Ss(),U6(),Sc(),jO=je.div(QJ||(QJ=X([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),ZJ=je.input(JJ||(JJ=X([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),eZ=je.div($J||($J=X([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),jO,jO),nZ=je.div(tZ||(tZ=X([`
  display: contents;
`]))),rZ=i=>!0,iZ=i=>{var l;let[u]=rs({mode:"noFocus"}),m=(l=i.isValid)!=null?l:rZ,w=(0,My.useRef)(i);w.current=i;let E=(0,My.useRef)(null);z6(E.current,()=>{E.current.blur()},u.current.mode==="editingViaKeyboard");let M=(0,My.useRef)(null),k=(0,My.useMemo)(()=>{let ie=lt=>{let ht=lt.target,{value:It}=ht,_n=u.current;u.current=I(D({},_n),{currentEditedValueInString:It});let We=parseFloat(It);!isFinite(We)||!m(We)||w.current.temporarilySetValue(We)},se=()=>{u.current.mode==="editingViaKeyboard"&&(he(),u.current={mode:"noFocus"}),i.onBlur&&i.onBlur()},he=()=>{let lt=u.current,ht=parseFloat(lt.currentEditedValueInString);!isFinite(ht)||!m(ht)||lt.valueBeforeEditing===ht?w.current.discardTemporaryValue():w.current.permanentlySetValue(ht)},xe=lt=>{lt.key==="Escape"?(w.current.discardTemporaryValue(),u.current={mode:"noFocus"},E.current.blur()):(lt.key==="Enter"||lt.key==="Tab")&&(he(),E.current.blur())},Be=lt=>{u.current.mode==="noFocus"&&(E.current.focus(),lt.preventDefault()),lt.stopPropagation()},Oe=()=>{u.current.mode==="noFocus"?He():u.current.mode},He=()=>{let lt=w.current.value;u.current={mode:"editingViaKeyboard",currentEditedValueInString:String(lt),valueBeforeEditing:lt},setTimeout(()=>{E.current.focus(),E.current.setSelectionRange(0,100)})},vt;return{inputChange:ie,onBlur:se,transitionToDraggingMode:()=>{var lt;let ht=w.current.value;vt=(lt=E.current)==null?void 0:lt.getBoundingClientRect().width,u.current={mode:"dragging"};let It=ht,_n=ht;return M.current=document.body.style.cursor,{onDrag(We,kt,Ee,Ht){let cr=Ee.altKey?Ht/10:Ht,bt=_n+i.nudge({deltaX:cr,deltaFraction:cr/vt,magnitude:1});_n=i.range?Kn(bt,i.range[0],i.range[1]):bt,w.current.temporarilySetValue(_n)},onDragEnd(We){We?(It===_n?w.current.discardTemporaryValue():w.current.permanentlySetValue(_n),u.current={mode:"noFocus"}):(w.current.discardTemporaryValue(),u.current={mode:"noFocus"})},onClick(){E.current.focus(),E.current.setSelectionRange(0,100)}}},onInputKeyDown:xe,onClick:Be,onFocus:Oe}},[]);(0,YJ.useEffect)(()=>()=>{k.onBlur()},[]);let L=u.current.mode!=="editingViaKeyboard"?sPe(i.value):u.current.currentEditedValueInString;typeof L=="number"&&isNaN(L)&&(L="NaN");let U=[E];i.inputRef&&U.push(i.inputRef);let q=My.default.createElement(ZJ,{key:"input",type:"text",onChange:k.inputChange,value:L,onBlur:k.onBlur,onKeyDown:k.onInputKeyDown,onClick:k.onClick,onFocus:k.onFocus,ref:zO(U),onMouseDown:ie=>{ie.stopPropagation()},onDoubleClick:ie=>{ie.preventDefault(),ie.stopPropagation()},autoFocus:i.autoFocus}),{range:J}=i,Q=parseFloat(L),W=J?My.default.createElement(eZ,{style:{"--percentage":Kn((Q-J[0])/(J[1]-J[0]),0,1)}}):null,[ee,$]=(0,qJ.useState)(null);return ql(ee,{debugName:"form/BasicNumberInput",onDragStart:k.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:u.current.mode==="editingViaKeyboard"}),My.default.createElement(jO,{className:i.className+" "+u.current.mode},My.default.createElement(nZ,{ref:$},q),W)},HO=iZ});function aPe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,Y6.useCallback)(E=>i.nudgeFn(I(D({},E),{config:i})),[i]);return Y6.default.createElement(HO,{value:u,temporarilySetValue:l.temporarilySetValue,discardTemporaryValue:l.discardTemporaryValue,permanentlySetValue:l.permanentlySetValue,range:i.range,nudge:w,autoFocus:m})}var Y6,q6,oZ=T(()=>{K6(),Y6=Z(Ot()),q6=aPe});function lPe({value:i,onChange:l,options:u,autoFocus:m}){let w=(0,iP.useCallback)(E=>{l(String(E.target.value))},[l]);return iP.default.createElement(Q6,{role:"radiogroup"},Object.keys(u).map((E,M)=>iP.default.createElement(lZ,{key:"label-"+M,"data-checked":i===E},u[E],iP.default.createElement(cZ,{type:"radio",checked:i===E,value:E,onChange:w,name:"switchbox",autoFocus:m}))))}var iP,sZ,Q6,aZ,lZ,uZ,cZ,fZ,uPe=T(()=>{cm(),iP=Z(Ot()),qt(),Q6=je.form(sZ||(sZ=X([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),lZ=je.label(aZ||(aZ=X([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),Q6,VT(.1,"white")),cZ=je.input(uZ||(uZ=X([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),fZ=lPe}),cPe=T(()=>{}),J6,Z6,$6,dZ=T(()=>{J6=Z(Ot()),Z6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$6=J6.default.createContext&&J6.default.createContext(Z6)});function hZ(i){return i&&i.map(function(l,u){return tA.default.createElement(l.tag,Ty({key:u},l.attr),hZ(l.child))})}function eA(i){return function(l){return tA.default.createElement(fPe,Ty({attr:Ty({},i.attr)},l),hZ(i.child))}}function fPe(i){var l=function(u){var m=i.attr,w=i.size,E=i.title,M=pZ(i,["attr","size","title"]),k=w||u.size||"1em",L;return u.className&&(L=u.className),i.className&&(L=(L?L+" ":"")+i.className),tA.default.createElement("svg",Ty({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},u.attr,m,M,{className:L,style:Ty(Ty({color:i.color||u.color},u.style),i.style),height:k,width:k,xmlns:"http://www.w3.org/2000/svg"}),E&&tA.default.createElement("title",null,E),i.children)};return $6!==void 0?tA.default.createElement($6.Consumer,null,function(u){return l(u)}):l(Z6)}var tA,Ty,pZ,dPe=T(()=>{tA=Z(Ot()),dZ(),Ty=function(){return Ty=Object.assign||function(i){for(var l,u=1,m=arguments.length;u<m;u++){l=arguments[u];for(var w in l)Object.prototype.hasOwnProperty.call(l,w)&&(i[w]=l[w])}return i},Ty.apply(this,arguments)},pZ=function(i,l){var u={};for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&l.indexOf(m)<0&&(u[m]=i[m]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,m=Object.getOwnPropertySymbols(i);w<m.length;w++)l.indexOf(m[w])<0&&Object.prototype.propertyIsEnumerable.call(i,m[w])&&(u[m[w]]=i[m[w]]);return u}}),Yu=T(()=>{cPe(),dPe(),dZ()}),hPe=T(()=>{Yu()}),pPe=T(()=>{Yu()});function mPe(i){return eA({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(i)}var gPe=T(()=>{Yu()}),vPe=T(()=>{Yu()}),yPe=T(()=>{Yu()});function _Pe(i){return eA({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(i)}function wPe(i){return eA({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(i)}var xPe=T(()=>{Yu()}),SPe=T(()=>{Yu()}),bPe=T(()=>{Yu()}),EPe=T(()=>{Yu()}),APe=T(()=>{Yu()}),CPe=T(()=>{Yu()}),MPe=T(()=>{Yu()}),TPe=T(()=>{Yu()}),PPe=T(()=>{Yu()}),kPe=T(()=>{Yu()});function mZ(i){return eA({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(i)}var IPe=T(()=>{Yu()}),RPe=T(()=>{Yu()}),OPe=T(()=>{Yu()}),BPe=T(()=>{Yu()});function DPe(i){return eA({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(i)}var NPe=T(()=>{Yu()});function LPe(i){return eA({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(i)}var FPe=T(()=>{Yu()}),nA=T(()=>{hPe(),pPe(),gPe(),vPe(),yPe(),xPe(),SPe(),bPe(),EPe(),APe(),CPe(),MPe(),TPe(),PPe(),kPe(),IPe(),RPe(),OPe(),BPe(),NPe(),FPe()});function zPe({value:i,onChange:l,options:u,className:m,autoFocus:w}){let E=(0,nS.useCallback)(M=>{l(String(M.target.value))},[l]);return nS.default.createElement(vZ,null,nS.default.createElement(xZ,{className:m,value:i,onChange:E,autoFocus:w},Object.keys(u).map((M,k)=>nS.default.createElement("option",{key:"option-"+k,value:M},u[M]))),nS.default.createElement(_Z,null,nS.default.createElement(DPe,null)))}var nS,gZ,vZ,yZ,_Z,wZ,xZ,SZ,UPe=T(()=>{nS=Z(Ot()),qt(),nA(),vZ=je.div(gZ||(gZ=X([`
  width: 100%;
  position: relative;
`]))),_Z=je.div(yZ||(yZ=X([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),xZ=je.select(wZ||(wZ=X([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),SZ=zPe});function jPe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,GO.useCallback)(E=>{l.permanentlySetValue(E)},[i,l]);return i.as==="menu"?GO.default.createElement(SZ,{value:u,onChange:w,options:i.valuesAndLabels,autoFocus:m}):GO.default.createElement(fZ,{value:u,onChange:w,options:i.valuesAndLabels,autoFocus:m})}var GO,bZ,HPe=T(()=>{GO=Z(Ot()),uPe(),UPe(),bZ=jPe}),EZ,oP,AZ,CZ,MZ,TZ,VO,e8=T(()=>{qt(),EZ=Z(Ot()),oP=Z(Ot()),UO(),Ss(),U6(),CZ=je.input.attrs({type:"text"})(AZ||(AZ=X([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),MZ=i=>!0,TZ=i=>{var l,u;let[m]=rs({mode:"noFocus"}),w=(l=i.isValid)!=null?l:MZ,E=(0,oP.useRef)(i);E.current=i;let M=(0,oP.useRef)(null);z6(M.current,()=>{M.current.blur()},m.current.mode==="editingViaKeyboard");let k=(0,oP.useMemo)(()=>{let q=se=>{let he=se.target,{value:xe}=he,Be=m.current;m.current=I(D({},Be),{currentEditedValueInString:xe}),w(xe)&&E.current.temporarilySetValue(xe)},J=()=>{var se,he;m.current.mode==="editingViaKeyboard"&&(Q(),m.current={mode:"noFocus"}),(he=(se=E.current).onBlur)==null||he.call(se)},Q=()=>{let se=m.current,he=se.currentEditedValueInString;w(he)?se.valueBeforeEditing===he?E.current.discardTemporaryValue():E.current.permanentlySetValue(he):E.current.discardTemporaryValue()},W=se=>{se.key==="Escape"?(E.current.discardTemporaryValue(),m.current={mode:"noFocus"},M.current.blur()):(se.key==="Enter"||se.key==="Tab")&&(Q(),M.current.blur())},ee=se=>{m.current.mode==="noFocus"&&(M.current.focus(),se.preventDefault()),se.stopPropagation()},$=()=>{m.current.mode==="noFocus"?ie():m.current.mode},ie=()=>{let se=E.current.value;m.current={mode:"editingViaKeyboard",currentEditedValueInString:String(se),valueBeforeEditing:se},setTimeout(()=>{M.current.focus()})};return{inputChange:q,onBlur:J,onInputKeyDown:W,onClick:ee,onFocus:$}},[]);(0,EZ.useEffect)(()=>()=>{k.onBlur()},[]);let L=m.current.mode!=="editingViaKeyboard"?i.value:m.current.currentEditedValueInString,U=[M];return i.inputRef&&U.push(i.inputRef),oP.default.createElement(CZ,{key:"input",type:"text",className:"".concat((u=i.className)!=null?u:""," ").concat(w(L)?"":"invalid"),onChange:k.inputChange,value:L,onBlur:k.onBlur,onKeyDown:k.onInputKeyDown,onClick:k.onClick,onFocus:k.onFocus,ref:zO(U),onMouseDown:q=>{q.stopPropagation()},onDoubleClick:q=>{q.preventDefault(),q.stopPropagation()},autoFocus:i.autoFocus})},VO=TZ});function GPe({editingTools:i,value:l,autoFocus:u}){return PZ.default.createElement(VO,{value:l,temporarilySetValue:i.temporarilySetValue,discardTemporaryValue:i.discardTemporaryValue,permanentlySetValue:i.permanentlySetValue,autoFocus:u})}var PZ,kZ,VPe=T(()=>{PZ=Z(Ot()),e8(),kZ=GPe});function WPe(i){i=i.trim().toLowerCase();let l=i.match(r8);if(!l)return{r:0,g:0,b:0,a:1};let u=XPe(l[1]);return{r:parseInt(u.substr(0,2),16)/255,g:parseInt(u.substr(2,2),16)/255,b:parseInt(u.substr(4,2),16)/255,a:parseInt(u.substr(6,2),16)/255}}function t8(i,{removeAlphaIfOpaque:l=!1}={}){let u=(i.a*255|256).toString(16).slice(1),m=(i.r*255|256).toString(16).slice(1)+(i.g*255|256).toString(16).slice(1)+(i.b*255|256).toString(16).slice(1)+(l&&u==="ff"?"":u);return"#".concat(m)}function n8(i){return I(D({},i),{toString(){return t8(this,{removeAlphaIfOpaque:!0})}})}function XPe(i){switch(i.length){case 3:return"".concat(i.repeat(2),"ff");case 4:let l=i.substr(0,3),u=i[3];return"".concat(l.repeat(2)).concat(u.repeat(2));case 6:return"".concat(i,"ff")}return i}var r8,IZ=T(()=>{r8=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function WO(i){let l=(0,i8.useRef)(i),u=(0,i8.useRef)(m=>{l.current&&l.current(m)});return l.current=i,u.current}var i8,RZ=T(()=>{i8=Z(Ot())}),rS,XO=T(()=>{rS=(i,l=0,u=1)=>i>u?u:i<l?l:i}),sP,o8,OZ,s8,a8=T(()=>{sP=Z(Ot()),o8=(0,sP.createContext)(void 0),OZ=({children:i})=>{let[l,u]=(0,sP.useState)(!1);return sP.default.createElement(o8.Provider,{value:{editing:l,setEditing:u}},i)},s8=()=>(0,sP.useContext)(o8)}),x_,rA,BZ,KO,l8,u8,DZ,NZ,LZ,FZ,aP,YO=T(()=>{x_=Z(Ot()),RZ(),XO(),qt(),a8(),rA=i=>"touches"in i,BZ=(i,l)=>{for(let u=0;u<i.length;u++)if(i[u].identifier===l)return i[u];return i[0]},KO=i=>i&&i.ownerDocument.defaultView||self,l8=(i,l,u)=>{let m=i.getBoundingClientRect(),w=rA(l)?BZ(l.touches,u):l;return{left:rS((w.pageX-(m.left+KO(i).pageXOffset))/m.width),top:rS((w.pageY-(m.top+KO(i).pageYOffset))/m.height)}},u8=i=>{!rA(i)&&i.preventDefault()},DZ=(i,l)=>l&&!rA(i),LZ=je.div(NZ||(NZ=X([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),FZ=i=>{var l=i,{onMove:u,onKey:m}=l,w=j(l,["onMove","onKey"]);let E=(0,x_.useRef)(null),M=WO(u),k=WO(m),L=(0,x_.useRef)(null),U=(0,x_.useRef)(!1),{setEditing:q}=s8(),[J,Q,W]=(0,x_.useMemo)(()=>{let ee=({nativeEvent:xe})=>{let Be=E.current;if(Be&&(u8(xe),!(DZ(xe,U.current)||!Be))){if(rA(xe)){U.current=!0;let Oe=xe.changedTouches||[];Oe.length&&(L.current=Oe[0].identifier)}Be.focus(),q(!0),M(l8(Be,xe,L.current)),he(!0)}},$=xe=>{u8(xe),(rA(xe)?xe.touches.length>0:xe.buttons>0)&&E.current?M(l8(E.current,xe,L.current)):(q(!1),he(!1))},ie=xe=>{q(!1),he(!1)},se=xe=>{let Be=xe.which||xe.keyCode;Be<37||Be>40||(xe.preventDefault(),k({left:Be===39?.05:Be===37?-.05:0,top:Be===40?.05:Be===38?-.05:0}))};function he(xe){let Be=U.current,Oe=E.current,He=KO(Oe),vt=xe?He.addEventListener:He.removeEventListener;vt(Be?"touchmove":"mousemove",$),vt(Be?"touchend":"mouseup",ie)}return[ee,se,he]},[k,M]);return(0,x_.useEffect)(()=>W,[W]),x_.default.createElement(LZ,I(D({},w),{onTouchStart:J,onMouseDown:J,ref:E,onKeyDown:Q,tabIndex:0,role:"slider"}))},aP=x_.default.memo(FZ)}),c8,zZ,UZ,jZ,HZ,GZ,VZ,qO,f8=T(()=>{c8=Z(Ot()),qt(),YO(),UZ=je(aP)(zZ||(zZ=X([""]))),HZ=je.div(jZ||(jZ=X([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),UZ),VZ=je.div(GZ||(GZ=X([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),qO=({className:i,color:l,left:u,top:m=.5})=>{let w={top:"".concat(m*100,"%"),left:"".concat(u*100,"%")};return c8.default.createElement(HZ,{style:w,className:i},c8.default.createElement(VZ,{style:{backgroundColor:l}}))}}),Wd,QO=T(()=>{Wd=(i,l=0,u=Math.pow(10,l))=>Math.round(u*i)/u}),d8,JO,ZO,WZ,XZ,$O=T(()=>{QO(),d8=({h:i,s:l,v:u,a:m})=>{let w=(200-l)*u/100;return{h:Wd(i),s:Wd(w>0&&w<200?l*u/100/(w<=100?w:200-w)*100:0),l:Wd(w/2),a:Wd(m,2)}},JO=i=>{let{h:l,s:u,l:m}=d8(i);return"hsl(".concat(l,", ").concat(u,"%, ").concat(m,"%)")},ZO=i=>{let{h:l,s:u,l:m,a:w}=d8(i);return"hsla(".concat(l,", ").concat(u,"%, ").concat(m,"%, ").concat(w,")")},WZ=({h:i,s:l,v:u,a:m})=>{i=i/360*6,l=l/100,u=u/100;let w=Math.floor(i),E=u*(1-l),M=u*(1-(i-w)*l),k=u*(1-(1-i+w)*l),L=w%6;return{r:Wd([u,M,E,E,k,u][L]*255),g:Wd([k,u,u,M,E,E][L]*255),b:Wd([E,E,k,u,u,M][L]*255),a:Wd(m,2)}},XZ=({r:i,g:l,b:u,a:m})=>{let w=Math.max(i,l,u),E=w-Math.min(i,l,u),M=E?w===i?(l-u)/E:w===l?2+(u-i)/E:4+(i-l)/E:0;return{h:Wd(60*(M<0?M+6:M)),s:Wd(w?E/w*100:0),v:Wd(w/255*100),a:m}}}),lP,KZ,YZ,qZ,QZ,JZ,ZZ,KPe=T(()=>{lP=Z(Ot()),YO(),f8(),$O(),XO(),QO(),qt(),YZ=je.div(KZ||(KZ=X([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),QZ=je(qO)(qZ||(qZ=X([`
  z-index: 2;
`]))),JZ=({className:i,hue:l,onChange:u})=>lP.default.createElement(YZ,{className:i},lP.default.createElement(aP,{onMove:m=>{u({h:360*m.left})},onKey:m=>{u({h:rS(l+m.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":Wd(l)},lP.default.createElement(QZ,{left:l/360,color:JO({h:l,s:100,v:100,a:1})}))),ZZ=lP.default.memo(JZ)}),uP,$Z,e$,t$,n$,r$,i$,YPe=T(()=>{uP=Z(Ot()),YO(),f8(),$O(),XO(),QO(),qt(),e$=je.div($Z||($Z=X([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),n$=je(qO)(t$||(t$=X([`
  z-index: 3;
`]))),r$=({hsva:i,onChange:l})=>{let u=E=>{l({s:E.left*100,v:100-E.top*100})},m=E=>{l({s:rS(i.s+E.left*100,0,100),v:rS(i.v-E.top*100,0,100)})},w={backgroundColor:JO({h:i.h,s:100,v:100,a:1})};return uP.default.createElement(e$,{style:w},uP.default.createElement(aP,{onMove:u,onKey:m,"aria-label":"Color","aria-valuetext":"Saturation ".concat(Wd(i.s),"%, Brightness ").concat(Wd(i.v),"%")},uP.default.createElement(n$,{top:1-i.v/100,left:i.s/100,color:JO(i)})))},i$=uP.default.memo(r$)}),cP,o$,s$,a$,l$,u$,c$,f$,qPe=T(()=>{cP=Z(Ot()),YO(),f8(),$O(),XO(),QO(),qt(),s$=je.div(o$||(o$=X([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),l$=je.div.attrs(({colorFrom:i,colorTo:l})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(i,", ").concat(l,")")}}))(a$||(a$=X([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),c$=je(qO)(u$||(u$=X([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),f$=({className:i,hsva:l,onChange:u})=>{let m=k=>{u({a:k.left})},w=k=>{u({a:rS(l.a+k.left)})},E=ZO(Object.assign({},l,{a:0})),M=ZO(Object.assign({},l,{a:1}));return cP.default.createElement(s$,{className:i},cP.default.createElement(l$,{colorFrom:E,colorTo:M}),cP.default.createElement(aP,{onMove:m,onKey:w,"aria-label":"Alpha","aria-valuetext":"".concat(Wd(l.a*100),"%")},cP.default.createElement(c$,{left:l.a,color:ZO(l)})))}}),eB,d$=T(()=>{eB=(i,l)=>{if(i===l)return!0;for(let u in i)if(i[u]!==l[u])return!1;return!0}});function QPe(i,l,u,m){let{editing:w}=s8(),[E,M]=(0,Py.useState)(l),k=WO(u),L=WO(m),U=w?E:l,[q,J]=(0,Py.useState)(()=>i.toHsva(U)),Q=(0,Py.useRef)({color:U,hsva:q}),W=(0,Py.useRef)({color:U,hsva:q});(0,Py.useEffect)(()=>{w&&M(Q.current.color)},[w]),(0,Py.useEffect)(()=>{let $=i.fromHsva(q);w?!eB(q,Q.current.hsva)&&!i.equal($,Q.current.color)&&(Q.current={hsva:q,color:$},M($),k($)):!eB(q,W.current.hsva)&&!i.equal($,W.current.color)&&(W.current={hsva:q,color:$},Q.current={hsva:q,color:$},L($))},[w,q,i,k,L]),(0,Py.useEffect)(()=>{if(!w&&!i.equal(U,W.current.color)){let $=i.toHsva(U);W.current={hsva:$,color:U},J($)}},[w,U,i]);let ee=(0,Py.useCallback)($=>{J(ie=>Object.assign({},ie,$))},[]);return[q,ee]}var Py,JPe=T(()=>{Py=Z(Ot()),d$(),RZ(),a8()}),iA,h$,p$,m$,ZPe=T(()=>{iA=Z(Ot()),KPe(),YPe(),qPe(),JPe(),qt(),p$=je.div(h$||(h$=X([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),m$=i=>{var l=i,{className:u,colorModel:m,color:w=m.defaultColor,temporarilySetValue:E,permanentlySetValue:M,discardTemporaryValue:k}=l,L=j(l,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[U,q]=QPe(m,w,E,M);return(0,iA.useEffect)(()=>()=>{k()},[]),iA.default.createElement(p$,D({},L),iA.default.createElement(i$,{hsva:U,onChange:q}),iA.default.createElement(ZZ,{hue:U.h,onChange:q}),iA.default.createElement(f$,{hsva:U,onChange:q}))}}),h8,g$,v$,y$,_$,$Pe=T(()=>{h8=Z(Ot()),ZPe(),d$(),$O(),a8(),g$=i=>({r:i.r/255,g:i.g/255,b:i.b/255,a:i.a}),v$=i=>({r:i.r*255,g:i.g*255,b:i.b*255,a:i.a}),y$={defaultColor:{r:0,g:0,b:0,a:1},toHsva:i=>XZ(v$(i)),fromHsva:i=>g$(WZ(i)),equal:eB},_$=i=>h8.default.createElement(OZ,null,h8.default.createElement(m$,I(D({},i),{permanentlySetValue:l=>{i.permanentlySetValue(l)},colorModel:y$})))}),eke=T(()=>{$Pe()}),w$,x$,S$,tke=T(()=>{w$=Z(Ot()),x$=function(i){(0,w$.useEffect)(i,[])},S$=x$}),b$,E$,A$,nke=T(()=>{b$=Z(Ot()),tke(),E$=function(i){var l=(0,b$.useRef)(i);l.current=i,S$(function(){return function(){return l.current()}})},A$=E$}),tB,C$,M$,rke=T(()=>{tB=Z(Ot()),nke(),C$=function(i){var l=(0,tB.useRef)(0),u=(0,tB.useState)(i),m=u[0],w=u[1],E=(0,tB.useCallback)(function(M){cancelAnimationFrame(l.current),l.current=requestAnimationFrame(function(){w(M)})},[]);return A$(function(){cancelAnimationFrame(l.current)}),[m,E]},M$=C$});function ike(i){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];i&&i.addEventListener&&i.addEventListener.apply(i,l)}function oke(i){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];i&&i.removeEventListener&&i.removeEventListener.apply(i,l)}var nB,ske=T(()=>{nB=typeof window<"u"}),T$,P$,rB,p8=T(()=>{T$=Z(Ot()),rke(),ske(),P$=function(i,l){i===void 0&&(i=1/0),l===void 0&&(l=1/0);var u=M$({width:nB?window.innerWidth:i,height:nB?window.innerHeight:l}),m=u[0],w=u[1];return(0,T$.useEffect)(function(){if(nB){var E=function(){w({width:window.innerWidth,height:window.innerHeight})};return ike(window,"resize",E),function(){oke(window,"resize",E)}}},[]),m},rB=P$});function m8(i){let[l,u]=(0,g8.useState)(null);return(0,g8.useLayoutEffect)(()=>(i&&u(i.getBoundingClientRect()),()=>{u(null)}),[i]),l}var g8,k$=T(()=>{g8=Z(Ot())}),I$,R$,v8,O$=T(()=>{I$=Z(Ot()),R$=(0,I$.createContext)({}),v8=R$});function ake(i,l,u){let m=i.getBoundingClientRect(),w=E=>{(E.clientX<m.left-l||E.clientX>m.left+m.width+l||E.clientY<m.top-l||E.clientY>m.top+m.height+l)&&u(E)};return window.addEventListener("mousemove",w),()=>{window.removeEventListener("mousemove",w)}}var lke=T(()=>{}),B$,iB,y8,D$,_8,N$=T(()=>{B$=Z(Ot()),iB=Z(Ot()),p8(),k$(),O$(),Ss(),U6(),lke(),qE(),Yl(),y8=8,D$=i=>{var l,u;let m=i.children(),[w,E]=rs(null),M=m.props.style?D({},m.props.style):{};M.position="absolute";let k=m8(E),L=m8(i.target),U=rB(),[q,J]=(0,iB.useState)({});return(0,iB.useLayoutEffect)(()=>{var Q,W,ee;if(!k||!E||!L)return;let $=(Q=i.verticalGap)!=null?Q:8,ie={},se=(W=i.verticalPlacement)!=null?W:"bottom",he=0,xe=0;se==="bottom"?L.bottom+k.height+$<U.height?(se="bottom",he=L.bottom+$,ie.top="0px"):L.top>k.height+$?(se="top",he=L.top-(k.height+$),ie.bottom="0px",ie.transform="rotateZ(180deg)"):se="overlay":se==="top"&&(L.top>k.height+$?(se="top",he=L.top-(k.height+$),ie.bottom="0px",ie.transform="rotateZ(180deg)"):L.bottom+k.height+$<U.height?(se="bottom",he=L.bottom+$,ie.top="0px"):se="overlay");let Be=0;if(se!=="overlay"){let It=L.left+L.width/2;It<k.width/2?(xe=$,Be=Math.max(It-$,y8)):It+k.width/2>U.width?(xe=U.width-($+k.width),Be=Math.min(It-xe,k.width-y8)):(xe=It-k.width/2,Be=k.width/2),ie.left=Be+"px"}let{minX:Oe=-1/0,maxX:He=1/0,minY:vt=-1/0,maxY:lt=1/0}=(ee=i.constraints)!=null?ee:{},ht={left:Kn(xe,Oe,He-k.width),top:Kn(he,vt,lt+k.height)};if(E.style.left=ht.left+"px",E.style.top=ht.top+"px",J(ie),i.onPointerOutside)return ake(E,i.onPointerOutside.threshold,i.onPointerOutside.callback)},[k,E,i.target,L,U,i.onPointerOutside]),z6([E,(l=i.target)!=null?l:null],(u=i.onClickOutside)!=null?u:ov),B$.default.createElement(v8.Provider,{value:q},(0,iB.cloneElement)(m,{ref:w,style:M}))},_8=D$});function s0(i,l){let u=(...W)=>{},{isPointerBeingCaptured:m}=WJ("usePopover"),[w,E]=rs({isOpen:!1}),M=(0,Xd.useRef)(i),k=(0,Xd.useCallback)(W=>{w.current={isOpen:!1}},[]),L=(0,Xd.useCallback)((W,ee)=>{var $;let ie=typeof M.current=="function"?M.current():M.current;function se(){q.childHasFocusRef.current||ie.closeOnClickOutside!==!1&&k("clicked outside popover")}w.current={isOpen:!0,clickPoint:{clientX:W.clientX,clientY:W.clientY},target:ee,opts:ie,onClickOutside:se,onPointerOutside:ie.closeWhenPointerIsDistant===!1?void 0:{threshold:($=ie.pointerDistanceThreshold)!=null?$:100,callback:()=>{q.childHasFocusRef.current||m()||k("pointer outside")}}}},[]),U=(0,Xd.useCallback)((...W)=>{w.current.isOpen?k("toggled"):L(...W)},[]),q=uke({_debug:u,state:E}),[,J]=(0,Xd.useContext)(FP);(0,Xd.useEffect)(()=>{let W;return E.isOpen&&(W=J()),()=>W==null?void 0:W()},[E.isOpen]);let Q=(0,Xd.useContext)(XE);return{node:E.isOpen?(0,L$.createPortal)(Xd.default.createElement(w8.Provider,{value:q.childPopoverLock},Xd.default.createElement(_8,{children:l,target:E.target,onClickOutside:E.onClickOutside,onPointerOutside:E.onPointerOutside,constraints:E.opts.constraints,verticalGap:E.opts.verticalGap})),Q):Xd.default.createElement(Xd.default.Fragment,null),open:L,close:k,toggle:U,isOpen:E.isOpen}}function uke(i){let l=(0,Xd.useContext)(w8);(0,Xd.useEffect)(()=>{if(i.state.isOpen){let m=l.takeFocus();return i._debug("take focus"),()=>{i._debug("release focus"),m.releaseFocus()}}},[i.state.isOpen]);let u=(0,Xd.useRef)(!1);return{childHasFocusRef:u,childPopoverLock:{takeFocus(){return u.current=!0,{releaseFocus(){u.current=!1}}}}}}var Xd,L$,w8,a0=T(()=>{V6(),Ss(),Xd=Z(Ot()),L$=Z(Qg()),tS(),N$(),uU(),w8=Xd.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),ky,F$,z$,U$,j$,H$,G$,V$,W$,X$,K$,Y$,q$,cke=T(()=>{ky=Z(Ot()),qt(),O$(),z$=je.div(F$||(F$=X([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),j$=je.div(U$||(U$=X([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),G$=je.path(H$||(H$=X([`
  fill: var(--popover-bg);
`]))),W$=je.path(V$||(V$=X([`
  fill: var(--popover-inner-stroke);
`]))),K$=je.path(X$||(X$=X([`
  fill: var(--popover-outer-stroke);
`]))),Y$=(0,ky.forwardRef)(({className:i},l)=>{let u=(0,ky.useContext)(v8);return ky.default.createElement(z$,{className:i,ref:l,style:D({},u)},ky.default.createElement(j$,null,ky.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ky.default.createElement(K$,{d:"M6 0L0 6H12L6 0Z"}),ky.default.createElement(W$,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),ky.default.createElement(G$,{d:"M6 3L0 9H12L6 3Z"}))))}),q$=Y$}),oB,x8,Q$,J$,Z$,l0,u0=T(()=>{bs(),cm(),oB=Z(Ot()),qt(),cke(),x8=iv(.05,"#2a2a31"),J$=je.div(Q$||(Q$=X([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),x8,gs),Z$=oB.default.forwardRef(({children:i,className:l,showPopoverEdgeTriangle:u=!0},m)=>oB.default.createElement(J$,{className:l,ref:m},u?oB.default.createElement(q$,null):void 0,i)),l0=Z$});function fke({editingTools:i,value:l,autoFocus:u}){let m=(0,c0.useRef)(null),w=(0,c0.useCallback)(M=>{let k=n8(WPe(M));i.permanentlySetValue(k)},[i]),E=s0({debugName:"RgbaPropEditor"},()=>c0.default.createElement(s2,null,c0.default.createElement(_$,{color:{r:l.r,g:l.g,b:l.b,a:l.a},temporarilySetValue:M=>{let k=n8(M);i.temporarilySetValue(k)},permanentlySetValue:M=>{let k=n8(M);i.permanentlySetValue(k)},discardTemporaryValue:i.discardTemporaryValue})));return c0.default.createElement(c0.default.Fragment,null,c0.default.createElement(e2,null,c0.default.createElement(n2,{rgbaColor:l,ref:m,onClick:M=>{E.toggle(M,m.current)}}),c0.default.createElement(i2,{value:t8(l,{removeAlphaIfOpaque:!0}),temporarilySetValue:S8,discardTemporaryValue:S8,permanentlySetValue:w,isValid:M=>!!M.match(r8),autoFocus:u})),E.node)}var c0,$$,e2,t2,n2,r2,i2,S8,o2,s2,a2,dke=T(()=>{IZ(),IZ(),c0=Z(Ot()),eke(),qt(),a0(),e8(),u0(),e2=je.div($$||($$=X([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),n2=je.div.attrs(i=>({style:{background:t8(i.rgbaColor)}}))(t2||(t2=X([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),i2=je(VO)(r2||(r2=X([`
  flex: 1;
`]))),S8=()=>{},s2=je.div(o2||(o2=X([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),x8),a2=fke});function hke({propConfig:i,editingTools:l,value:u,autoFocus:m}){let[w,E]=av.default.useState();(0,av.useEffect)(()=>{E(u?l.getAssetUrl(u):void 0)},[u]);let M=(0,av.useCallback)(L=>fe(this,null,function*(){let U=L.target.files[0];l.permanentlySetValue({type:"image",id:void 0});let q=yield l.createAsset(U);q?l.permanentlySetValue({type:"image",id:q}):l.permanentlySetValue(u),L.target.value=null}),[l,u]),k=!(u!=null&&u.id);return av.default.createElement(b8,{empty:k},av.default.createElement(p2,{empty:k,title:k?"Upload image":'"'.concat(u.id,'" (Click to upload new image)')},av.default.createElement(g2,{type:"file",onChange:M,accept:"image/*,.hdr",autoFocus:m}),w?av.default.createElement(y2,{src:w}):av.default.createElement(c2,null)),!k&&av.default.createElement(w2,{title:"Delete image",onClick:()=>{l.permanentlySetValue({type:"image",id:void 0})}},av.default.createElement(k6,null)))}var av,l2,b8,u2,c2,f2,d2,h2,p2,m2,g2,v2,y2,_2,w2,x2,pke=T(()=>{ZT(),av=Z(Ot()),qt(),b8=je.div(l2||(l2=X([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),c2=je.div(u2||(u2=X([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),p2=je.label(h2||(h2=X([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),i=>i.empty?Ku(f2||(f2=X([""]))):Ku(d2||(d2=X([""])))),g2=je.input.attrs({type:"file"})(m2||(m2=X([`
  display: none;
`]))),y2=je.img(v2||(v2=X([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),w2=je.button(_2||(_2=X([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),b8),x2=hke});function mke({propConfig:i,editingTools:l,value:u,autoFocus:m}){let[w,E]=lv.default.useState();(0,lv.useEffect)(()=>{E(u?l.getAssetUrl(u):void 0)},[u]);let M=(0,lv.useCallback)(L=>fe(this,null,function*(){let U=L.target.files[0];l.permanentlySetValue({type:"file",id:void 0});let q=yield l.createAsset(U);q?l.permanentlySetValue({type:"file",id:q}):l.permanentlySetValue(u),L.target.value=null}),[l,u]),k=!(u!=null&&u.id);return lv.default.createElement(E8,{empty:k},lv.default.createElement(T2,{empty:k,title:k?"Upload file":'"'.concat(u.id,'" (Click to upload new file)')},lv.default.createElement(k2,{type:"file",onChange:M,autoFocus:m}),w?lv.default.createElement(M6,null):lv.default.createElement(E2,null)),!k&&lv.default.createElement(R2,{title:"Delete file",onClick:()=>{l.permanentlySetValue({type:"file",id:void 0})}},lv.default.createElement(k6,null)))}var lv,S2,E8,b2,E2,A2,C2,M2,T2,P2,k2,I2,R2,O2,gke=T(()=>{ZT(),lv=Z(Ot()),qt(),E8=je.div(S2||(S2=X([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),E2=je.div(b2||(b2=X([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),T2=je.label(M2||(M2=X([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),i=>i.empty?Ku(A2||(A2=X([""]))):Ku(C2||(C2=X([""])))),k2=je.input.attrs({type:"file"})(P2||(P2=X([`
  display: none;
`]))),R2=je.button(I2||(I2=X([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),E8),O2=mke}),A8,B2=T(()=>{tPe(),oZ(),HPe(),VPe(),dke(),pke(),gke(),A8={number:q6,string:kZ,boolean:DJ,stringLiteral:bZ,rgba:a2,image:x2,file:O2}});function fP(i){let l=new WeakMap;return u=>(l.has(u)||l.set(u,i(u)),l.get(u))}var sB=T(()=>{});function f0(i){return i.type==="compound"||i.type==="enum"}function aB(i,l){if(!i)return;let[u,...m]=l;if(u===void 0)return i;if(!f0(i))return;let w=i.type==="enum"?i.cases[u]:i.props[u];return aB(w,m)}function lB(i,l){let u=l.deserializeAndSanitize(i);return u===void 0?l.default:u}function vke(i){return!f0(i)}function*dP(i,l){if(i.type==="compound")for(let u in i.props)yield*Ue(dP(i.props[u],[...l,u]));else{if(i.type==="enum")throw new Error("Not implemented yet");return yield{path:l,conf:i}}}var C8,S_=T(()=>{sB(),C8=fP(i=>{if(i.type==="enum")throw new Error("Not implemented yet for enums");for(let l in i.props){let u=i.props[l];if(f0(u)){if(C8(u))return!0}else return!0}return!1})}),M8,D2=T(()=>{M8="calc(var(--left-pad) + var(--depth) * var(--step))"}),N2,b_,iS=T(()=>{qt(),b_=Ku(N2||(N2=X([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),i=>i.isHighlighted==="self"?"#CCC":"#919191")}),hP,uB,L2,F2,z2,U2,j2,H2,G2=T(()=>{qE(),hP=Z(Ot()),qt(),uB=26,F2=je.li(L2||(L2=X([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),uB,i=>i.enabled?"white":"#8f8f8f",i=>i.enabled?"normal":"not-allowed",i=>i.enabled?"rgba(63, 174, 191, 0.75)":"initial"),U2=je.span(z2||(z2=X([""]))),j2=i=>hP.default.createElement(F2,{onClick:i.enabled?i.onClick:ov,enabled:i.enabled,title:i.enabled?void 0:"Disabled"},hP.default.createElement(U2,null,hP.default.createElement(hP.default.Fragment,null,i.label))),H2=j2});function yke(i){let l=(0,T8.useRef)(i);l.current=i,(0,T8.useEffect)(()=>{let u=m=>l.current(m);return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[])}var T8,_ke=T(()=>{T8=Z(Ot())}),pP,V2,W2,X2,K2,Y2,q2,Q2,P8,J2=T(()=>{pP=Z(Ot()),G2(),qt(),cm(),bs(),V2=190,W2=!0,K2=je.ul(X2||(X2=X([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),V2,iv(.2,"#111"),gs),q2=je.div(Y2||(Y2=X([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),Q2=pP.default.forwardRef((i,l)=>pP.default.createElement(K2,{ref:l},W2&&i.displayName?pP.default.createElement(q2,null,i.displayName):null,i.items.map((u,m)=>pP.default.createElement(H2,{key:"item-".concat(m),label:u.label,enabled:u.enabled!==!1,onClick:w=>{u.callback&&u.callback(w),i.onRequestClose()}})))),P8=Q2}),Z2,$2,cB,eee,mP,tee,nee,wke=T(()=>{k$(),Z2=Z(Ot()),$2=Z(Ot()),cB=Z(Ot()),eee=Z(Qg()),p8(),G2(),tS(),_ke(),J2(),mP=20,tee=i=>{let[l,u]=(0,cB.useState)(null),m=m8(l),w=rB();(0,cB.useLayoutEffect)(()=>{if(!m||!l)return;let k={left:m.width/2,top:uB/2+(i.displayName?uB:0)},L={left:i.clickPoint.clientX-k.left,top:i.clickPoint.clientY-k.top};L.left<0?L.left=0:L.left+m.width>w.width&&(L.left=w.width-m.width),L.top<0?L.top=0:L.top+m.height>w.height&&(L.top=w.height-m.height),l.style.left=L.left+"px",l.style.top=L.top+"px";let U=q=>{(q.clientX<L.left-mP||q.clientX>L.left+m.width+mP||q.clientY<L.top-mP||q.clientY>L.top+m.height+mP)&&i.onRequestClose()};return window.addEventListener("mousemove",U),()=>{window.removeEventListener("mousemove",U)}},[m,l,i.clickPoint,w,i.onRequestClose]);let E=(0,$2.useContext)(XE);yke(k=>{k.key==="Escape"&&i.onRequestClose()});let M=(0,Z2.useMemo)(()=>{let k=Array.isArray(i.items)?i.items:i.items();return k.length>0?k:[{label:i.displayName?"No actions for ".concat(i.displayName):"No actions found",enabled:!1}]},[i.items]);return(0,eee.createPortal)(cB.default.createElement(P8,{items:M,onRequestClose:i.onRequestClose,displayName:i.displayName,ref:u}),E)},nee=tee}),fB,ree,iee,xke=T(()=>{fB=Z(Ot()),ree=(i,l)=>{let[u,m]=(0,fB.useState)({isOpen:!1}),w=(0,fB.useCallback)(()=>m({isOpen:!1}),[]);return(0,fB.useEffect)(()=>{if(!i||l.disabled===!0){m({isOpen:!1});return}let E=M=>{m({isOpen:!0,event:M}),M.preventDefault(),M.stopPropagation()};return i.addEventListener("contextmenu",E),()=>{i.removeEventListener("contextmenu",E)}},[i,l.disabled]),[u,w]},iee=ree});function zh(i,l){let[u,m]=iee(i,l),[,w]=(0,oA.useContext)(FP);return(0,oA.useEffect)(()=>{var E;let M;return u.isOpen&&((E=l.onOpen)==null||E.call(l),M=w()),()=>M==null?void 0:M()},[u.isOpen,l.onOpen]),[u.isOpen?oA.default.createElement(nee,{items:l.menuItems,displayName:l.displayName,clickPoint:u.event,onRequestClose:m}):oee,m,u.isOpen]}var oA,oee,Uh=T(()=>{oA=Z(Ot()),wke(),xke(),uU(),oee=oA.default.createElement(oA.default.Fragment,null)});function E_(i,l){return l.length===0?i:Zf(i,l)}var dB=T(()=>{Mf()});function see(i,l){return i==null?null:i instanceof Element&&i.matches(l)?i:see(i.parentElement,l)}var Ske=T(()=>{});function gP(i,l){let u=i;for(let m of l)u=u[m];return u}var hB=T(()=>{});function bke(i){let l=new pB.Atom(void 0),u=new pB.Atom({}),m=new pB.Atom({}),w=0;return{addRelatedFlags(E,M){let k=String(++w),L=M.map(U=>{let q={flag:U.flag},J=[U.affects,E,k];return m.setByPointer(Q=>gP(Q,J),q),J});return()=>{for(let U of L)m.setByPointer(q=>gP(q,U),void 0)}},usePresenceFlag(E){if(!i.enabled)return;let M=(0,vP.useMemo)(()=>{if(!E)return I8;let k=l.prism,L=(0,yP.pointerToPrism)(u.pointer[E]),U=(0,yP.pointerToPrism)(m.pointer[E]);return(0,yP.prism)(()=>{if(L.getValue())return 2;{let q=U.getValue(),J=k.getValue(),Q=q&&J&&q[J];if(Q){let W;for(let ee of Object.values(Q))ee&&(W&&W>=ee.flag||(W=ee.flag));return W}return}})},[E]);return Ap(M)},setUserHover(E){let M=l.get();M!==E&&(M&&u.setByPointer(k=>k[M],!1),l.set(E),E&&u.setByPointer(k=>k[E],!0))}}}function oS(i){let l=vP.default.useContext(R8),u=l.usePresenceFlag(i);return{attrs:{[mB]:i},flag:u,useRelations(m,w){(0,k8.useEffect)(()=>i&&l.addRelatedFlags(i,m()),[i,...w])}}}function aee(i){let l=vP.default.useContext(R8),u=__("PresenceListeners");(0,k8.useEffect)(()=>{let m;if(!i)return;let w=E=>{if(E.target instanceof Node){let M=see(E.target,"[".concat(mB,"]"));if(M){let k=M.getAttribute(mB);m!==k&&(m=k,l.setUserHover(k||void 0),u._debug("Updated current hover",{itemKey:k}));return}m!=null&&(m=null,l.setUserHover(void 0),u._debug("Cleared current hover"))}};return i.addEventListener("mouseover",w),()=>{i.removeEventListener("mouseover",w),m!=null&&(m=null,u._debug("Cleared current hover as part of cleanup"))}},[i,l])}var vP,k8,yP,pB,I8,R8,mB,sS=T(()=>{vP=Z(Ot()),k8=Z(Ot()),w_(),yP=tr,pB=tr,Ai(),Ske(),hB(),I8=(0,yP.prism)(()=>{}),I8.keepHot(),R8=vP.default.createContext(bke({enabled:!1})),mB="data-pi-key"}),id,lee,_P,uee,O8,A_,cee,B8,fee,dee,hee,gB,pee,mee,gee,vee,yee,_ee,wP,wee,D8,vB=T(()=>{bs(),cm(),id=Z(Ot()),qt(),sS(),_P=je.div(lee||(lee=X([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),iv(.2,"black")),O8=je.div(uee||(uee=X([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),_P),A_={offColor:"#555",onColor:"#e0c917"},B8=je(O8)(cee||(cee=X([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),i=>i.presence===2?"white":i.isOn?A_.onColor:A_.offColor),dee=Ku(fee||(fee=X([`
  pointer-events: none !important;
`]))),gB=je(O8)(hee||(hee=X([`
  color: `,`;

  `,`;
`])),i=>i.flag===2?"white":i.available?A_.onColor:A_.offColor,i=>i.available?gs:dee),mee=je(gB)(pee||(pee=X([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),_P),vee=je(gB)(gee||(gee=X([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),_P),(i=>{let l=je.g(yee||(yee=X([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),gB);i.Prev=()=>id.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},id.default.createElement(l,{transform:"translate(6 3)"},id.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),i.Next=()=>id.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},id.default.createElement(l,{transform:"translate(1 3)"},id.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let u=je.g(_ee||(_ee=X([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),B8);i.Cur=()=>id.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},id.default.createElement(u,{transform:"translate(1 4)"},id.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(wP||(wP={})),wee=i=>{var l,u,m,w,E;let M=oS((l=i.prev)==null?void 0:l.itemKey),k=oS(((u=i.cur)==null?void 0:u.type)==="on"?i.cur.itemKey:void 0),L=oS((m=i.next)==null?void 0:m.itemKey);return id.default.createElement(_P,null,id.default.createElement(mee,D({available:!!i.prev,onClick:(w=i.prev)==null?void 0:w.jump,flag:M.flag},M.attrs),id.default.createElement(wP.Prev,null)),id.default.createElement(B8,D({isOn:i.cur.type==="on",onClick:i.cur.toggle,presence:k.flag},k.attrs),id.default.createElement(wP.Cur,null)),id.default.createElement(vee,D({available:!!i.next,onClick:(E=i.next)==null?void 0:E.jump,flag:L.flag},L.attrs),id.default.createElement(wP.Next,null)))},D8=wee}),yB,xP,xee,See,bee,Eee,Aee,Cee,Mee,SP,Tee=T(()=>{cm(),yB=Z(Ot()),qt(),Ye(),vB(),S_(),xP={defaultState:{color:iv(.95,"#C4C4C4"),hoverColor:iv(.15,A_.onColor)},withStaticOverride:{color:iv(.85,"#C4C4C4"),hoverColor:iv(.15,A_.onColor)}},See=je.div(xee||(xee=X([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),i=>i.hasStaticOverride?xP.withStaticOverride.color:xP.defaultState.color,i=>i.hasStaticOverride?xP.withStaticOverride.hoverColor:xP.defaultState.hoverColor),Eee=je.div(bee||(bee=X([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),Cee=je.div(Aee||(Aee=X([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),Mee=i=>{let{hasStaticOverride:l,obj:u,propConfig:m,pathToProp:w}=i;return yB.default.createElement(See,{hasStaticOverride:l,onClick:()=>{be().transaction(({stateEditors:E})=>{for(let{path:M,conf:k}of dP(m,w)){if(f0(k))continue;let L=I(D({},u.address),{pathToProp:M});E.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(L,m)}})},title:"Sequence this prop"},l?yB.default.createElement(Cee,{title:"The default value is overridden"}):yB.default.createElement(Eee,{title:"This is the default value for this prop"}))},SP=Mee});function bP(i){return JSON.stringify(N8(i))}function N8(i){return a(i)?Object.keys(i).sort().reduce((l,u)=>(l[u]=N8(i[u]),l),{}):Array.isArray(i)?i.map(N8):i}var Eke=T(()=>{Yl()}),Pee,EP,kee=T(()=>{Pee="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",EP=(i=21)=>{let l="",u=i;for(;u--;)l+=Pee[Math.random()*64|0];return l}});function Iee(){return EP(10)}function Ake(){return EP(10)}function Cke(){return EP(10)}var qc,Iy=T(()=>{Eke(),kee(),qc={forSheet(){return"sheet"},forSheetObject(i){return bP({o:i.address.objectKey})},forSheetObjectProp(i,l){return bP({o:i.address.objectKey,p:l})},forTrackKeyframe(i,l,u){return bP({o:i.address.objectKey,t:l,k:u})},forSheetObjectAggregateKeyframe(i,l){return qc.forCompoundPropAggregateKeyframe(i,[],l)},forSheetAggregateKeyframe(i,l){return bP({o:i.address.sheetId,pos:l})},forCompoundPropAggregateKeyframe(i,l,u){return bP({o:i.address.objectKey,p:l,pos:u})}}});function Ree(i,l,u){if(!l||l.data.keyframes.length===0)return Oee;let m=L8.get(l.data);if(m&&m[0]===u)return m[1];function w(M){if(!l)return;let k=l.data.keyframes[M];return k&&{kf:k,track:l,itemKey:qc.forTrackKeyframe(i,l.id,k.id)}}let E=(()=>{let M=l.data.keyframes.findIndex(L=>L.position>=u);if(M===-1)return{prev:w(l.data.keyframes.length-1)};let k=w(M);return k.kf.position===u?{prev:w(M-1),cur:k,next:w(M+1)}:{next:k,prev:w(M-1)}})();return L8.set(l.data,[u,E]),E}var L8,Oee,Bee=T(()=>{Iy(),L8=new WeakMap,Oee={}}),F8,Dee=T(()=>{F8={}});function Mke(i,l,u){let m=(0,lg.getPointerParts)(i).path;return ao(()=>{if(!C8(u))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:aS.default.createElement(SP,{hasStaticOverride:!1,obj:l,pathToProp:m,propConfig:u})};let w=!!(0,lg.val)(Zf(be().atomP.ephemeral.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].stateByObjectKey[l.address.objectKey].valuesBeingScrubbed,(0,lg.getPointerParts)(i).path)),E=[],M={beingScrubbed:w,contextMenuItems:E,controlIndicators:aS.default.createElement(aS.default.Fragment,null)},k=(0,lg.val)(l.template.getMapOfValidSequenceTracks_forStudio()),L=E_(k,m),U=L!==void 0&&Object.keys(L).length!==0,q=[],J=(0,lg.val)(l.template.getStaticButNotSequencedOverrides()),Q=E_(J??F8,m)!==void 0;if(U)for(let W of dP(u,[])){if(f0(W.conf))continue;let ee=E_(L,W.path);typeof ee!="string"?Q=!0:q.push(ee)}if((Q||U)&&E.push({label:"Reset all to default",callback:()=>{be().transaction(({unset:W})=>{W(i)})}}),U&&E.push({label:"Make all static",callback:()=>{be().transaction(({stateEditors:W})=>{for(let{path:ee,conf:$}of dP(u,[])){if(f0($))continue;let ie=I(D({},l.address),{pathToProp:[...m,...ee]}),se=gP(i,ee);W.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(I(D({},ie),{value:l.getValueByPointer(se)}))}})}}),(!U||U&&Q)&&E.push({label:"Sequence all",callback:()=>{be().transaction(({stateEditors:W})=>{for(let{path:ee,conf:$}of dP(u,m)){if(f0($))continue;let ie=I(D({},l.address),{pathToProp:ee});W.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(ie,u)}})}}),U){let W=lg.prism.memo("controlIndicators",()=>aS.default.createElement(Tke,{pointerToProp:i,obj:l,possibleSequenceTrackIds:L,listOfDescendantTrackIds:q}),[L,q]);return I(D({},M),{type:"HasSequences",controlIndicators:W})}else return I(D({},M),{type:"AllStatic",controlIndicators:aS.default.createElement(SP,{hasStaticOverride:Q,obj:l,pathToProp:m,propConfig:u})})},[])}function Tke({pointerToProp:i,obj:l,possibleSequenceTrackIds:u,listOfDescendantTrackIds:m}){return ao(()=>{let w=(0,lg.getPointerParts)(i).path,E=(0,lg.val)(l.sheet.getSequence().positionPrism),M=m.map(W=>({trackId:W,track:(0,lg.val)(l.template.project.pointers.historic.sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[W])})).filter(({track:W})=>!!W).map(W=>I(D({},W),{nearbies:Ree(l,{id:W.trackId,data:W.track,sheetObject:l},E)})),k=M.find(({nearbies:W})=>!!W.cur),L=M.every(({nearbies:W})=>!!W.cur),U=M.reduce((W,ee)=>ee.nearbies.prev&&(W===void 0||ee.nearbies.prev.kf.position>W.kf.position)?ee.nearbies.prev:W,void 0),q=M.reduce((W,ee)=>ee.nearbies.next&&(W===void 0||ee.nearbies.next.kf.position<W.kf.position)?ee.nearbies.next:W,void 0),J=()=>{L?be().transaction(W=>{W.unset(i)}):k?be().transaction(W=>{W.set(i,(0,lg.val)(i))}):be().transaction(W=>{W.set(i,(0,lg.val)(i))})},Q={cur:k?{type:"on",itemKey:qc.forCompoundPropAggregateKeyframe(l,w,E),toggle:J}:{toggle:J,type:"off"},prev:U!==void 0?{position:U.kf.position,itemKey:qc.forCompoundPropAggregateKeyframe(l,w,U.kf.position),jump:()=>{l.sheet.getSequence().position=U.kf.position}}:void 0,next:q!==void 0?{position:q.kf.position,itemKey:qc.forCompoundPropAggregateKeyframe(l,w,q.kf.position),jump:()=>{l.sheet.getSequence().position=q.kf.position}}:void 0};return aS.default.createElement(D8,D({},Q))},[i,l,u,m])}var lg,aS,Pke=T(()=>{Ye(),dB(),Ai(),lg=tr,Mf(),aS=Z(Ot()),Tee(),S_(),Iy(),hB(),vB(),Bee(),Dee()});function kke(){let i=0,l=new Fee.Atom({hasLock:!1});return{replaceLock(u,m){let w=i++,E=l.get();return E.hasLock&&E.cleanup(),l.set({hasLock:!0,lockId:w,cleanup:m,deepPath:Ike(Nee(u))}),function(){let M=l.get();M.hasLock&&M.lockId===w&&(M.cleanup(),l.set({hasLock:!1}))}},getIsPropHighlightedD(u){let m=gP(l.pointer.deepPath,Nee(u));return(0,zee.prism)(()=>{let w=(0,Lee.val)(m);return w===!0?"self":w?"descendent":null})}}}function Nee(i){return[i.projectId,i.sheetId,i.objectKey,...i.pathToProp]}function Ike(i){let l={};return dy(l,i,!0),l}var Lee,Fee,zee,_B,z8=T(()=>{Lee=tr,Fee=tr,zee=tr,hB(),Ux(),_B=kke()});function Rke(i,l){return JSON.stringify(i,l,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var Oke=T(()=>{});function Uee(i,l=!0){try{return typeof i=="string"?i:typeof i=="function"||i instanceof Error?i.toString():l?Rke(i):JSON.stringify(i)}catch{return(i==null?void 0:i.name)||String(i)}}var Bke=T(()=>{Oke()});function Dke(i,l,u){i||(arguments.length>2?jee(l,u):jee(l))}function jee(i,l){let u=arguments.length>1,m=Uee(typeof i=="function"?i():i),w=u?`
Instead found: `.concat(Uee(l)):"";throw new Xee("Invariant: ".concat(m).concat(w),l)}var Hee,Gee,Vee,Wee,Xee,Nke=T(()=>{Bke(),Hee=/^\s*at.+node:internal.+/gm,Gee=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,Vee=/^\s*(at|[^@]+@).+test\-helpers.+/gm,Wee=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,Xee=class extends Error{constructor(i,l){var u;super(i),Le(this,"found"),l!==void 0&&(this.found=l),this.stack=(u=this.stack)==null?void 0:u.replace(Gee,"").replace(Wee,"").replace(Vee,"").replace(Hee,"")}}});function Lke(i){return(0,wB.prism)(()=>{if(Array.isArray(i)){let l=new Array(i.length);for(let u=0;u<i.length;u++)l[u]=i[u].getValue();return l}else{let l={};for(let u in i)l[u]=(0,wB.val)(i[u]);return l}})}function U8(i){let l=sA.default.memo(sA.default.forwardRef(function(u,m){let w=[],E={},M={ref:m};for(let q in u){let J=u[q];(0,wB.isPrism)(J)?(w.push(J),E[q]=J):M[q]=J}let k=(0,sA.useRef)(w.length);Dke(k.current===w.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:k.current,count:w.length});let L=(0,sA.useMemo)(()=>Lke(E),w),U=Ap(L);return U&&sA.default.createElement(i,D(D({},M),U))}));return l.displayName="deriver(".concat(i.displayName,")"),l}var wB,sA,Kee=T(()=>{wB=tr,Ai(),sA=Z(Ot()),Nke()});function Fke(i,l,u){return(0,uv.prism)(()=>{var m;let w=(0,uv.getPointerParts)(i).path,E=l.getValueByPointer(i),M=uv.prism.memo("editPropValue",()=>{let ee=null;return{temporarilySetValue($){ee||(ee=be().scrub()),ee.capture(ie=>{ie.set(i,$)})},discardTemporaryValue(){ee&&(ee.discard(),ee=null)},permanentlySetValue($){ee?(ee.capture(ie=>{ie.set(i,$)}),ee.commit(),ee=null):be().transaction(ie=>{ie.set(i,$)})}}},[]),k={createAsset:ee=>l.sheet.project.assetStorage.createAsset(ee),getAssetUrl:ee=>ee.id?l.sheet.project.assetStorage.getAssetUrl(ee.id):void 0},L=(0,uv.val)(Zf(be().atomP.ephemeral.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].stateByObjectKey[l.address.objectKey].valuesBeingScrubbed,(0,uv.getPointerParts)(i).path))===!0,U=[],q=I(D(D({},M),k),{value:E,beingScrubbed:L,contextMenuItems:U,controlIndicators:aA.default.createElement(aA.default.Fragment,null)}),J=vke(u);if(J){let ee=(0,uv.val)(l.template.getMapOfValidSequenceTracks_forStudio()),$=E_(ee,w);if(typeof $=="string"){U.push({label:"Make static",callback:()=>{be().transaction(({stateEditors:He})=>{let vt=I(D({},l.address),{pathToProp:w});He.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(I(D({},vt),{value:l.getValueByPointer(i)}))})}});let ie=$,se=uv.prism.sub("lcr",()=>{let He=(0,uv.val)(l.template.project.pointers.historic.sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[ie]),vt=(0,uv.val)(l.sheet.getSequence().positionPrism);return Ree(l,He&&{data:He,id:ie,sheetObject:l},vt)},[ie]),he;q.beingScrubbed?he="Sequenced_OnKeyframe_BeingScrubbed":se.cur?he="Sequenced_OnKeyframe":((m=se.prev)==null?void 0:m.kf.connectedRight)===!0?he="Sequenced_BeingInterpolated":he="Sequened_NotBeingInterpolated";let xe=()=>{se.cur?be().transaction(He=>{He.unset(i)}):be().transaction(He=>{He.set(i,q.value)})},Be={cur:se.cur?{type:"on",itemKey:se.cur.itemKey,toggle:xe}:{type:"off",toggle:xe},prev:se.prev!==void 0?{itemKey:se.prev.itemKey,position:se.prev.kf.position,jump:()=>{l.sheet.getSequence().position=se.prev.kf.position}}:void 0,next:se.next!==void 0?{itemKey:se.next.itemKey,position:se.next.kf.position,jump:()=>{l.sheet.getSequence().position=se.next.kf.position}}:void 0},Oe=aA.default.createElement(D8,D({},Be));return I(D({},q),{type:"Sequenced",shade:he,nearbyKeyframes:se,controlIndicators:Oe})}}let Q=(0,uv.val)(l.template.getStaticValues()),W=E_(Q,w);return typeof W<"u"&&U.push({label:"Reset to default",callback:()=>{be().transaction(({unset:ee})=>{ee(i)})}}),J&&U.push({label:"Sequence",callback:()=>{be().transaction(({stateEditors:ee})=>{let $=I(D({},l.address),{pathToProp:w});ee.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced($,u)})}}),typeof W<"u"?I(D({},q),{type:"Static",shade:q.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:aA.default.createElement(SP,{hasStaticOverride:!0,obj:l,pathToProp:w,propConfig:u})}):I(D({},q),{type:"Default",shade:"Default",controlIndicators:aA.default.createElement(SP,{hasStaticOverride:!0,obj:l,pathToProp:w,propConfig:u})})})}function zke(i,l,u){if(xB.has(i))return xB.get(i);{let m=Fke(i,l,u);return xB.set(i,m),m}}function j8(i,l,u){let m=zke(i,l,u);return Ap(m)}var aA,uv,xB,H8=T(()=>{Mf(),aA=Z(Ot()),uv=tr,Ye(),dB(),Ai(),S_(),Tee(),Bee(),vB(),xB=new WeakMap});function Uke({propConfig:i,pointerToProp:l,obj:u,SimpleEditorComponent:m}){let w=j8(l,u,i);return od.default.createElement(q6,{editingTools:w,propConfig:i,value:w.value})}function jke({pointerToProp:i,obj:l,propConfig:u,visualIndentation:m}){var w;let E=(w=u.label)!=null?w:ly((0,AP.getPointerParts)(i).path),M=Object.entries(u.props),k=M.filter(([xe,Be])=>f0(Be)),L=M.filter(([xe,Be])=>!f0(Be)),[U,q]=rs(null),J=Mke(i,l,u),[Q]=zh(q,{menuItems:J.contextMenuItems}),W=k.length>0,ee=(0,od.useMemo)(()=>_B.getIsPropHighlightedD(I(D({},l.address),{pathToProp:(0,AP.getPointerParts)(i).path})),[i]),$="".concat(l.address.projectId,",").concat(l.address.sheetId,",").concat(l.address.sheetInstanceId,",").concat(l.address.objectKey,",").concat((0,AP.getPointerParts)(i).path.join()),ie=ute(u);(0,od.useLayoutEffect)(()=>{SB.has($)||SB.set($,new AP.Atom(ie))},[$,u]);let se=SB.get($),he=ao(()=>se?(0,Yee.val)(se.pointer):ie,[se]);return od.default.createElement(Qee,null,Q,od.default.createElement(G8,{style:{"--depth":m-1}},od.default.createElement($ee,{isVectorProp:ie},od.default.createElement(tte,null,J.controlIndicators),od.default.createElement(rte,{isHighlighted:ee,ref:U},od.default.createElement("span",null,E||"Props")),od.default.createElement(ote,{isCollapsed:he,isVector:ie,onClick:()=>{se==null||se.set(!se.get())}},od.default.createElement(mZ,null))),ie&&he&&od.default.createElement(fte,null,[...M].map(([xe,Be])=>od.default.createElement(Uke,{key:"prop-"+xe,propConfig:Be,pointerToProp:i[xe],obj:l})))),!he&&od.default.createElement(lte,{style:{"--depth":m},depth:m,lastSubIsComposite:W},[...L,...k].map(([xe,Be])=>od.default.createElement(W8,{key:"prop-"+xe,propConfig:Be,pointerToProp:i[xe],obj:l,visualIndentation:m+1}))))}var AP,od,Yee,qee,Qee,Jee,G8,Zee,$ee,ete,tte,nte,rte,ite,ote,ste,ate,lte,ute,cte,fte,dte,SB,Hke=T(()=>{S_(),AP=tr,EE(),cm(),od=Z(Ot()),qt(),D2(),iS(),bs(),Ss(),Cte(),Uh(),Pke(),z8(),Kee(),oZ(),H8(),Ai(),Yee=tr,nA(),sB(),Qee=je.div(qee||(qee=X([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),gs),G8=je.div(Jee||(Jee=X([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),$ee=je.div(Zee||(Zee=X([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),M8,({isVectorProp:i})=>i?"width: calc(100% - var(--right-width))":""),tte=je.div(ete||(ete=X([`
  flexshrink: 0;
`]))),rte=U8(je.div(nte||(nte=X([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>b_)),ote=je.span(ite||(ite=X([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),i=>i.isCollapsed?0:90,i=>!i.isVector&&i.isCollapsed||i.isVector&&!i.isCollapsed?"visible":"hidden",G8,i=>i.isCollapsed?15:75),ste=iv(.05,"#282b2f"),lte=je.div(ate||(ate=X([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:i})=>VT(i*.03,ste),i=>i.lastSubIsComposite?0:"4px"),ute=fP(i=>{let l=Object.entries(i.props);return l.length<=3&&l.every(([u,m])=>m.type==="number"&&["x","y","z"].includes(u))}),fte=je.div(cte||(cte=X([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),dte=od.default.memo(jke),SB=new Map});function Gke({isHighlighted:i}){return i==="self"?"#1857a4":i==="descendent"?"#0a2f5c":"initial"}var Vke=T(()=>{});function Wke({propConfig:i,pointerToProp:l,editingTools:u,children:m,isPropHighlightedD:w}){var E;let M=(E=i.label)!=null?E:ly((0,V8.getPointerParts)(l).path),[k,L]=rs(null),[U]=zh(L,{menuItems:u.contextMenuItems});return lA.default.createElement(pte,{isHighlighted:w},U,lA.default.createElement(gte,null,lA.default.createElement(wte,null,u.controlIndicators),lA.default.createElement(yte,{isHighlighted:w,ref:k,title:["obj","props",...(0,V8.getPointerParts)(l).path].join(".")},M)),lA.default.createElement(Ste,null,m))}var V8,lA,hte,pte,mte,gte,vte,yte,_te,wte,xte,Ste,Xke=T(()=>{V8=tr,Uh(),Ss(),Yl(),lA=Z(Ot()),qt(),bs(),iS(),Kee(),D2(),Vke(),pte=U8(je.div(hte||(hte=X([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),gs,Gke)),gte=je.div(mte||(mte=X([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),M8),yte=U8(je.div(vte||(vte=X([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),b_)),wte=je.div(_te||(_te=X([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),Ste=je.div(xte||(xte=X([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function Kke({propConfig:i,pointerToProp:l,obj:u,SimpleEditorComponent:m}){let w=j8(l,u,i),E=(0,CP.useMemo)(()=>_B.getIsPropHighlightedD(I(D({},u.address),{pathToProp:(0,bte.getPointerParts)(l).path})),[l]);return CP.default.createElement(Wke,{editingTools:w,propConfig:i,pointerToProp:l,isPropHighlightedD:E},CP.default.createElement(m,{editingTools:w,propConfig:i,value:w.value}))}var CP,bte,Ete,Yke=T(()=>{CP=Z(Ot()),H8(),Xke(),bte=tr,z8(),Ete=CP.default.memo(Kke)}),MP,Ate,W8,Cte=T(()=>{MP=Z(Ot()),B2(),Hke(),Yke(),Ate=({propConfig:i,visualIndentation:l,pointerToProp:u,obj:m})=>{if(i.type==="compound")return MP.default.createElement(dte,{obj:m,visualIndentation:l,pointerToProp:u,propConfig:i});if(i.type==="enum")return MP.default.createElement(MP.default.Fragment,null);{let w=A8[i.type];return MP.default.createElement(Ete,{SimpleEditorComponent:w,obj:m,visualIndentation:l,pointerToProp:u,propConfig:i})}},W8=Ate});function Mte(i){return bB.has(i)||bB.set(i,(Tte++).toString()),bB.get(i)}var bB,Tte,Pte=T(()=>{bB=new WeakMap,Tte=0}),uA,kte,Ite,Rte,Ote,Bte,Dte,qke=T(()=>{uA=Z(Ot()),Cte(),Ai(),Pte(),qt(),Ite=je.div(kte||(kte=X([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),Ote=je.button(Rte||(Rte=X([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),Bte=({objects:i})=>{let l=i[0],u=_o(l.template.configPointer),m=_o(l.template._temp_actionsPointer);return uA.default.createElement(uA.default.Fragment,null,uA.default.createElement(W8,{key:Mte(l),obj:l,pointerToProp:l.propsP,propConfig:u,visualIndentation:1}),uA.default.createElement(Ite,null,m&&Object.entries(m).map(([w,E])=>uA.default.createElement(Ote,{key:w,onClick:()=>{E(l.publicApi)}},w))))},Dte=Bte}),Nte,Lte,EB,Fte=T(()=>{qt(),Lte=je.button(Nte||(Nte=X([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),i=>i.disabled?"none":"pointer",i=>i.disabled?.4:1),EB=Lte}),Qke=T(()=>{}),zte,Jke=T(()=>{Qke(),zte=(i=21)=>{let l="",u=crypto.getRandomValues(new Uint8Array(i));for(;i--;){let m=u[i]&63;m<36?l+=m.toString(36):m<62?l+=(m-26).toString(36).toUpperCase():m<63?l+="_":l+="-"}return l}});function Ute(){return zte(16)}var jte=T(()=>{Jke()}),Hte,Ry,X8,Gte,Vte,Wte,Xte,Kte=T(()=>{Hte=tr,Ss(),Ry=Z(Ot()),X8=(0,Ry.createContext)(null),Gte=0,Vte=()=>{let i=(0,Ry.useMemo)(()=>Gte++,[]),{cur:l,set:u}=(0,Ry.useContext)(X8),[m,w]=rs(!1),E=(0,Ry.useCallback)((M,k)=>{u(M?i:-1,k)},[]);return(0,Ry.useEffect)(()=>l.onStale(()=>{let M=l.getValue()===i;m.current!==M&&(m.current=M)}),[l,i]),[w,E]},Wte=({children:i})=>{let l=(0,Ry.useMemo)(()=>new Hte.Atom(-1),[]),u=l.prism,m=(0,Ry.useMemo)(()=>{let w;return(E,M)=>{let k=w!==void 0;w!==void 0&&(clearTimeout(w),w=void 0),M===0||k?l.set(E):w=setTimeout(()=>{l.set(E),w=void 0},M)}},[]);return Ry.default.createElement(X8.Provider,{value:{cur:u,set:m}},i)},Xte=Wte});function cA(i,l){let u=i.enabled!==!1,[m,w]=Vte(),[E,M]=rs(null);(0,qte.useEffect)(()=>{if(!u)return;let L=E.current;if(!L)return;let U=()=>{var J;return w(!0,(J=i.enterDelay)!=null?J:400)},q=()=>{var J;return w(!1,(J=i.exitDelay)!=null?J:200)};return L.addEventListener("mouseenter",U),L.addEventListener("mouseleave",q),()=>{L.removeEventListener("mouseenter",U),L.removeEventListener("mouseleave",q)}},[E,u,i.enterDelay,i.exitDelay]);let k=(0,Yte.useContext)(XE);return[u&&m&&M?(0,Qte.createPortal)(AB.default.createElement(_8,{children:l,target:M,onClickOutside:ov,verticalPlacement:i.verticalPlacement,verticalGap:i.verticalGap}),k):AB.default.createElement(AB.default.Fragment,null),E,m]}var Yte,qte,AB,Qte,TP=T(()=>{Ss(),Yte=Z(Ot()),qte=Z(Ot()),AB=Z(Ot()),N$(),Qte=Z(Qg()),Kte(),tS(),qE()}),Jte,Zte,fA,CB=T(()=>{qt(),u0(),Zte=je(l0)(Jte||(Jte=X([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),fA=Zte}),d0,$te,ene,tne,nne,rne,ine,one,sne,ane,Zke=T(()=>{Ai(),Ye(),d0=Z(Ot()),qt(),jte(),TP(),CB(),Fte(),ene=je.div($te||($te=X([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),nne=je.div(tne||(tne=X([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),ine=je.div(rne||(rne=X([`
  display: flex;
  gap: 8px;
`]))),one=({projectId:i})=>{let l=_o(be().atomP.ephemeral.coreByProject[i].loadingState);return l&&l.type==="browserStateIsNotBasedOnDiskState"?d0.default.createElement(sne,{loadingState:l,projectId:i}):null},sne=({projectId:i,loadingState:l})=>{let u=()=>{be().transaction(({drafts:L,stateEditors:U})=>{U.coreByProject.historic.revisionHistory.add({projectId:i,revision:l.onDiskState.revisionHistory[0]}),U.coreByProject.historic.revisionHistory.add({projectId:i,revision:Ute()}),L.ephemeral.coreByProject[i].loadingState={type:"loaded"}})},m=()=>{be().transaction(({drafts:L})=>{L.historic.coreByProject[i]=l.onDiskState,L.ephemeral.coreByProject[i].loadingState={type:"loaded"}})},[w,E]=cA({},()=>d0.default.createElement(fA,null,"The browser's state will override the disk state.")),[M,k]=cA({},()=>d0.default.createElement(fA,null,"The disk's state will override the browser's state."));return d0.default.createElement(ene,null,d0.default.createElement(nne,null,"Browser state is not based on disk state."," ",d0.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),d0.default.createElement(ine,null,w,d0.default.createElement(EB,{onClick:u,ref:E},"Use browser's state"),M,d0.default.createElement(EB,{onClick:m,ref:k},"Use disk state")))},ane=one}),$ke=Y((i,l)=>{(function(u){typeof i=="object"&&typeof l<"u"?l.exports=u():(typeof window<"u"?window:typeof eu<"u"?eu:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(m,w,E){function M(U,q){if(!w[U]){if(!m[U]){var J=typeof B5=="function"&&B5;if(!q&&J)return J(U,!0);if(k)return k(U,!0);var Q=new Error("Cannot find module '"+U+"'");throw Q.code="MODULE_NOT_FOUND",Q}var W=w[U]={exports:{}};m[U][0].call(W.exports,function(ee){var $=m[U][1][ee];return M($||ee)},W,W.exports,u,m,w,E)}return w[U].exports}for(var k=typeof B5=="function"&&B5,L=0;L<E.length;L++)M(E[L]);return M}({1:[function(u,m,w){var E=u("./utils"),M=u("./support"),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(L){for(var U,q,J,Q,W,ee,$,ie=[],se=0,he=L.length,xe=he,Be=E.getTypeOf(L)!=="string";se<L.length;)xe=he-se,J=Be?(U=L[se++],q=se<he?L[se++]:0,se<he?L[se++]:0):(U=L.charCodeAt(se++),q=se<he?L.charCodeAt(se++):0,se<he?L.charCodeAt(se++):0),Q=U>>2,W=(3&U)<<4|q>>4,ee=1<xe?(15&q)<<2|J>>6:64,$=2<xe?63&J:64,ie.push(k.charAt(Q)+k.charAt(W)+k.charAt(ee)+k.charAt($));return ie.join("")},w.decode=function(L){var U,q,J,Q,W,ee,$=0,ie=0,se="data:";if(L.substr(0,se.length)===se)throw new Error("Invalid base64 input, it looks like a data url.");var he,xe=3*(L=L.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(L.charAt(L.length-1)===k.charAt(64)&&xe--,L.charAt(L.length-2)===k.charAt(64)&&xe--,xe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(he=M.uint8array?new Uint8Array(0|xe):new Array(0|xe);$<L.length;)U=k.indexOf(L.charAt($++))<<2|(Q=k.indexOf(L.charAt($++)))>>4,q=(15&Q)<<4|(W=k.indexOf(L.charAt($++)))>>2,J=(3&W)<<6|(ee=k.indexOf(L.charAt($++))),he[ie++]=U,W!==64&&(he[ie++]=q),ee!==64&&(he[ie++]=J);return he}},{"./support":30,"./utils":32}],2:[function(u,m,w){var E=u("./external"),M=u("./stream/DataWorker"),k=u("./stream/Crc32Probe"),L=u("./stream/DataLengthProbe");function U(q,J,Q,W,ee){this.compressedSize=q,this.uncompressedSize=J,this.crc32=Q,this.compression=W,this.compressedContent=ee}U.prototype={getContentWorker:function(){var q=new M(E.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new L("data_length")),J=this;return q.on("end",function(){if(this.streamInfo.data_length!==J.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),q},getCompressedWorker:function(){return new M(E.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},U.createWorkerFrom=function(q,J,Q){return q.pipe(new k).pipe(new L("uncompressedSize")).pipe(J.compressWorker(Q)).pipe(new L("compressedSize")).withStreamInfo("compression",J)},m.exports=U},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,m,w){var E=u("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new E("STORE compression")},uncompressWorker:function(){return new E("STORE decompression")}},w.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,m,w){var E=u("./utils"),M=function(){for(var k,L=[],U=0;U<256;U++){k=U;for(var q=0;q<8;q++)k=1&k?3988292384^k>>>1:k>>>1;L[U]=k}return L}();m.exports=function(k,L){return k!==void 0&&k.length?E.getTypeOf(k)!=="string"?function(U,q,J,Q){var W=M,ee=Q+J;U^=-1;for(var $=Q;$<ee;$++)U=U>>>8^W[255&(U^q[$])];return-1^U}(0|L,k,k.length,0):function(U,q,J,Q){var W=M,ee=Q+J;U^=-1;for(var $=Q;$<ee;$++)U=U>>>8^W[255&(U^q.charCodeAt($))];return-1^U}(0|L,k,k.length,0):0}},{"./utils":32}],5:[function(u,m,w){w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(u,m,w){var E=null;E=typeof Promise<"u"?Promise:u("lie"),m.exports={Promise:E}},{lie:37}],7:[function(u,m,w){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",M=u("pako"),k=u("./utils"),L=u("./stream/GenericWorker"),U=E?"uint8array":"array";function q(J,Q){L.call(this,"FlateWorker/"+J),this._pako=null,this._pakoAction=J,this._pakoOptions=Q,this.meta={}}w.magic="\b\0",k.inherits(q,L),q.prototype.processChunk=function(J){this.meta=J.meta,this._pako===null&&this._createPako(),this._pako.push(k.transformTo(U,J.data),!1)},q.prototype.flush=function(){L.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},q.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this._pako=null},q.prototype._createPako=function(){this._pako=new M[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var J=this;this._pako.onData=function(Q){J.push({data:Q,meta:J.meta})}},w.compressWorker=function(J){return new q("Deflate",J)},w.uncompressWorker=function(){return new q("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,m,w){function E(W,ee){var $,ie="";for($=0;$<ee;$++)ie+=String.fromCharCode(255&W),W>>>=8;return ie}function M(W,ee,$,ie,se,he){var xe,Be,Oe=W.file,He=W.compression,vt=he!==U.utf8encode,lt=k.transformTo("string",he(Oe.name)),ht=k.transformTo("string",U.utf8encode(Oe.name)),It=Oe.comment,_n=k.transformTo("string",he(It)),We=k.transformTo("string",U.utf8encode(It)),kt=ht.length!==Oe.name.length,Ee=We.length!==It.length,Ht="",cr="",bt="",Et=Oe.dir,Wt=Oe.date,Hn={crc32:0,compressedSize:0,uncompressedSize:0};ee&&!$||(Hn.crc32=W.crc32,Hn.compressedSize=W.compressedSize,Hn.uncompressedSize=W.uncompressedSize);var Xe=0;ee&&(Xe|=8),vt||!kt&&!Ee||(Xe|=2048);var it=0,hn=0;Et&&(it|=16),se==="UNIX"?(hn=798,it|=function(En,Qt){var Jr=En;return En||(Jr=Qt?16893:33204),(65535&Jr)<<16}(Oe.unixPermissions,Et)):(hn=20,it|=function(En){return 63&(En||0)}(Oe.dosPermissions)),xe=Wt.getUTCHours(),xe<<=6,xe|=Wt.getUTCMinutes(),xe<<=5,xe|=Wt.getUTCSeconds()/2,Be=Wt.getUTCFullYear()-1980,Be<<=4,Be|=Wt.getUTCMonth()+1,Be<<=5,Be|=Wt.getUTCDate(),kt&&(cr=E(1,1)+E(q(lt),4)+ht,Ht+="up"+E(cr.length,2)+cr),Ee&&(bt=E(1,1)+E(q(_n),4)+We,Ht+="uc"+E(bt.length,2)+bt);var vn="";return vn+=`
\0`,vn+=E(Xe,2),vn+=He.magic,vn+=E(xe,2),vn+=E(Be,2),vn+=E(Hn.crc32,4),vn+=E(Hn.compressedSize,4),vn+=E(Hn.uncompressedSize,4),vn+=E(lt.length,2),vn+=E(Ht.length,2),{fileRecord:J.LOCAL_FILE_HEADER+vn+lt+Ht,dirRecord:J.CENTRAL_FILE_HEADER+E(hn,2)+vn+E(_n.length,2)+"\0\0\0\0"+E(it,4)+E(ie,4)+lt+Ht+_n}}var k=u("../utils"),L=u("../stream/GenericWorker"),U=u("../utf8"),q=u("../crc32"),J=u("../signature");function Q(W,ee,$,ie){L.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ee,this.zipPlatform=$,this.encodeFileName=ie,this.streamFiles=W,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}k.inherits(Q,L),Q.prototype.push=function(W){var ee=W.meta.percent||0,$=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(W):(this.bytesWritten+=W.data.length,L.prototype.push.call(this,{data:W.data,meta:{currentFile:this.currentFile,percent:$?(ee+100*($-ie-1))/$:100}}))},Q.prototype.openedSource=function(W){this.currentSourceOffset=this.bytesWritten,this.currentFile=W.file.name;var ee=this.streamFiles&&!W.file.dir;if(ee){var $=M(W,ee,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:$.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Q.prototype.closedSource=function(W){this.accumulate=!1;var ee=this.streamFiles&&!W.file.dir,$=M(W,ee,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push($.dirRecord),ee)this.push({data:function(ie){return J.DATA_DESCRIPTOR+E(ie.crc32,4)+E(ie.compressedSize,4)+E(ie.uncompressedSize,4)}(W),meta:{percent:100}});else for(this.push({data:$.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Q.prototype.flush=function(){for(var W=this.bytesWritten,ee=0;ee<this.dirRecords.length;ee++)this.push({data:this.dirRecords[ee],meta:{percent:100}});var $=this.bytesWritten-W,ie=function(se,he,xe,Be,Oe){var He=k.transformTo("string",Oe(Be));return J.CENTRAL_DIRECTORY_END+"\0\0\0\0"+E(se,2)+E(se,2)+E(he,4)+E(xe,4)+E(He.length,2)+He}(this.dirRecords.length,$,W,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},Q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Q.prototype.registerPrevious=function(W){this._sources.push(W);var ee=this;return W.on("data",function($){ee.processChunk($)}),W.on("end",function(){ee.closedSource(ee.previous.streamInfo),ee._sources.length?ee.prepareNextSource():ee.end()}),W.on("error",function($){ee.error($)}),this},Q.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Q.prototype.error=function(W){var ee=this._sources;if(!L.prototype.error.call(this,W))return!1;for(var $=0;$<ee.length;$++)try{ee[$].error(W)}catch{}return!0},Q.prototype.lock=function(){L.prototype.lock.call(this);for(var W=this._sources,ee=0;ee<W.length;ee++)W[ee].lock()},m.exports=Q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,m,w){var E=u("../compressions"),M=u("./ZipFileWorker");w.generateWorker=function(k,L,U){var q=new M(L.streamFiles,U,L.platform,L.encodeFileName),J=0;try{k.forEach(function(Q,W){J++;var ee=function(he,xe){var Be=he||xe,Oe=E[Be];if(!Oe)throw new Error(Be+" is not a valid compression method !");return Oe}(W.options.compression,L.compression),$=W.options.compressionOptions||L.compressionOptions||{},ie=W.dir,se=W.date;W._compressWorker(ee,$).withStreamInfo("file",{name:Q,dir:ie,date:se,comment:W.comment||"",unixPermissions:W.unixPermissions,dosPermissions:W.dosPermissions}).pipe(q)}),q.entriesCount=J}catch(Q){q.error(Q)}return q}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,m,w){function E(){if(!(this instanceof E))return new E;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var M=new E;for(var k in this)typeof this[k]!="function"&&(M[k]=this[k]);return M}}(E.prototype=u("./object")).loadAsync=u("./load"),E.support=u("./support"),E.defaults=u("./defaults"),E.version="3.10.1",E.loadAsync=function(M,k){return new E().loadAsync(M,k)},E.external=u("./external"),m.exports=E},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,m,w){var E=u("./utils"),M=u("./external"),k=u("./utf8"),L=u("./zipEntries"),U=u("./stream/Crc32Probe"),q=u("./nodejsUtils");function J(Q){return new M.Promise(function(W,ee){var $=Q.decompressed.getContentWorker().pipe(new U);$.on("error",function(ie){ee(ie)}).on("end",function(){$.streamInfo.crc32!==Q.decompressed.crc32?ee(new Error("Corrupted zip : CRC32 mismatch")):W()}).resume()})}m.exports=function(Q,W){var ee=this;return W=E.extend(W||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:k.utf8decode}),q.isNode&&q.isStream(Q)?M.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):E.prepareContent("the loaded zip file",Q,!0,W.optimizedBinaryString,W.base64).then(function($){var ie=new L(W);return ie.load($),ie}).then(function($){var ie=[M.Promise.resolve($)],se=$.files;if(W.checkCRC32)for(var he=0;he<se.length;he++)ie.push(J(se[he]));return M.Promise.all(ie)}).then(function($){for(var ie=$.shift(),se=ie.files,he=0;he<se.length;he++){var xe=se[he],Be=xe.fileNameStr,Oe=E.resolve(xe.fileNameStr);ee.file(Oe,xe.decompressed,{binary:!0,optimizedBinaryString:!0,date:xe.date,dir:xe.dir,comment:xe.fileCommentStr.length?xe.fileCommentStr:null,unixPermissions:xe.unixPermissions,dosPermissions:xe.dosPermissions,createFolders:W.createFolders}),xe.dir||(ee.file(Oe).unsafeOriginalName=Be)}return ie.zipComment.length&&(ee.comment=ie.zipComment),ee})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,m,w){var E=u("../utils"),M=u("../stream/GenericWorker");function k(L,U){M.call(this,"Nodejs stream input adapter for "+L),this._upstreamEnded=!1,this._bindStream(U)}E.inherits(k,M),k.prototype._bindStream=function(L){var U=this;(this._stream=L).pause(),L.on("data",function(q){U.push({data:q,meta:{percent:0}})}).on("error",function(q){U.isPaused?this.generatedError=q:U.error(q)}).on("end",function(){U.isPaused?U._upstreamEnded=!0:U.end()})},k.prototype.pause=function(){return!!M.prototype.pause.call(this)&&(this._stream.pause(),!0)},k.prototype.resume=function(){return!!M.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=k},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,m,w){var E=u("readable-stream").Readable;function M(k,L,U){E.call(this,L),this._helper=k;var q=this;k.on("data",function(J,Q){q.push(J)||q._helper.pause(),U&&U(Q)}).on("error",function(J){q.emit("error",J)}).on("end",function(){q.push(null)})}u("../utils").inherits(M,E),M.prototype._read=function(){this._helper.resume()},m.exports=M},{"../utils":32,"readable-stream":16}],14:[function(u,m,w){m.exports={isNode:typeof Buffer<"u",newBufferFrom:function(E,M){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(E,M);if(typeof E=="number")throw new Error('The "data" argument must not be a number');return new Buffer(E,M)},allocBuffer:function(E){if(Buffer.alloc)return Buffer.alloc(E);var M=new Buffer(E);return M.fill(0),M},isBuffer:function(E){return Buffer.isBuffer(E)},isStream:function(E){return E&&typeof E.on=="function"&&typeof E.pause=="function"&&typeof E.resume=="function"}}},{}],15:[function(u,m,w){function E(Oe,He,vt){var lt,ht=k.getTypeOf(He),It=k.extend(vt||{},q);It.date=It.date||new Date,It.compression!==null&&(It.compression=It.compression.toUpperCase()),typeof It.unixPermissions=="string"&&(It.unixPermissions=parseInt(It.unixPermissions,8)),It.unixPermissions&&16384&It.unixPermissions&&(It.dir=!0),It.dosPermissions&&16&It.dosPermissions&&(It.dir=!0),It.dir&&(Oe=se(Oe)),It.createFolders&&(lt=ie(Oe))&&he.call(this,lt,!0);var _n=ht==="string"&&It.binary===!1&&It.base64===!1;vt&&vt.binary!==void 0||(It.binary=!_n),(He instanceof J&&He.uncompressedSize===0||It.dir||!He||He.length===0)&&(It.base64=!1,It.binary=!0,He="",It.compression="STORE",ht="string");var We=null;We=He instanceof J||He instanceof L?He:ee.isNode&&ee.isStream(He)?new $(Oe,He):k.prepareContent(Oe,He,It.binary,It.optimizedBinaryString,It.base64);var kt=new Q(Oe,We,It);this.files[Oe]=kt}var M=u("./utf8"),k=u("./utils"),L=u("./stream/GenericWorker"),U=u("./stream/StreamHelper"),q=u("./defaults"),J=u("./compressedObject"),Q=u("./zipObject"),W=u("./generate"),ee=u("./nodejsUtils"),$=u("./nodejs/NodejsStreamInputAdapter"),ie=function(Oe){Oe.slice(-1)==="/"&&(Oe=Oe.substring(0,Oe.length-1));var He=Oe.lastIndexOf("/");return 0<He?Oe.substring(0,He):""},se=function(Oe){return Oe.slice(-1)!=="/"&&(Oe+="/"),Oe},he=function(Oe,He){return He=He!==void 0?He:q.createFolders,Oe=se(Oe),this.files[Oe]||E.call(this,Oe,null,{dir:!0,createFolders:He}),this.files[Oe]};function xe(Oe){return Object.prototype.toString.call(Oe)==="[object RegExp]"}var Be={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Oe){var He,vt,lt;for(He in this.files)lt=this.files[He],(vt=He.slice(this.root.length,He.length))&&He.slice(0,this.root.length)===this.root&&Oe(vt,lt)},filter:function(Oe){var He=[];return this.forEach(function(vt,lt){Oe(vt,lt)&&He.push(lt)}),He},file:function(Oe,He,vt){if(arguments.length!==1)return Oe=this.root+Oe,E.call(this,Oe,He,vt),this;if(xe(Oe)){var lt=Oe;return this.filter(function(It,_n){return!_n.dir&&lt.test(It)})}var ht=this.files[this.root+Oe];return ht&&!ht.dir?ht:null},folder:function(Oe){if(!Oe)return this;if(xe(Oe))return this.filter(function(ht,It){return It.dir&&Oe.test(ht)});var He=this.root+Oe,vt=he.call(this,He),lt=this.clone();return lt.root=vt.name,lt},remove:function(Oe){Oe=this.root+Oe;var He=this.files[Oe];if(He||(Oe.slice(-1)!=="/"&&(Oe+="/"),He=this.files[Oe]),He&&!He.dir)delete this.files[Oe];else for(var vt=this.filter(function(ht,It){return It.name.slice(0,Oe.length)===Oe}),lt=0;lt<vt.length;lt++)delete this.files[vt[lt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Oe){var He,vt={};try{if((vt=k.extend(Oe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:M.utf8encode})).type=vt.type.toLowerCase(),vt.compression=vt.compression.toUpperCase(),vt.type==="binarystring"&&(vt.type="string"),!vt.type)throw new Error("No output type specified.");k.checkSupport(vt.type),vt.platform!=="darwin"&&vt.platform!=="freebsd"&&vt.platform!=="linux"&&vt.platform!=="sunos"||(vt.platform="UNIX"),vt.platform==="win32"&&(vt.platform="DOS");var lt=vt.comment||this.comment||"";He=W.generateWorker(this,vt,lt)}catch(ht){(He=new L("error")).error(ht)}return new U(He,vt.type||"string",vt.mimeType)},generateAsync:function(Oe,He){return this.generateInternalStream(Oe).accumulate(He)},generateNodeStream:function(Oe,He){return(Oe=Oe||{}).type||(Oe.type="nodebuffer"),this.generateInternalStream(Oe).toNodejsStream(He)}};m.exports=Be},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,m,w){m.exports=u("stream")},{stream:void 0}],17:[function(u,m,w){var E=u("./DataReader");function M(k){E.call(this,k);for(var L=0;L<this.data.length;L++)k[L]=255&k[L]}u("../utils").inherits(M,E),M.prototype.byteAt=function(k){return this.data[this.zero+k]},M.prototype.lastIndexOfSignature=function(k){for(var L=k.charCodeAt(0),U=k.charCodeAt(1),q=k.charCodeAt(2),J=k.charCodeAt(3),Q=this.length-4;0<=Q;--Q)if(this.data[Q]===L&&this.data[Q+1]===U&&this.data[Q+2]===q&&this.data[Q+3]===J)return Q-this.zero;return-1},M.prototype.readAndCheckSignature=function(k){var L=k.charCodeAt(0),U=k.charCodeAt(1),q=k.charCodeAt(2),J=k.charCodeAt(3),Q=this.readData(4);return L===Q[0]&&U===Q[1]&&q===Q[2]&&J===Q[3]},M.prototype.readData=function(k){if(this.checkOffset(k),k===0)return[];var L=this.data.slice(this.zero+this.index,this.zero+this.index+k);return this.index+=k,L},m.exports=M},{"../utils":32,"./DataReader":18}],18:[function(u,m,w){var E=u("../utils");function M(k){this.data=k,this.length=k.length,this.index=0,this.zero=0}M.prototype={checkOffset:function(k){this.checkIndex(this.index+k)},checkIndex:function(k){if(this.length<this.zero+k||k<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+k+"). Corrupted zip ?")},setIndex:function(k){this.checkIndex(k),this.index=k},skip:function(k){this.setIndex(this.index+k)},byteAt:function(){},readInt:function(k){var L,U=0;for(this.checkOffset(k),L=this.index+k-1;L>=this.index;L--)U=(U<<8)+this.byteAt(L);return this.index+=k,U},readString:function(k){return E.transformTo("string",this.readData(k))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var k=this.readInt(4);return new Date(Date.UTC(1980+(k>>25&127),(k>>21&15)-1,k>>16&31,k>>11&31,k>>5&63,(31&k)<<1))}},m.exports=M},{"../utils":32}],19:[function(u,m,w){var E=u("./Uint8ArrayReader");function M(k){E.call(this,k)}u("../utils").inherits(M,E),M.prototype.readData=function(k){this.checkOffset(k);var L=this.data.slice(this.zero+this.index,this.zero+this.index+k);return this.index+=k,L},m.exports=M},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,m,w){var E=u("./DataReader");function M(k){E.call(this,k)}u("../utils").inherits(M,E),M.prototype.byteAt=function(k){return this.data.charCodeAt(this.zero+k)},M.prototype.lastIndexOfSignature=function(k){return this.data.lastIndexOf(k)-this.zero},M.prototype.readAndCheckSignature=function(k){return k===this.readData(4)},M.prototype.readData=function(k){this.checkOffset(k);var L=this.data.slice(this.zero+this.index,this.zero+this.index+k);return this.index+=k,L},m.exports=M},{"../utils":32,"./DataReader":18}],21:[function(u,m,w){var E=u("./ArrayReader");function M(k){E.call(this,k)}u("../utils").inherits(M,E),M.prototype.readData=function(k){if(this.checkOffset(k),k===0)return new Uint8Array(0);var L=this.data.subarray(this.zero+this.index,this.zero+this.index+k);return this.index+=k,L},m.exports=M},{"../utils":32,"./ArrayReader":17}],22:[function(u,m,w){var E=u("../utils"),M=u("../support"),k=u("./ArrayReader"),L=u("./StringReader"),U=u("./NodeBufferReader"),q=u("./Uint8ArrayReader");m.exports=function(J){var Q=E.getTypeOf(J);return E.checkSupport(Q),Q!=="string"||M.uint8array?Q==="nodebuffer"?new U(J):M.uint8array?new q(E.transformTo("uint8array",J)):new k(E.transformTo("array",J)):new L(J)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,m,w){w.LOCAL_FILE_HEADER="PK",w.CENTRAL_FILE_HEADER="PK",w.CENTRAL_DIRECTORY_END="PK",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,m,w){var E=u("./GenericWorker"),M=u("../utils");function k(L){E.call(this,"ConvertWorker to "+L),this.destType=L}M.inherits(k,E),k.prototype.processChunk=function(L){this.push({data:M.transformTo(this.destType,L.data),meta:L.meta})},m.exports=k},{"../utils":32,"./GenericWorker":28}],25:[function(u,m,w){var E=u("./GenericWorker"),M=u("../crc32");function k(){E.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(k,E),k.prototype.processChunk=function(L){this.streamInfo.crc32=M(L.data,this.streamInfo.crc32||0),this.push(L)},m.exports=k},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,m,w){var E=u("../utils"),M=u("./GenericWorker");function k(L){M.call(this,"DataLengthProbe for "+L),this.propName=L,this.withStreamInfo(L,0)}E.inherits(k,M),k.prototype.processChunk=function(L){if(L){var U=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=U+L.data.length}M.prototype.processChunk.call(this,L)},m.exports=k},{"../utils":32,"./GenericWorker":28}],27:[function(u,m,w){var E=u("../utils"),M=u("./GenericWorker");function k(L){M.call(this,"DataWorker");var U=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,L.then(function(q){U.dataIsReady=!0,U.data=q,U.max=q&&q.length||0,U.type=E.getTypeOf(q),U.isPaused||U._tickAndRepeat()},function(q){U.error(q)})}E.inherits(k,M),k.prototype.cleanUp=function(){M.prototype.cleanUp.call(this),this.data=null},k.prototype.resume=function(){return!!M.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,E.delay(this._tickAndRepeat,[],this)),!0)},k.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(E.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},k.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var L=null,U=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":L=this.data.substring(this.index,U);break;case"uint8array":L=this.data.subarray(this.index,U);break;case"array":case"nodebuffer":L=this.data.slice(this.index,U)}return this.index=U,this.push({data:L,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=k},{"../utils":32,"./GenericWorker":28}],28:[function(u,m,w){function E(M){this.name=M||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}E.prototype={push:function(M){this.emit("data",M)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(M){this.emit("error",M)}return!0},error:function(M){return!this.isFinished&&(this.isPaused?this.generatedError=M:(this.isFinished=!0,this.emit("error",M),this.previous&&this.previous.error(M),this.cleanUp()),!0)},on:function(M,k){return this._listeners[M].push(k),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(M,k){if(this._listeners[M])for(var L=0;L<this._listeners[M].length;L++)this._listeners[M][L].call(this,k)},pipe:function(M){return M.registerPrevious(this)},registerPrevious:function(M){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=M.streamInfo,this.mergeStreamInfo(),this.previous=M;var k=this;return M.on("data",function(L){k.processChunk(L)}),M.on("end",function(){k.end()}),M.on("error",function(L){k.error(L)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var M=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),M=!0),this.previous&&this.previous.resume(),!M},flush:function(){},processChunk:function(M){this.push(M)},withStreamInfo:function(M,k){return this.extraStreamInfo[M]=k,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var M in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,M)&&(this.streamInfo[M]=this.extraStreamInfo[M])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var M="Worker "+this.name;return this.previous?this.previous+" -> "+M:M}},m.exports=E},{}],29:[function(u,m,w){var E=u("../utils"),M=u("./ConvertWorker"),k=u("./GenericWorker"),L=u("../base64"),U=u("../support"),q=u("../external"),J=null;if(U.nodestream)try{J=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function Q(ee,$){return new q.Promise(function(ie,se){var he=[],xe=ee._internalType,Be=ee._outputType,Oe=ee._mimeType;ee.on("data",function(He,vt){he.push(He),$&&$(vt)}).on("error",function(He){he=[],se(He)}).on("end",function(){try{var He=function(vt,lt,ht){switch(vt){case"blob":return E.newBlob(E.transformTo("arraybuffer",lt),ht);case"base64":return L.encode(lt);default:return E.transformTo(vt,lt)}}(Be,function(vt,lt){var ht,It=0,_n=null,We=0;for(ht=0;ht<lt.length;ht++)We+=lt[ht].length;switch(vt){case"string":return lt.join("");case"array":return Array.prototype.concat.apply([],lt);case"uint8array":for(_n=new Uint8Array(We),ht=0;ht<lt.length;ht++)_n.set(lt[ht],It),It+=lt[ht].length;return _n;case"nodebuffer":return Buffer.concat(lt);default:throw new Error("concat : unsupported type '"+vt+"'")}}(xe,he),Oe);ie(He)}catch(vt){se(vt)}he=[]}).resume()})}function W(ee,$,ie){var se=$;switch($){case"blob":case"arraybuffer":se="uint8array";break;case"base64":se="string"}try{this._internalType=se,this._outputType=$,this._mimeType=ie,E.checkSupport(se),this._worker=ee.pipe(new M(se)),ee.lock()}catch(he){this._worker=new k("error"),this._worker.error(he)}}W.prototype={accumulate:function(ee){return Q(this,ee)},on:function(ee,$){var ie=this;return ee==="data"?this._worker.on(ee,function(se){$.call(ie,se.data,se.meta)}):this._worker.on(ee,function(){E.delay($,arguments,ie)}),this},resume:function(){return E.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ee){if(E.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new J(this,{objectMode:this._outputType!=="nodebuffer"},ee)}},m.exports=W},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,m,w){if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var E=new ArrayBuffer(0);try{w.blob=new Blob([E],{type:"application/zip"}).size===0}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);M.append(E),w.blob=M.getBlob("application/zip").size===0}catch{w.blob=!1}}}try{w.nodestream=!!u("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(u,m,w){for(var E=u("./utils"),M=u("./support"),k=u("./nodejsUtils"),L=u("./stream/GenericWorker"),U=new Array(256),q=0;q<256;q++)U[q]=252<=q?6:248<=q?5:240<=q?4:224<=q?3:192<=q?2:1;U[254]=U[254]=1;function J(){L.call(this,"utf-8 decode"),this.leftOver=null}function Q(){L.call(this,"utf-8 encode")}w.utf8encode=function(W){return M.nodebuffer?k.newBufferFrom(W,"utf-8"):function(ee){var $,ie,se,he,xe,Be=ee.length,Oe=0;for(he=0;he<Be;he++)(64512&(ie=ee.charCodeAt(he)))==55296&&he+1<Be&&(64512&(se=ee.charCodeAt(he+1)))==56320&&(ie=65536+(ie-55296<<10)+(se-56320),he++),Oe+=ie<128?1:ie<2048?2:ie<65536?3:4;for($=M.uint8array?new Uint8Array(Oe):new Array(Oe),he=xe=0;xe<Oe;he++)(64512&(ie=ee.charCodeAt(he)))==55296&&he+1<Be&&(64512&(se=ee.charCodeAt(he+1)))==56320&&(ie=65536+(ie-55296<<10)+(se-56320),he++),ie<128?$[xe++]=ie:(ie<2048?$[xe++]=192|ie>>>6:(ie<65536?$[xe++]=224|ie>>>12:($[xe++]=240|ie>>>18,$[xe++]=128|ie>>>12&63),$[xe++]=128|ie>>>6&63),$[xe++]=128|63&ie);return $}(W)},w.utf8decode=function(W){return M.nodebuffer?E.transformTo("nodebuffer",W).toString("utf-8"):function(ee){var $,ie,se,he,xe=ee.length,Be=new Array(2*xe);for($=ie=0;$<xe;)if((se=ee[$++])<128)Be[ie++]=se;else if(4<(he=U[se]))Be[ie++]=65533,$+=he-1;else{for(se&=he===2?31:he===3?15:7;1<he&&$<xe;)se=se<<6|63&ee[$++],he--;1<he?Be[ie++]=65533:se<65536?Be[ie++]=se:(se-=65536,Be[ie++]=55296|se>>10&1023,Be[ie++]=56320|1023&se)}return Be.length!==ie&&(Be.subarray?Be=Be.subarray(0,ie):Be.length=ie),E.applyFromCharCode(Be)}(W=E.transformTo(M.uint8array?"uint8array":"array",W))},E.inherits(J,L),J.prototype.processChunk=function(W){var ee=E.transformTo(M.uint8array?"uint8array":"array",W.data);if(this.leftOver&&this.leftOver.length){if(M.uint8array){var $=ee;(ee=new Uint8Array($.length+this.leftOver.length)).set(this.leftOver,0),ee.set($,this.leftOver.length)}else ee=this.leftOver.concat(ee);this.leftOver=null}var ie=function(he,xe){var Be;for((xe=xe||he.length)>he.length&&(xe=he.length),Be=xe-1;0<=Be&&(192&he[Be])==128;)Be--;return Be<0||Be===0?xe:Be+U[he[Be]]>xe?Be:xe}(ee),se=ee;ie!==ee.length&&(M.uint8array?(se=ee.subarray(0,ie),this.leftOver=ee.subarray(ie,ee.length)):(se=ee.slice(0,ie),this.leftOver=ee.slice(ie,ee.length))),this.push({data:w.utf8decode(se),meta:W.meta})},J.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=J,E.inherits(Q,L),Q.prototype.processChunk=function(W){this.push({data:w.utf8encode(W.data),meta:W.meta})},w.Utf8EncodeWorker=Q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,m,w){var E=u("./support"),M=u("./base64"),k=u("./nodejsUtils"),L=u("./external");function U($){return $}function q($,ie){for(var se=0;se<$.length;++se)ie[se]=255&$.charCodeAt(se);return ie}u("setimmediate"),w.newBlob=function($,ie){w.checkSupport("blob");try{return new Blob([$],{type:ie})}catch{try{var se=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return se.append($),se.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var J={stringifyByChunk:function($,ie,se){var he=[],xe=0,Be=$.length;if(Be<=se)return String.fromCharCode.apply(null,$);for(;xe<Be;)ie==="array"||ie==="nodebuffer"?he.push(String.fromCharCode.apply(null,$.slice(xe,Math.min(xe+se,Be)))):he.push(String.fromCharCode.apply(null,$.subarray(xe,Math.min(xe+se,Be)))),xe+=se;return he.join("")},stringifyByChar:function($){for(var ie="",se=0;se<$.length;se++)ie+=String.fromCharCode($[se]);return ie},applyCanBeUsed:{uint8array:function(){try{return E.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return E.nodebuffer&&String.fromCharCode.apply(null,k.allocBuffer(1)).length===1}catch{return!1}}()}};function Q($){var ie=65536,se=w.getTypeOf($),he=!0;if(se==="uint8array"?he=J.applyCanBeUsed.uint8array:se==="nodebuffer"&&(he=J.applyCanBeUsed.nodebuffer),he)for(;1<ie;)try{return J.stringifyByChunk($,se,ie)}catch{ie=Math.floor(ie/2)}return J.stringifyByChar($)}function W($,ie){for(var se=0;se<$.length;se++)ie[se]=$[se];return ie}w.applyFromCharCode=Q;var ee={};ee.string={string:U,array:function($){return q($,new Array($.length))},arraybuffer:function($){return ee.string.uint8array($).buffer},uint8array:function($){return q($,new Uint8Array($.length))},nodebuffer:function($){return q($,k.allocBuffer($.length))}},ee.array={string:Q,array:U,arraybuffer:function($){return new Uint8Array($).buffer},uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return k.newBufferFrom($)}},ee.arraybuffer={string:function($){return Q(new Uint8Array($))},array:function($){return W(new Uint8Array($),new Array($.byteLength))},arraybuffer:U,uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return k.newBufferFrom(new Uint8Array($))}},ee.uint8array={string:Q,array:function($){return W($,new Array($.length))},arraybuffer:function($){return $.buffer},uint8array:U,nodebuffer:function($){return k.newBufferFrom($)}},ee.nodebuffer={string:Q,array:function($){return W($,new Array($.length))},arraybuffer:function($){return ee.nodebuffer.uint8array($).buffer},uint8array:function($){return W($,new Uint8Array($.length))},nodebuffer:U},w.transformTo=function($,ie){if(ie=ie||"",!$)return ie;w.checkSupport($);var se=w.getTypeOf(ie);return ee[se][$](ie)},w.resolve=function($){for(var ie=$.split("/"),se=[],he=0;he<ie.length;he++){var xe=ie[he];xe==="."||xe===""&&he!==0&&he!==ie.length-1||(xe===".."?se.pop():se.push(xe))}return se.join("/")},w.getTypeOf=function($){return typeof $=="string"?"string":Object.prototype.toString.call($)==="[object Array]"?"array":E.nodebuffer&&k.isBuffer($)?"nodebuffer":E.uint8array&&$ instanceof Uint8Array?"uint8array":E.arraybuffer&&$ instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function($){if(!E[$.toLowerCase()])throw new Error($+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function($){var ie,se,he="";for(se=0;se<($||"").length;se++)he+="\\x"+((ie=$.charCodeAt(se))<16?"0":"")+ie.toString(16).toUpperCase();return he},w.delay=function($,ie,se){setImmediate(function(){$.apply(se||null,ie||[])})},w.inherits=function($,ie){function se(){}se.prototype=ie.prototype,$.prototype=new se},w.extend=function(){var $,ie,se={};for($=0;$<arguments.length;$++)for(ie in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],ie)&&se[ie]===void 0&&(se[ie]=arguments[$][ie]);return se},w.prepareContent=function($,ie,se,he,xe){return L.Promise.resolve(ie).then(function(Be){return E.blob&&(Be instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Be))!==-1)&&typeof FileReader<"u"?new L.Promise(function(Oe,He){var vt=new FileReader;vt.onload=function(lt){Oe(lt.target.result)},vt.onerror=function(lt){He(lt.target.error)},vt.readAsArrayBuffer(Be)}):Be}).then(function(Be){var Oe=w.getTypeOf(Be);return Oe?(Oe==="arraybuffer"?Be=w.transformTo("uint8array",Be):Oe==="string"&&(xe?Be=M.decode(Be):se&&he!==!0&&(Be=function(He){return q(He,E.uint8array?new Uint8Array(He.length):new Array(He.length))}(Be))),Be):L.Promise.reject(new Error("Can't read the data of '"+$+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,m,w){var E=u("./reader/readerFor"),M=u("./utils"),k=u("./signature"),L=u("./zipEntry"),U=u("./support");function q(J){this.files=[],this.loadOptions=J}q.prototype={checkSignature:function(J){if(!this.reader.readAndCheckSignature(J)){this.reader.index-=4;var Q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+M.pretty(Q)+", expected "+M.pretty(J)+")")}},isSignature:function(J,Q){var W=this.reader.index;this.reader.setIndex(J);var ee=this.reader.readString(4)===Q;return this.reader.setIndex(W),ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var J=this.reader.readData(this.zipCommentLength),Q=U.uint8array?"uint8array":"array",W=M.transformTo(Q,J);this.zipComment=this.loadOptions.decodeFileName(W)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var J,Q,W,ee=this.zip64EndOfCentralSize-44;0<ee;)J=this.reader.readInt(2),Q=this.reader.readInt(4),W=this.reader.readData(Q),this.zip64ExtensibleData[J]={id:J,length:Q,value:W}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var J,Q;for(J=0;J<this.files.length;J++)Q=this.files[J],this.reader.setIndex(Q.localHeaderOffset),this.checkSignature(k.LOCAL_FILE_HEADER),Q.readLocalPart(this.reader),Q.handleUTF8(),Q.processAttributes()},readCentralDir:function(){var J;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(k.CENTRAL_FILE_HEADER);)(J=new L({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(J);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var J=this.reader.lastIndexOfSignature(k.CENTRAL_DIRECTORY_END);if(J<0)throw this.isSignature(0,k.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(J);var Q=J;if(this.checkSignature(k.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===M.MAX_VALUE_16BITS||this.diskWithCentralDirStart===M.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===M.MAX_VALUE_16BITS||this.centralDirRecords===M.MAX_VALUE_16BITS||this.centralDirSize===M.MAX_VALUE_32BITS||this.centralDirOffset===M.MAX_VALUE_32BITS){if(this.zip64=!0,(J=this.reader.lastIndexOfSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(J),this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,k.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(k.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var W=this.centralDirOffset+this.centralDirSize;this.zip64&&(W+=20,W+=12+this.zip64EndOfCentralSize);var ee=Q-W;if(0<ee)this.isSignature(Q,k.CENTRAL_FILE_HEADER)||(this.reader.zero=ee);else if(ee<0)throw new Error("Corrupted zip: missing "+Math.abs(ee)+" bytes.")},prepareReader:function(J){this.reader=E(J)},load:function(J){this.prepareReader(J),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=q},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,m,w){var E=u("./reader/readerFor"),M=u("./utils"),k=u("./compressedObject"),L=u("./crc32"),U=u("./utf8"),q=u("./compressions"),J=u("./support");function Q(W,ee){this.options=W,this.loadOptions=ee}Q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(W){var ee,$;if(W.skip(22),this.fileNameLength=W.readInt(2),$=W.readInt(2),this.fileName=W.readData(this.fileNameLength),W.skip($),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ee=function(ie){for(var se in q)if(Object.prototype.hasOwnProperty.call(q,se)&&q[se].magic===ie)return q[se];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+M.pretty(this.compressionMethod)+" unknown (inner file : "+M.transformTo("string",this.fileName)+")");this.decompressed=new k(this.compressedSize,this.uncompressedSize,this.crc32,ee,W.readData(this.compressedSize))},readCentralPart:function(W){this.versionMadeBy=W.readInt(2),W.skip(2),this.bitFlag=W.readInt(2),this.compressionMethod=W.readString(2),this.date=W.readDate(),this.crc32=W.readInt(4),this.compressedSize=W.readInt(4),this.uncompressedSize=W.readInt(4);var ee=W.readInt(2);if(this.extraFieldsLength=W.readInt(2),this.fileCommentLength=W.readInt(2),this.diskNumberStart=W.readInt(2),this.internalFileAttributes=W.readInt(2),this.externalFileAttributes=W.readInt(4),this.localHeaderOffset=W.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");W.skip(ee),this.readExtraFields(W),this.parseZIP64ExtraField(W),this.fileComment=W.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var W=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),W==0&&(this.dosPermissions=63&this.externalFileAttributes),W==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var W=E(this.extraFields[1].value);this.uncompressedSize===M.MAX_VALUE_32BITS&&(this.uncompressedSize=W.readInt(8)),this.compressedSize===M.MAX_VALUE_32BITS&&(this.compressedSize=W.readInt(8)),this.localHeaderOffset===M.MAX_VALUE_32BITS&&(this.localHeaderOffset=W.readInt(8)),this.diskNumberStart===M.MAX_VALUE_32BITS&&(this.diskNumberStart=W.readInt(4))}},readExtraFields:function(W){var ee,$,ie,se=W.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});W.index+4<se;)ee=W.readInt(2),$=W.readInt(2),ie=W.readData($),this.extraFields[ee]={id:ee,length:$,value:ie};W.setIndex(se)},handleUTF8:function(){var W=J.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=U.utf8decode(this.fileName),this.fileCommentStr=U.utf8decode(this.fileComment);else{var ee=this.findExtraFieldUnicodePath();if(ee!==null)this.fileNameStr=ee;else{var $=M.transformTo(W,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName($)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var se=M.transformTo(W,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(se)}}},findExtraFieldUnicodePath:function(){var W=this.extraFields[28789];if(W){var ee=E(W.value);return ee.readInt(1)!==1||L(this.fileName)!==ee.readInt(4)?null:U.utf8decode(ee.readData(W.length-5))}return null},findExtraFieldUnicodeComment:function(){var W=this.extraFields[25461];if(W){var ee=E(W.value);return ee.readInt(1)!==1||L(this.fileComment)!==ee.readInt(4)?null:U.utf8decode(ee.readData(W.length-5))}return null}},m.exports=Q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,m,w){function E(ee,$,ie){this.name=ee,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=$,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var M=u("./stream/StreamHelper"),k=u("./stream/DataWorker"),L=u("./utf8"),U=u("./compressedObject"),q=u("./stream/GenericWorker");E.prototype={internalStream:function(ee){var $=null,ie="string";try{if(!ee)throw new Error("No output type specified.");var se=(ie=ee.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),$=this._decompressWorker();var he=!this._dataBinary;he&&!se&&($=$.pipe(new L.Utf8EncodeWorker)),!he&&se&&($=$.pipe(new L.Utf8DecodeWorker))}catch(xe){($=new q("error")).error(xe)}return new M($,ie,"")},async:function(ee,$){return this.internalStream(ee).accumulate($)},nodeStream:function(ee,$){return this.internalStream(ee||"nodebuffer").toNodejsStream($)},_compressWorker:function(ee,$){if(this._data instanceof U&&this._data.compression.magic===ee.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new L.Utf8EncodeWorker)),U.createWorkerFrom(ie,ee,$)},_decompressWorker:function(){return this._data instanceof U?this._data.getContentWorker():this._data instanceof q?this._data:new k(this._data)}};for(var J=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},W=0;W<J.length;W++)E.prototype[J[W]]=Q;m.exports=E},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,m,w){(function(E){var M,k,L=E.MutationObserver||E.WebKitMutationObserver;if(L){var U=0,q=new L(ee),J=E.document.createTextNode("");q.observe(J,{characterData:!0}),M=function(){J.data=U=++U%2}}else if(E.setImmediate||E.MessageChannel===void 0)M="document"in E&&"onreadystatechange"in E.document.createElement("script")?function(){var $=E.document.createElement("script");$.onreadystatechange=function(){ee(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},E.document.documentElement.appendChild($)}:function(){setTimeout(ee,0)};else{var Q=new E.MessageChannel;Q.port1.onmessage=ee,M=function(){Q.port2.postMessage(0)}}var W=[];function ee(){var $,ie;k=!0;for(var se=W.length;se;){for(ie=W,W=[],$=-1;++$<se;)ie[$]();se=W.length}k=!1}m.exports=function($){W.push($)!==1||k||M()}}).call(this,typeof eu<"u"?eu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,m,w){var E=u("immediate");function M(){}var k={},L=["REJECTED"],U=["FULFILLED"],q=["PENDING"];function J(se){if(typeof se!="function")throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,se!==M&&$(this,se)}function Q(se,he,xe){this.promise=se,typeof he=="function"&&(this.onFulfilled=he,this.callFulfilled=this.otherCallFulfilled),typeof xe=="function"&&(this.onRejected=xe,this.callRejected=this.otherCallRejected)}function W(se,he,xe){E(function(){var Be;try{Be=he(xe)}catch(Oe){return k.reject(se,Oe)}Be===se?k.reject(se,new TypeError("Cannot resolve promise with itself")):k.resolve(se,Be)})}function ee(se){var he=se&&se.then;if(se&&(typeof se=="object"||typeof se=="function")&&typeof he=="function")return function(){he.apply(se,arguments)}}function $(se,he){var xe=!1;function Be(vt){xe||(xe=!0,k.reject(se,vt))}function Oe(vt){xe||(xe=!0,k.resolve(se,vt))}var He=ie(function(){he(Oe,Be)});He.status==="error"&&Be(He.value)}function ie(se,he){var xe={};try{xe.value=se(he),xe.status="success"}catch(Be){xe.status="error",xe.value=Be}return xe}(m.exports=J).prototype.finally=function(se){if(typeof se!="function")return this;var he=this.constructor;return this.then(function(xe){return he.resolve(se()).then(function(){return xe})},function(xe){return he.resolve(se()).then(function(){throw xe})})},J.prototype.catch=function(se){return this.then(null,se)},J.prototype.then=function(se,he){if(typeof se!="function"&&this.state===U||typeof he!="function"&&this.state===L)return this;var xe=new this.constructor(M);return this.state!==q?W(xe,this.state===U?se:he,this.outcome):this.queue.push(new Q(xe,se,he)),xe},Q.prototype.callFulfilled=function(se){k.resolve(this.promise,se)},Q.prototype.otherCallFulfilled=function(se){W(this.promise,this.onFulfilled,se)},Q.prototype.callRejected=function(se){k.reject(this.promise,se)},Q.prototype.otherCallRejected=function(se){W(this.promise,this.onRejected,se)},k.resolve=function(se,he){var xe=ie(ee,he);if(xe.status==="error")return k.reject(se,xe.value);var Be=xe.value;if(Be)$(se,Be);else{se.state=U,se.outcome=he;for(var Oe=-1,He=se.queue.length;++Oe<He;)se.queue[Oe].callFulfilled(he)}return se},k.reject=function(se,he){se.state=L,se.outcome=he;for(var xe=-1,Be=se.queue.length;++xe<Be;)se.queue[xe].callRejected(he);return se},J.resolve=function(se){return se instanceof this?se:k.resolve(new this(M),se)},J.reject=function(se){var he=new this(M);return k.reject(he,se)},J.all=function(se){var he=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=se.length,Be=!1;if(!xe)return this.resolve([]);for(var Oe=new Array(xe),He=0,vt=-1,lt=new this(M);++vt<xe;)ht(se[vt],vt);return lt;function ht(It,_n){he.resolve(It).then(function(We){Oe[_n]=We,++He!==xe||Be||(Be=!0,k.resolve(lt,Oe))},function(We){Be||(Be=!0,k.reject(lt,We))})}},J.race=function(se){var he=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=se.length,Be=!1;if(!xe)return this.resolve([]);for(var Oe=-1,He=new this(M);++Oe<xe;)vt=se[Oe],he.resolve(vt).then(function(lt){Be||(Be=!0,k.resolve(He,lt))},function(lt){Be||(Be=!0,k.reject(He,lt))});var vt;return He}},{immediate:36}],38:[function(u,m,w){var E={};(0,u("./lib/utils/common").assign)(E,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),m.exports=E},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,m,w){var E=u("./zlib/deflate"),M=u("./utils/common"),k=u("./utils/strings"),L=u("./zlib/messages"),U=u("./zlib/zstream"),q=Object.prototype.toString,J=0,Q=-1,W=0,ee=8;function $(se){if(!(this instanceof $))return new $(se);this.options=M.assign({level:Q,method:ee,chunkSize:16384,windowBits:15,memLevel:8,strategy:W,to:""},se||{});var he=this.options;he.raw&&0<he.windowBits?he.windowBits=-he.windowBits:he.gzip&&0<he.windowBits&&he.windowBits<16&&(he.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U,this.strm.avail_out=0;var xe=E.deflateInit2(this.strm,he.level,he.method,he.windowBits,he.memLevel,he.strategy);if(xe!==J)throw new Error(L[xe]);if(he.header&&E.deflateSetHeader(this.strm,he.header),he.dictionary){var Be;if(Be=typeof he.dictionary=="string"?k.string2buf(he.dictionary):q.call(he.dictionary)==="[object ArrayBuffer]"?new Uint8Array(he.dictionary):he.dictionary,(xe=E.deflateSetDictionary(this.strm,Be))!==J)throw new Error(L[xe]);this._dict_set=!0}}function ie(se,he){var xe=new $(he);if(xe.push(se,!0),xe.err)throw xe.msg||L[xe.err];return xe.result}$.prototype.push=function(se,he){var xe,Be,Oe=this.strm,He=this.options.chunkSize;if(this.ended)return!1;Be=he===~~he?he:he===!0?4:0,typeof se=="string"?Oe.input=k.string2buf(se):q.call(se)==="[object ArrayBuffer]"?Oe.input=new Uint8Array(se):Oe.input=se,Oe.next_in=0,Oe.avail_in=Oe.input.length;do{if(Oe.avail_out===0&&(Oe.output=new M.Buf8(He),Oe.next_out=0,Oe.avail_out=He),(xe=E.deflate(Oe,Be))!==1&&xe!==J)return this.onEnd(xe),!(this.ended=!0);Oe.avail_out!==0&&(Oe.avail_in!==0||Be!==4&&Be!==2)||(this.options.to==="string"?this.onData(k.buf2binstring(M.shrinkBuf(Oe.output,Oe.next_out))):this.onData(M.shrinkBuf(Oe.output,Oe.next_out)))}while((0<Oe.avail_in||Oe.avail_out===0)&&xe!==1);return Be===4?(xe=E.deflateEnd(this.strm),this.onEnd(xe),this.ended=!0,xe===J):Be!==2||(this.onEnd(J),!(Oe.avail_out=0))},$.prototype.onData=function(se){this.chunks.push(se)},$.prototype.onEnd=function(se){se===J&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=M.flattenChunks(this.chunks)),this.chunks=[],this.err=se,this.msg=this.strm.msg},w.Deflate=$,w.deflate=ie,w.deflateRaw=function(se,he){return(he=he||{}).raw=!0,ie(se,he)},w.gzip=function(se,he){return(he=he||{}).gzip=!0,ie(se,he)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,m,w){var E=u("./zlib/inflate"),M=u("./utils/common"),k=u("./utils/strings"),L=u("./zlib/constants"),U=u("./zlib/messages"),q=u("./zlib/zstream"),J=u("./zlib/gzheader"),Q=Object.prototype.toString;function W($){if(!(this instanceof W))return new W($);this.options=M.assign({chunkSize:16384,windowBits:0,to:""},$||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||$&&$.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&!(15&ie.windowBits)&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q,this.strm.avail_out=0;var se=E.inflateInit2(this.strm,ie.windowBits);if(se!==L.Z_OK)throw new Error(U[se]);this.header=new J,E.inflateGetHeader(this.strm,this.header)}function ee($,ie){var se=new W(ie);if(se.push($,!0),se.err)throw se.msg||U[se.err];return se.result}W.prototype.push=function($,ie){var se,he,xe,Be,Oe,He,vt=this.strm,lt=this.options.chunkSize,ht=this.options.dictionary,It=!1;if(this.ended)return!1;he=ie===~~ie?ie:ie===!0?L.Z_FINISH:L.Z_NO_FLUSH,typeof $=="string"?vt.input=k.binstring2buf($):Q.call($)==="[object ArrayBuffer]"?vt.input=new Uint8Array($):vt.input=$,vt.next_in=0,vt.avail_in=vt.input.length;do{if(vt.avail_out===0&&(vt.output=new M.Buf8(lt),vt.next_out=0,vt.avail_out=lt),(se=E.inflate(vt,L.Z_NO_FLUSH))===L.Z_NEED_DICT&&ht&&(He=typeof ht=="string"?k.string2buf(ht):Q.call(ht)==="[object ArrayBuffer]"?new Uint8Array(ht):ht,se=E.inflateSetDictionary(this.strm,He)),se===L.Z_BUF_ERROR&&It===!0&&(se=L.Z_OK,It=!1),se!==L.Z_STREAM_END&&se!==L.Z_OK)return this.onEnd(se),!(this.ended=!0);vt.next_out&&(vt.avail_out!==0&&se!==L.Z_STREAM_END&&(vt.avail_in!==0||he!==L.Z_FINISH&&he!==L.Z_SYNC_FLUSH)||(this.options.to==="string"?(xe=k.utf8border(vt.output,vt.next_out),Be=vt.next_out-xe,Oe=k.buf2string(vt.output,xe),vt.next_out=Be,vt.avail_out=lt-Be,Be&&M.arraySet(vt.output,vt.output,xe,Be,0),this.onData(Oe)):this.onData(M.shrinkBuf(vt.output,vt.next_out)))),vt.avail_in===0&&vt.avail_out===0&&(It=!0)}while((0<vt.avail_in||vt.avail_out===0)&&se!==L.Z_STREAM_END);return se===L.Z_STREAM_END&&(he=L.Z_FINISH),he===L.Z_FINISH?(se=E.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===L.Z_OK):he!==L.Z_SYNC_FLUSH||(this.onEnd(L.Z_OK),!(vt.avail_out=0))},W.prototype.onData=function($){this.chunks.push($)},W.prototype.onEnd=function($){$===L.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=M.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},w.Inflate=W,w.inflate=ee,w.inflateRaw=function($,ie){return(ie=ie||{}).raw=!0,ee($,ie)},w.ungzip=ee},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,m,w){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(L){for(var U=Array.prototype.slice.call(arguments,1);U.length;){var q=U.shift();if(q){if(typeof q!="object")throw new TypeError(q+"must be non-object");for(var J in q)q.hasOwnProperty(J)&&(L[J]=q[J])}}return L},w.shrinkBuf=function(L,U){return L.length===U?L:L.subarray?L.subarray(0,U):(L.length=U,L)};var M={arraySet:function(L,U,q,J,Q){if(U.subarray&&L.subarray)L.set(U.subarray(q,q+J),Q);else for(var W=0;W<J;W++)L[Q+W]=U[q+W]},flattenChunks:function(L){var U,q,J,Q,W,ee;for(U=J=0,q=L.length;U<q;U++)J+=L[U].length;for(ee=new Uint8Array(J),U=Q=0,q=L.length;U<q;U++)W=L[U],ee.set(W,Q),Q+=W.length;return ee}},k={arraySet:function(L,U,q,J,Q){for(var W=0;W<J;W++)L[Q+W]=U[q+W]},flattenChunks:function(L){return[].concat.apply([],L)}};w.setTyped=function(L){L?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,M)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,k))},w.setTyped(E)},{}],42:[function(u,m,w){var E=u("./common"),M=!0,k=!0;try{String.fromCharCode.apply(null,[0])}catch{M=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{k=!1}for(var L=new E.Buf8(256),U=0;U<256;U++)L[U]=252<=U?6:248<=U?5:240<=U?4:224<=U?3:192<=U?2:1;function q(J,Q){if(Q<65537&&(J.subarray&&k||!J.subarray&&M))return String.fromCharCode.apply(null,E.shrinkBuf(J,Q));for(var W="",ee=0;ee<Q;ee++)W+=String.fromCharCode(J[ee]);return W}L[254]=L[254]=1,w.string2buf=function(J){var Q,W,ee,$,ie,se=J.length,he=0;for($=0;$<se;$++)(64512&(W=J.charCodeAt($)))==55296&&$+1<se&&(64512&(ee=J.charCodeAt($+1)))==56320&&(W=65536+(W-55296<<10)+(ee-56320),$++),he+=W<128?1:W<2048?2:W<65536?3:4;for(Q=new E.Buf8(he),$=ie=0;ie<he;$++)(64512&(W=J.charCodeAt($)))==55296&&$+1<se&&(64512&(ee=J.charCodeAt($+1)))==56320&&(W=65536+(W-55296<<10)+(ee-56320),$++),W<128?Q[ie++]=W:(W<2048?Q[ie++]=192|W>>>6:(W<65536?Q[ie++]=224|W>>>12:(Q[ie++]=240|W>>>18,Q[ie++]=128|W>>>12&63),Q[ie++]=128|W>>>6&63),Q[ie++]=128|63&W);return Q},w.buf2binstring=function(J){return q(J,J.length)},w.binstring2buf=function(J){for(var Q=new E.Buf8(J.length),W=0,ee=Q.length;W<ee;W++)Q[W]=J.charCodeAt(W);return Q},w.buf2string=function(J,Q){var W,ee,$,ie,se=Q||J.length,he=new Array(2*se);for(W=ee=0;W<se;)if(($=J[W++])<128)he[ee++]=$;else if(4<(ie=L[$]))he[ee++]=65533,W+=ie-1;else{for($&=ie===2?31:ie===3?15:7;1<ie&&W<se;)$=$<<6|63&J[W++],ie--;1<ie?he[ee++]=65533:$<65536?he[ee++]=$:($-=65536,he[ee++]=55296|$>>10&1023,he[ee++]=56320|1023&$)}return q(he,ee)},w.utf8border=function(J,Q){var W;for((Q=Q||J.length)>J.length&&(Q=J.length),W=Q-1;0<=W&&(192&J[W])==128;)W--;return W<0||W===0?Q:W+L[J[W]]>Q?W:Q}},{"./common":41}],43:[function(u,m,w){m.exports=function(E,M,k,L){for(var U=65535&E|0,q=E>>>16&65535|0,J=0;k!==0;){for(k-=J=2e3<k?2e3:k;q=q+(U=U+M[L++]|0)|0,--J;);U%=65521,q%=65521}return U|q<<16|0}},{}],44:[function(u,m,w){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,m,w){var E=function(){for(var M,k=[],L=0;L<256;L++){M=L;for(var U=0;U<8;U++)M=1&M?3988292384^M>>>1:M>>>1;k[L]=M}return k}();m.exports=function(M,k,L,U){var q=E,J=U+L;M^=-1;for(var Q=U;Q<J;Q++)M=M>>>8^q[255&(M^k[Q])];return-1^M}},{}],46:[function(u,m,w){var E,M=u("../utils/common"),k=u("./trees"),L=u("./adler32"),U=u("./crc32"),q=u("./messages"),J=0,Q=4,W=0,ee=-2,$=-1,ie=4,se=2,he=8,xe=9,Be=286,Oe=30,He=19,vt=2*Be+1,lt=15,ht=3,It=258,_n=It+ht+1,We=42,kt=113,Ee=1,Ht=2,cr=3,bt=4;function Et(Ie,Tn){return Ie.msg=q[Tn],Tn}function Wt(Ie){return(Ie<<1)-(4<Ie?9:0)}function Hn(Ie){for(var Tn=Ie.length;0<=--Tn;)Ie[Tn]=0}function Xe(Ie){var Tn=Ie.state,Cn=Tn.pending;Cn>Ie.avail_out&&(Cn=Ie.avail_out),Cn!==0&&(M.arraySet(Ie.output,Tn.pending_buf,Tn.pending_out,Cn,Ie.next_out),Ie.next_out+=Cn,Tn.pending_out+=Cn,Ie.total_out+=Cn,Ie.avail_out-=Cn,Tn.pending-=Cn,Tn.pending===0&&(Tn.pending_out=0))}function it(Ie,Tn){k._tr_flush_block(Ie,0<=Ie.block_start?Ie.block_start:-1,Ie.strstart-Ie.block_start,Tn),Ie.block_start=Ie.strstart,Xe(Ie.strm)}function hn(Ie,Tn){Ie.pending_buf[Ie.pending++]=Tn}function vn(Ie,Tn){Ie.pending_buf[Ie.pending++]=Tn>>>8&255,Ie.pending_buf[Ie.pending++]=255&Tn}function En(Ie,Tn){var Cn,gt,mt=Ie.max_chain_length,Jt=Ie.strstart,Xn=Ie.prev_length,rr=Ie.nice_match,pn=Ie.strstart>Ie.w_size-_n?Ie.strstart-(Ie.w_size-_n):0,pr=Ie.window,Zn=Ie.w_mask,or=Ie.prev,Bi=Ie.strstart+It,Es=pr[Jt+Xn-1],fo=pr[Jt+Xn];Ie.prev_length>=Ie.good_match&&(mt>>=2),rr>Ie.lookahead&&(rr=Ie.lookahead);do if(pr[(Cn=Tn)+Xn]===fo&&pr[Cn+Xn-1]===Es&&pr[Cn]===pr[Jt]&&pr[++Cn]===pr[Jt+1]){Jt+=2,Cn++;do;while(pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&pr[++Jt]===pr[++Cn]&&Jt<Bi);if(gt=It-(Bi-Jt),Jt=Bi-It,Xn<gt){if(Ie.match_start=Tn,rr<=(Xn=gt))break;Es=pr[Jt+Xn-1],fo=pr[Jt+Xn]}}while((Tn=or[Tn&Zn])>pn&&--mt!=0);return Xn<=Ie.lookahead?Xn:Ie.lookahead}function Qt(Ie){var Tn,Cn,gt,mt,Jt,Xn,rr,pn,pr,Zn,or=Ie.w_size;do{if(mt=Ie.window_size-Ie.lookahead-Ie.strstart,Ie.strstart>=or+(or-_n)){for(M.arraySet(Ie.window,Ie.window,or,or,0),Ie.match_start-=or,Ie.strstart-=or,Ie.block_start-=or,Tn=Cn=Ie.hash_size;gt=Ie.head[--Tn],Ie.head[Tn]=or<=gt?gt-or:0,--Cn;);for(Tn=Cn=or;gt=Ie.prev[--Tn],Ie.prev[Tn]=or<=gt?gt-or:0,--Cn;);mt+=or}if(Ie.strm.avail_in===0)break;if(Xn=Ie.strm,rr=Ie.window,pn=Ie.strstart+Ie.lookahead,pr=mt,Zn=void 0,Zn=Xn.avail_in,pr<Zn&&(Zn=pr),Cn=Zn===0?0:(Xn.avail_in-=Zn,M.arraySet(rr,Xn.input,Xn.next_in,Zn,pn),Xn.state.wrap===1?Xn.adler=L(Xn.adler,rr,Zn,pn):Xn.state.wrap===2&&(Xn.adler=U(Xn.adler,rr,Zn,pn)),Xn.next_in+=Zn,Xn.total_in+=Zn,Zn),Ie.lookahead+=Cn,Ie.lookahead+Ie.insert>=ht)for(Jt=Ie.strstart-Ie.insert,Ie.ins_h=Ie.window[Jt],Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Jt+1])&Ie.hash_mask;Ie.insert&&(Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Jt+ht-1])&Ie.hash_mask,Ie.prev[Jt&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=Jt,Jt++,Ie.insert--,!(Ie.lookahead+Ie.insert<ht)););}while(Ie.lookahead<_n&&Ie.strm.avail_in!==0)}function Jr(Ie,Tn){for(var Cn,gt;;){if(Ie.lookahead<_n){if(Qt(Ie),Ie.lookahead<_n&&Tn===J)return Ee;if(Ie.lookahead===0)break}if(Cn=0,Ie.lookahead>=ht&&(Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Ie.strstart+ht-1])&Ie.hash_mask,Cn=Ie.prev[Ie.strstart&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=Ie.strstart),Cn!==0&&Ie.strstart-Cn<=Ie.w_size-_n&&(Ie.match_length=En(Ie,Cn)),Ie.match_length>=ht)if(gt=k._tr_tally(Ie,Ie.strstart-Ie.match_start,Ie.match_length-ht),Ie.lookahead-=Ie.match_length,Ie.match_length<=Ie.max_lazy_match&&Ie.lookahead>=ht){for(Ie.match_length--;Ie.strstart++,Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Ie.strstart+ht-1])&Ie.hash_mask,Cn=Ie.prev[Ie.strstart&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=Ie.strstart,--Ie.match_length!=0;);Ie.strstart++}else Ie.strstart+=Ie.match_length,Ie.match_length=0,Ie.ins_h=Ie.window[Ie.strstart],Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Ie.strstart+1])&Ie.hash_mask;else gt=k._tr_tally(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++;if(gt&&(it(Ie,!1),Ie.strm.avail_out===0))return Ee}return Ie.insert=Ie.strstart<ht-1?Ie.strstart:ht-1,Tn===Q?(it(Ie,!0),Ie.strm.avail_out===0?cr:bt):Ie.last_lit&&(it(Ie,!1),Ie.strm.avail_out===0)?Ee:Ht}function jn(Ie,Tn){for(var Cn,gt,mt;;){if(Ie.lookahead<_n){if(Qt(Ie),Ie.lookahead<_n&&Tn===J)return Ee;if(Ie.lookahead===0)break}if(Cn=0,Ie.lookahead>=ht&&(Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Ie.strstart+ht-1])&Ie.hash_mask,Cn=Ie.prev[Ie.strstart&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=Ie.strstart),Ie.prev_length=Ie.match_length,Ie.prev_match=Ie.match_start,Ie.match_length=ht-1,Cn!==0&&Ie.prev_length<Ie.max_lazy_match&&Ie.strstart-Cn<=Ie.w_size-_n&&(Ie.match_length=En(Ie,Cn),Ie.match_length<=5&&(Ie.strategy===1||Ie.match_length===ht&&4096<Ie.strstart-Ie.match_start)&&(Ie.match_length=ht-1)),Ie.prev_length>=ht&&Ie.match_length<=Ie.prev_length){for(mt=Ie.strstart+Ie.lookahead-ht,gt=k._tr_tally(Ie,Ie.strstart-1-Ie.prev_match,Ie.prev_length-ht),Ie.lookahead-=Ie.prev_length-1,Ie.prev_length-=2;++Ie.strstart<=mt&&(Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[Ie.strstart+ht-1])&Ie.hash_mask,Cn=Ie.prev[Ie.strstart&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=Ie.strstart),--Ie.prev_length!=0;);if(Ie.match_available=0,Ie.match_length=ht-1,Ie.strstart++,gt&&(it(Ie,!1),Ie.strm.avail_out===0))return Ee}else if(Ie.match_available){if((gt=k._tr_tally(Ie,0,Ie.window[Ie.strstart-1]))&&it(Ie,!1),Ie.strstart++,Ie.lookahead--,Ie.strm.avail_out===0)return Ee}else Ie.match_available=1,Ie.strstart++,Ie.lookahead--}return Ie.match_available&&(gt=k._tr_tally(Ie,0,Ie.window[Ie.strstart-1]),Ie.match_available=0),Ie.insert=Ie.strstart<ht-1?Ie.strstart:ht-1,Tn===Q?(it(Ie,!0),Ie.strm.avail_out===0?cr:bt):Ie.last_lit&&(it(Ie,!1),Ie.strm.avail_out===0)?Ee:Ht}function Vr(Ie,Tn,Cn,gt,mt){this.good_length=Ie,this.max_lazy=Tn,this.nice_length=Cn,this.max_chain=gt,this.func=mt}function Si(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=he,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*vt),this.dyn_dtree=new M.Buf16(2*(2*Oe+1)),this.bl_tree=new M.Buf16(2*(2*He+1)),Hn(this.dyn_ltree),Hn(this.dyn_dtree),Hn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(lt+1),this.heap=new M.Buf16(2*Be+1),Hn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*Be+1),Hn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Wi(Ie){var Tn;return Ie&&Ie.state?(Ie.total_in=Ie.total_out=0,Ie.data_type=se,(Tn=Ie.state).pending=0,Tn.pending_out=0,Tn.wrap<0&&(Tn.wrap=-Tn.wrap),Tn.status=Tn.wrap?We:kt,Ie.adler=Tn.wrap===2?0:1,Tn.last_flush=J,k._tr_init(Tn),W):Et(Ie,ee)}function Hi(Ie){var Tn=Wi(Ie);return Tn===W&&function(Cn){Cn.window_size=2*Cn.w_size,Hn(Cn.head),Cn.max_lazy_match=E[Cn.level].max_lazy,Cn.good_match=E[Cn.level].good_length,Cn.nice_match=E[Cn.level].nice_length,Cn.max_chain_length=E[Cn.level].max_chain,Cn.strstart=0,Cn.block_start=0,Cn.lookahead=0,Cn.insert=0,Cn.match_length=Cn.prev_length=ht-1,Cn.match_available=0,Cn.ins_h=0}(Ie.state),Tn}function Ls(Ie,Tn,Cn,gt,mt,Jt){if(!Ie)return ee;var Xn=1;if(Tn===$&&(Tn=6),gt<0?(Xn=0,gt=-gt):15<gt&&(Xn=2,gt-=16),mt<1||xe<mt||Cn!==he||gt<8||15<gt||Tn<0||9<Tn||Jt<0||ie<Jt)return Et(Ie,ee);gt===8&&(gt=9);var rr=new Si;return(Ie.state=rr).strm=Ie,rr.wrap=Xn,rr.gzhead=null,rr.w_bits=gt,rr.w_size=1<<rr.w_bits,rr.w_mask=rr.w_size-1,rr.hash_bits=mt+7,rr.hash_size=1<<rr.hash_bits,rr.hash_mask=rr.hash_size-1,rr.hash_shift=~~((rr.hash_bits+ht-1)/ht),rr.window=new M.Buf8(2*rr.w_size),rr.head=new M.Buf16(rr.hash_size),rr.prev=new M.Buf16(rr.w_size),rr.lit_bufsize=1<<mt+6,rr.pending_buf_size=4*rr.lit_bufsize,rr.pending_buf=new M.Buf8(rr.pending_buf_size),rr.d_buf=1*rr.lit_bufsize,rr.l_buf=3*rr.lit_bufsize,rr.level=Tn,rr.strategy=Jt,rr.method=Cn,Hi(Ie)}E=[new Vr(0,0,0,0,function(Ie,Tn){var Cn=65535;for(Cn>Ie.pending_buf_size-5&&(Cn=Ie.pending_buf_size-5);;){if(Ie.lookahead<=1){if(Qt(Ie),Ie.lookahead===0&&Tn===J)return Ee;if(Ie.lookahead===0)break}Ie.strstart+=Ie.lookahead,Ie.lookahead=0;var gt=Ie.block_start+Cn;if((Ie.strstart===0||Ie.strstart>=gt)&&(Ie.lookahead=Ie.strstart-gt,Ie.strstart=gt,it(Ie,!1),Ie.strm.avail_out===0)||Ie.strstart-Ie.block_start>=Ie.w_size-_n&&(it(Ie,!1),Ie.strm.avail_out===0))return Ee}return Ie.insert=0,Tn===Q?(it(Ie,!0),Ie.strm.avail_out===0?cr:bt):(Ie.strstart>Ie.block_start&&(it(Ie,!1),Ie.strm.avail_out),Ee)}),new Vr(4,4,8,4,Jr),new Vr(4,5,16,8,Jr),new Vr(4,6,32,32,Jr),new Vr(4,4,16,16,jn),new Vr(8,16,32,32,jn),new Vr(8,16,128,128,jn),new Vr(8,32,128,256,jn),new Vr(32,128,258,1024,jn),new Vr(32,258,258,4096,jn)],w.deflateInit=function(Ie,Tn){return Ls(Ie,Tn,he,15,8,0)},w.deflateInit2=Ls,w.deflateReset=Hi,w.deflateResetKeep=Wi,w.deflateSetHeader=function(Ie,Tn){return Ie&&Ie.state?Ie.state.wrap!==2?ee:(Ie.state.gzhead=Tn,W):ee},w.deflate=function(Ie,Tn){var Cn,gt,mt,Jt;if(!Ie||!Ie.state||5<Tn||Tn<0)return Ie?Et(Ie,ee):ee;if(gt=Ie.state,!Ie.output||!Ie.input&&Ie.avail_in!==0||gt.status===666&&Tn!==Q)return Et(Ie,Ie.avail_out===0?-5:ee);if(gt.strm=Ie,Cn=gt.last_flush,gt.last_flush=Tn,gt.status===We)if(gt.wrap===2)Ie.adler=0,hn(gt,31),hn(gt,139),hn(gt,8),gt.gzhead?(hn(gt,(gt.gzhead.text?1:0)+(gt.gzhead.hcrc?2:0)+(gt.gzhead.extra?4:0)+(gt.gzhead.name?8:0)+(gt.gzhead.comment?16:0)),hn(gt,255&gt.gzhead.time),hn(gt,gt.gzhead.time>>8&255),hn(gt,gt.gzhead.time>>16&255),hn(gt,gt.gzhead.time>>24&255),hn(gt,gt.level===9?2:2<=gt.strategy||gt.level<2?4:0),hn(gt,255&gt.gzhead.os),gt.gzhead.extra&&gt.gzhead.extra.length&&(hn(gt,255&gt.gzhead.extra.length),hn(gt,gt.gzhead.extra.length>>8&255)),gt.gzhead.hcrc&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending,0)),gt.gzindex=0,gt.status=69):(hn(gt,0),hn(gt,0),hn(gt,0),hn(gt,0),hn(gt,0),hn(gt,gt.level===9?2:2<=gt.strategy||gt.level<2?4:0),hn(gt,3),gt.status=kt);else{var Xn=he+(gt.w_bits-8<<4)<<8;Xn|=(2<=gt.strategy||gt.level<2?0:gt.level<6?1:gt.level===6?2:3)<<6,gt.strstart!==0&&(Xn|=32),Xn+=31-Xn%31,gt.status=kt,vn(gt,Xn),gt.strstart!==0&&(vn(gt,Ie.adler>>>16),vn(gt,65535&Ie.adler)),Ie.adler=1}if(gt.status===69)if(gt.gzhead.extra){for(mt=gt.pending;gt.gzindex<(65535&gt.gzhead.extra.length)&&(gt.pending!==gt.pending_buf_size||(gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),Xe(Ie),mt=gt.pending,gt.pending!==gt.pending_buf_size));)hn(gt,255&gt.gzhead.extra[gt.gzindex]),gt.gzindex++;gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),gt.gzindex===gt.gzhead.extra.length&&(gt.gzindex=0,gt.status=73)}else gt.status=73;if(gt.status===73)if(gt.gzhead.name){mt=gt.pending;do{if(gt.pending===gt.pending_buf_size&&(gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),Xe(Ie),mt=gt.pending,gt.pending===gt.pending_buf_size)){Jt=1;break}Jt=gt.gzindex<gt.gzhead.name.length?255&gt.gzhead.name.charCodeAt(gt.gzindex++):0,hn(gt,Jt)}while(Jt!==0);gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),Jt===0&&(gt.gzindex=0,gt.status=91)}else gt.status=91;if(gt.status===91)if(gt.gzhead.comment){mt=gt.pending;do{if(gt.pending===gt.pending_buf_size&&(gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),Xe(Ie),mt=gt.pending,gt.pending===gt.pending_buf_size)){Jt=1;break}Jt=gt.gzindex<gt.gzhead.comment.length?255&gt.gzhead.comment.charCodeAt(gt.gzindex++):0,hn(gt,Jt)}while(Jt!==0);gt.gzhead.hcrc&&gt.pending>mt&&(Ie.adler=U(Ie.adler,gt.pending_buf,gt.pending-mt,mt)),Jt===0&&(gt.status=103)}else gt.status=103;if(gt.status===103&&(gt.gzhead.hcrc?(gt.pending+2>gt.pending_buf_size&&Xe(Ie),gt.pending+2<=gt.pending_buf_size&&(hn(gt,255&Ie.adler),hn(gt,Ie.adler>>8&255),Ie.adler=0,gt.status=kt)):gt.status=kt),gt.pending!==0){if(Xe(Ie),Ie.avail_out===0)return gt.last_flush=-1,W}else if(Ie.avail_in===0&&Wt(Tn)<=Wt(Cn)&&Tn!==Q)return Et(Ie,-5);if(gt.status===666&&Ie.avail_in!==0)return Et(Ie,-5);if(Ie.avail_in!==0||gt.lookahead!==0||Tn!==J&&gt.status!==666){var rr=gt.strategy===2?function(pn,pr){for(var Zn;;){if(pn.lookahead===0&&(Qt(pn),pn.lookahead===0)){if(pr===J)return Ee;break}if(pn.match_length=0,Zn=k._tr_tally(pn,0,pn.window[pn.strstart]),pn.lookahead--,pn.strstart++,Zn&&(it(pn,!1),pn.strm.avail_out===0))return Ee}return pn.insert=0,pr===Q?(it(pn,!0),pn.strm.avail_out===0?cr:bt):pn.last_lit&&(it(pn,!1),pn.strm.avail_out===0)?Ee:Ht}(gt,Tn):gt.strategy===3?function(pn,pr){for(var Zn,or,Bi,Es,fo=pn.window;;){if(pn.lookahead<=It){if(Qt(pn),pn.lookahead<=It&&pr===J)return Ee;if(pn.lookahead===0)break}if(pn.match_length=0,pn.lookahead>=ht&&0<pn.strstart&&(or=fo[Bi=pn.strstart-1])===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]){Es=pn.strstart+It;do;while(or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&or===fo[++Bi]&&Bi<Es);pn.match_length=It-(Es-Bi),pn.match_length>pn.lookahead&&(pn.match_length=pn.lookahead)}if(pn.match_length>=ht?(Zn=k._tr_tally(pn,1,pn.match_length-ht),pn.lookahead-=pn.match_length,pn.strstart+=pn.match_length,pn.match_length=0):(Zn=k._tr_tally(pn,0,pn.window[pn.strstart]),pn.lookahead--,pn.strstart++),Zn&&(it(pn,!1),pn.strm.avail_out===0))return Ee}return pn.insert=0,pr===Q?(it(pn,!0),pn.strm.avail_out===0?cr:bt):pn.last_lit&&(it(pn,!1),pn.strm.avail_out===0)?Ee:Ht}(gt,Tn):E[gt.level].func(gt,Tn);if(rr!==cr&&rr!==bt||(gt.status=666),rr===Ee||rr===cr)return Ie.avail_out===0&&(gt.last_flush=-1),W;if(rr===Ht&&(Tn===1?k._tr_align(gt):Tn!==5&&(k._tr_stored_block(gt,0,0,!1),Tn===3&&(Hn(gt.head),gt.lookahead===0&&(gt.strstart=0,gt.block_start=0,gt.insert=0))),Xe(Ie),Ie.avail_out===0))return gt.last_flush=-1,W}return Tn!==Q?W:gt.wrap<=0?1:(gt.wrap===2?(hn(gt,255&Ie.adler),hn(gt,Ie.adler>>8&255),hn(gt,Ie.adler>>16&255),hn(gt,Ie.adler>>24&255),hn(gt,255&Ie.total_in),hn(gt,Ie.total_in>>8&255),hn(gt,Ie.total_in>>16&255),hn(gt,Ie.total_in>>24&255)):(vn(gt,Ie.adler>>>16),vn(gt,65535&Ie.adler)),Xe(Ie),0<gt.wrap&&(gt.wrap=-gt.wrap),gt.pending!==0?W:1)},w.deflateEnd=function(Ie){var Tn;return Ie&&Ie.state?(Tn=Ie.state.status)!==We&&Tn!==69&&Tn!==73&&Tn!==91&&Tn!==103&&Tn!==kt&&Tn!==666?Et(Ie,ee):(Ie.state=null,Tn===kt?Et(Ie,-3):W):ee},w.deflateSetDictionary=function(Ie,Tn){var Cn,gt,mt,Jt,Xn,rr,pn,pr,Zn=Tn.length;if(!Ie||!Ie.state||(Jt=(Cn=Ie.state).wrap)===2||Jt===1&&Cn.status!==We||Cn.lookahead)return ee;for(Jt===1&&(Ie.adler=L(Ie.adler,Tn,Zn,0)),Cn.wrap=0,Zn>=Cn.w_size&&(Jt===0&&(Hn(Cn.head),Cn.strstart=0,Cn.block_start=0,Cn.insert=0),pr=new M.Buf8(Cn.w_size),M.arraySet(pr,Tn,Zn-Cn.w_size,Cn.w_size,0),Tn=pr,Zn=Cn.w_size),Xn=Ie.avail_in,rr=Ie.next_in,pn=Ie.input,Ie.avail_in=Zn,Ie.next_in=0,Ie.input=Tn,Qt(Cn);Cn.lookahead>=ht;){for(gt=Cn.strstart,mt=Cn.lookahead-(ht-1);Cn.ins_h=(Cn.ins_h<<Cn.hash_shift^Cn.window[gt+ht-1])&Cn.hash_mask,Cn.prev[gt&Cn.w_mask]=Cn.head[Cn.ins_h],Cn.head[Cn.ins_h]=gt,gt++,--mt;);Cn.strstart=gt,Cn.lookahead=ht-1,Qt(Cn)}return Cn.strstart+=Cn.lookahead,Cn.block_start=Cn.strstart,Cn.insert=Cn.lookahead,Cn.lookahead=0,Cn.match_length=Cn.prev_length=ht-1,Cn.match_available=0,Ie.next_in=rr,Ie.input=pn,Ie.avail_in=Xn,Cn.wrap=Jt,W},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,m,w){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,m,w){m.exports=function(E,M){var k,L,U,q,J,Q,W,ee,$,ie,se,he,xe,Be,Oe,He,vt,lt,ht,It,_n,We,kt,Ee,Ht;k=E.state,L=E.next_in,Ee=E.input,U=L+(E.avail_in-5),q=E.next_out,Ht=E.output,J=q-(M-E.avail_out),Q=q+(E.avail_out-257),W=k.dmax,ee=k.wsize,$=k.whave,ie=k.wnext,se=k.window,he=k.hold,xe=k.bits,Be=k.lencode,Oe=k.distcode,He=(1<<k.lenbits)-1,vt=(1<<k.distbits)-1;e:do{xe<15&&(he+=Ee[L++]<<xe,xe+=8,he+=Ee[L++]<<xe,xe+=8),lt=Be[he&He];t:for(;;){if(he>>>=ht=lt>>>24,xe-=ht,(ht=lt>>>16&255)===0)Ht[q++]=65535&lt;else{if(!(16&ht)){if(!(64&ht)){lt=Be[(65535&lt)+(he&(1<<ht)-1)];continue t}if(32&ht){k.mode=12;break e}E.msg="invalid literal/length code",k.mode=30;break e}It=65535&lt,(ht&=15)&&(xe<ht&&(he+=Ee[L++]<<xe,xe+=8),It+=he&(1<<ht)-1,he>>>=ht,xe-=ht),xe<15&&(he+=Ee[L++]<<xe,xe+=8,he+=Ee[L++]<<xe,xe+=8),lt=Oe[he&vt];n:for(;;){if(he>>>=ht=lt>>>24,xe-=ht,!(16&(ht=lt>>>16&255))){if(!(64&ht)){lt=Oe[(65535&lt)+(he&(1<<ht)-1)];continue n}E.msg="invalid distance code",k.mode=30;break e}if(_n=65535&lt,xe<(ht&=15)&&(he+=Ee[L++]<<xe,(xe+=8)<ht&&(he+=Ee[L++]<<xe,xe+=8)),W<(_n+=he&(1<<ht)-1)){E.msg="invalid distance too far back",k.mode=30;break e}if(he>>>=ht,xe-=ht,(ht=q-J)<_n){if($<(ht=_n-ht)&&k.sane){E.msg="invalid distance too far back",k.mode=30;break e}if(kt=se,(We=0)===ie){if(We+=ee-ht,ht<It){for(It-=ht;Ht[q++]=se[We++],--ht;);We=q-_n,kt=Ht}}else if(ie<ht){if(We+=ee+ie-ht,(ht-=ie)<It){for(It-=ht;Ht[q++]=se[We++],--ht;);if(We=0,ie<It){for(It-=ht=ie;Ht[q++]=se[We++],--ht;);We=q-_n,kt=Ht}}}else if(We+=ie-ht,ht<It){for(It-=ht;Ht[q++]=se[We++],--ht;);We=q-_n,kt=Ht}for(;2<It;)Ht[q++]=kt[We++],Ht[q++]=kt[We++],Ht[q++]=kt[We++],It-=3;It&&(Ht[q++]=kt[We++],1<It&&(Ht[q++]=kt[We++]))}else{for(We=q-_n;Ht[q++]=Ht[We++],Ht[q++]=Ht[We++],Ht[q++]=Ht[We++],2<(It-=3););It&&(Ht[q++]=Ht[We++],1<It&&(Ht[q++]=Ht[We++]))}break}}break}}while(L<U&&q<Q);L-=It=xe>>3,he&=(1<<(xe-=It<<3))-1,E.next_in=L,E.next_out=q,E.avail_in=L<U?U-L+5:5-(L-U),E.avail_out=q<Q?Q-q+257:257-(q-Q),k.hold=he,k.bits=xe}},{}],49:[function(u,m,w){var E=u("../utils/common"),M=u("./adler32"),k=u("./crc32"),L=u("./inffast"),U=u("./inftrees"),q=1,J=2,Q=0,W=-2,ee=1,$=852,ie=592;function se(We){return(We>>>24&255)+(We>>>8&65280)+((65280&We)<<8)+((255&We)<<24)}function he(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new E.Buf16(320),this.work=new E.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xe(We){var kt;return We&&We.state?(kt=We.state,We.total_in=We.total_out=kt.total=0,We.msg="",kt.wrap&&(We.adler=1&kt.wrap),kt.mode=ee,kt.last=0,kt.havedict=0,kt.dmax=32768,kt.head=null,kt.hold=0,kt.bits=0,kt.lencode=kt.lendyn=new E.Buf32($),kt.distcode=kt.distdyn=new E.Buf32(ie),kt.sane=1,kt.back=-1,Q):W}function Be(We){var kt;return We&&We.state?((kt=We.state).wsize=0,kt.whave=0,kt.wnext=0,xe(We)):W}function Oe(We,kt){var Ee,Ht;return We&&We.state?(Ht=We.state,kt<0?(Ee=0,kt=-kt):(Ee=1+(kt>>4),kt<48&&(kt&=15)),kt&&(kt<8||15<kt)?W:(Ht.window!==null&&Ht.wbits!==kt&&(Ht.window=null),Ht.wrap=Ee,Ht.wbits=kt,Be(We))):W}function He(We,kt){var Ee,Ht;return We?(Ht=new he,(We.state=Ht).window=null,(Ee=Oe(We,kt))!==Q&&(We.state=null),Ee):W}var vt,lt,ht=!0;function It(We){if(ht){var kt;for(vt=new E.Buf32(512),lt=new E.Buf32(32),kt=0;kt<144;)We.lens[kt++]=8;for(;kt<256;)We.lens[kt++]=9;for(;kt<280;)We.lens[kt++]=7;for(;kt<288;)We.lens[kt++]=8;for(U(q,We.lens,0,288,vt,0,We.work,{bits:9}),kt=0;kt<32;)We.lens[kt++]=5;U(J,We.lens,0,32,lt,0,We.work,{bits:5}),ht=!1}We.lencode=vt,We.lenbits=9,We.distcode=lt,We.distbits=5}function _n(We,kt,Ee,Ht){var cr,bt=We.state;return bt.window===null&&(bt.wsize=1<<bt.wbits,bt.wnext=0,bt.whave=0,bt.window=new E.Buf8(bt.wsize)),Ht>=bt.wsize?(E.arraySet(bt.window,kt,Ee-bt.wsize,bt.wsize,0),bt.wnext=0,bt.whave=bt.wsize):(Ht<(cr=bt.wsize-bt.wnext)&&(cr=Ht),E.arraySet(bt.window,kt,Ee-Ht,cr,bt.wnext),(Ht-=cr)?(E.arraySet(bt.window,kt,Ee-Ht,Ht,0),bt.wnext=Ht,bt.whave=bt.wsize):(bt.wnext+=cr,bt.wnext===bt.wsize&&(bt.wnext=0),bt.whave<bt.wsize&&(bt.whave+=cr))),0}w.inflateReset=Be,w.inflateReset2=Oe,w.inflateResetKeep=xe,w.inflateInit=function(We){return He(We,15)},w.inflateInit2=He,w.inflate=function(We,kt){var Ee,Ht,cr,bt,Et,Wt,Hn,Xe,it,hn,vn,En,Qt,Jr,jn,Vr,Si,Wi,Hi,Ls,Ie,Tn,Cn,gt,mt=0,Jt=new E.Buf8(4),Xn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!We||!We.state||!We.output||!We.input&&We.avail_in!==0)return W;(Ee=We.state).mode===12&&(Ee.mode=13),Et=We.next_out,cr=We.output,Hn=We.avail_out,bt=We.next_in,Ht=We.input,Wt=We.avail_in,Xe=Ee.hold,it=Ee.bits,hn=Wt,vn=Hn,Tn=Q;e:for(;;)switch(Ee.mode){case ee:if(Ee.wrap===0){Ee.mode=13;break}for(;it<16;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(2&Ee.wrap&&Xe===35615){Jt[Ee.check=0]=255&Xe,Jt[1]=Xe>>>8&255,Ee.check=k(Ee.check,Jt,2,0),it=Xe=0,Ee.mode=2;break}if(Ee.flags=0,Ee.head&&(Ee.head.done=!1),!(1&Ee.wrap)||(((255&Xe)<<8)+(Xe>>8))%31){We.msg="incorrect header check",Ee.mode=30;break}if((15&Xe)!=8){We.msg="unknown compression method",Ee.mode=30;break}if(it-=4,Ie=8+(15&(Xe>>>=4)),Ee.wbits===0)Ee.wbits=Ie;else if(Ie>Ee.wbits){We.msg="invalid window size",Ee.mode=30;break}Ee.dmax=1<<Ie,We.adler=Ee.check=1,Ee.mode=512&Xe?10:12,it=Xe=0;break;case 2:for(;it<16;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Ee.flags=Xe,(255&Ee.flags)!=8){We.msg="unknown compression method",Ee.mode=30;break}if(57344&Ee.flags){We.msg="unknown header flags set",Ee.mode=30;break}Ee.head&&(Ee.head.text=Xe>>8&1),512&Ee.flags&&(Jt[0]=255&Xe,Jt[1]=Xe>>>8&255,Ee.check=k(Ee.check,Jt,2,0)),it=Xe=0,Ee.mode=3;case 3:for(;it<32;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.head&&(Ee.head.time=Xe),512&Ee.flags&&(Jt[0]=255&Xe,Jt[1]=Xe>>>8&255,Jt[2]=Xe>>>16&255,Jt[3]=Xe>>>24&255,Ee.check=k(Ee.check,Jt,4,0)),it=Xe=0,Ee.mode=4;case 4:for(;it<16;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.head&&(Ee.head.xflags=255&Xe,Ee.head.os=Xe>>8),512&Ee.flags&&(Jt[0]=255&Xe,Jt[1]=Xe>>>8&255,Ee.check=k(Ee.check,Jt,2,0)),it=Xe=0,Ee.mode=5;case 5:if(1024&Ee.flags){for(;it<16;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.length=Xe,Ee.head&&(Ee.head.extra_len=Xe),512&Ee.flags&&(Jt[0]=255&Xe,Jt[1]=Xe>>>8&255,Ee.check=k(Ee.check,Jt,2,0)),it=Xe=0}else Ee.head&&(Ee.head.extra=null);Ee.mode=6;case 6:if(1024&Ee.flags&&(Wt<(En=Ee.length)&&(En=Wt),En&&(Ee.head&&(Ie=Ee.head.extra_len-Ee.length,Ee.head.extra||(Ee.head.extra=new Array(Ee.head.extra_len)),E.arraySet(Ee.head.extra,Ht,bt,En,Ie)),512&Ee.flags&&(Ee.check=k(Ee.check,Ht,En,bt)),Wt-=En,bt+=En,Ee.length-=En),Ee.length))break e;Ee.length=0,Ee.mode=7;case 7:if(2048&Ee.flags){if(Wt===0)break e;for(En=0;Ie=Ht[bt+En++],Ee.head&&Ie&&Ee.length<65536&&(Ee.head.name+=String.fromCharCode(Ie)),Ie&&En<Wt;);if(512&Ee.flags&&(Ee.check=k(Ee.check,Ht,En,bt)),Wt-=En,bt+=En,Ie)break e}else Ee.head&&(Ee.head.name=null);Ee.length=0,Ee.mode=8;case 8:if(4096&Ee.flags){if(Wt===0)break e;for(En=0;Ie=Ht[bt+En++],Ee.head&&Ie&&Ee.length<65536&&(Ee.head.comment+=String.fromCharCode(Ie)),Ie&&En<Wt;);if(512&Ee.flags&&(Ee.check=k(Ee.check,Ht,En,bt)),Wt-=En,bt+=En,Ie)break e}else Ee.head&&(Ee.head.comment=null);Ee.mode=9;case 9:if(512&Ee.flags){for(;it<16;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Xe!==(65535&Ee.check)){We.msg="header crc mismatch",Ee.mode=30;break}it=Xe=0}Ee.head&&(Ee.head.hcrc=Ee.flags>>9&1,Ee.head.done=!0),We.adler=Ee.check=0,Ee.mode=12;break;case 10:for(;it<32;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}We.adler=Ee.check=se(Xe),it=Xe=0,Ee.mode=11;case 11:if(Ee.havedict===0)return We.next_out=Et,We.avail_out=Hn,We.next_in=bt,We.avail_in=Wt,Ee.hold=Xe,Ee.bits=it,2;We.adler=Ee.check=1,Ee.mode=12;case 12:if(kt===5||kt===6)break e;case 13:if(Ee.last){Xe>>>=7&it,it-=7&it,Ee.mode=27;break}for(;it<3;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}switch(Ee.last=1&Xe,it-=1,3&(Xe>>>=1)){case 0:Ee.mode=14;break;case 1:if(It(Ee),Ee.mode=20,kt!==6)break;Xe>>>=2,it-=2;break e;case 2:Ee.mode=17;break;case 3:We.msg="invalid block type",Ee.mode=30}Xe>>>=2,it-=2;break;case 14:for(Xe>>>=7&it,it-=7&it;it<32;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if((65535&Xe)!=(Xe>>>16^65535)){We.msg="invalid stored block lengths",Ee.mode=30;break}if(Ee.length=65535&Xe,it=Xe=0,Ee.mode=15,kt===6)break e;case 15:Ee.mode=16;case 16:if(En=Ee.length){if(Wt<En&&(En=Wt),Hn<En&&(En=Hn),En===0)break e;E.arraySet(cr,Ht,bt,En,Et),Wt-=En,bt+=En,Hn-=En,Et+=En,Ee.length-=En;break}Ee.mode=12;break;case 17:for(;it<14;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Ee.nlen=257+(31&Xe),Xe>>>=5,it-=5,Ee.ndist=1+(31&Xe),Xe>>>=5,it-=5,Ee.ncode=4+(15&Xe),Xe>>>=4,it-=4,286<Ee.nlen||30<Ee.ndist){We.msg="too many length or distance symbols",Ee.mode=30;break}Ee.have=0,Ee.mode=18;case 18:for(;Ee.have<Ee.ncode;){for(;it<3;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.lens[Xn[Ee.have++]]=7&Xe,Xe>>>=3,it-=3}for(;Ee.have<19;)Ee.lens[Xn[Ee.have++]]=0;if(Ee.lencode=Ee.lendyn,Ee.lenbits=7,Cn={bits:Ee.lenbits},Tn=U(0,Ee.lens,0,19,Ee.lencode,0,Ee.work,Cn),Ee.lenbits=Cn.bits,Tn){We.msg="invalid code lengths set",Ee.mode=30;break}Ee.have=0,Ee.mode=19;case 19:for(;Ee.have<Ee.nlen+Ee.ndist;){for(;Vr=(mt=Ee.lencode[Xe&(1<<Ee.lenbits)-1])>>>16&255,Si=65535&mt,!((jn=mt>>>24)<=it);){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Si<16)Xe>>>=jn,it-=jn,Ee.lens[Ee.have++]=Si;else{if(Si===16){for(gt=jn+2;it<gt;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Xe>>>=jn,it-=jn,Ee.have===0){We.msg="invalid bit length repeat",Ee.mode=30;break}Ie=Ee.lens[Ee.have-1],En=3+(3&Xe),Xe>>>=2,it-=2}else if(Si===17){for(gt=jn+3;it<gt;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}it-=jn,Ie=0,En=3+(7&(Xe>>>=jn)),Xe>>>=3,it-=3}else{for(gt=jn+7;it<gt;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}it-=jn,Ie=0,En=11+(127&(Xe>>>=jn)),Xe>>>=7,it-=7}if(Ee.have+En>Ee.nlen+Ee.ndist){We.msg="invalid bit length repeat",Ee.mode=30;break}for(;En--;)Ee.lens[Ee.have++]=Ie}}if(Ee.mode===30)break;if(Ee.lens[256]===0){We.msg="invalid code -- missing end-of-block",Ee.mode=30;break}if(Ee.lenbits=9,Cn={bits:Ee.lenbits},Tn=U(q,Ee.lens,0,Ee.nlen,Ee.lencode,0,Ee.work,Cn),Ee.lenbits=Cn.bits,Tn){We.msg="invalid literal/lengths set",Ee.mode=30;break}if(Ee.distbits=6,Ee.distcode=Ee.distdyn,Cn={bits:Ee.distbits},Tn=U(J,Ee.lens,Ee.nlen,Ee.ndist,Ee.distcode,0,Ee.work,Cn),Ee.distbits=Cn.bits,Tn){We.msg="invalid distances set",Ee.mode=30;break}if(Ee.mode=20,kt===6)break e;case 20:Ee.mode=21;case 21:if(6<=Wt&&258<=Hn){We.next_out=Et,We.avail_out=Hn,We.next_in=bt,We.avail_in=Wt,Ee.hold=Xe,Ee.bits=it,L(We,vn),Et=We.next_out,cr=We.output,Hn=We.avail_out,bt=We.next_in,Ht=We.input,Wt=We.avail_in,Xe=Ee.hold,it=Ee.bits,Ee.mode===12&&(Ee.back=-1);break}for(Ee.back=0;Vr=(mt=Ee.lencode[Xe&(1<<Ee.lenbits)-1])>>>16&255,Si=65535&mt,!((jn=mt>>>24)<=it);){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Vr&&!(240&Vr)){for(Wi=jn,Hi=Vr,Ls=Si;Vr=(mt=Ee.lencode[Ls+((Xe&(1<<Wi+Hi)-1)>>Wi)])>>>16&255,Si=65535&mt,!(Wi+(jn=mt>>>24)<=it);){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Xe>>>=Wi,it-=Wi,Ee.back+=Wi}if(Xe>>>=jn,it-=jn,Ee.back+=jn,Ee.length=Si,Vr===0){Ee.mode=26;break}if(32&Vr){Ee.back=-1,Ee.mode=12;break}if(64&Vr){We.msg="invalid literal/length code",Ee.mode=30;break}Ee.extra=15&Vr,Ee.mode=22;case 22:if(Ee.extra){for(gt=Ee.extra;it<gt;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.length+=Xe&(1<<Ee.extra)-1,Xe>>>=Ee.extra,it-=Ee.extra,Ee.back+=Ee.extra}Ee.was=Ee.length,Ee.mode=23;case 23:for(;Vr=(mt=Ee.distcode[Xe&(1<<Ee.distbits)-1])>>>16&255,Si=65535&mt,!((jn=mt>>>24)<=it);){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(!(240&Vr)){for(Wi=jn,Hi=Vr,Ls=Si;Vr=(mt=Ee.distcode[Ls+((Xe&(1<<Wi+Hi)-1)>>Wi)])>>>16&255,Si=65535&mt,!(Wi+(jn=mt>>>24)<=it);){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Xe>>>=Wi,it-=Wi,Ee.back+=Wi}if(Xe>>>=jn,it-=jn,Ee.back+=jn,64&Vr){We.msg="invalid distance code",Ee.mode=30;break}Ee.offset=Si,Ee.extra=15&Vr,Ee.mode=24;case 24:if(Ee.extra){for(gt=Ee.extra;it<gt;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}Ee.offset+=Xe&(1<<Ee.extra)-1,Xe>>>=Ee.extra,it-=Ee.extra,Ee.back+=Ee.extra}if(Ee.offset>Ee.dmax){We.msg="invalid distance too far back",Ee.mode=30;break}Ee.mode=25;case 25:if(Hn===0)break e;if(En=vn-Hn,Ee.offset>En){if((En=Ee.offset-En)>Ee.whave&&Ee.sane){We.msg="invalid distance too far back",Ee.mode=30;break}Qt=En>Ee.wnext?(En-=Ee.wnext,Ee.wsize-En):Ee.wnext-En,En>Ee.length&&(En=Ee.length),Jr=Ee.window}else Jr=cr,Qt=Et-Ee.offset,En=Ee.length;for(Hn<En&&(En=Hn),Hn-=En,Ee.length-=En;cr[Et++]=Jr[Qt++],--En;);Ee.length===0&&(Ee.mode=21);break;case 26:if(Hn===0)break e;cr[Et++]=Ee.length,Hn--,Ee.mode=21;break;case 27:if(Ee.wrap){for(;it<32;){if(Wt===0)break e;Wt--,Xe|=Ht[bt++]<<it,it+=8}if(vn-=Hn,We.total_out+=vn,Ee.total+=vn,vn&&(We.adler=Ee.check=Ee.flags?k(Ee.check,cr,vn,Et-vn):M(Ee.check,cr,vn,Et-vn)),vn=Hn,(Ee.flags?Xe:se(Xe))!==Ee.check){We.msg="incorrect data check",Ee.mode=30;break}it=Xe=0}Ee.mode=28;case 28:if(Ee.wrap&&Ee.flags){for(;it<32;){if(Wt===0)break e;Wt--,Xe+=Ht[bt++]<<it,it+=8}if(Xe!==(4294967295&Ee.total)){We.msg="incorrect length check",Ee.mode=30;break}it=Xe=0}Ee.mode=29;case 29:Tn=1;break e;case 30:Tn=-3;break e;case 31:return-4;case 32:default:return W}return We.next_out=Et,We.avail_out=Hn,We.next_in=bt,We.avail_in=Wt,Ee.hold=Xe,Ee.bits=it,(Ee.wsize||vn!==We.avail_out&&Ee.mode<30&&(Ee.mode<27||kt!==4))&&_n(We,We.output,We.next_out,vn-We.avail_out)?(Ee.mode=31,-4):(hn-=We.avail_in,vn-=We.avail_out,We.total_in+=hn,We.total_out+=vn,Ee.total+=vn,Ee.wrap&&vn&&(We.adler=Ee.check=Ee.flags?k(Ee.check,cr,vn,We.next_out-vn):M(Ee.check,cr,vn,We.next_out-vn)),We.data_type=Ee.bits+(Ee.last?64:0)+(Ee.mode===12?128:0)+(Ee.mode===20||Ee.mode===15?256:0),(hn==0&&vn===0||kt===4)&&Tn===Q&&(Tn=-5),Tn)},w.inflateEnd=function(We){if(!We||!We.state)return W;var kt=We.state;return kt.window&&(kt.window=null),We.state=null,Q},w.inflateGetHeader=function(We,kt){var Ee;return We&&We.state&&2&(Ee=We.state).wrap?((Ee.head=kt).done=!1,Q):W},w.inflateSetDictionary=function(We,kt){var Ee,Ht=kt.length;return We&&We.state?(Ee=We.state).wrap!==0&&Ee.mode!==11?W:Ee.mode===11&&M(1,kt,Ht,0)!==Ee.check?-3:_n(We,kt,Ht,Ht)?(Ee.mode=31,-4):(Ee.havedict=1,Q):W},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,m,w){var E=u("../utils/common"),M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],U=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(q,J,Q,W,ee,$,ie,se){var he,xe,Be,Oe,He,vt,lt,ht,It,_n=se.bits,We=0,kt=0,Ee=0,Ht=0,cr=0,bt=0,Et=0,Wt=0,Hn=0,Xe=0,it=null,hn=0,vn=new E.Buf16(16),En=new E.Buf16(16),Qt=null,Jr=0;for(We=0;We<=15;We++)vn[We]=0;for(kt=0;kt<W;kt++)vn[J[Q+kt]]++;for(cr=_n,Ht=15;1<=Ht&&vn[Ht]===0;Ht--);if(Ht<cr&&(cr=Ht),Ht===0)return ee[$++]=20971520,ee[$++]=20971520,se.bits=1,0;for(Ee=1;Ee<Ht&&vn[Ee]===0;Ee++);for(cr<Ee&&(cr=Ee),We=Wt=1;We<=15;We++)if(Wt<<=1,(Wt-=vn[We])<0)return-1;if(0<Wt&&(q===0||Ht!==1))return-1;for(En[1]=0,We=1;We<15;We++)En[We+1]=En[We]+vn[We];for(kt=0;kt<W;kt++)J[Q+kt]!==0&&(ie[En[J[Q+kt]]++]=kt);if(vt=q===0?(it=Qt=ie,19):q===1?(it=M,hn-=257,Qt=k,Jr-=257,256):(it=L,Qt=U,-1),We=Ee,He=$,Et=kt=Xe=0,Be=-1,Oe=(Hn=1<<(bt=cr))-1,q===1&&852<Hn||q===2&&592<Hn)return 1;for(;;){for(lt=We-Et,It=ie[kt]<vt?(ht=0,ie[kt]):ie[kt]>vt?(ht=Qt[Jr+ie[kt]],it[hn+ie[kt]]):(ht=96,0),he=1<<We-Et,Ee=xe=1<<bt;ee[He+(Xe>>Et)+(xe-=he)]=lt<<24|ht<<16|It|0,xe!==0;);for(he=1<<We-1;Xe&he;)he>>=1;if(he!==0?(Xe&=he-1,Xe+=he):Xe=0,kt++,--vn[We]==0){if(We===Ht)break;We=J[Q+ie[kt]]}if(cr<We&&(Xe&Oe)!==Be){for(Et===0&&(Et=cr),He+=Ee,Wt=1<<(bt=We-Et);bt+Et<Ht&&!((Wt-=vn[bt+Et])<=0);)bt++,Wt<<=1;if(Hn+=1<<bt,q===1&&852<Hn||q===2&&592<Hn)return 1;ee[Be=Xe&Oe]=cr<<24|bt<<16|He-$|0}}return Xe!==0&&(ee[He+Xe]=We-Et<<24|64<<16|0),se.bits=cr,0}},{"../utils/common":41}],51:[function(u,m,w){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,m,w){var E=u("../utils/common"),M=0,k=1;function L(mt){for(var Jt=mt.length;0<=--Jt;)mt[Jt]=0}var U=0,q=29,J=256,Q=J+1+q,W=30,ee=19,$=2*Q+1,ie=15,se=16,he=7,xe=256,Be=16,Oe=17,He=18,vt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],lt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_n=new Array(2*(Q+2));L(_n);var We=new Array(2*W);L(We);var kt=new Array(512);L(kt);var Ee=new Array(256);L(Ee);var Ht=new Array(q);L(Ht);var cr,bt,Et,Wt=new Array(W);function Hn(mt,Jt,Xn,rr,pn){this.static_tree=mt,this.extra_bits=Jt,this.extra_base=Xn,this.elems=rr,this.max_length=pn,this.has_stree=mt&&mt.length}function Xe(mt,Jt){this.dyn_tree=mt,this.max_code=0,this.stat_desc=Jt}function it(mt){return mt<256?kt[mt]:kt[256+(mt>>>7)]}function hn(mt,Jt){mt.pending_buf[mt.pending++]=255&Jt,mt.pending_buf[mt.pending++]=Jt>>>8&255}function vn(mt,Jt,Xn){mt.bi_valid>se-Xn?(mt.bi_buf|=Jt<<mt.bi_valid&65535,hn(mt,mt.bi_buf),mt.bi_buf=Jt>>se-mt.bi_valid,mt.bi_valid+=Xn-se):(mt.bi_buf|=Jt<<mt.bi_valid&65535,mt.bi_valid+=Xn)}function En(mt,Jt,Xn){vn(mt,Xn[2*Jt],Xn[2*Jt+1])}function Qt(mt,Jt){for(var Xn=0;Xn|=1&mt,mt>>>=1,Xn<<=1,0<--Jt;);return Xn>>>1}function Jr(mt,Jt,Xn){var rr,pn,pr=new Array(ie+1),Zn=0;for(rr=1;rr<=ie;rr++)pr[rr]=Zn=Zn+Xn[rr-1]<<1;for(pn=0;pn<=Jt;pn++){var or=mt[2*pn+1];or!==0&&(mt[2*pn]=Qt(pr[or]++,or))}}function jn(mt){var Jt;for(Jt=0;Jt<Q;Jt++)mt.dyn_ltree[2*Jt]=0;for(Jt=0;Jt<W;Jt++)mt.dyn_dtree[2*Jt]=0;for(Jt=0;Jt<ee;Jt++)mt.bl_tree[2*Jt]=0;mt.dyn_ltree[2*xe]=1,mt.opt_len=mt.static_len=0,mt.last_lit=mt.matches=0}function Vr(mt){8<mt.bi_valid?hn(mt,mt.bi_buf):0<mt.bi_valid&&(mt.pending_buf[mt.pending++]=mt.bi_buf),mt.bi_buf=0,mt.bi_valid=0}function Si(mt,Jt,Xn,rr){var pn=2*Jt,pr=2*Xn;return mt[pn]<mt[pr]||mt[pn]===mt[pr]&&rr[Jt]<=rr[Xn]}function Wi(mt,Jt,Xn){for(var rr=mt.heap[Xn],pn=Xn<<1;pn<=mt.heap_len&&(pn<mt.heap_len&&Si(Jt,mt.heap[pn+1],mt.heap[pn],mt.depth)&&pn++,!Si(Jt,rr,mt.heap[pn],mt.depth));)mt.heap[Xn]=mt.heap[pn],Xn=pn,pn<<=1;mt.heap[Xn]=rr}function Hi(mt,Jt,Xn){var rr,pn,pr,Zn,or=0;if(mt.last_lit!==0)for(;rr=mt.pending_buf[mt.d_buf+2*or]<<8|mt.pending_buf[mt.d_buf+2*or+1],pn=mt.pending_buf[mt.l_buf+or],or++,rr===0?En(mt,pn,Jt):(En(mt,(pr=Ee[pn])+J+1,Jt),(Zn=vt[pr])!==0&&vn(mt,pn-=Ht[pr],Zn),En(mt,pr=it(--rr),Xn),(Zn=lt[pr])!==0&&vn(mt,rr-=Wt[pr],Zn)),or<mt.last_lit;);En(mt,xe,Jt)}function Ls(mt,Jt){var Xn,rr,pn,pr=Jt.dyn_tree,Zn=Jt.stat_desc.static_tree,or=Jt.stat_desc.has_stree,Bi=Jt.stat_desc.elems,Es=-1;for(mt.heap_len=0,mt.heap_max=$,Xn=0;Xn<Bi;Xn++)pr[2*Xn]!==0?(mt.heap[++mt.heap_len]=Es=Xn,mt.depth[Xn]=0):pr[2*Xn+1]=0;for(;mt.heap_len<2;)pr[2*(pn=mt.heap[++mt.heap_len]=Es<2?++Es:0)]=1,mt.depth[pn]=0,mt.opt_len--,or&&(mt.static_len-=Zn[2*pn+1]);for(Jt.max_code=Es,Xn=mt.heap_len>>1;1<=Xn;Xn--)Wi(mt,pr,Xn);for(pn=Bi;Xn=mt.heap[1],mt.heap[1]=mt.heap[mt.heap_len--],Wi(mt,pr,1),rr=mt.heap[1],mt.heap[--mt.heap_max]=Xn,mt.heap[--mt.heap_max]=rr,pr[2*pn]=pr[2*Xn]+pr[2*rr],mt.depth[pn]=(mt.depth[Xn]>=mt.depth[rr]?mt.depth[Xn]:mt.depth[rr])+1,pr[2*Xn+1]=pr[2*rr+1]=pn,mt.heap[1]=pn++,Wi(mt,pr,1),2<=mt.heap_len;);mt.heap[--mt.heap_max]=mt.heap[1],function(fo,hd){var G_,Yd,yv,Jl,zS,DA,_v=hd.dyn_tree,NA=hd.max_code,gk=hd.stat_desc.static_tree,vk=hd.stat_desc.has_stree,yk=hd.stat_desc.extra_bits,LA=hd.stat_desc.extra_base,mg=hd.stat_desc.max_length,wv=0;for(Jl=0;Jl<=ie;Jl++)fo.bl_count[Jl]=0;for(_v[2*fo.heap[fo.heap_max]+1]=0,G_=fo.heap_max+1;G_<$;G_++)mg<(Jl=_v[2*_v[2*(Yd=fo.heap[G_])+1]+1]+1)&&(Jl=mg,wv++),_v[2*Yd+1]=Jl,NA<Yd||(fo.bl_count[Jl]++,zS=0,LA<=Yd&&(zS=yk[Yd-LA]),DA=_v[2*Yd],fo.opt_len+=DA*(Jl+zS),vk&&(fo.static_len+=DA*(gk[2*Yd+1]+zS)));if(wv!==0){do{for(Jl=mg-1;fo.bl_count[Jl]===0;)Jl--;fo.bl_count[Jl]--,fo.bl_count[Jl+1]+=2,fo.bl_count[mg]--,wv-=2}while(0<wv);for(Jl=mg;Jl!==0;Jl--)for(Yd=fo.bl_count[Jl];Yd!==0;)NA<(yv=fo.heap[--G_])||(_v[2*yv+1]!==Jl&&(fo.opt_len+=(Jl-_v[2*yv+1])*_v[2*yv],_v[2*yv+1]=Jl),Yd--)}}(mt,Jt),Jr(pr,Es,mt.bl_count)}function Ie(mt,Jt,Xn){var rr,pn,pr=-1,Zn=Jt[1],or=0,Bi=7,Es=4;for(Zn===0&&(Bi=138,Es=3),Jt[2*(Xn+1)+1]=65535,rr=0;rr<=Xn;rr++)pn=Zn,Zn=Jt[2*(rr+1)+1],++or<Bi&&pn===Zn||(or<Es?mt.bl_tree[2*pn]+=or:pn!==0?(pn!==pr&&mt.bl_tree[2*pn]++,mt.bl_tree[2*Be]++):or<=10?mt.bl_tree[2*Oe]++:mt.bl_tree[2*He]++,pr=pn,Es=(or=0)===Zn?(Bi=138,3):pn===Zn?(Bi=6,3):(Bi=7,4))}function Tn(mt,Jt,Xn){var rr,pn,pr=-1,Zn=Jt[1],or=0,Bi=7,Es=4;for(Zn===0&&(Bi=138,Es=3),rr=0;rr<=Xn;rr++)if(pn=Zn,Zn=Jt[2*(rr+1)+1],!(++or<Bi&&pn===Zn)){if(or<Es)for(;En(mt,pn,mt.bl_tree),--or!=0;);else pn!==0?(pn!==pr&&(En(mt,pn,mt.bl_tree),or--),En(mt,Be,mt.bl_tree),vn(mt,or-3,2)):or<=10?(En(mt,Oe,mt.bl_tree),vn(mt,or-3,3)):(En(mt,He,mt.bl_tree),vn(mt,or-11,7));pr=pn,Es=(or=0)===Zn?(Bi=138,3):pn===Zn?(Bi=6,3):(Bi=7,4)}}L(Wt);var Cn=!1;function gt(mt,Jt,Xn,rr){vn(mt,(U<<1)+(rr?1:0),3),function(pn,pr,Zn,or){Vr(pn),or&&(hn(pn,Zn),hn(pn,~Zn)),E.arraySet(pn.pending_buf,pn.window,pr,Zn,pn.pending),pn.pending+=Zn}(mt,Jt,Xn,!0)}w._tr_init=function(mt){Cn||(function(){var Jt,Xn,rr,pn,pr,Zn=new Array(ie+1);for(pn=rr=0;pn<q-1;pn++)for(Ht[pn]=rr,Jt=0;Jt<1<<vt[pn];Jt++)Ee[rr++]=pn;for(Ee[rr-1]=pn,pn=pr=0;pn<16;pn++)for(Wt[pn]=pr,Jt=0;Jt<1<<lt[pn];Jt++)kt[pr++]=pn;for(pr>>=7;pn<W;pn++)for(Wt[pn]=pr<<7,Jt=0;Jt<1<<lt[pn]-7;Jt++)kt[256+pr++]=pn;for(Xn=0;Xn<=ie;Xn++)Zn[Xn]=0;for(Jt=0;Jt<=143;)_n[2*Jt+1]=8,Jt++,Zn[8]++;for(;Jt<=255;)_n[2*Jt+1]=9,Jt++,Zn[9]++;for(;Jt<=279;)_n[2*Jt+1]=7,Jt++,Zn[7]++;for(;Jt<=287;)_n[2*Jt+1]=8,Jt++,Zn[8]++;for(Jr(_n,Q+1,Zn),Jt=0;Jt<W;Jt++)We[2*Jt+1]=5,We[2*Jt]=Qt(Jt,5);cr=new Hn(_n,vt,J+1,Q,ie),bt=new Hn(We,lt,0,W,ie),Et=new Hn(new Array(0),ht,0,ee,he)}(),Cn=!0),mt.l_desc=new Xe(mt.dyn_ltree,cr),mt.d_desc=new Xe(mt.dyn_dtree,bt),mt.bl_desc=new Xe(mt.bl_tree,Et),mt.bi_buf=0,mt.bi_valid=0,jn(mt)},w._tr_stored_block=gt,w._tr_flush_block=function(mt,Jt,Xn,rr){var pn,pr,Zn=0;0<mt.level?(mt.strm.data_type===2&&(mt.strm.data_type=function(or){var Bi,Es=4093624447;for(Bi=0;Bi<=31;Bi++,Es>>>=1)if(1&Es&&or.dyn_ltree[2*Bi]!==0)return M;if(or.dyn_ltree[18]!==0||or.dyn_ltree[20]!==0||or.dyn_ltree[26]!==0)return k;for(Bi=32;Bi<J;Bi++)if(or.dyn_ltree[2*Bi]!==0)return k;return M}(mt)),Ls(mt,mt.l_desc),Ls(mt,mt.d_desc),Zn=function(or){var Bi;for(Ie(or,or.dyn_ltree,or.l_desc.max_code),Ie(or,or.dyn_dtree,or.d_desc.max_code),Ls(or,or.bl_desc),Bi=ee-1;3<=Bi&&or.bl_tree[2*It[Bi]+1]===0;Bi--);return or.opt_len+=3*(Bi+1)+5+5+4,Bi}(mt),pn=mt.opt_len+3+7>>>3,(pr=mt.static_len+3+7>>>3)<=pn&&(pn=pr)):pn=pr=Xn+5,Xn+4<=pn&&Jt!==-1?gt(mt,Jt,Xn,rr):mt.strategy===4||pr===pn?(vn(mt,2+(rr?1:0),3),Hi(mt,_n,We)):(vn(mt,4+(rr?1:0),3),function(or,Bi,Es,fo){var hd;for(vn(or,Bi-257,5),vn(or,Es-1,5),vn(or,fo-4,4),hd=0;hd<fo;hd++)vn(or,or.bl_tree[2*It[hd]+1],3);Tn(or,or.dyn_ltree,Bi-1),Tn(or,or.dyn_dtree,Es-1)}(mt,mt.l_desc.max_code+1,mt.d_desc.max_code+1,Zn+1),Hi(mt,mt.dyn_ltree,mt.dyn_dtree)),jn(mt),rr&&Vr(mt)},w._tr_tally=function(mt,Jt,Xn){return mt.pending_buf[mt.d_buf+2*mt.last_lit]=Jt>>>8&255,mt.pending_buf[mt.d_buf+2*mt.last_lit+1]=255&Jt,mt.pending_buf[mt.l_buf+mt.last_lit]=255&Xn,mt.last_lit++,Jt===0?mt.dyn_ltree[2*Xn]++:(mt.matches++,Jt--,mt.dyn_ltree[2*(Ee[Xn]+J+1)]++,mt.dyn_dtree[2*it(Jt)]++),mt.last_lit===mt.lit_bufsize-1},w._tr_align=function(mt){vn(mt,2,3),En(mt,xe,_n),function(Jt){Jt.bi_valid===16?(hn(Jt,Jt.bi_buf),Jt.bi_buf=0,Jt.bi_valid=0):8<=Jt.bi_valid&&(Jt.pending_buf[Jt.pending++]=255&Jt.bi_buf,Jt.bi_buf>>=8,Jt.bi_valid-=8)}(mt)}},{"../utils/common":41}],53:[function(u,m,w){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,m,w){(function(E){(function(M,k){if(!M.setImmediate){var L,U,q,J,Q=1,W={},ee=!1,$=M.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(M);ie=ie&&ie.setTimeout?ie:M,L={}.toString.call(M.process)==="[object process]"?function(Be){process.nextTick(function(){he(Be)})}:function(){if(M.postMessage&&!M.importScripts){var Be=!0,Oe=M.onmessage;return M.onmessage=function(){Be=!1},M.postMessage("","*"),M.onmessage=Oe,Be}}()?(J="setImmediate$"+Math.random()+"$",M.addEventListener?M.addEventListener("message",xe,!1):M.attachEvent("onmessage",xe),function(Be){M.postMessage(J+Be,"*")}):M.MessageChannel?((q=new MessageChannel).port1.onmessage=function(Be){he(Be.data)},function(Be){q.port2.postMessage(Be)}):$&&"onreadystatechange"in $.createElement("script")?(U=$.documentElement,function(Be){var Oe=$.createElement("script");Oe.onreadystatechange=function(){he(Be),Oe.onreadystatechange=null,U.removeChild(Oe),Oe=null},U.appendChild(Oe)}):function(Be){setTimeout(he,0,Be)},ie.setImmediate=function(Be){typeof Be!="function"&&(Be=new Function(""+Be));for(var Oe=new Array(arguments.length-1),He=0;He<Oe.length;He++)Oe[He]=arguments[He+1];var vt={callback:Be,args:Oe};return W[Q]=vt,L(Q),Q++},ie.clearImmediate=se}function se(Be){delete W[Be]}function he(Be){if(ee)setTimeout(he,0,Be);else{var Oe=W[Be];if(Oe){ee=!0;try{(function(He){var vt=He.callback,lt=He.args;switch(lt.length){case 0:vt();break;case 1:vt(lt[0]);break;case 2:vt(lt[0],lt[1]);break;case 3:vt(lt[0],lt[1],lt[2]);break;default:vt.apply(k,lt)}})(Oe)}finally{se(Be),ee=!1}}}}function xe(Be){Be.source===M&&typeof Be.data=="string"&&Be.data.indexOf(J)===0&&he(+Be.data.slice(J.length))}})(typeof self>"u"?E===void 0?this:E:self)}).call(this,typeof eu<"u"?eu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),K8,MB,lne,Y8,une,cne,PP,fne,q8,dne,TB,kP,IP,C_,hne,pne,mne,dA,Mp,gne,vne,Q8,PB,eIe=T(()=>{K8=Z(Ot(),1),MB=Z(Ot(),1),lne=i=>typeof i=="function",Y8=(i,l)=>lne(i)?i(l):i,une=(()=>{let i=0;return()=>(++i).toString()})(),cne=20,PP=new Map,fne=1e3,q8=i=>{if(PP.has(i))return;let l=setTimeout(()=>{PP.delete(i),C_({type:4,toastId:i})},fne);PP.set(i,l)},dne=i=>{let l=PP.get(i);l&&clearTimeout(l)},TB=(i,l)=>{switch(l.type){case 0:return I(D({},i),{toasts:[l.toast,...i.toasts].slice(0,cne)});case 1:return l.toast.id&&dne(l.toast.id),I(D({},i),{toasts:i.toasts.map(E=>E.id===l.toast.id?D(D({},E),l.toast):E)});case 2:let{toast:u}=l;return i.toasts.find(E=>E.id===u.id)?TB(i,{type:1,toast:u}):TB(i,{type:0,toast:u});case 3:let{toastId:m}=l;return m?q8(m):i.toasts.forEach(E=>{q8(E.id)}),I(D({},i),{toasts:i.toasts.map(E=>E.id===m||m===void 0?I(D({},E),{visible:!1}):E)});case 4:return l.toastId===void 0?I(D({},i),{toasts:[]}):I(D({},i),{toasts:i.toasts.filter(E=>E.id!==l.toastId)});case 5:return I(D({},i),{pausedAt:l.time});case 6:let w=l.time-(i.pausedAt||0);return I(D({},i),{pausedAt:void 0,toasts:i.toasts.map(E=>I(D({},E),{pauseDuration:E.pauseDuration+w}))})}},kP=[],IP={toasts:[],pausedAt:void 0},C_=i=>{IP=TB(IP,i),kP.forEach(l=>{l(IP)})},hne={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pne=(i={})=>{let[l,u]=(0,K8.useState)(IP);(0,K8.useEffect)(()=>(kP.push(u),()=>{let w=kP.indexOf(u);w>-1&&kP.splice(w,1)}),[l]);let m=l.toasts.map(w=>{var E,M;return I(D(D(D({},i),i[w.type]),w),{duration:w.duration||((E=i[w.type])==null?void 0:E.duration)||(i==null?void 0:i.duration)||hne[w.type],style:D(D(D({},i.style),(M=i[w.type])==null?void 0:M.style),w.style)})});return I(D({},l),{toasts:m})},mne=(i,l="blank",u)=>I(D({createdAt:Date.now(),visible:!0,type:l,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0},u),{id:(u==null?void 0:u.id)||une()}),dA=i=>(l,u)=>{let m=mne(l,i,u);return C_({type:2,toast:m}),m.id},Mp=(i,l)=>dA("blank")(i,l),Mp.error=dA("error"),Mp.success=dA("success"),Mp.loading=dA("loading"),Mp.custom=dA("custom"),Mp.dismiss=i=>{C_({type:3,toastId:i})},Mp.remove=i=>C_({type:4,toastId:i}),Mp.promise=(i,l,u)=>{let m=Mp.loading(l.loading,D(D({},u),u==null?void 0:u.loading));return i.then(w=>(Mp.success(Y8(l.success,w),D(D({id:m},u),u==null?void 0:u.success)),w)).catch(w=>{Mp.error(Y8(l.error,w),D(D({id:m},u),u==null?void 0:u.error))}),i},gne=(i,l)=>{C_({type:1,toast:{id:i,height:l}})},vne=()=>{C_({type:5,time:Date.now()})},Q8=i=>{let{toasts:l,pausedAt:u}=pne(i);(0,MB.useEffect)(()=>{if(u)return;let E=Date.now(),M=l.map(k=>{if(k.duration===1/0)return;let L=(k.duration||0)+k.pauseDuration-(E-k.createdAt);if(L<0){k.visible&&Mp.dismiss(k.id);return}return setTimeout(()=>Mp.dismiss(k.id),L)});return()=>{M.forEach(k=>k&&clearTimeout(k))}},[l,u]);let m=(0,MB.useCallback)(()=>{u&&C_({type:6,time:Date.now()})},[u]),w=(0,MB.useCallback)((E,M)=>{let{reverseOrder:k=!1,gutter:L=8,defaultPosition:U}=M||{},q=l.filter(W=>(W.position||U)===(E.position||U)&&W.height),J=q.findIndex(W=>W.id===E.id),Q=q.filter((W,ee)=>ee<J&&W.visible).length;return q.filter(W=>W.visible).slice(...k?[Q+1]:[0,Q]).reduce((W,ee)=>W+(ee.height||0)+L,0)},[l]);return{toasts:l,handlers:{updateHeight:gne,startPause:vne,endPause:m,calculateOffset:w}}},PB=Mp});function yne(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function tIe(i){lS=i}function Of(i,l){if(l){if(Cne.test(i))return i.replace(Mne,J8)}else if(Tne.test(i))return i.replace(Pne,J8);return i}function _ne(i){return i.replace(Ine,(l,u)=>(u=u.toLowerCase(),u==="colon"?":":u.charAt(0)==="#"?u.charAt(1)==="x"?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1)):""))}function La(i,l){i=typeof i=="string"?i:i.source,l=l||"";let u={replace:(m,w)=>(w=w.source||w,w=w.replace(Rne,"$1"),i=i.replace(m,w),u),getRegex:()=>new RegExp(i,l)};return u}function wne(i,l,u){if(i){let m;try{m=decodeURIComponent(_ne(u)).replace(One,"").toLowerCase()}catch{return null}if(m.indexOf("javascript:")===0||m.indexOf("vbscript:")===0||m.indexOf("data:")===0)return null}l&&!Bne.test(u)&&(u=nIe(l,u));try{u=encodeURI(u).replace(/%25/g,"%")}catch{return null}return u}function nIe(i,l){RP[" "+i]||(Dne.test(i)?RP[" "+i]=i+"/":RP[" "+i]=kB(i,"/",!0)),i=RP[" "+i];let u=i.indexOf(":")===-1;return l.substring(0,2)==="//"?u?l:i.replace(Nne,"$1")+l:l.charAt(0)==="/"?u?l:i.replace(Lne,"$1")+l:i+l}function cv(i){let l=1,u,m;for(;l<arguments.length;l++){u=arguments[l];for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i}function xne(i,l){let u=i.replace(/\|/g,(E,M,k)=>{let L=!1,U=M;for(;--U>=0&&k[U]==="\\";)L=!L;return L?"|":" |"}),m=u.split(/ \|/),w=0;if(m[0].trim()||m.shift(),m.length>0&&!m[m.length-1].trim()&&m.pop(),m.length>l)m.splice(l);else for(;m.length<l;)m.push("");for(;w<m.length;w++)m[w]=m[w].trim().replace(/\\\|/g,"|");return m}function kB(i,l,u){let m=i.length;if(m===0)return"";let w=0;for(;w<m;){let E=i.charAt(m-w-1);if(E===l&&!u)w++;else if(E!==l&&u)w++;else break}return i.slice(0,m-w)}function rIe(i,l){if(i.indexOf(l[1])===-1)return-1;let u=i.length,m=0,w=0;for(;w<u;w++)if(i[w]==="\\")w++;else if(i[w]===l[0])m++;else if(i[w]===l[1]&&(m--,m<0))return w;return-1}function Sne(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bne(i,l){if(l<1)return"";let u="";for(;l>1;)l&1&&(u+=i),l>>=1,i+=i;return u+i}function Ene(i,l,u,m){let w=l.href,E=l.title?Of(l.title):null,M=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){m.state.inLink=!0;let k={type:"link",raw:u,href:w,title:E,text:M,tokens:m.inlineTokens(M)};return m.state.inLink=!1,k}return{type:"image",raw:u,href:w,title:E,text:Of(M)}}function iIe(i,l){let u=i.match(/^(\s+)(?:```)/);if(u===null)return l;let m=u[1];return l.split(`
`).map(w=>{let E=w.match(/^\s+/);if(E===null)return w;let[M]=E;return M.length>=m.length?w.slice(m.length):w}).join(`
`)}function oIe(i){return i.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Ane(i){let l="",u,m,w=i.length;for(u=0;u<w;u++)m=i.charCodeAt(u),Math.random()>.5&&(m="x"+m.toString(16)),l+="&#"+m+";";return l}function lo(i,l,u){if(typeof i>"u"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof l=="function"&&(u=l,l=null),l=cv({},lo.defaults,l||{}),Sne(l),u){let w=l.highlight,E;try{E=uS.lex(i,l)}catch(L){return u(L)}let M=function(L){let U;if(!L)try{l.walkTokens&&lo.walkTokens(E,l.walkTokens),U=M_.parse(E,l)}catch(q){L=q}return l.highlight=w,L?u(L):u(null,U)};if(!w||w.length<3||(delete l.highlight,!E.length))return M();let k=0;lo.walkTokens(E,function(L){L.type==="code"&&(k++,setTimeout(()=>{w(L.text,L.lang,function(U,q){if(U)return M(U);q!=null&&q!==L.text&&(L.text=q,L.escaped=!0),k--,k===0&&M()})},0))}),k===0&&M();return}function m(w){if(w.message+=`
Please report this to https://github.com/markedjs/marked.`,l.silent)return"<p>An error occurred:</p><pre>"+Of(w.message+"",!0)+"</pre>";throw w}try{let w=uS.lex(i,l);if(l.walkTokens){if(l.async)return Promise.all(lo.walkTokens(w,l.walkTokens)).then(()=>M_.parse(w,l)).catch(m);lo.walkTokens(w,l.walkTokens)}return M_.parse(w,l)}catch(w){m(w)}}var lS,Cne,Mne,Tne,Pne,kne,J8,Ine,Rne,One,Bne,RP,Dne,Nne,Lne,OP,IB,Vi,hi,uS,RB,Z8,$8,M_,sIe=T(()=>{lS=yne(),Cne=/[&<>"']/,Mne=/[&<>"']/g,Tne=/[<>"']|&(?!#?\w+;)/,Pne=/[<>"']|&(?!#?\w+;)/g,kne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J8=i=>kne[i],Ine=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,Rne=/(^|[^\[])\^/g,One=/[^\w:]/g,Bne=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,RP={},Dne=/^[^:]+:\/*[^/]*$/,Nne=/^([^:]+:)[\s\S]*$/,Lne=/^([^:]+:\/*[^/]*)[\s\S]*$/,OP={exec:function(){}},IB=class{constructor(i){this.options=i||lS}space(i){let l=this.rules.block.newline.exec(i);if(l&&l[0].length>0)return{type:"space",raw:l[0]}}code(i){let l=this.rules.block.code.exec(i);if(l){let u=l[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:l[0],codeBlockStyle:"indented",text:this.options.pedantic?u:kB(u,`
`)}}}fences(i){let l=this.rules.block.fences.exec(i);if(l){let u=l[0],m=iIe(u,l[3]||"");return{type:"code",raw:u,lang:l[2]?l[2].trim():l[2],text:m}}}heading(i){let l=this.rules.block.heading.exec(i);if(l){let u=l[2].trim();if(/#$/.test(u)){let m=kB(u,"#");(this.options.pedantic||!m||/ $/.test(m))&&(u=m.trim())}return{type:"heading",raw:l[0],depth:l[1].length,text:u,tokens:this.lexer.inline(u)}}}hr(i){let l=this.rules.block.hr.exec(i);if(l)return{type:"hr",raw:l[0]}}blockquote(i){let l=this.rules.block.blockquote.exec(i);if(l){let u=l[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:l[0],tokens:this.lexer.blockTokens(u,[]),text:u}}}list(i){let l=this.rules.block.list.exec(i);if(l){let u,m,w,E,M,k,L,U,q,J,Q,W,ee=l[1].trim(),$=ee.length>1,ie={type:"list",raw:"",ordered:$,start:$?+ee.slice(0,-1):"",loose:!1,items:[]};ee=$?"\\d{1,9}\\".concat(ee.slice(-1)):"\\".concat(ee),this.options.pedantic&&(ee=$?ee:"[*+-]");let se=new RegExp("^( {0,3}".concat(ee,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;i&&(W=!1,!(!(l=se.exec(i))||this.rules.block.hr.test(i)));){if(u=l[0],i=i.substring(u.length),U=l[2].split(`
`,1)[0],q=i.split(`
`,1)[0],this.options.pedantic?(E=2,Q=U.trimLeft()):(E=l[2].search(/[^ ]/),E=E>4?1:E,Q=U.slice(E),E+=l[1].length),k=!1,!U&&/^ *$/.test(q)&&(u+=q+`
`,i=i.substring(q.length+1),W=!0),!W){let xe=new RegExp("^ {0,".concat(Math.min(3,E-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),Be=new RegExp("^ {0,".concat(Math.min(3,E-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),Oe=new RegExp("^ {0,".concat(Math.min(3,E-1),"}(?:```|~~~)")),He=new RegExp("^ {0,".concat(Math.min(3,E-1),"}#"));for(;i&&(J=i.split(`
`,1)[0],U=J,this.options.pedantic&&(U=U.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Oe.test(U)||He.test(U)||xe.test(U)||Be.test(i)));){if(U.search(/[^ ]/)>=E||!U.trim())Q+=`
`+U.slice(E);else if(!k)Q+=`
`+U;else break;!k&&!U.trim()&&(k=!0),u+=J+`
`,i=i.substring(J.length+1)}}ie.loose||(L?ie.loose=!0:/\n *\n *$/.test(u)&&(L=!0)),this.options.gfm&&(m=/^\[[ xX]\] /.exec(Q),m&&(w=m[0]!=="[ ] ",Q=Q.replace(/^\[[ xX]\] +/,""))),ie.items.push({type:"list_item",raw:u,task:!!m,checked:w,loose:!1,text:Q}),ie.raw+=u}ie.items[ie.items.length-1].raw=u.trimRight(),ie.items[ie.items.length-1].text=Q.trimRight(),ie.raw=ie.raw.trimRight();let he=ie.items.length;for(M=0;M<he;M++){this.lexer.state.top=!1,ie.items[M].tokens=this.lexer.blockTokens(ie.items[M].text,[]);let xe=ie.items[M].tokens.filter(Oe=>Oe.type==="space"),Be=xe.every(Oe=>{let He=Oe.raw.split(""),vt=0;for(let lt of He)if(lt===`
`&&(vt+=1),vt>1)return!0;return!1});!ie.loose&&xe.length&&Be&&(ie.loose=!0,ie.items[M].loose=!0)}return ie}}html(i){let l=this.rules.block.html.exec(i);if(l){let u={type:"html",raw:l[0],pre:!this.options.sanitizer&&(l[1]==="pre"||l[1]==="script"||l[1]==="style"),text:l[0]};if(this.options.sanitize){let m=this.options.sanitizer?this.options.sanitizer(l[0]):Of(l[0]);u.type="paragraph",u.text=m,u.tokens=this.lexer.inline(m)}return u}}def(i){let l=this.rules.block.def.exec(i);if(l)return l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),{type:"def",tag:l[1].toLowerCase().replace(/\s+/g," "),raw:l[0],href:l[2],title:l[3]}}table(i){let l=this.rules.block.table.exec(i);if(l){let u={type:"table",header:xne(l[1]).map(m=>({text:m})),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:l[3]&&l[3].trim()?l[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(u.header.length===u.align.length){u.raw=l[0];let m=u.align.length,w,E,M,k;for(w=0;w<m;w++)/^ *-+: *$/.test(u.align[w])?u.align[w]="right":/^ *:-+: *$/.test(u.align[w])?u.align[w]="center":/^ *:-+ *$/.test(u.align[w])?u.align[w]="left":u.align[w]=null;for(m=u.rows.length,w=0;w<m;w++)u.rows[w]=xne(u.rows[w],u.header.length).map(L=>({text:L}));for(m=u.header.length,E=0;E<m;E++)u.header[E].tokens=this.lexer.inline(u.header[E].text);for(m=u.rows.length,E=0;E<m;E++)for(k=u.rows[E],M=0;M<k.length;M++)k[M].tokens=this.lexer.inline(k[M].text);return u}}}lheading(i){let l=this.rules.block.lheading.exec(i);if(l)return{type:"heading",raw:l[0],depth:l[2].charAt(0)==="="?1:2,text:l[1],tokens:this.lexer.inline(l[1])}}paragraph(i){let l=this.rules.block.paragraph.exec(i);if(l){let u=l[1].charAt(l[1].length-1)===`
`?l[1].slice(0,-1):l[1];return{type:"paragraph",raw:l[0],text:u,tokens:this.lexer.inline(u)}}}text(i){let l=this.rules.block.text.exec(i);if(l)return{type:"text",raw:l[0],text:l[0],tokens:this.lexer.inline(l[0])}}escape(i){let l=this.rules.inline.escape.exec(i);if(l)return{type:"escape",raw:l[0],text:Of(l[1])}}tag(i){let l=this.rules.inline.tag.exec(i);if(l)return!this.lexer.state.inLink&&/^<a /i.test(l[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(l[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:l[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):Of(l[0]):l[0]}}link(i){let l=this.rules.inline.link.exec(i);if(l){let u=l[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;let E=kB(u.slice(0,-1),"\\");if((u.length-E.length)%2===0)return}else{let E=rIe(l[2],"()");if(E>-1){let M=(l[0].indexOf("!")===0?5:4)+l[1].length+E;l[2]=l[2].substring(0,E),l[0]=l[0].substring(0,M).trim(),l[3]=""}}let m=l[2],w="";if(this.options.pedantic){let E=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(m);E&&(m=E[1],w=E[3])}else w=l[3]?l[3].slice(1,-1):"";return m=m.trim(),/^</.test(m)&&(this.options.pedantic&&!/>$/.test(u)?m=m.slice(1):m=m.slice(1,-1)),Ene(l,{href:m&&m.replace(this.rules.inline._escapes,"$1"),title:w&&w.replace(this.rules.inline._escapes,"$1")},l[0],this.lexer)}}reflink(i,l){let u;if((u=this.rules.inline.reflink.exec(i))||(u=this.rules.inline.nolink.exec(i))){let m=(u[2]||u[1]).replace(/\s+/g," ");if(m=l[m.toLowerCase()],!m||!m.href){let w=u[0].charAt(0);return{type:"text",raw:w,text:w}}return Ene(u,m,u[0],this.lexer)}}emStrong(i,l,u=""){let m=this.rules.inline.emStrong.lDelim.exec(i);if(!m||m[3]&&u.match(/[\p{L}\p{N}]/u))return;let w=m[1]||m[2]||"";if(!w||w&&(u===""||this.rules.inline.punctuation.exec(u))){let E=m[0].length-1,M,k,L=E,U=0,q=m[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(q.lastIndex=0,l=l.slice(-1*i.length+E);(m=q.exec(l))!=null;){if(M=m[1]||m[2]||m[3]||m[4]||m[5]||m[6],!M)continue;if(k=M.length,m[3]||m[4]){L+=k;continue}else if((m[5]||m[6])&&E%3&&!((E+k)%3)){U+=k;continue}if(L-=k,L>0)continue;if(k=Math.min(k,k+L+U),Math.min(E,k)%2){let Q=i.slice(1,E+m.index+k);return{type:"em",raw:i.slice(0,E+m.index+k+1),text:Q,tokens:this.lexer.inlineTokens(Q)}}let J=i.slice(2,E+m.index+k-1);return{type:"strong",raw:i.slice(0,E+m.index+k+1),text:J,tokens:this.lexer.inlineTokens(J)}}}}codespan(i){let l=this.rules.inline.code.exec(i);if(l){let u=l[2].replace(/\n/g," "),m=/[^ ]/.test(u),w=/^ /.test(u)&&/ $/.test(u);return m&&w&&(u=u.substring(1,u.length-1)),u=Of(u,!0),{type:"codespan",raw:l[0],text:u}}}br(i){let l=this.rules.inline.br.exec(i);if(l)return{type:"br",raw:l[0]}}del(i){let l=this.rules.inline.del.exec(i);if(l)return{type:"del",raw:l[0],text:l[2],tokens:this.lexer.inlineTokens(l[2])}}autolink(i,l){let u=this.rules.inline.autolink.exec(i);if(u){let m,w;return u[2]==="@"?(m=Of(this.options.mangle?l(u[1]):u[1]),w="mailto:"+m):(m=Of(u[1]),w=m),{type:"link",raw:u[0],text:m,href:w,tokens:[{type:"text",raw:m,text:m}]}}}url(i,l){let u;if(u=this.rules.inline.url.exec(i)){let m,w;if(u[2]==="@")m=Of(this.options.mangle?l(u[0]):u[0]),w="mailto:"+m;else{let E;do E=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0];while(E!==u[0]);m=Of(u[0]),u[1]==="www."?w="http://"+m:w=m}return{type:"link",raw:u[0],text:m,href:w,tokens:[{type:"text",raw:m,text:m}]}}}inlineText(i,l){let u=this.rules.inline.text.exec(i);if(u){let m;return this.lexer.state.inRawBlock?m=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):Of(u[0]):u[0]:m=Of(this.options.smartypants?l(u[0]):u[0]),{type:"text",raw:u[0],text:m}}}},Vi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:OP,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Vi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Vi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Vi.def=La(Vi.def).replace("label",Vi._label).replace("title",Vi._title).getRegex(),Vi.bullet=/(?:[*+-]|\d{1,9}[.)])/,Vi.listItemStart=La(/^( *)(bull) */).replace("bull",Vi.bullet).getRegex(),Vi.list=La(Vi.list).replace(/bull/g,Vi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Vi.def.source+")").getRegex(),Vi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Vi.html=La(Vi.html,"i").replace("comment",Vi._comment).replace("tag",Vi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vi.paragraph=La(Vi._paragraph).replace("hr",Vi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi._tag).getRegex(),Vi.blockquote=La(Vi.blockquote).replace("paragraph",Vi.paragraph).getRegex(),Vi.normal=cv({},Vi),Vi.gfm=cv({},Vi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Vi.gfm.table=La(Vi.gfm.table).replace("hr",Vi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi._tag).getRegex(),Vi.gfm.paragraph=La(Vi._paragraph).replace("hr",Vi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Vi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi._tag).getRegex(),Vi.pedantic=cv({},Vi.normal,{html:La(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:OP,paragraph:La(Vi.normal._paragraph).replace("hr",Vi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Vi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),hi={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:OP,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:OP,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},hi._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",hi.punctuation=La(hi.punctuation).replace(/punctuation/g,hi._punctuation).getRegex(),hi.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,hi.escapedEmSt=/\\\*|\\_/g,hi._comment=La(Vi._comment).replace("(?:-->|$)","-->").getRegex(),hi.emStrong.lDelim=La(hi.emStrong.lDelim).replace(/punct/g,hi._punctuation).getRegex(),hi.emStrong.rDelimAst=La(hi.emStrong.rDelimAst,"g").replace(/punct/g,hi._punctuation).getRegex(),hi.emStrong.rDelimUnd=La(hi.emStrong.rDelimUnd,"g").replace(/punct/g,hi._punctuation).getRegex(),hi._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,hi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,hi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,hi.autolink=La(hi.autolink).replace("scheme",hi._scheme).replace("email",hi._email).getRegex(),hi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,hi.tag=La(hi.tag).replace("comment",hi._comment).replace("attribute",hi._attribute).getRegex(),hi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,hi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,hi.link=La(hi.link).replace("label",hi._label).replace("href",hi._href).replace("title",hi._title).getRegex(),hi.reflink=La(hi.reflink).replace("label",hi._label).replace("ref",Vi._label).getRegex(),hi.nolink=La(hi.nolink).replace("ref",Vi._label).getRegex(),hi.reflinkSearch=La(hi.reflinkSearch,"g").replace("reflink",hi.reflink).replace("nolink",hi.nolink).getRegex(),hi.normal=cv({},hi),hi.pedantic=cv({},hi.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:La(/^!?\[(label)\]\((.*?)\)/).replace("label",hi._label).getRegex(),reflink:La(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hi._label).getRegex()}),hi.gfm=cv({},hi.normal,{escape:La(hi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),hi.gfm.url=La(hi.gfm.url,"i").replace("email",hi.gfm._extended_email).getRegex(),hi.breaks=cv({},hi.gfm,{br:La(hi.br).replace("{2,}","*").getRegex(),text:La(hi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),uS=class bX{constructor(l){this.tokens=[],this.tokens.links=Object.create(null),this.options=l||lS,this.options.tokenizer=this.options.tokenizer||new IB,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let u={block:Vi.normal,inline:hi.normal};this.options.pedantic?(u.block=Vi.pedantic,u.inline=hi.pedantic):this.options.gfm&&(u.block=Vi.gfm,this.options.breaks?u.inline=hi.breaks:u.inline=hi.gfm),this.tokenizer.rules=u}static get rules(){return{block:Vi,inline:hi}}static lex(l,u){return new bX(u).lex(l)}static lexInline(l,u){return new bX(u).inlineTokens(l)}lex(l){l=l.replace(/\r\n|\r/g,`
`),this.blockTokens(l,this.tokens);let u;for(;u=this.inlineQueue.shift();)this.inlineTokens(u.src,u.tokens);return this.tokens}blockTokens(l,u=[]){this.options.pedantic?l=l.replace(/\t/g,"    ").replace(/^ +$/gm,""):l=l.replace(/^( *)(\t+)/gm,(k,L,U)=>L+"    ".repeat(U.length));let m,w,E,M;for(;l;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(k=>(m=k.call({lexer:this},l,u))?(l=l.substring(m.raw.length),u.push(m),!0):!1))){if(m=this.tokenizer.space(l)){l=l.substring(m.raw.length),m.raw.length===1&&u.length>0?u[u.length-1].raw+=`
`:u.push(m);continue}if(m=this.tokenizer.code(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&(w.type==="paragraph"||w.type==="text")?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m);continue}if(m=this.tokenizer.fences(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.heading(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.hr(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.blockquote(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.list(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.html(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.def(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&(w.type==="paragraph"||w.type==="text")?(w.raw+=`
`+m.raw,w.text+=`
`+m.raw,this.inlineQueue[this.inlineQueue.length-1].src=w.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title});continue}if(m=this.tokenizer.table(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.lheading(l)){l=l.substring(m.raw.length),u.push(m);continue}if(E=l,this.options.extensions&&this.options.extensions.startBlock){let k=1/0,L=l.slice(1),U;this.options.extensions.startBlock.forEach(function(q){U=q.call({lexer:this},L),typeof U=="number"&&U>=0&&(k=Math.min(k,U))}),k<1/0&&k>=0&&(E=l.substring(0,k+1))}if(this.state.top&&(m=this.tokenizer.paragraph(E))){w=u[u.length-1],M&&w.type==="paragraph"?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m),M=E.length!==l.length,l=l.substring(m.raw.length);continue}if(m=this.tokenizer.text(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&w.type==="text"?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m);continue}if(l){let k="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return this.state.top=!0,u}inline(l,u=[]){return this.inlineQueue.push({src:l,tokens:u}),u}inlineTokens(l,u=[]){let m,w,E,M=l,k,L,U;if(this.tokens.links){let q=Object.keys(this.tokens.links);if(q.length>0)for(;(k=this.tokenizer.rules.inline.reflinkSearch.exec(M))!=null;)q.includes(k[0].slice(k[0].lastIndexOf("[")+1,-1))&&(M=M.slice(0,k.index)+"["+bne("a",k[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(k=this.tokenizer.rules.inline.blockSkip.exec(M))!=null;)M=M.slice(0,k.index)+"["+bne("a",k[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(k=this.tokenizer.rules.inline.escapedEmSt.exec(M))!=null;)M=M.slice(0,k.index)+"++"+M.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;l;)if(L||(U=""),L=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(q=>(m=q.call({lexer:this},l,u))?(l=l.substring(m.raw.length),u.push(m),!0):!1))){if(m=this.tokenizer.escape(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.tag(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&m.type==="text"&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(m=this.tokenizer.link(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.reflink(l,this.tokens.links)){l=l.substring(m.raw.length),w=u[u.length-1],w&&m.type==="text"&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(m=this.tokenizer.emStrong(l,M,U)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.codespan(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.br(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.del(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.autolink(l,Ane)){l=l.substring(m.raw.length),u.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(l,Ane))){l=l.substring(m.raw.length),u.push(m);continue}if(E=l,this.options.extensions&&this.options.extensions.startInline){let q=1/0,J=l.slice(1),Q;this.options.extensions.startInline.forEach(function(W){Q=W.call({lexer:this},J),typeof Q=="number"&&Q>=0&&(q=Math.min(q,Q))}),q<1/0&&q>=0&&(E=l.substring(0,q+1))}if(m=this.tokenizer.inlineText(E,oIe)){l=l.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(U=m.raw.slice(-1)),L=!0,w=u[u.length-1],w&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(l){let q="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(q);break}else throw new Error(q)}}return u}},RB=class{constructor(i){this.options=i||lS}code(i,l,u){let m=(l||"").match(/\S*/)[0];if(this.options.highlight){let w=this.options.highlight(i,m);w!=null&&w!==i&&(u=!0,i=w)}return i=i.replace(/\n$/,"")+`
`,m?'<pre><code class="'+this.options.langPrefix+Of(m,!0)+'">'+(u?i:Of(i,!0))+`</code></pre>
`:"<pre><code>"+(u?i:Of(i,!0))+`</code></pre>
`}blockquote(i){return`<blockquote>
`.concat(i,`</blockquote>
`)}html(i){return i}heading(i,l,u,m){if(this.options.headerIds){let w=this.options.headerPrefix+m.slug(u);return"<h".concat(l,' id="').concat(w,'">').concat(i,"</h").concat(l,`>
`)}return"<h".concat(l,">").concat(i,"</h").concat(l,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(i,l,u){let m=l?"ol":"ul",w=l&&u!==1?' start="'+u+'"':"";return"<"+m+w+`>
`+i+"</"+m+`>
`}listitem(i){return"<li>".concat(i,`</li>
`)}checkbox(i){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(i){return"<p>".concat(i,`</p>
`)}table(i,l){return l&&(l="<tbody>".concat(l,"</tbody>")),`<table>
<thead>
`+i+`</thead>
`+l+`</table>
`}tablerow(i){return`<tr>
`.concat(i,`</tr>
`)}tablecell(i,l){let u=l.header?"th":"td";return(l.align?"<".concat(u,' align="').concat(l.align,'">'):"<".concat(u,">"))+i+"</".concat(u,`>
`)}strong(i){return"<strong>".concat(i,"</strong>")}em(i){return"<em>".concat(i,"</em>")}codespan(i){return"<code>".concat(i,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(i){return"<del>".concat(i,"</del>")}link(i,l,u){if(i=wne(this.options.sanitize,this.options.baseUrl,i),i===null)return u;let m='<a href="'+Of(i)+'"';return l&&(m+=' title="'+l+'"'),m+=">"+u+"</a>",m}image(i,l,u){if(i=wne(this.options.sanitize,this.options.baseUrl,i),i===null)return u;let m='<img src="'.concat(i,'" alt="').concat(u,'"');return l&&(m+=' title="'.concat(l,'"')),m+=this.options.xhtml?"/>":">",m}text(i){return i}},Z8=class{strong(i){return i}em(i){return i}codespan(i){return i}del(i){return i}html(i){return i}text(i){return i}link(i,l,u){return""+u}image(i,l,u){return""+u}br(){return""}},$8=class{constructor(){this.seen={}}serialize(i){return i.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(i,l){let u=i,m=0;if(this.seen.hasOwnProperty(u)){m=this.seen[i];do m++,u=i+"-"+m;while(this.seen.hasOwnProperty(u))}return l||(this.seen[i]=m,this.seen[u]=0),u}slug(i,l={}){let u=this.serialize(i);return this.getNextSafeSlug(u,l.dryrun)}},M_=class EX{constructor(l){this.options=l||lS,this.options.renderer=this.options.renderer||new RB,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Z8,this.slugger=new $8}static parse(l,u){return new EX(u).parse(l)}static parseInline(l,u){return new EX(u).parseInline(l)}parse(l,u=!0){let m="",w,E,M,k,L,U,q,J,Q,W,ee,$,ie,se,he,xe,Be,Oe,He,vt=l.length;for(w=0;w<vt;w++){if(W=l[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[W.type]&&(He=this.options.extensions.renderers[W.type].call({parser:this},W),He!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(W.type))){m+=He||"";continue}switch(W.type){case"space":continue;case"hr":{m+=this.renderer.hr();continue}case"heading":{m+=this.renderer.heading(this.parseInline(W.tokens),W.depth,_ne(this.parseInline(W.tokens,this.textRenderer)),this.slugger);continue}case"code":{m+=this.renderer.code(W.text,W.lang,W.escaped);continue}case"table":{for(J="",q="",k=W.header.length,E=0;E<k;E++)q+=this.renderer.tablecell(this.parseInline(W.header[E].tokens),{header:!0,align:W.align[E]});for(J+=this.renderer.tablerow(q),Q="",k=W.rows.length,E=0;E<k;E++){for(U=W.rows[E],q="",L=U.length,M=0;M<L;M++)q+=this.renderer.tablecell(this.parseInline(U[M].tokens),{header:!1,align:W.align[M]});Q+=this.renderer.tablerow(q)}m+=this.renderer.table(J,Q);continue}case"blockquote":{Q=this.parse(W.tokens),m+=this.renderer.blockquote(Q);continue}case"list":{for(ee=W.ordered,$=W.start,ie=W.loose,k=W.items.length,Q="",E=0;E<k;E++)he=W.items[E],xe=he.checked,Be=he.task,se="",he.task&&(Oe=this.renderer.checkbox(xe),ie?he.tokens.length>0&&he.tokens[0].type==="paragraph"?(he.tokens[0].text=Oe+" "+he.tokens[0].text,he.tokens[0].tokens&&he.tokens[0].tokens.length>0&&he.tokens[0].tokens[0].type==="text"&&(he.tokens[0].tokens[0].text=Oe+" "+he.tokens[0].tokens[0].text)):he.tokens.unshift({type:"text",text:Oe}):se+=Oe),se+=this.parse(he.tokens,ie),Q+=this.renderer.listitem(se,Be,xe);m+=this.renderer.list(Q,ee,$);continue}case"html":{m+=this.renderer.html(W.text);continue}case"paragraph":{m+=this.renderer.paragraph(this.parseInline(W.tokens));continue}case"text":{for(Q=W.tokens?this.parseInline(W.tokens):W.text;w+1<vt&&l[w+1].type==="text";)W=l[++w],Q+=`
`+(W.tokens?this.parseInline(W.tokens):W.text);m+=u?this.renderer.paragraph(Q):Q;continue}default:{let lt='Token with "'+W.type+'" type was not found.';if(this.options.silent){console.error(lt);return}else throw new Error(lt)}}}return m}parseInline(l,u){u=u||this.renderer;let m="",w,E,M,k=l.length;for(w=0;w<k;w++){if(E=l[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[E.type]&&(M=this.options.extensions.renderers[E.type].call({parser:this},E),M!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(E.type))){m+=M||"";continue}switch(E.type){case"escape":{m+=u.text(E.text);break}case"html":{m+=u.html(E.text);break}case"link":{m+=u.link(E.href,E.title,this.parseInline(E.tokens,u));break}case"image":{m+=u.image(E.href,E.title,E.text);break}case"strong":{m+=u.strong(this.parseInline(E.tokens,u));break}case"em":{m+=u.em(this.parseInline(E.tokens,u));break}case"codespan":{m+=u.codespan(E.text);break}case"br":{m+=u.br();break}case"del":{m+=u.del(this.parseInline(E.tokens,u));break}case"text":{m+=u.text(E.text);break}default:{let L='Token with "'+E.type+'" type was not found.';if(this.options.silent){console.error(L);return}else throw new Error(L)}}}return m}},lo.options=lo.setOptions=function(i){return cv(lo.defaults,i),tIe(lo.defaults),lo},lo.getDefaults=yne,lo.defaults=lS,lo.use=function(...i){let l=cv({},...i),u=lo.defaults.extensions||{renderers:{},childTokens:{}},m;i.forEach(w=>{if(w.extensions&&(m=!0,w.extensions.forEach(E=>{if(!E.name)throw new Error("extension name required");if(E.renderer){let M=u.renderers?u.renderers[E.name]:null;M?u.renderers[E.name]=function(...k){let L=E.renderer.apply(this,k);return L===!1&&(L=M.apply(this,k)),L}:u.renderers[E.name]=E.renderer}if(E.tokenizer){if(!E.level||E.level!=="block"&&E.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");u[E.level]?u[E.level].unshift(E.tokenizer):u[E.level]=[E.tokenizer],E.start&&(E.level==="block"?u.startBlock?u.startBlock.push(E.start):u.startBlock=[E.start]:E.level==="inline"&&(u.startInline?u.startInline.push(E.start):u.startInline=[E.start]))}E.childTokens&&(u.childTokens[E.name]=E.childTokens)})),w.renderer){let E=lo.defaults.renderer||new RB;for(let M in w.renderer){let k=E[M];E[M]=(...L)=>{let U=w.renderer[M].apply(E,L);return U===!1&&(U=k.apply(E,L)),U}}l.renderer=E}if(w.tokenizer){let E=lo.defaults.tokenizer||new IB;for(let M in w.tokenizer){let k=E[M];E[M]=(...L)=>{let U=w.tokenizer[M].apply(E,L);return U===!1&&(U=k.apply(E,L)),U}}l.tokenizer=E}if(w.walkTokens){let E=lo.defaults.walkTokens;l.walkTokens=function(M){let k=[];return k.push(w.walkTokens.call(this,M)),E&&(k=k.concat(E.call(this,M))),k}}m&&(l.extensions=u),lo.setOptions(l)})},lo.walkTokens=function(i,l){let u=[];for(let m of i)switch(u=u.concat(l.call(lo,m)),m.type){case"table":{for(let w of m.header)u=u.concat(lo.walkTokens(w.tokens,l));for(let w of m.rows)for(let E of w)u=u.concat(lo.walkTokens(E.tokens,l));break}case"list":{u=u.concat(lo.walkTokens(m.items,l));break}default:lo.defaults.extensions&&lo.defaults.extensions.childTokens&&lo.defaults.extensions.childTokens[m.type]?lo.defaults.extensions.childTokens[m.type].forEach(function(w){u=u.concat(lo.walkTokens(m[w],l))}):m.tokens&&(u=u.concat(lo.walkTokens(m.tokens,l)))}return u},lo.parseInline=function(i,l){if(typeof i>"u"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");l=cv({},lo.defaults,l||{}),Sne(l);try{let u=uS.lexInline(i,l);return l.walkTokens&&lo.walkTokens(u,l.walkTokens),M_.parseInline(u,l)}catch(u){if(u.message+=`
Please report this to https://github.com/markedjs/marked.`,l.silent)return"<p>An error occurred:</p><pre>"+Of(u.message+"",!0)+"</pre>";throw u}},lo.Parser=M_,lo.parser=M_.parse,lo.Renderer=RB,lo.TextRenderer=Z8,lo.Lexer=uS,lo.lexer=uS.lex,lo.Tokenizer=IB,lo.Slugger=$8,lo.parse=lo,lo.options,lo.setOptions,lo.use,lo.walkTokens,lo.parseInline,M_.parse,uS.lex}),Fne,zne,eU,Une=T(()=>{qt(),CB(),zne=je(fA)(Fne||(Fne=X([`
  padding: 6px;
`]))),eU=zne}),qu,OB,BP,BB,jne,Hne,Gne,tU,Vne,Wne,Xne,nU,Kne,Yne,qne,Qne,Jne,DP,NP,Zne,$ne,ere,tre,nre,rre,ire,ore,sre,are,lre,ure,rU,LP=T(()=>{qu=Z(Ot()),eIe(),qt(),bs(),Ai(),Ye(),sIe(),TP(),Une(),OB=({title:i,message:l})=>"".concat(i," ").concat(l),BP=(()=>{let i=new Map;return{add:l=>{let u=OB(l);i.has(u)?i.set(u,i.get(u)+1):i.set(u,1)},delete:l=>{let u=OB(l);i.has(u)&&i.get(u)>1?i.set(u,i.get(u)-1):i.delete(u)},clear:()=>{i.clear()},check:l=>i.has(OB(l))}})(),BB=(()=>{let i=new Map;return{add:l=>{i.has(l)?i.set(l,i.get(l)+1):i.set(l,1)},delete:l=>{i.has(l)&&i.get(l)>1?i.set(l,i.get(l)-1):i.delete(l)},clear:()=>{i.clear()},check:l=>i.has(l),get types(){return Array.of(...i.keys())}}})(),Hne=je.div(jne||(jne=X([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),gs),tU=je.div(Gne||(Gne=X([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),Wne=je.div(Vne||(Vne=X([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),nU=je.div(Xne||(Xne=X([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),Yne=je.button(Kne||(Kne=X([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),qne={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Jne=je.div(Qne||(Qne=X([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:i})=>qne[i]),DP=i=>(l,u,m=[],w=!1)=>{(w||!BP.check({title:l,message:u}))&&(BP.add({title:l,message:u}),BB.add(i),PB.custom(E=>qu.default.createElement(Hne,null,qu.default.createElement(Jne,{type:i}),qu.default.createElement(Wne,null,qu.default.createElement(tU,null,l),qu.default.createElement(nU,{dangerouslySetInnerHTML:{__html:lo.parse(u)}}),m.length>0&&qu.default.createElement(nU,null,qu.default.createElement("span",null,"Docs:"," ",m.map((M,k)=>qu.default.createElement(qu.Fragment,{key:k},k>0&&", ",qu.default.createElement("a",{target:"_blank",href:M.url},M.title)))))),qu.default.createElement(Yne,{onClick:()=>{PB.remove(E.id),BP.delete({title:l,message:u}),BB.delete(i)}},"Close")),{duration:1/0}))},NP={warning:DP("warning"),success:DP("success"),info:DP("info"),error:DP("error")},$ne=je.div(Zne||(Zne=X([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:i})=>i==="center"?"center":"flex-end"),tre=je.button(ere||(ere=X([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),gs,({danger:i})=>i?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),rre=je.div(nre||(nre=X([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),ore=je.div(ire||(ire=X([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),are=je.div(sre||(sre=X([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),lre=()=>{let{hasNotifications:i}=rU();return cA({enabled:!i},()=>qu.default.createElement(eU,null,qu.default.createElement(are,null,qu.default.createElement(tU,null,"No notifications"),"Notifications will appear here when you get them.")))},ure=()=>{var i;let{toasts:l,handlers:u}=Q8(),{startPause:m,endPause:w}=u,E=(i=_o(be().atomP.ahistoric.pinNotifications))!=null?i:!1;return qu.default.createElement(rre,null,E?l.length>0&&qu.default.createElement(ore,{onMouseEnter:m,onMouseLeave:w},qu.default.createElement("div",null,l.map(M=>qu.default.createElement("div",{key:M.id},M.message(M))))):null,qu.default.createElement($ne,{align:"side"},E&&l.length>0&&qu.default.createElement(tre,{onClick:()=>{BB.clear(),BP.clear(),PB.remove()},danger:!0},"Clear")))},rU=()=>{let{toasts:i}=Q8();return{hasNotifications:i.length>0}}});function iU(i,l){var u;let m=Object.values((u=(0,cre.val)(i.pointers.historic.sheetsById))!=null?u:{}),w=m.flatMap(M=>{var k;return Object.values((k=M==null?void 0:M.staticOverrides.byObject)!=null?k:{})}).flatMap(M=>Object.values(M??{})),E=[...m.flatMap(M=>{var k,L;return Object.values((L=(k=M==null?void 0:M.sequence)==null?void 0:k.tracksByObject)!=null?L:{})}).flatMap(M=>{var k;return Object.values((k=M==null?void 0:M.trackData)!=null?k:{})}).flatMap(M=>M==null?void 0:M.keyframes).map(M=>M==null?void 0:M.value)];return w.forEach(M=>{de(M,k=>{E.push(k)},[])}),E.filter(M=>(M==null?void 0:M.type)&&(l?(M==null?void 0:M.type)==l:typeof(M==null?void 0:M.type)=="string")).map(M=>M.id).filter((M,k,L)=>M!==null&&M!==""&&L.indexOf(M)===k)}var cre,fre=T(()=>{cre=tr,_e()});function dre(i,l){let u=new File([i],l),m=URL.createObjectURL(u),w=Object.assign(document.createElement("a"),{href:m,target:"_blank",rel:"noopener"});w.setAttribute("download",l),w.click(),setTimeout(()=>{URL.revokeObjectURL(m)},4e4)}var dm,hre,pre,mre,gre,vre,yre,_re,wre,xre,aIe=T(()=>{Ye(),u0(),a0(),dm=Z(Ot()),qt(),Fte(),Zke(),hre=Z($ke()),LP(),fre(),mre=je.div(pre||(pre=X([""]))),vre=je.div(gre||(gre=X([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),_re=je(l0)(yre||(yre=X([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),wre=({projects:i})=>{let l=i[0],u=l.address.projectId,m=u.replace(/[^\w\d'_\-]+/g," ").trim(),w="".concat(m,".theatre-project-state.json"),[E,M]=(0,dm.useState)(!1),k=(0,dm.useCallback)(()=>fe(void 0,null,function*(){var U,q;let J=iU(l),Q=new Map;try{yield Promise.all(J.map(ee=>fe(void 0,null,function*(){let $=l.assetStorage.getAssetUrl(ee),ie=yield fetch($);ie.ok&&Q.set(ee,yield ie.blob())})))}catch{NP.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((q=(U=l.config.assets)==null?void 0:U.baseUrl)!=null?q:"/",". This is likely due to a CORS issue."));return}if(Q.size>0){let ee=new hre.default;for(let[ie,se]of Q)ee.file(ie,se);let $=yield ee.generateAsync({type:"blob"});dre($,"".concat(m,".assets.zip"))}let W=JSON.stringify(be().createContentOfSaveFile(l.address.projectId),null,2);dre(W,w),M(!0),setTimeout(()=>{M(!1)},2e3)}),[l,w]),L=s0({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>dm.default.createElement(_re,null,dm.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),dm.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),dm.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return dm.default.createElement(dm.default.Fragment,null,L.node,dm.default.createElement(mre,null,dm.default.createElement(ane,{projectId:u}),dm.default.createElement(vre,null,dm.default.createElement(EB,{onMouseEnter:U=>L.open(U,U.target),onClick:E?void 0:k,disabled:E},E?"(Exported)":"Export ".concat(u," to JSON")))))},xre=wre}),T_,Sre,bre,Ere,Are,Cre,Mre,Tre,Pre,kre,Ire,lIe=T(()=>{T_=Z(Ot()),qt(),ZT(),bre=je.div(Sre||(Sre=X([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),Are=je.div(Ere||(Ere=X([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),Mre=je.div(Cre||(Cre=X([`
  color: rgba(145, 145, 145, 0.8);
`]))),Pre=je.a(Tre||(Tre=X([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),kre=()=>T_.default.createElement(bre,null,T_.default.createElement(Are,null,T_.default.createElement(Mre,null,T_.default.createElement(S6,null)),T_.default.createElement("div",null,"Please select an object from the ",T_.default.createElement("u",null,"Outline Menu")," to see its properties.")),T_.default.createElement(Pre,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),Ire=kre});function Rre(){let[i,l]=(0,oU.useState)(!1),u=(0,oU.useMemo)(()=>{let m=new Set;return()=>{let w=()=>{m.delete(w),l(m.size>0)};return m.add(w),l(!0),w}},[]);return[i,u]}var oU,Ore=T(()=>{oU=Z(Ot())}),$a,hA,Bre,Dre,DB,Nre,sU,Lre,aU,Fre,lU,FP,zre,Ure,NB,cS,uU=T(()=>{y_(),Ai(),$a=Z(Ot()),qt(),ln(),Ey(),bs(),qke(),aIe(),Ye(),EJ(),hA=tr,lIe(),Ore(),sS(),Bre="32px",DB=je.div(Dre||(Dre=X([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),gs,YE.propsPanel,({pin:i})=>i?"block":"none"),sU=je.div(Nre||(Nre=X([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),gs),aU=je.div(Lre||(Lre=X([`
  height: `,`;
  display: flex;
  align-items: center;
`])),Bre),lU=je.div(Fre||(Fre=X([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),gs),FP=(0,$a.createContext)([!1,()=>()=>{}]),zre=i=>{let l=_o(be().atomP.ahistoric.pinDetails)!==!1,u=bJ("right");(0,$a.useLayoutEffect)(()=>{NB.set(u)},[u]),(0,$a.useEffect)(()=>()=>{cS.set(!1),NB.set(!1)},[]);let[m]=(0,$a.useContext)(FP),w=l||u||m,[E,M]=(0,$a.useState)(null);return aee(E),ao(()=>{let k=v_(),L=k.find(Qe);if(L)return $a.default.createElement(DB,{"data-testid":"DetailPanel-Object",pin:w,ref:M,onMouseEnter:()=>{cS.set(!0)},onMouseLeave:()=>{cS.set(!1)}},$a.default.createElement(aU,null,$a.default.createElement(sU,{title:"".concat(L.sheet.address.sheetId,": ").concat(L.sheet.address.sheetInstanceId," > ").concat(L.address.objectKey)},$a.default.createElement(g_,null,L.sheet.address.sheetId," "),$a.default.createElement(JT,null,":"," "),$a.default.createElement(g_,null,L.sheet.address.sheetInstanceId," "),$a.default.createElement(JT,null," → "),$a.default.createElement(g_,null,L.address.objectKey))),$a.default.createElement(lU,null,$a.default.createElement(Dte,{objects:[L]})));let U=k.find(dt);return U?$a.default.createElement(DB,{pin:w},$a.default.createElement(aU,null,$a.default.createElement(sU,{title:"".concat(U.address.projectId)},$a.default.createElement(g_,null,U.address.projectId," "))),$a.default.createElement(lU,null,$a.default.createElement(xre,{projects:[U]}))):$a.default.createElement(DB,{pin:w,onMouseEnter:()=>{cS.set(!0)},onMouseLeave:()=>{cS.set(!1)}},$a.default.createElement(Ire,null))},[w])},Ure=()=>{let i=Rre();return $a.default.createElement(FP.Provider,{value:i},$a.default.createElement(zre,null))},NB=new hA.Atom(!1),cS=new hA.Atom(!1),(0,hA.prism)(()=>{let i=(0,hA.val)(cS.prism),l=(0,hA.val)(NB.prism);return i||l})}),cU,LB,FB,fU,pA,jre,dU,mA=T(()=>{cU=tr,Ai(),Ye(),Ore(),LB=Z(Ot()),p8(),FB=(i,l)=>{let u=i.left/l.width,m=(i.left+i.width)/l.width,w=i.top/l.height,E=(i.height+i.top)/l.height;return{edges:{left:u<=.5?{from:"screenLeft",distance:u}:{from:"screenRight",distance:1-u},right:m<=.5?{from:"screenLeft",distance:m}:{from:"screenRight",distance:1-m},top:w<=.5?{from:"screenTop",distance:w}:{from:"screenBottom",distance:1-w},bottom:E<=.5?{from:"screenTop",distance:E}:{from:"screenBottom",distance:1-E}}}},fU=LB.default.createContext(null),pA=()=>(0,LB.useContext)(fU),jre=({panelId:i,children:l,defaultPosition:u,minDims:m})=>{let w=rB(800,200),[E,M]=Rre(),{stuff:k}=ao(()=>{var L;let{edges:U}=(L=(0,cU.val)(be().atomP.historic.panelPositions[i]))!=null?L:u,q=Math.floor(w.width*(U.left.from==="screenLeft"?U.left.distance:1-U.left.distance)),J=Math.floor(w.width*(U.right.from==="screenLeft"?U.right.distance:1-U.right.distance)),Q=Math.floor(w.height*(U.top.from==="screenTop"?U.top.distance:1-U.top.distance)),W=Math.floor(w.height*(U.bottom.from==="screenTop"?U.bottom.distance:1-U.bottom.distance)),ee=Math.max(J-q,m.width),$=Math.max(W-Q,m.height);return{stuff:{dims:cU.prism.memo("dims",()=>({width:ee,left:q,top:Q,height:$}),[ee,q,Q,$]),panelId:i,minDims:m,boundsHighlighted:E,addBoundsHighlightLock:M}}},[i,w,E,M]);return LB.default.createElement(fU.Provider,{value:k},l)},dU=jre}),zP,Hre,Gre,Vre,hU,Wre=T(()=>{Ss(),Ye(),Sc(),zP=Z(Ot()),qt(),mA(),fm(),Yl(),Ey(),Gre=je.div(Hre||(Hre=X([`
  cursor: move;
`]))),Vre=i=>{let l=pA(),u=(0,zP.useRef)(l);u.current=l;let[m,w]=rs(null),E=(0,zP.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let U=u.current,q,J=l.addBoundsHighlightLock();return{onDrag(Q,W){let ee=I(D({},U.dims),{top:Kn(U.dims.top+W,0,window.innerHeight-n0),left:Kn(U.dims.left+Q,-U.dims.width+n0,window.innerWidth-n0)}),$=FB(ee,{width:window.innerWidth,height:window.innerHeight});q==null||q.discard(),q=be().tempTransaction(({stateEditors:ie})=>{ie.studio.historic.panelPositions.setPanelPosition({position:$,panelId:U.panelId})})},onDragEnd(Q){J(),Q?q==null||q.commit():q==null||q.discard()}}}}),[]),[M]=ql(w,E);ag(M,"dragging","move");let[k,L]=(0,zP.useMemo)(()=>{let U;return[function(){if(U){let q=U;U=void 0,q()}U=l.addBoundsHighlightLock()},function(){if(U){let q=U;U=void 0,q()}}]},[]);return zP.default.createElement(Gre,I(D({},i),{ref:m,onMouseEnter:k,onMouseLeave:L}))},hU=Vre}),zB,Xre,pU,Kre,mU,Yre,gU,qre,Qre,Jre,Zre,$re,vU,eie,tie,nie,rie,iie,UP,oie,sie,aie,lie,uie,cie,fie,die,hie,yU,pie,Oy,uIe=T(()=>{Ss(),Ye(),Sc(),cm(),zB=Z(Ot()),qt(),mA(),bs(),Yl(),Ey(),pU=je.div(Xre||(Xre=X([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),gs,UE(.2,"#478698")),mU=je(pU)(Kre||(Kre=X([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),gU=je(mU)(Yre||(Yre=X([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),Qre=je(gU)(qre||(qre=X([`
  top: -1px;
`]))),Zre=je(gU)(Jre||(Jre=X([`
  bottom: -1px;
`]))),vU=je(mU)($re||($re=X([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),tie=je(vU)(eie||(eie=X([`
  left: -1px;
`]))),rie=je(vU)(nie||(nie=X([`
  right: -1px;
`]))),UP=je(pU)(iie||(iie=X([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),sie=je(UP)(oie||(oie=X([`
  top: 0;
  left: 0;
`]))),lie=je(UP)(aie||(aie=X([`
  top: 0;
  right: 0;
`]))),cie=je(UP)(uie||(uie=X([`
  bottom: 0;
  left: 0;
`]))),die=je(UP)(fie||(fie=X([`
  bottom: 0;
  right: 0;
`]))),hie={Top:Qre,TopLeft:sie,TopRight:lie,Bottom:Zre,BottomLeft:cie,BottomRight:die,Left:tie,Right:rie},yU={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},pie=({which:i})=>{let l=pA(),u=(0,zB.useRef)(l);u.current=l;let[m,w]=rs(null),E=(0,zB.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:yU[i],onDragStart(){let U,q=u.current,J=l.addBoundsHighlightLock();return{onDrag(Q,W){let ee=D({},q.dims);if(i.startsWith("Bottom"))ee.height=Math.max(ee.height+W,q.minDims.height);else if(i.startsWith("Top")){let ie=ee.top+ee.height,se=Kn(ee.top+W,0,Math.min(ie-q.minDims.height,window.innerHeight-n0)),he=ie-se;ee.height=he,ee.top=se}if(i.endsWith("Left")){let ie=ee.left+ee.width,se=Math.min(ee.left+Q,Math.min(ie-q.minDims.width,window.innerWidth-n0)),he=ie-se;ee.width=he,ee.left=se}else i.endsWith("Right")&&(ee.width=Math.max(ee.width+Q,Math.max(q.minDims.width,n0-q.dims.left)));let $=FB(ee,{width:window.innerWidth,height:window.innerHeight});U==null||U.discard(),U=be().tempTransaction(({stateEditors:ie})=>{ie.studio.historic.panelPositions.setPanelPosition({position:$,panelId:q.panelId})})},onDragEnd(Q){J(),Q?U==null||U.commit():U==null||U.discard()}}}}),[i]),[M]=ql(w,E),k=hie[i],L=i.length<=6;return zB.default.createElement(k,{ref:m,className:[M?"isDragging":"",l.boundsHighlighted&&L?"isHighlighted":""].join(" "),style:{cursor:yU[i]}})},Oy=pie}),fv,mie,gie,cIe=T(()=>{fv=Z(Ot()),uIe(),mie=i=>fv.default.createElement(fv.default.Fragment,null,fv.default.createElement(Oy,{which:"Bottom"}),fv.default.createElement(Oy,{which:"Top"}),fv.default.createElement(Oy,{which:"Left"}),fv.default.createElement(Oy,{which:"Right"}),fv.default.createElement(Oy,{which:"TopLeft"}),fv.default.createElement(Oy,{which:"TopRight"}),fv.default.createElement(Oy,{which:"BottomLeft"}),fv.default.createElement(Oy,{which:"BottomRight"})),gie=mie}),UB,vie,yie,_ie,_U,wie=T(()=>{bs(),UB=Z(Ot()),qt(),mA(),cIe(),yie=je.div(vie||(vie=X([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),gs),_ie=UB.default.forwardRef((i,l)=>{let u=pA(),m=i,{style:w,children:E}=m,M=j(m,["style","children"]);return UB.default.createElement(yie,I(D({ref:l},M),{style:D({width:u.dims.width+"px",height:u.dims.height+"px",top:u.dims.top+"px",left:u.dims.left+"px"},w??{})}),UB.default.createElement(gie,null),E)}),_U=_ie}),fIe=Y((i,l)=>{(function(u,m){typeof i=="object"&&typeof l<"u"?m(i,Ot()):(u=typeof globalThis<"u"?globalThis:u||self,m(u.ReactErrorBoundary={},u.React))})(i,function(u,m){function w(W){if(W&&W.__esModule)return W;var ee=Object.create(null);return W&&Object.keys(W).forEach(function($){if($!=="default"){var ie=Object.getOwnPropertyDescriptor(W,$);Object.defineProperty(ee,$,ie.get?ie:{enumerable:!0,get:function(){return W[$]}})}}),ee.default=W,Object.freeze(ee)}var E=w(m);function M(W,ee){return M=Object.setPrototypeOf||function($,ie){return $.__proto__=ie,$},M(W,ee)}function k(W,ee){W.prototype=Object.create(ee.prototype),W.prototype.constructor=W,M(W,ee)}var L=function(W,ee){return W===void 0&&(W=[]),ee===void 0&&(ee=[]),W.length!==ee.length||W.some(function($,ie){return!Object.is($,ee[ie])})},U={error:null},q=function(W){k(ee,W);function ee(){for(var ie,se=arguments.length,he=new Array(se),xe=0;xe<se;xe++)he[xe]=arguments[xe];return ie=W.call.apply(W,[this].concat(he))||this,ie.state=U,ie.updatedWithError=!1,ie.resetErrorBoundary=function(){for(var Be,Oe=arguments.length,He=new Array(Oe),vt=0;vt<Oe;vt++)He[vt]=arguments[vt];ie.props.onReset==null||(Be=ie.props).onReset.apply(Be,He),ie.reset()},ie}ee.getDerivedStateFromError=function(ie){return{error:ie}};var $=ee.prototype;return $.reset=function(){this.updatedWithError=!1,this.setState(U)},$.componentDidCatch=function(ie,se){var he,xe;(he=(xe=this.props).onError)==null||he.call(xe,ie,se)},$.componentDidMount=function(){var ie=this.state.error;ie!==null&&(this.updatedWithError=!0)},$.componentDidUpdate=function(ie){var se=this.state.error,he=this.props.resetKeys;if(se!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(se!==null&&L(ie.resetKeys,he)){var xe,Be;(xe=(Be=this.props).onResetKeysChange)==null||xe.call(Be,ie.resetKeys,he),this.reset()}},$.render=function(){var ie=this.state.error,se=this.props,he=se.fallbackRender,xe=se.FallbackComponent,Be=se.fallback;if(ie!==null){var Oe={error:ie,resetErrorBoundary:this.resetErrorBoundary};if(E.isValidElement(Be))return Be;if(typeof he=="function")return he(Oe);if(xe)return E.createElement(xe,Oe);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ee}(E.Component);function J(W,ee){var $=function(se){return E.createElement(q,ee,E.createElement(W,se))},ie=W.displayName||W.name||"Unknown";return $.displayName="withErrorBoundary("+ie+")",$}function Q(W){var ee=E.useState(null),$=ee[0],ie=ee[1];if(W!=null)throw W;if($!=null)throw $;return ie}u.ErrorBoundary=q,u.useErrorHandler=Q,u.withErrorBoundary=J,Object.defineProperty(u,"__esModule",{value:!0})})}),sd,xie,Sie,bie,Eie,Aie,Cie,Mie,Tie,Pie,kie,Iie,Rie,Oie,Bie,Die,Nie,Lie,Fie,zie,dIe=T(()=>{sd=Z(Ot()),qt(),Ey(),mA(),Wre(),wie(),xie=Z(fIe()),nA(),Ye(),Ey(),Sie={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},bie={width:300,height:300},Eie=({paneInstance:i})=>sd.default.createElement(dU,{panelId:"pane-".concat(i.instanceId),defaultPosition:Sie,minDims:bie},sd.default.createElement(Fie,{paneInstance:i})),Cie=je(_U)(Aie||(Aie=X([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),YE.pluginPanes),Tie=je.div(Mie||(Mie=X([`
  width: 100%;
`]))),kie=je.div(Pie||(Pie=X([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),Rie=je.button(Iie||(Iie=X([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),Bie=je(SQ)(Oie||(Oie=X([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),Nie=je.div(Die||(Die=X([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),Lie=i=>sd.default.createElement(Nie,null,"An Error occurred rendering this pane. Open the console for more info.",sd.default.createElement("pre",null,JSON.stringify({message:i.error.message,stack:i.error.stack},null,2))),Fie=({paneInstance:i})=>{let[l,u]=(0,sd.useState)(null),m=i.definition.mount;(0,sd.useLayoutEffect)(()=>{if(!l)return;let E=m({paneId:i.instanceId,node:l});if(typeof E=="function")return E},[l,m,i.instanceId]);let w=(0,sd.useCallback)(()=>{be().paneManager.destroyPane(i.instanceId)},[i]);return sd.default.createElement(Cie,{"data-testid":"theatre-pane-wrapper-".concat(i.instanceId)},sd.default.createElement(hU,null,sd.default.createElement(w6,null,sd.default.createElement(kie,null,sd.default.createElement(Rie,{onClick:w,title:"Close Pane"},sd.default.createElement(mPe,null))),sd.default.createElement(Tie,null,i.instanceId))),sd.default.createElement(xie.ErrorBoundary,{FallbackComponent:Lie},sd.default.createElement(Bie,{"data-testid":"theatre-pane-content-".concat(i.instanceId),ref:u})))},zie=Eie}),wU,xU,Uie=T(()=>{wU=tr,xU=(i,l)=>{let u=wU.prism.memo(i,()=>new wU.Atom(l),[]);return u.set(l),u}});function jie(i,l){(0,Hie.useLayoutEffect)(()=>{if(!i||l.type!=="propWithChildren"&&l.type!=="primitiveProp"&&l.type!=="sheetObject")return;let u=null,m=I(D({},l.sheetObject.address),{pathToProp:l.type==="sheetObject"?[]:l.pathToProp});function w(){u=_B.replaceLock(m,()=>{})}function E(){u==null||u()}return i.addEventListener("mouseenter",w),i.addEventListener("mouseleave",E),()=>{u==null||u(),i.removeEventListener("mouseenter",w),i.removeEventListener("mouseleave",E)}},[i])}var Hie,Gie=T(()=>{Hie=Z(Ot()),z8()}),P_,Vie,SU,Wie,bU,Xie,EU,Kie,Yie,qie,Qie,Jie,Zie,$ie,jB,HB=T(()=>{bs(),P_=Z(Ot()),nA(),qt(),iS(),Gie(),SU=je.li(Vie||(Vie=X([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),i=>i.depth),bU=je.div(Wie||(Wie=X([`
  border-bottom: 1px solid #7695b705;
`]))),EU=je(bU)(Xie||(Xie=X([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),KE.panel.body.compoudThing.label.color,i=>i.isSelected&&"background: blue"),Yie=je.span(Kie||(Kie=X([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),b_,EU),Qie=je.span(qie||(qie=X([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),i=>i.isCollapsed?0:90,i=>i.isCollapsed?15:75),Zie=je.ul(Jie||(Jie=X([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),$ie=({leaf:i,label:l,children:u,isSelectable:m,isSelected:w,toggleSelect:E,toggleCollapsed:M,isCollapsed:k})=>{let L=Array.isArray(u)&&u.length>0,U=(0,P_.useRef)(null);return jie(U.current,i),i.shouldRender?P_.default.createElement(SU,{depth:i.depth},P_.default.createElement(EU,{ref:U,style:{height:i.nodeHeight+"px"},isSelectable:m===!0,isSelected:w===!0,onClick:E,isEven:i.n%2===0},P_.default.createElement(Qie,{isCollapsed:k,onClick:M},P_.default.createElement(mZ,null)),P_.default.createElement(Yie,null,l)),L&&P_.default.createElement(Zie,null,u)):null},jB=$ie});function hIe(i,l){return l.every((u,m)=>u===i[m])}function pIe(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;u++)if(i[u]!==l[u])return!1;return!0}function GB(i){var l;let u=[];for(;;){let m=u.length,w=(l=i[0])==null?void 0:l[m];if(w===void 0)return u;for(let E of i)if(w!==E[m])return u;u.push(w)}}var h0,VB,p0=T(()=>{sB(),h0=fP(i=>JSON.stringify(i)),VB=i=>JSON.parse(i)});function mIe(i,l){let u=(0,AU.useRef)({combo:i,listener:l});u.current={combo:i,listener:l},(0,AU.useEffect)(()=>{function m(M){M.key===u.current.combo&&u.current.listener({down:!0,event:M})}function w(M){M.key===u.current.combo&&u.current.listener({down:!1,event:M})}function E(M){u.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",m),document.addEventListener("keyup",w),window.addEventListener("blur",E),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w),window.removeEventListener("blur",E)}},[])}var AU,gIe=T(()=>{AU=Z(Ot())});function eoe(i){let[l,u]=(0,toe.useState)(!1);return mIe(i,({down:m})=>{u(m)}),l}var toe,noe=T(()=>{toe=Z(Ot()),gIe()});function vIe(i){let l=(0,CU.useMemo)(()=>new roe.Atom(i),[]);return(0,CU.useLayoutEffect)(()=>{l.set(i)},[i]),l}var roe,CU,yIe=T(()=>{roe=tr,CU=Z(Ot())});function ioe(i,l,u){let m=(0,MU.pointer)({root:{},path:[]}),w=l(m);dy(i,(0,MU.getPointerParts)(w).path,u)}var MU,_Ie=T(()=>{MU=tr,Ux()}),WB,ooe,jh,dv=T(()=>{WB="data-pos",ooe={checkIfMouseEventSnapToPos(i,l){let u=i.composedPath().find(m=>m instanceof Element&&m!==(l==null?void 0:l.ignore)&&m.hasAttribute(WB));if(u){let m=parseFloat(u.getAttribute(WB));if(isFinite(m))return m}return null},includePositionSnapAttrs(i){return{[WB]:i}}},jh=ooe});function XB(i){let l=i.type==="sheet"?xIe(i):TU(i);return{byPosition:wIe(l),tracks:l}}function wIe(i){let l=new Map;for(let u of i)for(let m of u.data.keyframes){let w=l.get(m.position);w||(w=[],l.set(m.position,w)),w.push({kf:m,track:u,itemKey:qc.forTrackKeyframe(u.sheetObject,u.id,m.id)})}return l}function xIe(i){return i.children.flatMap(TU)}function TU(i){return i.children.flatMap(l=>l.type==="propWithChildren"?TU(l):SIe(l))}function SIe(i){let l=i.sheetObject,u=l.address.projectId,m=be().atomP.historic.coreByProject[u].sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey],w=(0,KB.val)(m.trackIdByPropPath[h0(i.pathToProp)]);if(!w)return[];let E=(0,KB.val)(m.trackData[w]);return E?[{id:w,data:E,sheetObject:l}]:[]}function bIe(i,l){return Hd(i.children.flatMap(u=>PU(u,l)))}function PU(i,l){return Hd(i.children.flatMap(u=>u.type==="propWithChildren"?PU(u,l):EIe(u,l)))}function EIe(i,l){var u,m;let w=i.sheetObject,E=w.address.projectId,M=be().atomP.historic.coreByProject[E].sheetsById[w.address.sheetId].sequence.tracksByObject[w.address.objectKey],k=(0,KB.val)(M.trackIdByPropPath[h0(i.pathToProp)]);return k?(m=(u=l[w.address.objectKey])==null?void 0:u[k])!=null?m:[]:[]}var KB,gA=T(()=>{Ye(),KB=tr,Iy(),p0(),Yl()});function AIe(i,l){let[u,m]=rs(null),w=__("useCaptureSelection");return ql(l,(0,vA.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(E){if(!E.shiftKey||E.target instanceof HTMLInputElement)return!1;let M=l.getBoundingClientRect(),k=E.clientX-M.left-(0,ug.val)(i.scaledSpace.leftPadding),L=(0,ug.val)(i.scaledSpace.toUnitSpace)(k);return u.current={h:[L,L],v:[E.clientY-M.top,E.clientY-M.top]},(0,ug.val)(i.selectionAtom).set({current:void 0}),{onDrag(U,q,J){let Q=l.getBoundingClientRect(),W=J.clientX-Q.left-(0,ug.val)(i.scaledSpace.leftPadding),ee=(0,ug.val)(i.scaledSpace.toUnitSpace)(W);u.current={h:[u.current.h[0],ee],v:[u.current.v[0],J.clientY-Q.top]};let $=kU.boundsToSelection(w,(0,ug.val)(i),u.current);(0,ug.val)(i.selectionAtom).set({current:$})},onDragEnd(U){u.current=null}}}}),[i,l,u])),m}var ug,vA,k_,soe,aoe,loe,kU,uoe,coe,IU,foe,doe,CIe=T(()=>{Ye(),Sc(),noe(),yIe(),_Ie(),Ss(),Ai(),ug=tr,vA=Z(Ot()),qt(),dv(),gA(),w_(),k_=5,aoe=je.div(soe||(soe=X([`
  cursor: `,`;
`])),i=>i.isShiftDown?"cell":"default"),loe=({layoutP:i,children:l,height:u})=>{let[m,w]=rs(null),E=eoe("Shift"),M=AIe(i,w),k=(0,vA.useRef)(M);return k.current=M,vA.default.createElement(aoe,{style:{height:u+"px"},ref:m,isShiftDown:E,className:"selectionview"},M&&vA.default.createElement(foe,{state:M,layoutP:i}),l)},(i=>{let l=(M,k,L,U,q)=>{let J=XB(L);if(L.top+L.nodeHeight/2+k_>U.v[0]&&L.top+L.nodeHeight/2-k_<U.v[1])for(let[Q,W]of J.byPosition){let ee=k.scaledSpace.toUnitSpace(k_);if(!(Q+ee<=U.h[0]||Q-ee>=U.h[1]))for(let $ of W)ioe(q,ie=>ie[$.track.sheetObject.address.objectKey].byTrackId[$.track.id].byKeyframeId[$.kf.id],!0)}m(M,k,L,U,q)},u={sheet(M,k,L,U,q){l(M,k,L,U,q)},propWithChildren(M,k,L,U,q){l(M,k,L,U,q)},sheetObject(M,k,L,U,q){l(M,k,L,U,q)},primitiveProp(M,k,L,U,q){let{sheetObject:J,trackId:Q}=L,W=(0,ug.val)(be().atomP.historic.coreByProject[J.address.projectId].sheetsById[J.address.sheetId].sequence.tracksByObject[J.address.objectKey].trackData[Q]);if(!(U.v[0]>L.top+L.heightIncludingChildren/2+k_||L.top+L.heightIncludingChildren/2-k_>U.v[1])){for(let ee of W.keyframes)if(!(ee.position+k.scaledSpace.toUnitSpace(k_)<=U.h[0])){if(ee.position-k.scaledSpace.toUnitSpace(k_)>=U.h[1])break;ioe(q,$=>$[J.address.objectKey].byTrackId[Q].byKeyframeId[ee.id],!0)}}}},m=(M,k,L,U,q)=>{if("children"in L)for(let J of L.children)w(M,k,J,U,q)};function w(M,k,L,U,q){if(!L.shouldRender||U.v[0]>L.top+L.heightIncludingChildren||L.top>U.v[1])return;let J=u[L.type];J?J(M,k,L,U,q):m(M,k,L,U,q)}function E(M,k,L){let U={};L=IU(L);let q=k.tree;w(M.utilFor.internal(),k,q,L,U);let J=k.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:U,getDragHandlers(Q){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let W,ee=k.scaledSpace.toUnitSpace;return{onDrag($,ie,se){W&&(W.discard(),W=void 0);let he=jh.checkIfMouseEventSnapToPos(se,{ignore:Q.domNode}),xe=he!=null?he-Q.positionAtStartOfDrag:ee($);W=be().tempTransaction(({stateEditors:Be})=>{let Oe=Be.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let He of Object.keys(U)){let{byTrackId:vt}=U[He];for(let lt of Object.keys(vt)){let{byKeyframeId:ht}=vt[lt];Oe({trackId:lt,keyframeIds:Object.keys(ht),translate:xe,scale:1,origin:0,snappingFunction:J.getSequence().closestGridPosition,objectKey:He,projectId:Q.projectId,sheetId:Q.sheetId})}}})},onDragEnd($){$?W==null||W.commit():W==null||W.discard()}}}}},delete(){be().transaction(({stateEditors:Q})=>{let W=Q.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let ee of Object.keys(U)){let{byTrackId:$}=U[ee];for(let ie of Object.keys($)){let{byKeyframeId:se}=$[ie];W(I(D({},J.address),{objectKey:ee,trackId:ie,keyframeIds:Object.keys(se)}))}}})}}}i.boundsToSelection=E})(kU||(kU={})),coe=je.div(uoe||(uoe=X([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),IU=i=>({h:[...i.h].sort((l,u)=>l-u),v:[...i.v].sort((l,u)=>l-u)}),foe=({state:i,layoutP:l})=>{let u=vIe(i);return ao(()=>{let m=(0,ug.val)(u.pointer),w=IU(m),E=(0,ug.val)(l.scaledSpace.fromUnitSpace),M=(0,ug.val)(l.scaledSpace.leftPadding),k=w.h.map(E).map(Q=>Q+M),L=w.v[0],U=w.v[1]-w.v[0],q=k[0],J=k[1]-k[0];return vA.default.createElement(coe,{style:{top:L+"px",height:U+"px",left:q+"px",width:J+"px"}})},[l,u])},doe=loe}),fS,hoe,poe,RU,moe,goe,voe,yoe=T(()=>{qE(),fS=Z(Ot()),qt(),jy(),poe=je.div(hoe||(hoe=X([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>E0.scrollableArea),RU=(0,fS.createContext)(ov),moe=()=>(0,fS.useContext)(RU),goe=i=>{let l=(0,fS.useRef)(null),u=(0,fS.useCallback)(m=>{l.current.scrollBy(0,m.deltaY)},[]);return fS.default.createElement(RU.Provider,{value:u},fS.default.createElement(poe,{ref:l},i.children))},voe=goe}),_oe,MIe=T(()=>{_oe='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),cg,YB=T(()=>{cg=(i,l=i)=>`
  left: `.concat(i*-.5,`px;
  top: `).concat(l*-.5,`px;
  width: `).concat(i,`px;
  height: `).concat(l,`px;
`)}),qB,woe,xoe,TIe=T(()=>{qB=tr,woe=(0,qB.prism)(()=>{let[i,l]=qB.prism.state("pos",null);return qB.prism.effect("setupListeners",()=>{let u=m=>{l(m)};return document.addEventListener("mousemove",u),()=>{document.removeEventListener("mousemove",u)}},[]),i}),xoe=woe}),By,Hh,jP,Soe,boe,Eoe,Aoe,Dy,m0,QB,Coe,Moe,ad=T(()=>{By=tr,TIe(),Yl(),Hh=Z(Ot()),jP=(0,Hh.createContext)(null),Soe=0,boe=({children:i,layoutP:l})=>{let u=(0,Hh.useMemo)(()=>new By.Atom([]),[]),m=(0,Hh.useMemo)(()=>(0,By.prism)(()=>{let M=By.prism.memo("p",()=>Coe(l),[l]).getValue(),k=(0,By.val)(u.pointer);return k.length>0?ly(k).position:M}),[l]),w=(0,Hh.useCallback)(()=>{let M=Soe++;return u.reduce(k=>[...k,{id:M,position:[-1,0]}]),{set:k=>{u.reduce(L=>{let U=L.findIndex(J=>J.id===M);if(U===-1)return console.warn("Lock is already freed. This is a bug."),L;let q=[...L];return q.splice(U,1,{id:M,position:[k,k===-1?0:1]}),q})},unlock:()=>{u.reduce(k=>k.filter(L=>L.id!==M))}}},[]),E={currentD:m,getLock:w};return Hh.default.createElement(jP.Provider,{value:E},i)},Eoe=()=>(0,Hh.useContext)(jP).currentD,Aoe=()=>{let{getLock:i}=(0,Hh.useContext)(jP),l=(0,Hh.useRef)();return(0,Hh.useLayoutEffect)(()=>()=>{var u;(u=l.current)==null||u.unlock()},[]),(0,Hh.useMemo)(()=>{let u;return(m,w)=>{var E,M;(u==null?void 0:u.shouldLock)!==m&&(m?l.current=i():(E=l.current)==null||E.unlock()),(u==null?void 0:u.pos)!==w&&m&&((M=l.current)==null||M.set(w)),u={shouldLock:m,pos:w}}},[i])},Dy=(i,l)=>{let{getLock:u}=(0,Hh.useContext)(jP),m=(0,Hh.useRef)();(0,Hh.useLayoutEffect)(()=>{if(i)return m.current=u(),()=>{m.current.unlock()}},[i,u]),(0,Hh.useLayoutEffect)(()=>{i&&m.current.set(l)},[l,i])},m0=i=>({[QB]:i==="hide"?i:i.toFixed(3)}),QB="data-theatre-lock-framestamp-to",Coe=i=>(0,By.prism)(()=>{let l=(0,By.val)(i.rightDims),u=(0,By.val)(i.clippedSpace.toUnitSpace),m=(0,By.val)(xoe);if(!m)return[-1,0];for(let q of m.composedPath()){if(!(q instanceof HTMLElement||q instanceof SVGElement))break;if(q.hasAttribute(QB)){let J=q.getAttribute(QB);if(typeof J!="string")continue;if(J==="hide")return[-1,0];let Q=parseFloat(J);if(isFinite(Q)&&Q>=0)return[Q,2]}}let{clientX:w,clientY:E}=m,{screenX:M,screenY:k,width:L,height:U}=l;if(_T(w,M,M+L)&&_T(E,k+16,k+U)){let q=w-M;return[u(q),3]}else return[-1,0]}),Moe=boe}),Toe,HP,OU,Poe,koe,g0,Ioe=T(()=>{bs(),fm(),qt(),MIe(),YB(),dv(),ad(),Toe=12,HP=34,OU="beingDragged",g0={BEING_DRAGGED_CLASS:OU,CSS:Ku(Poe||(Poe=X([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),cg(Toe),gs,OU),CSS_WHEN_SOMETHING_DRAGGING:Ku(koe||(koe=X([`
    pointer-events: auto;
    cursor: var(`,`);

    // ⸢⸤⸣⸥ thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),Cy,HP/2,HP/2,HP,HP,_oe),reactProps(i){return I(D(D({},m0(i.position)),jh.includePositionSnapAttrs(i.position)),{className:i.isDragging?g0.BEING_DRAGGED_CLASS:""})}}});function BU(){VP.set({mode:"snapToAll"})}function dS(){VP.set({mode:"snapToNone"})}function Roe(i){VP.set({mode:"snapToSome",positions:i})}function Ooe(i,l){return Object.fromEntries(Object.entries(i).map(([u,m])=>[u,Object.fromEntries(Object.entries(m.trackData).map(([w,E])=>[w,E.keyframes.filter(M=>l(M,{trackId:w,trackData:E,objectKey:u})).map(M=>M.position)]))]))}var Boe,Doe,DU,Noe,Loe,Foe,zoe,Uoe,GP,VP,NU,hS=T(()=>{Boe=tr,Doe=tr,DU=Z(Ot()),qt(),Ioe(),Loe=je.div(Noe||(Noe=X([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),g0.CSS,g0.CSS_WHEN_SOMETHING_DRAGGING),zoe=je.div(Foe||(Foe=X([`
  position: absolute;
`]))),Uoe=i=>DU.default.createElement(zoe,{style:{top:"".concat(i.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Doe.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(i.position,"px))")}},DU.default.createElement(Loe,D({},g0.reactProps({isDragging:!1,position:i.position})))),GP=Uoe,VP=new Boe.Atom({mode:"snapToNone"}),NU=VP.prism});function PIe(i,l){let u=(0,pS.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(w){if(w.target instanceof HTMLInputElement||w.shiftKey||w.altKey||w.ctrlKey||w.metaKey||w.composedPath().some(J=>J instanceof HTMLElement&&J.draggable===!0))return!1;let E=w.clientX-l.getBoundingClientRect().left,M=Kn((0,Ql.val)(i.clippedSpace.toUnitSpace)(E),0,1/0),k=(0,Ql.val)(i.seeker.setIsSeeking),L=(0,Ql.val)(i.sheet).getSequence();L.position=M;let U=M,q=(0,Ql.val)(i.scaledSpace.toUnitSpace);return k(!0),BU(),{onDrag(J,Q,W){let ee=q(J),$=Kn(U+ee,0,L.length),ie=jh.checkIfMouseEventSnapToPos(W,{});ie!=null&&($=ie),L.position=$},onDragEnd(){k(!1),dS()}}}}),[i,l]),[m]=ql(l,u);ag(m,"draggingPositionInSequenceEditor","ew-resize")}function kIe(i,l){let u=moe();(0,pS.useLayoutEffect)(()=>{if(!l)return;let m=E=>{if(E.ctrlKey){E.preventDefault(),E.stopPropagation();let M=E.clientX-l.getBoundingClientRect().left,k=(0,Ql.val)(i.clippedSpace.toUnitSpace)(M),L=(0,Ql.val)(i.clippedSpace.range),U=1+LU(E.deltaY,[-50,50])*.03,q=cy(L,W=>(W-k)*U+k),J=(0,Ql.val)(i.sheet).getSequence().length,Q=J+J*.25;(0,Ql.val)(i.clippedSpace.setRange)(IIe(q,[0,Q]));return}else if(E.shiftKey){E.preventDefault(),E.stopPropagation();let M=(0,Ql.val)(i.sheet).getSequence().length,k=(0,Ql.val)(i.clippedSpace.range),L=(k.end-k.start)/M,U=LU(E.deltaY||E.deltaX,[-50,50])*.05*L,q=cy(k,J=>J+U);(0,Ql.val)(i.clippedSpace.setRange)(q);return}else{u(E),E.preventDefault(),E.stopPropagation();let M=(0,Ql.val)(i.scaledSpace.toUnitSpace)(E.deltaX*1),k=(0,Ql.val)(i.clippedSpace.range),L=cy(k,U=>U+M);(0,Ql.val)(i.clippedSpace.setRange)(L);return}},w={capture:!0,passive:!1};return l.addEventListener("wheel",m,w),()=>{l.removeEventListener("wheel",m,w)}},[l,i]),ql(l,(0,pS.useMemo)(()=>({onDragStart(m){let w=(0,Ql.val)(i.clippedSpace.range),E=(0,Ql.val)(i.clippedSpace.setRange),M=(0,Ql.val)(i.scaledSpace.toUnitSpace);return m.preventDefault(),m.stopPropagation(),{onDrag(k,L,U,q,J){u({deltaY:-J});let Q=-M(k),W=cy(w,ee=>ee+Q);E(W)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[i]))}function LU(i,[l,u]){return Math.max(Math.min(i,u),l)}function IIe(i,l){return cy(i,u=>LU(u,l))}function RIe(i,l){(0,pS.useLayoutEffect)(()=>{if(!l)return;let u=(0,Ql.prism)(()=>{let M=(0,Ql.val)(i.clippedSpace.range);return(0,Ql.val)(i.scaledSpace.fromUnitSpace)(M.start)}),m=()=>{let M=u.getValue();l.scrollLeft=M},w=u.onStale(m);m();let E=setTimeout(m,100);return()=>{clearTimeout(E),w()}},[i,l])}var Ql,pS,joe,Hoe,Goe,FU,Voe=T(()=>{Sc(),Ss(),Ai(),Ql=tr,Yl(),pS=Z(Ot()),qt(),yoe(),bs(),fm(),dv(),hS(),Hoe=je.div(joe||(joe=X([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),gs),Goe=pS.default.memo(({layoutP:i,children:l,height:u})=>{let{width:m,unitSpaceToScaledSpaceMultiplier:w}=ao(()=>({width:(0,Ql.val)(i.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,Ql.val)(i.scaledSpace.fromUnitSpace)(1)}),[i]),[E,M]=rs(null);return kIe(i,M),PIe(i,M),RIe(i,M),pS.default.createElement(Hoe,{ref:E,style:{width:m+"px",height:u+"px","--unitSpaceToScaledSpaceMultiplier":w}},l)}),FU=Goe}),JB,Woe,Xoe,Koe,Yoe,qoe,Qoe,Joe,yA,ZB=T(()=>{JB=Z(Ot()),qt(),Xoe=je.li(Woe||(Woe=X([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),Yoe=je.div(Koe||(Koe=X([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),i=>i.isEven?"transparent":"#6b8fb505"),Qoe=je.ul(qoe||(qoe=X([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),Joe=({leaf:i,children:l,node:u,isCollapsed:m})=>{let w=Array.isArray(l)&&l.length>0;return i.shouldRender?JB.default.createElement(Xoe,null,JB.default.createElement(Yoe,{style:{height:i.nodeHeight+"px"},isEven:i.n%2===0},u),w&&JB.default.createElement(Qoe,null,l)):null},yA=Joe}),OIe=Y((i,l)=>{(function(){var u=this,m={};typeof i<"u"?l.exports=m:u.fuzzy=m,m.simpleFilter=function(w,E){return E.filter(function(M){return m.test(w,M)})},m.test=function(w,E){return m.match(w,E)!==null},m.match=function(w,E,M){M=M||{};var k=0,L=[],U=E.length,q=0,J=0,Q=M.pre||"",W=M.post||"",ee=M.caseSensitive&&E||E.toLowerCase(),$;w=M.caseSensitive&&w||w.toLowerCase();for(var ie=0;ie<U;ie++)$=E[ie],ee[ie]===w[k]?($=Q+$+W,k+=1,J+=1+J):J=0,q+=J,L[L.length]=$;return k===w.length?(q=ee===w?1/0:q,{rendered:L.join(""),score:q}):null},m.filter=function(w,E,M){return!E||E.length===0?[]:typeof w!="string"?E:(M=M||{},E.reduce(function(k,L,U,q){var J=L;M.extract&&(J=M.extract(L));var Q=m.match(w,J,M);return Q!=null&&(k[k.length]={string:Q.rendered,score:Q.score,index:U,original:L}),k},[]).sort(function(k,L){var U=L.score-k.score;return U||k.index-L.index}))}})()});function BIe(i,l){let[u,m]=(0,$B.useState)(!1),w=(0,$B.useRef)(l);return u||(w.current=l),(0,$B.useMemo)(()=>i(m),w.current)}var $B,DIe=T(()=>{$B=Z(Ot())}),zU,I_,eD=T(()=>{zU="rgba(26, 28, 30, 0.97);",I_="#272B2F"});function Zoe(i,l,u,m){let w=BIe(E=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return E(!0),{onDrag(M,k){i&&u.onCurveChange(m(M,k))},onDragEnd(M){E(!1),u.onCancelCurveChange()}}}}),[i,u.onCurveChange,u.onCancelCurveChange]);ql(l,w)}var ds,tD,WP,_A,$oe,XP,ese,nD,tse,nse,rse,wA,ise,mS,ose,sse,UU,ase,rD,lse,jU,use,cse,NIe=T(()=>{ds=Z(Ot()),Sc(),Ss(),Lr(),qt(),bs(),DIe(),eD(),tD=.12,WP=1+tD*2,_A=.01,$oe=8,XP=(1-_A)/($oe-1),ese="#3EAAA4",nD="#3EAAA4",tse="#3EAAA4",nse="#3EAAA4",rse="#3EAAA4",wA="#3EAAA4",ise="#3EAAA4",mS="#B3B3B3",ose="#3eaaa4",sse="#67dfd8",UU=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],rD=je.circle(ase||(ase=X([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),ose),jU=je.circle(lse||(lse=X([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),gs,rD,sse),use=i=>{let{curveConnection:{left:l,right:u},backgroundConnections:m}=i,w=Math.min(0,1-u.handles[1],1-l.handles[3]),E=Math.max(1,1-u.handles[1],1-l.handles[3]),M=Math.max(1,E-w),k=se=>(se-w)/M,[L,U]=rs(null),q=WP/((U==null?void 0:U.clientWidth)||1),J=WP/((U==null?void 0:U.clientHeight)||1),[Q,W]=rs(null);Zoe(U,W,i,(se,he)=>{let xe=Kn(l.handles[2]+se*q,0,1),Be=l.handles[3]-he*J;return[xe,Be,u.handles[0],u.handles[1]]});let[ee,$]=rs(null);Zoe(U,$,i,(se,he)=>{let xe=Kn(u.handles[0]+se*q,0,1),Be=u.handles[1]-he*J;return[l.handles[2],l.handles[3],xe,Be]});let ie=se=>"M0 ".concat(k(1)," C").concat(se.left.handles[2]," ").concat(k(1-se.left.handles[3])," ").concat(se.right.handles[0]," ").concat(k(1-se.right.handles[1])," 1 ").concat(k(0));return ds.default.createElement("svg",{height:"100%",width:"100%",ref:L,viewBox:"".concat(-tD," ").concat(-tD," ").concat(WP," ").concat(WP),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},ds.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},ds.default.createElement("stop",{offset:k(-1),stopColor:ise}),ds.default.createElement("stop",{offset:k(0),stopColor:wA}),ds.default.createElement("stop",{offset:k(.3),stopColor:rse}),ds.default.createElement("stop",{offset:k(.5),stopColor:nse}),ds.default.createElement("stop",{offset:k(.7),stopColor:tse}),ds.default.createElement("stop",{offset:k(1),stopColor:nD}),ds.default.createElement("stop",{offset:k(2),stopColor:ese})),ds.default.createElement("pattern",{id:"dot-background-pattern-1",width:XP,height:XP/M,y:-w/M},ds.default.createElement("rect",{width:_A,height:_A,fill:mS,opacity:.3})),ds.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),ds.default.createElement("pattern",{id:"dot-background-pattern-2",width:XP,height:XP},ds.default.createElement("rect",{width:_A,height:_A,fill:mS})),ds.default.createElement("rect",{x:0,y:k(0),width:"1",height:k(1)-k(0),fill:"url(#dot-background-pattern-2)"}),!l.type||l.type==="bezier"?ds.default.createElement(ds.default.Fragment,null,ds.default.createElement("line",{x1:0,y1:k(1),x2:l.handles[2],y2:k(1-l.handles[3]),stroke:mS,strokeWidth:"0.01"}),ds.default.createElement("line",{x1:1,y1:k(0),x2:u.handles[0],y2:k(1-u.handles[1]),stroke:mS,strokeWidth:"0.01"}),ds.default.createElement("path",{d:ie(i.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),m.map((se,he)=>ds.default.createElement("path",{key:se.objectKey+"/"+se.left.id,d:ie(se),stroke:UU[he%UU.length],opacity:.6,strokeWidth:"0.01"})),ds.default.createElement("path",{d:ie(i.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),ds.default.createElement("circle",{cx:0,cy:k(1),r:"0.025",stroke:nD,strokeWidth:"0.02",fill:I_}),ds.default.createElement("circle",{cx:1,cy:k(0),r:"0.025",stroke:wA,strokeWidth:"0.02",fill:I_}),ds.default.createElement(jU,{ref:Q,cx:l.handles[2],cy:k(1-l.handles[3]),fill:nD,opacity:.2}),ds.default.createElement(rD,{cx:l.handles[2],cy:k(1-l.handles[3])}),ds.default.createElement(jU,{ref:ee,cx:u.handles[0],cy:k(1-u.handles[1]),fill:wA,opacity:.2}),ds.default.createElement(rD,{cx:u.handles[0],cy:k(1-u.handles[1])})):ds.default.createElement(ds.default.Fragment,null,ds.default.createElement("line",{x1:0,y1:k(1),x2:1,y2:k(1),stroke:mS,strokeWidth:"0.01"}),ds.default.createElement("line",{x1:1,y1:k(1),x2:1,y2:0,stroke:mS,strokeWidth:"0.01"}),ds.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:wA,strokeWidth:"0.02",fill:I_}),ds.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:wA,strokeWidth:"0.02",fill:I_})))},cse=use});function iD(i){return i.map(l=>l.toFixed(3)).join(", ")}function oD(i){if(!i||(i==null?void 0:i.length)>fse)return null;let l=i.split(",");if(l.length!==4)return null;let u=l.map(m=>Number(m.trim()));return!u.every(m=>isFinite(m))||u[0]<0||u[0]>1||u[2]<0||u[2]>1?null:u}function LIe(i,l,u={threshold:.02}){if(!i||!l)return!1;let m=0;for(let w=0;w<4;w++)m+=Math.abs(i[w]-l[w]);return m<u.threshold}var fse,sD,dse=T(()=>{fse=128,sD=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),Kd,aD,gS,HU,hse,pse,KP,GU,VU,mse,gse,FIe=T(()=>{Kd=Z(Ot()),aD=.75,gS=.1,HU=1+aD*2,hse="#F5F5F5",pse="#888888",KP="#4f4f4f",GU="rgba(255, 255, 255, 0.1)",VU=i=>1-i,mse=i=>{let{easing:l,isSelected:u}=i,m=u?hse:pse,w="".concat(-aD," ").concat(-aD," ").concat(HU," ").concat(HU);if(l){let E=[l[0],VU(l[1])],M=[l[2],VU(l[3])];return Kd.default.createElement("svg",{height:"100%",width:"100%",viewBox:w,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kd.default.createElement("line",{x1:"0",y1:"1",x2:E[0],y2:E[1],stroke:KP,strokeWidth:"0.1"}),Kd.default.createElement("line",{x1:"1",y1:"0",x2:M[0],y2:M[1],stroke:KP,strokeWidth:"0.1"}),Kd.default.createElement("circle",{cx:E[0],cy:E[1],r:.1,fill:GU}),Kd.default.createElement("circle",{cx:M[0],cy:M[1],r:.1,fill:GU}),Kd.default.createElement("circle",{cx:E[0],cy:E[1],r:gS,fill:KP}),Kd.default.createElement("circle",{cx:M[0],cy:M[1],r:gS,fill:KP}),Kd.default.createElement("path",{d:"M0 1 C".concat(E[0]," ").concat(E[1]," ").concat(M[0],` 
        `).concat(M[1]," 1 0"),stroke:m,strokeWidth:"0.08"}),Kd.default.createElement("circle",{cx:0,cy:1,r:gS,fill:m}),Kd.default.createElement("circle",{cx:1,cy:0,r:gS,fill:m}))}return Kd.default.createElement("svg",{height:"100%",width:"100%",viewBox:w,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kd.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:m,strokeWidth:"0.08"}),Kd.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:m,strokeWidth:"0.08"}),Kd.default.createElement("circle",{cx:0,cy:1,r:gS,fill:m}),Kd.default.createElement("circle",{cx:1,cy:0,r:gS,fill:m}))},gse=mse}),YP,vse,yse,_se,wse,xse,Sse,bse,zIe=T(()=>{TP(),YP=Z(Ot()),qt(),dse(),FIe(),UO(),eD(),u0(),_se=je.div(yse||(yse=X([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),I_,({isSelected:i})=>i&&Ku(vse||(vse=X([`
      background-color: #383d42;
    `])))),xse=je(l0)(wse||(wse=X([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),Sse=YP.default.forwardRef((i,l)=>{let[u,m]=cA({enabled:!0,verticalPlacement:i.tooltipPlacement,verticalGap:0},()=>YP.default.createElement(xse,{showPopoverEdgeTriangle:!1},i.easing.label));return YP.default.createElement(_se,D({ref:zO([m,l])},i),u,YP.default.createElement(gse,{easing:oD(i.easing.value),isSelected:i.isSelected}))}),bse=Sse});function UIe(i){var l;let[u,m]=(0,Ese.useState)(null),w=M=>{if(u===null){i.items.length>0&&m(0);return}let k=u+M*i.uiColumns,L=k<0,U=k>i.items.length-1;if(L||U){if(i.canVerticleExit&&i.canVerticleExit(L?"top":"bottom")){m(null);return}return}m(k)},E=M=>{u===null?m(VIe(M,i.items.length)):u+M<0?m(null):m(Math.min(u+M,i.items.length-1))};return{focusFirstItem(){m(0)},onParentEltKeyDown:M=>{if(M.key==="ArrowRight")E(1);else if(M.key==="ArrowLeft")E(-1);else if(M.key==="ArrowUp")w(-1);else if(M.key==="ArrowDown")w(1);else return 0;return 1},gridItems:i.items.map((M,k)=>i.renderItem({isSelected:k===u,item:M,select(L){m(k),i.onSelectItem(M)===1&&(L==null||L.preventDefault(),L==null||L.stopPropagation())}})),currentSelection:(l=i.items[u??-1])!=null?l:null}}var Ese,jIe=T(()=>{Ese=Z(Ot()),uD()});function Ase(i,l,u){var m;(m=i.current)==null||m.discard(),i.current=null;let w=oD(u);w===null?i.current=GIe(l):i.current=HIe(l,w)}function Cse(i){var l;(l=i.current)==null||l.discard(),i.current=null}function HIe(i,l){return be().tempTransaction(({stateEditors:u})=>{let{setHandlesForKeyframe:m,setKeyframeType:w}=u.coreByProject.historic.sheetsById.sequence;for(let{projectId:E,sheetId:M,objectKey:k,trackId:L,left:U,right:q}of i)m({projectId:E,sheetId:M,objectKey:k,trackId:L,keyframeId:U.id,start:[l[0],l[1]]}),m({projectId:E,sheetId:M,objectKey:k,trackId:L,keyframeId:q.id,end:[l[2],l[3]]}),w({projectId:E,sheetId:M,objectKey:k,trackId:L,keyframeId:U.id,keyframeType:"bezier"})})}function GIe(i){return be().tempTransaction(({stateEditors:l})=>{let{setKeyframeType:u}=l.coreByProject.historic.sheetsById.sequence;for(let{projectId:m,sheetId:w,objectKey:E,trackId:M,left:k}of i)u({projectId:m,sheetId:w,objectKey:E,trackId:M,keyframeId:k.id,keyframeType:"hold"})})}function VIe(i,l){return(i%l+l)%l}function WIe(i,l){return()=>setTimeout(i,l)}function XIe({left:i,right:l}){return({left:u,right:m})=>i.handles[2]!==u.handles[2]||i.handles[3]!==u.handles[3]||l.handles[0]!==m.handles[0]||l.handles[1]!==m.handles[1]}var lD,gl,Mse,WU,XU,Tse,Pse,kse,Ise,Rse,Ose,Bse,Dse,Nse,Lse,Fse,zse,KU,KIe,YU,Use,uD=T(()=>{lD=tr,gl=Z(Ot()),qt(),Mse=Z(OIe()),Ye(),NIe(),zIe(),dse(),eD(),Ss(),jIe(),WU=3,XU=53,Tse=25,kse=je.div(Pse||(Pse=X([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),zU,WU*XU),Rse=je.div(Ise||(Ise=X([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),WU),Bse=je.input.attrs({type:"text"})(Ose||(Ose=X([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),I_),Nse=je.div(Dse||(Dse=X([`
  grid-area: tween;
  background: `,`;
`])),I_),Fse=je.div(Lse||(Lse=X([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),zse=i=>{let l=(0,gl.useMemo)(()=>[i.curveConnection,...i.additionalConnections],[i.curveConnection,...i.additionalConnections]),u=(0,gl.useRef)(null);(0,gl.useEffect)(()=>{let We=Use(l);return()=>{var kt;We(),(kt=u.current)==null||kt.commit()}},[u]);let m=[i.curveConnection.left.handles[2],i.curveConnection.left.handles[3],i.curveConnection.right.handles[0],i.curveConnection.right.handles[1]],w=(0,gl.useRef)(null);(0,gl.useLayoutEffect)(()=>{var We,kt;(We=w.current)==null||We.select(),(kt=w.current)==null||kt.focus()},[w.current]);let[E,M]=(0,gl.useState)(iD(m)),k=We=>{We!==void 0&&(q(1),M(We.target.value),oD(We.target.value)&&Q(We.target.value))},L=We=>{var kt,Ee;q(1),(We.key==="ArrowDown"||We.key==="ArrowUp")&&We.preventDefault(),We.key==="ArrowDown"?(_n.focusFirstItem(),(Ee=(kt=He.current[se[0].label])==null?void 0:kt.current)==null||Ee.focus()):We.key==="Escape"?(Cse(u),i.onRequestClose("key Escape")):We.key==="Enter"&&i.onRequestClose("key Enter")},[U,q]=(0,gl.useState)(0);(0,gl.useEffect)(()=>{U===2?M(iD(m)):U===3&&E!==""&&M("")},l);let[J,Q]=(0,gl.useState)(iD(m)),[W,ee]=(0,gl.useState)(null);(0,gl.useEffect)(()=>{var We;U!==0&&U!==3&&Ase(u,l,(We=W??J)!=null?We:"")},[W,J,U]),l.some(XIe(i.curveConnection))&&U===0&&q(3);let $=We=>{var kt,Ee;q(2);let Ht=iD(We);M(Ht),Q(Ht),(kt=w.current)==null||kt.select(),(Ee=w.current)==null||Ee.focus()},ie=()=>{},se=(0,gl.useMemo)(()=>/^[A-Za-z]/.test(E)?Mse.default.filter(E,sD,{extract:We=>We.label}).map(We=>We.original):sD,[E]);(0,gl.useEffect)(()=>{U===1&&se[0]&&Q(se[0].value)},[se]);let he=We=>{We.key==="Escape"?(Cse(u),i.onRequestClose("key Escape"),We.stopPropagation()):We.key==="Enter"&&(i.onRequestClose("key Enter"),We.stopPropagation())},xe=We=>{U===0&&q(2),ee(We.value)},Be=()=>ee(null),Oe=We=>(Ase(u,l,We.value),i.onRequestClose("selected easing option"),1),He=(0,gl.useRef)(sD.reduce((We,kt)=>(We[kt.label]={current:null},We),{})),[vt,lt]=rs(null),[ht,It]=(0,gl.useState)(0);(0,gl.useEffect)(()=>{let We=()=>{var kt;It((kt=lt==null?void 0:lt.scrollTop)!=null?kt:0)};return lt==null||lt.addEventListener("scroll",We),()=>lt==null?void 0:lt.removeEventListener("scroll",We)},[lt]);let _n=UIe({items:se,uiColumns:3,onSelectItem:Oe,canVerticleExit(We){var kt,Ee;return We==="top"?((kt=w.current)==null||kt.select(),(Ee=w.current)==null||Ee.focus(),1):0},renderItem:({item:We,select:kt})=>{var Ee,Ht;return gl.default.createElement(bse,{key:We.label,easing:We,tabIndex:0,onKeyDown:he,ref:He.current[We.label],onMouseOver:()=>xe(We),onMouseOut:Be,onClick:kt,tooltipPlacement:((Ht=(Ee=He.current[We.label].current)==null?void 0:Ee.offsetTop)!=null?Ht:0)-(ht??0)<XU+Tse?"bottom":"top",isSelected:LIe(m,oD(We.value))})}});return(0,gl.useLayoutEffect)(()=>{var We,kt;if(_n.currentSelection!==null&&document.activeElement!==w.current){let Ee=(kt=(We=He.current)==null?void 0:We[_n.currentSelection.label])==null?void 0:kt.current;Ee==null||Ee.focus(),Q(_n.currentSelection.value),/^[A-Za-z]/.test(E)||M(_n.currentSelection.value)}},[_n.currentSelection]),gl.default.createElement(kse,null,gl.default.createElement(Bse,{value:E,placeholder:U===3?"Multiple easings selected":"Search presets...",onPaste:WIe(k),onChange:k,ref:w,onKeyDown:L}),gl.default.createElement(Rse,{ref:vt,onKeyDown:We=>_n.onParentEltKeyDown(We)},_n.gridItems,_n.gridItems.length===0?gl.default.createElement(Fse,null,"No results found"):void 0),gl.default.createElement(Nse,{onClick:()=>{var We;return(We=w.current)==null?void 0:We.focus()}},gl.default.createElement(cse,{curveConnection:i.curveConnection,backgroundConnections:i.additionalConnections,onCurveChange:$,onCancelCurveChange:ie})))},KU=zse,{isCurveEditorOpenD:KIe,isConnectionEditingInCurvePopover:YU,getLock:Use}=(()=>{let i=new lD.Atom([]);return{getLock(l){return i.set(l),function(){i.set([])}},isCurveEditorOpenD:(0,lD.prism)(()=>i.prism.getValue().length>0),isConnectionEditingInCurvePopover(l){return lD.prism.ensurePrism(),i.prism.getValue().some(({left:u,right:m})=>l.left.id===u.id&&l.right.id===m.id)}}})()});function YIe(i,l){for(let{keyframeId:u}of JIe(l))if(i.left.id===u)return!0;return!1}function jse(i,l,u){return(0,fD.prism)(()=>{if(u===void 0)return[];let m=[];for(let{objectKey:w,trackId:E}of Hse(u)){let M=(0,fD.val)(be().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[w].trackData[E]);M&&(m=m.concat(QIe(M.keyframes).filter(k=>YIe(k,u)).map(({left:k,right:L})=>({left:k,right:L,trackId:E,objectKey:w,sheetId:l,projectId:i}))))}return m})}function cD(i,l,u){var m;if(u===void 0)return[];let w=[];for(let{objectKey:M,trackId:k,keyframeIds:L}of Hse(u))w=w.concat((m=qU({projectId:i,sheetId:l,objectKey:M,trackId:k,keyframeIds:L}))!=null?m:[]);let E=GB(w.map(M=>M.pathToProp));return w.map(({keyframe:M,pathToProp:k})=>({keyframe:M,pathToProp:k.slice(E.length)}))}function qU({projectId:i,sheetId:l,objectKey:u,trackId:m,keyframeIds:w}){let E=(0,fD.val)(be().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[u]),M=E==null?void 0:E.trackData[m];if(!M)return null;let k=qIe((E==null?void 0:E.trackIdByPropPath)||{})[m];if(!k)return null;let L=[u,...VB(k)];return w.map(U=>({keyframe:M.keyframes.find(q=>q.id===U),pathToProp:L})).filter(({keyframe:U})=>U!==void 0)}function qIe(i){let l={};for(let[u,m]of Object.entries(i))l[m]=u;return l}function QIe(i){return i.map((l,u)=>({left:l,right:i[u+1]})).slice(0,-1)}function JIe(i){var l,u,m;let w=[];for(let[E,M]of Object.entries((l=i==null?void 0:i.byObjectKey)!=null?l:{}))for(let[k,L]of Object.entries((u=M==null?void 0:M.byTrackId)!=null?u:{}))for(let U of Object.keys((m=L==null?void 0:L.byKeyframeId)!=null?m:{}))w.push({objectKey:E,trackId:k,keyframeId:U});return w}function Hse(i){var l,u,m;let w=[];for(let[E,M]of Object.entries((l=i==null?void 0:i.byObjectKey)!=null?l:{}))for(let[k,L]of Object.entries((u=M==null?void 0:M.byTrackId)!=null?u:{}))w.push({objectKey:E,trackId:k,keyframeIds:Object.keys((m=L==null?void 0:L.byKeyframeId)!=null?m:{})});return w}var fD,xA=T(()=>{fD=tr,Ye(),p0()});function ZIe(i,l){return(0,Gse.useMemo)(()=>$Ie(i,l),[])}function $Ie(i,l){let u=null,m=M=>be().tempTransaction(k=>i(k,M));function w(){u==null||u.discard(),u=null}let E={createAsset:l.sheet.project.assetStorage.createAsset,getAssetUrl:M=>M.id?l.sheet.project.assetStorage.getAssetUrl(M.id):void 0};return D({temporarilySetValue(M){w(),u=m(M)},discardTemporaryValue:w,permanentlySetValue(M){w(),m(M).commit()}},E)}var Gse,eRe=T(()=>{Ye(),Gse=Z(Ot())});function QU(i){var l;if(i.type==="sheetObject")return ld.default.createElement(ld.default.Fragment,null,ld.default.createElement(dD,{style:{paddingLeft:"".concat(i.indent*hD,"px")}},i.sheetObject.address.objectKey),i.children.map((u,m)=>ld.default.createElement(QU,I(D({key:m},u),{autoFocusInput:i.autoFocusInput&&m===0,indent:i.indent+1}))));if(i.type==="propWithChildren"){let u=(l=i.propConfig.label)!=null?l:ly(i.pathToProp);return ld.default.createElement(ld.default.Fragment,null,ld.default.createElement(dD,{style:{paddingLeft:"".concat(i.indent*hD,"px")}},u),i.children.map((m,w)=>ld.default.createElement(QU,I(D({key:w},m),{autoFocusInput:i.autoFocusInput&&w===0,indent:i.indent+1}))))}else return ld.default.createElement(tRe,I(D({},i),{autoFocusInput:i.autoFocusInput,indent:i.indent}))}function tRe(i){var l;let u=(l=i.propConfig.label)!=null?l:ly(i.pathToProp),m=nRe(i);if(i.propConfig.type==="enum")return ld.default.createElement(ld.default.Fragment,null);{let w=A8[i.propConfig.type];return ld.default.createElement(Wse,null,ld.default.createElement(dD,null,ld.default.createElement("span",{style:{paddingLeft:"".concat(i.indent*hD,"px")}},u)),ld.default.createElement(Yse,null,ld.default.createElement(w,{editingTools:m,propConfig:i.propConfig,value:lB(i.keyframe.value,i.propConfig),autoFocus:i.autoFocusInput})))}}function nRe(i){let l=i.sheetObject;return ZIe(({stateEditors:u},m)=>{let w=I(D({},i.keyframe),{value:m});u.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},l.address),{trackId:i.trackId,keyframes:[w],snappingFunction:l.sheet.getSequence().closestGridPosition}))},l)}var ld,Vse,Wse,Xse,dD,hD,Kse,Yse,rRe=T(()=>{ld=Z(Ot()),qt(),B2(),EE(),eRe(),S_(),Wse=je.div(Vse||(Vse=X([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),dD=je.div(Xse||(Xse=X([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),hD=10,Yse=je.div(Kse||(Kse=X([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function pD(i){return s0({debugName:"useKeyframeInlineEditorPopover"},()=>mD.default.createElement(l0,{showPopoverEdgeTriangle:!0},mD.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(i)?i.map((l,u)=>mD.default.createElement(QU,I(D({key:u},l),{autoFocusInput:u===0,indent:0}))):void 0)))}var mD,gD=T(()=>{mD=Z(Ot()),a0(),u0(),rRe()});function iRe(i,l,u){return zh(i,{displayName:"Keyframe",menuItems:()=>{let m=cD(u.leaf.sheetObject.address.projectId,u.leaf.sheetObject.address.sheetId,u.selection);return[{label:m.length>0?"Copy (selection)":"Copy",callback:()=>{m.length>0?be().transaction(w=>{w.stateEditors.studio.ahistoric.setClipboardKeyframes(m)}):be().transaction(w=>{w.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:u.keyframe,pathToProp:u.leaf.pathToProp}])})}},{label:u.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{u.selection?u.selection.delete():be().transaction(({stateEditors:w})=>{w.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},u.leaf.sheetObject.address),{keyframeIds:[u.keyframe.id],trackId:u.leaf.trackId}))})}}]},onOpen(){l._debug("Show keyframe",u)}})}function oRe(i,l,u){let m=(0,R_.useRef)(l);m.current=l;let{onClickFromDrag:w}=u,E=(0,R_.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(k){let L=m.current,U=(0,vD.val)(be().atomP.historic.coreByProject[L.leaf.sheetObject.address.projectId].sheetsById[L.leaf.sheetObject.address.sheetId].sequence.tracksByObject),q=Ooe(U,function(ee,{trackId:$,objectKey:ie}){var se,he;return ee.id!==L.keyframe.id&&!(L.selection&&(he=(se=L.selection.byObjectKey[ie])==null?void 0:se.byTrackId[$])!=null&&he.byKeyframeId[ee.id])});if(Roe(q),L.selection){let{selection:ee,leaf:$}=L,{sheetObject:ie}=$,se=ee.getDragHandlers(I(D({},ie.address),{domNode:i,positionAtStartOfDrag:L.track.data.keyframes[L.index].position})).onDragStart(k);return se&&I(D({},se),{onClick:w,onDragEnd:(...he)=>{var xe;(xe=se.onDragEnd)==null||xe.call(se,...he),dS()}})}let J=L,Q=(0,vD.val)(J.layoutP.scaledSpace.toUnitSpace),W;return{onDrag(ee,$,ie){var se;let he=J.track.data.keyframes[J.index],xe=Math.max((se=jh.checkIfMouseEventSnapToPos(ie,{ignore:i}))!=null?se:he.position+Q(ee),0);W==null||W.discard(),W=void 0,W=be().tempTransaction(({stateEditors:Be})=>{Be.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},J.leaf.sheetObject.address),{trackId:J.leaf.trackId,keyframes:[I(D({},he),{position:xe})],snappingFunction:(0,vD.val)(J.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(ee){ee?W==null||W.commit():W==null||W.discard(),dS()},onClick(ee){w(ee)}}}}),[w]),[M]=ql(i,E);return Dy(M,l.keyframe.position),ag(M,"draggingPositionInSequenceEditor","ew-resize"),[M]}var R_,vD,qP,JU,QP,ZU,qse,yD,Qse,Jse,Zse,$se,eae,tae,nae=T(()=>{R_=Z(Ot()),qt(),Ye(),Uh(),Sc(),Ss(),vD=tr,ad(),fm(),dv(),YB(),w_(),xA(),bs(),hS(),gD(),sS(),qP=6,JU=qP+2,QP={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},ZU=({isSelected:i,isInlineEditorPopoverOpen:l})=>i&&l?QP.inlineEditorOpenColor:i?QP.selectedColor:l?QP.selectedAndInlineEditorOpenColor:QP.normalColor,yD=je.div(qse||(qse=X([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),cg(qP),i=>ZU(i),i=>i.flag===2?"outline: 2px solid white;":""),Jse=je.div(Qse||(Qse=X([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),cg(qP*1.5),i=>ZU(i),i=>i.flag===2?"outline: 2px solid white;":""),$se=je.div(Zse||(Zse=X([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),cg(12),gs,yD,i=>i.isInlineEditorPopoverOpen?cg(JU):"",yD,cg(JU)),eae=i=>{let l=__("SingleKeyframeDot",i.keyframe.id),u=oS(i.itemKey),[m,w]=rs(null),[E]=iRe(w,l,i),{node:M,toggle:k,isOpen:L}=pD([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.leaf.pathToProp,propConfig:i.leaf.propConf,sheetObject:i.leaf.sheetObject,trackId:i.leaf.trackId}]);oRe(w,i,{onClickFromDrag(q){k(q,m.current)}});let U=!i.keyframe.type||i.keyframe.type==="bezier";return R_.default.createElement(R_.default.Fragment,null,R_.default.createElement($se,D({ref:m,isInlineEditorPopoverOpen:L},u.attrs)),U?R_.default.createElement(yD,{isSelected:!!i.selection,isInlineEditorPopoverOpen:L,flag:u.flag}):R_.default.createElement(Jse,{isSelected:!!i.selection,isInlineEditorPopoverOpen:L,flag:u.flag}),M,E)},tae=eae}),$U,e9,t9,vS,rae,iae,n9,oae=T(()=>{cm(),$U=Z(Ot()),qt(),nae(),e9=qP/2+1,t9=1e3,vS={normalColor:"#365b59",selectedColor:"#8A7842",barColor:i=>{let l=i.isSelected?vS.selectedColor:vS.normalColor;return i.isPopoverOpen?AO(.2,UE(.2,l)):l},hoverColor:i=>{let l=i.isSelected?vS.selectedColor:vS.normalColor;return i.isPopoverOpen?AO(.2,UE(.2,l)):AO(.1,UE(.1,l))}},iae=je.div(rae||(rae=X([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),vS.barColor,e9,t9,e9/2,vS.hoverColor),n9=$U.default.forwardRef((i,l)=>{let u={isPopoverOpen:i.isPopoverOpen,isSelected:i.isSelected};return $U.default.createElement(iae,I(D({},u),{ref:l,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i.connectorLengthInUnitSpace/t9,"))")},onClick:m=>{var w;(w=i.openPopover)==null||w.call(i,m)}}),i.children)})});function sRe(i,l){let u=(0,r9.useRef)(l);u.current=l;let m=(0,r9.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(w){let E=u.current,M;if(E.selection){let{selection:q,leaf:J}=E,{sheetObject:Q}=J;return q.getDragHandlers(I(D({},Q.address),{domNode:i,positionAtStartOfDrag:E.track.data.keyframes[E.index].position})).onDragStart(w)}let k=E,L=(0,_D.val)(k.layoutP.sheet).getSequence(),U=(0,_D.val)(k.layoutP.scaledSpace.toUnitSpace);return{onDrag(q,J,Q){let W=U(q);M&&(M.discard(),M=void 0),M=be().tempTransaction(({stateEditors:ee})=>{ee.coreByProject.historic.sheetsById.sequence.transformKeyframes(I(D({},k.leaf.sheetObject.address),{trackId:k.leaf.trackId,keyframeIds:[k.keyframe.id,k.track.data.keyframes[k.index+1].id],translate:W,scale:1,origin:0,snappingFunction:L.closestGridPosition}))})},onDragEnd(q){q?M&&M.commit():M&&M.discard()}}}}),[]);ql(i,m)}function aRe(i,l,u,m){return zh(l,{displayName:"Tween",menuItems:()=>{let w=cD(i.leaf.sheetObject.address.projectId,i.leaf.sheetObject.address.sheetId,i.selection);return[{label:w.length>0?"Copy (selection)":"Copy",callback:()=>{w.length>0?be().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes(w)}):be().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:u,pathToProp:i.leaf.pathToProp},{keyframe:m,pathToProp:i.leaf.pathToProp}])})}},{label:i.selection?"Delete (selection)":"Delete",callback:()=>{i.selection?i.selection.delete():be().transaction(({stateEditors:E})=>{E.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},i.leaf.sheetObject.address),{keyframeIds:[u.id,m.id],trackId:i.leaf.trackId}))})}}]}})}var _D,O_,r9,i9,sae,aae,lae,uae,cae,lRe=T(()=>{Ye(),Uh(),Sc(),Ss(),_D=tr,O_=Z(Ot()),r9=Z(Ot()),a0(),u0(),uD(),oae(),eD(),Ai(),xA(),xA(),qt(),i9=5,aae=je(l0)(sae||(sae=X([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),zU),lae=i=>{let{index:l,track:u}=i,m=u.data.keyframes[l],w=u.data.keyframes[l+1],[E,M]=rs(null),{node:k,toggle:L,close:U}=s0(()=>{let W=(0,_D.val)(i.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:W.screenX+i9,maxX:W.screenX+W.width-i9}}},()=>O_.default.createElement(cae,I(D({},i),{closePopover:U}))),[q]=aRe(i,M,m,w);sRe(M,i);let J=w.position-m.position,Q={isPopoverOpen:ao(()=>YU(I(D({},i.leaf.sheetObject.address),{trackId:i.leaf.trackId,left:m,right:w})),[i.leaf.sheetObject.address,i.leaf.trackId,m,w]),isSelected:i.selection!==void 0};return O_.default.createElement(O_.default.Fragment,null,O_.default.createElement(n9,I(D({ref:E,connectorLengthInUnitSpace:J},Q),{openPopover:W=>{M&&L(W,M)}}),k),q)},uae=lae,cae=O_.default.forwardRef((i,l)=>{let{index:u,track:{data:m},selection:w}=i,E=m.keyframes[u],M=m.keyframes[u+1],k=i.leaf.trackId,L=i.leaf.sheetObject.address,U=ao(()=>jse(L.projectId,L.sheetId,w).getValue(),[L,w]),q=D({left:E,right:M,trackId:k},L);return O_.default.createElement(aae,{showPopoverEdgeTriangle:!1,ref:l},O_.default.createElement(KU,{curveConnection:q,additionalConnections:U,onRequestClose:i.closePopover}))})}),fae,yS,dae,hae,pae,mae,gae,uRe=T(()=>{fae=tr,yS=Z(Ot()),qt(),lRe(),nae(),hae=je.div(dae||(dae=X([`
  position: absolute;
`]))),pae=yS.default.createElement(yS.default.Fragment,null),mae=yS.default.memo(i=>{let{index:l,track:{data:u}}=i,m=u.keyframes[l],w=u.keyframes[l+1],E=m.connectedRight&&!!w;return yS.default.createElement(hae,{style:{top:"".concat(i.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,fae.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(m.position,"px))")}},yS.default.createElement(tae,I(D({},i),{itemKey:i.itemKey})),E?yS.default.createElement(uae,D({},i)):pae)}),gae=mae});function cRe(i,l){return zh(i,{displayName:"Keyframe Track",menuItems:()=>{var u;let m=(u=(0,SA.val)(be().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?u:[];return[fRe(l,m)]}})}function fRe(i,l){return{label:"Paste Keyframes",enabled:l.length>0,callback:()=>{var u;let m=(0,SA.val)(i.layoutP.sheet).getSequence(),w=(u=l[0])==null?void 0:u.pathToProp,E=l.filter(({keyframe:M,pathToProp:k})=>pIe(w,k)).map(({keyframe:M,pathToProp:k})=>M);be().transaction(({stateEditors:M})=>{var k;m.position=m.closestGridPosition(m.position);let L=(k=dRe(E))==null?void 0:k.position;for(let U of E)M.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(I(D({},i.leaf.sheetObject.address),{trackId:i.leaf.trackId,position:m.position+U.position-L,handles:U.handles,value:U.value,snappingFunction:m.closestGridPosition,type:U.type}))})}}}function dRe(i){let l=null;for(let u of i)(l===null||u.position<l.position)&&(l=u);return l}var SA,Ny,vae,yae,o9,_ae,hRe=T(()=>{Ai(),SA=tr,Ny=Z(Ot()),qt(),uRe(),Uh(),Ss(),Ye(),p0(),hS(),Iy(),yae=je.div(vae||(vae=X([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),o9=Ny.default.memo(i=>{var l;let{layoutP:u,trackData:m,leaf:w}=i,[E,M]=rs(null),{selectedKeyframeIds:k,selection:L}=ao(()=>{let xe=(0,SA.val)(u.selectionAtom),Be=(0,SA.val)(xe.pointer.current.byObjectKey[w.sheetObject.address.objectKey].byTrackId[w.trackId].byKeyframeId);return Be?{selectedKeyframeIds:Be,selection:(0,SA.val)(xe.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[u,w.trackId]),[U,q,J]=cRe(M,i),Q=_o(NU),W=Q.mode==="snapToSome"?(l=Q.positions[w.sheetObject.address.objectKey])==null?void 0:l[w.trackId]:[],ee=Q.mode==="snapToAll",$=(0,Ny.useMemo)(()=>({data:m,id:w.trackId,sheetObject:i.leaf.sheetObject}),[m,w.trackId]),ie=m.keyframes.map((xe,Be)=>Ny.default.createElement(gae,{key:"keyframe-"+xe.id,itemKey:qc.forTrackKeyframe(w.sheetObject,w.trackId,xe.id),keyframe:xe,index:Be,track:$,layoutP:u,leaf:w,selection:k[xe.id]===!0?L:void 0})),se=W.map(xe=>Ny.default.createElement(GP,{key:"snap-target-"+xe,layoutP:u,leaf:w,position:xe})),he=ee?m.keyframes.map(xe=>Ny.default.createElement(GP,{key:"additionalSnapTarget-".concat(xe.id),layoutP:u,leaf:w,position:xe.position})):null;return Ny.default.createElement(yae,{ref:E,style:{background:J?"#444850 ":"unset"}},ie,se,Ny.default.createElement(Ny.default.Fragment,null,he),U)}),o9.displayName="BasicKeyframedTrack",_ae=o9}),wae,JP,xae,Sae,pRe=T(()=>{Ye(),Ai(),wae=tr,JP=Z(Ot()),ZB(),hRe(),w_(),xae=({leaf:i,layoutP:l})=>{let u=__("PrimitivePropRow",i.pathToProp.join());return ao(()=>{let{sheetObject:m}=i,{trackId:w}=i,E=(0,wae.val)(be().atomP.historic.coreByProject[m.address.projectId].sheetsById[m.address.sheetId].sequence.tracksByObject[m.address.objectKey].trackData[w]);return(E==null?void 0:E.type)!=="BasicKeyframedTrack"?(u.errorDev("trackData type ".concat(E==null?void 0:E.type," is not yet supported on the sequence editor")),JP.default.createElement(yA,{leaf:i,isCollapsed:!1,node:JP.default.createElement("div",null)})):JP.default.createElement(yA,{leaf:i,isCollapsed:!1,node:JP.default.createElement(_ae,{layoutP:l,trackData:E,leaf:i})})},[i,l])},Sae=xae});function mRe(i){return i()}var gRe=T(()=>{});function bae(i){let{index:l,aggregateKeyframes:u,selection:m}=i;return ao(Eae(i),[l,u,m,i.viewModel])}function Eae(i){let{index:l,aggregateKeyframes:u,selection:m}=i,{projectId:w,sheetId:E}=i.viewModel.type==="sheet"?i.viewModel.sheet.address:i.viewModel.sheetObject.address;return()=>{let M=u[l],k=u[l+1],L=k&&M.keyframes.length===k.keyframes.length&&M.keyframes.every(({track:Q},W)=>k.keyframes[W].track===Q)?{length:k.position-M.position,selected:M.selected===0&&k.selected===0}:null,U=L?M.keyframes.map(({kf:Q,track:W},ee)=>I(D({},W.sheetObject.address),{trackId:W.id,left:Q,right:k.keyframes[ee].kf})):[],q=mRe(()=>{let Q=s9.prism.memo("selectedConnections",()=>jse(w,E,m),[w,E,m]).getValue();return[...U,...Q]}),J=U.every(Q=>YU(Q));return{itemKey:s9.prism.memo("itemKey",()=>i.viewModel.type==="sheet"?qc.forSheetAggregateKeyframe(i.viewModel.sheet,M.position):i.viewModel.type==="sheetObject"?qc.forSheetObjectAggregateKeyframe(i.viewModel.sheetObject,M.position):qc.forCompoundPropAggregateKeyframe(i.viewModel.sheetObject,i.viewModel.pathToProp,M.position),[i.viewModel,M.position]),cur:M,connected:L,isAggregateEditingInCurvePopover:J,allConnections:q}}}var s9,a9=T(()=>{s9=tr,Iy(),uD(),Ai(),xA(),gRe()});function vRe(i,l){let u=(0,fg.useRef)(l);u.current=l;let m=(0,fg.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(w){let E=u.current,M,k=E.aggregateKeyframes[E.index].keyframes,{selection:L,viewModel:U}=E,q=U.type==="sheet"?U.sheet.address:U.sheetObject.address;if(L&&E.aggregateKeyframes[E.index].selected===0)return L.getDragHandlers(I(D({},q),{domNode:i,positionAtStartOfDrag:E.aggregateKeyframes[E.index].position})).onDragStart(w);let J=E,Q=(0,wD.val)(J.layoutP.sheet).getSequence(),W=(0,wD.val)(J.layoutP.scaledSpace.toUnitSpace);return{onDrag(ee,$,ie){let se=W(ee);M&&(M.discard(),M=void 0),M=be().tempTransaction(({stateEditors:he})=>{for(let xe of k)he.coreByProject.historic.sheetsById.sequence.transformKeyframes(I(D({},xe.track.sheetObject.address),{trackId:xe.track.id,keyframeIds:[xe.kf.id,xe.track.data.keyframes[xe.track.data.keyframes.indexOf(xe.kf)+1].id],translate:se,scale:1,origin:0,snappingFunction:Q.closestGridPosition}))})},onDragEnd(ee){ee?M&&M.commit():M&&M.discard()}}}}),[]);return ql(i,m)}function yRe(i,l){return zh(l,{displayName:"Aggregate Tween",menuItems:()=>{let u=i.utils.allConnections.reduce((k,L)=>{var U;return k.concat((U=qU(I(D({},L),{keyframeIds:[L.left.id,L.right.id]})))!=null?U:[])},[]),m=GB(u.map(k=>k.pathToProp)),w=u.map(({keyframe:k,pathToProp:L})=>({keyframe:k,pathToProp:L.slice(m.length)})),E=i.editorProps.viewModel,M=E.type==="sheet"?E.sheet.address:E.sheetObject.address;return[{label:"Copy",callback:()=>{if(i.editorProps.selection){let k=cD(M.projectId,M.sheetId,i.editorProps.selection);be().transaction(L=>{L.stateEditors.studio.ahistoric.setClipboardKeyframes(k)})}else be().transaction(k=>{k.stateEditors.studio.ahistoric.setClipboardKeyframes(w)})}},{label:"Delete",callback:()=>{i.editorProps.selection?i.editorProps.selection.delete():be().transaction(({stateEditors:k})=>{for(let L of i.utils.allConnections)k.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},M),{objectKey:L.objectKey,keyframeIds:[L.left.id,L.right.id],trackId:L.trackId}))})}}]}})}var wD,fg,l9,Aae,Cae,Mae,Tae,_Re=T(()=>{wD=tr,fg=Z(Ot()),oae(),a0(),Ss(),Ye(),Sc(),uD(),a9(),qt(),u0(),xA(),Uh(),p0(),l9=5,Cae=je(l0)(Aae||(Aae=X([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),Mae=fg.default.forwardRef((i,l)=>{let{allConnections:u}=bae(i);return fg.default.createElement(Cae,{showPopoverEdgeTriangle:!1,ref:l},fg.default.createElement(KU,{curveConnection:u[0],additionalConnections:u,onRequestClose:i.closePopover}))}),Tae=i=>{let[l,u]=rs(null),{editorProps:m}=i,[w]=yRe(i,u),[E]=vRe(u,i.editorProps),{node:M,toggle:k,close:L}=s0(()=>{let J=(0,wD.val)(m.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:J.screenX+l9,maxX:J.screenX+J.width-l9}}},()=>fg.default.createElement(Mae,I(D({},m),{closePopover:L}))),{connected:U,isAggregateEditingInCurvePopover:q}=i.utils;return U||E?fg.default.createElement(fg.default.Fragment,null,fg.default.createElement(n9,{ref:l,connectorLengthInUnitSpace:U?U.length:0,isSelected:U?U.selected:!1,isPopoverOpen:q,openPopover:J=>{u&&k(J,u)}}),M,w):fg.default.createElement(fg.default.Fragment,null)}});function wRe(i){let l={isSelected:i.isSelected,flag:i.flag};return Ly.default.createElement(xD,null,i.isAllHere?Ly.default.createElement(Bae,D({},l)):Ly.default.createElement(Dae,D({},l)))}var Ly,u9,Pae,kae,xD,Iae,Rae,c9,f9,d9,h9,Oae,Bae,Dae,xRe=T(()=>{Ly=Z(Ot()),qt(),YB(),bs(),u9=16,Pae=u9+2,xD=je.div(kae||(kae=X([`
  position: absolute;
  `,`
  z-index: 1;
`])),cg(u9)),Rae=je.div(Iae||(Iae=X([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),cg(12),gs,xD,xD,cg(Pae)),c9="#F2C95C",f9="#40AAA4",d9="#45747C",h9=i=>i.isSelected===0?c9:i.isSelected===1?f9:d9,Oae=i=>i.isSelected===0?c9:i.isSelected===1?f9:d9,Bae=i=>Ly.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ly.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:Oae(i)}),Ly.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:h9(i),stroke:i.flag===2?"white":void 0,strokeWidth:i.flag===2?"2px":void 0})),Dae=i=>Ly.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ly.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:i.flag===2?"white":h9(i),strokeWidth:i.flag===2?"2px":void 0}))});function SRe(i,l){let u=i.children.map(m=>m.type==="propWithChildren"?p9(m,l):Nae(m,l)).filter(m9);return u.length===0?null:{type:"sheetObject",sheetObject:i.sheetObject,children:u}}function p9(i,l){let u=i.children.map(m=>m.type==="propWithChildren"?p9(m,l):Nae(m,l)).filter(m9);return u.length===0?null:{type:"propWithChildren",pathToProp:i.pathToProp,propConfig:i.propConf,children:u}}function Nae(i,l){let u=l.find(m=>m.track.id===i.trackId);return u?{type:"primitiveProp",keyframe:u.kf,pathToProp:i.pathToProp,propConfig:i.propConf,sheetObject:i.sheetObject,trackId:i.trackId}:null}function bRe(i){var l,u,m,w;let{cur:E}=i.utils,M=pD(i.editorProps.viewModel.type==="sheet"?null:i.editorProps.viewModel.type==="sheetObject"?(u=(l=SRe(i.editorProps.viewModel,E.keyframes))==null?void 0:l.children)!=null?u:null:(w=(m=p9(i.editorProps.viewModel,E.keyframes))==null?void 0:m.children)!=null?w:null),k=oS(i.utils.itemKey);k.useRelations(()=>E.keyframes.map(J=>({affects:J.itemKey,flag:2})),[E.keyframes.map(J=>J.track.id).join("-")]);let[L,U]=rs(null),[q]=ERe(i,U);return ZP.default.createElement(ZP.default.Fragment,null,ZP.default.createElement(Rae,I(D(D({ref:L},k.attrs),jh.includePositionSnapAttrs(E.position)),{onClick:J=>i.editorProps.viewModel.type!=="sheet"?M.open(J,L.current):null})),ZP.default.createElement(wRe,{flag:k.flag,isAllHere:E.allHere,isSelected:E.selected}),q,M.node)}function ERe(i,l){return zh(l,{displayName:"Aggregate Keyframe",menuItems:()=>{let u=i.editorProps.viewModel,m=i.editorProps.selection;return[{label:m?"Copy (selection)":"Copy",callback:()=>{if(m){let{projectId:w,sheetId:E}=u.type==="sheet"?u.sheet.address:u.sheetObject.address,M=cD(w,E,m);be().transaction(k=>{k.stateEditors.studio.ahistoric.setClipboardKeyframes(M)})}else{let w=i.utils.cur.keyframes.flatMap(L=>{var U;return(U=qU(I(D({},L.track.sheetObject.address),{trackId:L.track.id,keyframeIds:[L.kf.id]})))!=null?U:[]}),E=u.type==="sheet"?[]:u.type==="sheetObject"?[u.sheetObject.address.objectKey]:u.type==="propWithChildren"?[u.sheetObject.address.objectKey,...u.pathToProp]:[],M=GB([E,...w.map(L=>L.pathToProp)]),k=w.map(({keyframe:L,pathToProp:U})=>({keyframe:L,pathToProp:U.slice(M.length)}));be().transaction(L=>{L.stateEditors.studio.ahistoric.setClipboardKeyframes(k)})}}},{label:m?"Delete (selection)":"Delete",callback:()=>{m?m.delete():be().transaction(({stateEditors:w})=>{for(let E of i.utils.cur.keyframes)w.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},E.track.sheetObject.address),{keyframeIds:[E.kf.id],trackId:E.track.id}))})}}]}})}var ZP,m9,ARe=T(()=>{ZP=Z(Ot()),Ss(),sS(),Uh(),xRe(),Ye(),xA(),p0(),dv(),gD(),m9=i=>i!==null}),Lae,$P,Fae,zae,Uae,jae,CRe=T(()=>{Lae=tr,$P=Z(Ot()),qt(),_Re(),a9(),ARe(),zae=je.div(Fae||(Fae=X([`
  position: absolute;
`]))),Uae=$P.default.memo(i=>{let l=bae(i);return $P.default.createElement(zae,{style:{top:"".concat(i.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,Lae.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(l.cur.position,"px))")}},$P.default.createElement(bRe,{editorProps:i,utils:l}),$P.default.createElement(Tae,{editorProps:i,utils:l}))}),jae=Uae});function MRe(i){let{layoutP:l,aggregatedKeyframes:u,viewModel:m}=i,w=__("AggregatedKeyframeTrack"),[E,M]=rs(null),{selectedPositions:k,selection:L}=TRe(l,u),[U,q,J]=IRe(M,i,()=>w._debug("see aggregatedKeyframes",i.aggregatedKeyframes)),Q=(0,dg.useMemo)(()=>[...u.byPosition.entries()].sort((xe,Be)=>xe[0]-Be[0]).map(([xe,Be])=>({position:xe,keyframes:Be,selected:k.get(xe),allHere:Be.length===u.tracks.length})),[u,k]),W=_o(NU),ee=W.mode==="snapToAll",$=W.mode==="snapToSome"?W.positions:F8,ie=(0,dg.useMemo)(()=>m.type==="sheet"?bIe(m,$):PU(m,$),[$]).map(xe=>dg.default.createElement(GP,{key:"snap-target-"+xe,layoutP:l,leaf:m,position:xe})),se=(0,dg.useMemo)(()=>Q.map(({position:xe,keyframes:Be},Oe)=>({position:xe,editorProps:{index:Oe,layoutP:l,viewModel:m,aggregateKeyframes:Q,selection:k.has(xe)?L:void 0}})),[Q,m,k]);DRe(M,xe=>{var Be;return(Be=se.find(Oe=>Oe.position===xe))==null?void 0:Be.editorProps},{onClickFromDrag(xe){}});let he=se.map((xe,Be)=>dg.default.createElement(dg.Fragment,{key:"agg-"+Q[Be].keyframes[0].kf.id},ee&&dg.default.createElement(GP,{layoutP:l,leaf:m,position:xe.position}),dg.default.createElement(jae,D({},xe.editorProps))));return dg.default.createElement(Wae,{ref:E,style:{background:J?"#444850 ":"unset"}},he,ie,U)}function TRe(i,l){return ao(()=>(0,Gh.val)(PRe(i,l)),[i,l])}function PRe(i,l){return(0,Gh.prism)(()=>{let u=(0,Gh.val)(i.selectionAtom),m=(0,Gh.val)(u.pointer.current);if(!m)return Xae;let w=new Map;for(let[E,M]of l.byPosition){let k=kRe(M,m);k!==void 0&&k!==bD&&w.set(E,k)}return{selectedPositions:w,selection:(0,Gh.val)(u.pointer.current)}})}function kRe(i,l){var u,m,w;let E;for(let{track:M,kf:k}of i){let L=((w=(m=(u=l.byObjectKey[M.sheetObject.address.objectKey])==null?void 0:u.byTrackId[M.id])==null?void 0:m.byKeyframeId)==null?void 0:w[k.id])===!0;E===void 0?L?E=y9:E=bD:L?E===bD&&(E=_9):E===y9&&(E=_9)}return E}function IRe(i,l,u){return zh(i,{onOpen:u,displayName:"Aggregate Keyframe Track",menuItems:()=>{var m;let w=(m=(0,Gh.pointerToPrism)(be().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?m:[];return[RRe(l,w)]}})}function RRe(i,l){return{label:"Paste Keyframes",enabled:l.length>0,callback:()=>{let u=(0,Gh.val)(i.layoutP.sheet).getSequence();i.viewModel.type==="sheet"?ORe(i.viewModel,l,u):BRe(i.viewModel,l,u)}}}function ORe(i,l,u){var m;let{projectId:w,sheetId:E,sheetInstanceId:M}=i.sheet.address;if(l.every(({pathToProp:k})=>k.length===0))for(let k of i.children.map(L=>L.sheetObject)){let L=(0,Gh.pointerToPrism)(be().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject[k.address.objectKey]).getValue(),U=Object.keys((m=L==null?void 0:L.trackData)!=null?m:{});g9(k.address,U,l,u)}else{let k=(0,Gh.pointerToPrism)(be().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject).getValue(),L=l.map(({keyframe:U,pathToProp:q})=>{var J,Q;let W=q[0],ee=q.slice(1),$=h0([...ee]),ie=((Q=(J=k==null?void 0:k[W])==null?void 0:J.trackIdByPropPath)!=null?Q:{})[$];return ie?{keyframe:U,trackId:ie,address:{objectKey:W,projectId:w,sheetId:E,sheetInstanceId:M}}:null}).filter(U=>U!==null);Hae(L,u)}}function BRe(i,l,u){var m;let{projectId:w,sheetId:E,objectKey:M}=i.sheetObject.address,k=(0,Gh.pointerToPrism)(be().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject[M]).getValue();if(l.every(({pathToProp:L})=>L.length===0)){let L=Object.keys((m=k==null?void 0:k.trackData)!=null?m:{});if(i.type==="sheetObject")g9(i.sheetObject.address,L,l,u);else{let U=(k==null?void 0:k.trackIdByPropPath)||{},q=Object.entries(U).filter(([J,Q])=>Q!==void 0&&hIe(VB(J),i.pathToProp)).map(([J,Q])=>Q);g9(i.sheetObject.address,q,l,u)}}else{let L=(k==null?void 0:k.trackIdByPropPath)||{},U=i.type==="propWithChildren"?i.pathToProp:[],q=l.map(({keyframe:J,pathToProp:Q})=>{let W=h0([...U,...Q]),ee=L[W];return ee?{keyframe:J,trackId:ee,address:i.sheetObject.address}:null}).filter(J=>J!==null);Hae(q,u)}}function g9(i,l,u,m){var w;m.position=m.closestGridPosition(m.position);let E=(w=Gae(u.map(({keyframe:M})=>M)))==null?void 0:w.position;be().transaction(({stateEditors:M})=>{for(let k of l)for(let{keyframe:L}of u)M.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(I(D({},i),{trackId:k,position:m.position+L.position-E,handles:L.handles,value:L.value,snappingFunction:m.closestGridPosition,type:L.type}))})}function Hae(i,l){var u;l.position=l.closestGridPosition(l.position);let m=(u=Gae(i.map(({keyframe:w})=>w)))==null?void 0:u.position;be().transaction(({stateEditors:w})=>{for(let{keyframe:E,trackId:M,address:k}of i)w.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(I(D({},k),{trackId:M,position:l.position+E.position-m,handles:E.handles,value:E.value,snappingFunction:l.closestGridPosition,type:E.type}))})}function Gae(i){let l=null;for(let u of i)(l===null||u.position<l.position)&&(l=u);return l}function DRe(i,l,u){let m=__("useDragForAggregateKeyframeDot"),w=Aoe(),E=(0,dg.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(k){m._debug("onDragStart",{target:k.target});let L=Number(k.target.dataset.pos),U=l(L);if(!U)return m._debug("no props found for ",{positionToFind:L}),!1;w(!0,L);let q=(0,Gh.prism)(Eae(U)).getValue().cur.keyframes,J=U.viewModel.type==="sheet"?U.viewModel.sheet.address:U.viewModel.sheetObject.address,Q=(0,Gh.val)(be().atomP.historic.coreByProject[J.projectId].sheetsById[J.sheetId].sequence.tracksByObject),W=Ooe(Q,function(se,{trackId:he,objectKey:xe}){var Be,Oe;return q.every(He=>se.id!==He.kf.id)&&!(U.selection&&(Oe=(Be=U.selection.byObjectKey[xe])==null?void 0:Be.byTrackId[he])!=null&&Oe.byKeyframeId[se.id])});if(Roe(W),U.selection&&U.aggregateKeyframes[U.index].selected===0){let{selection:se,viewModel:he}=U,xe=se.getDragHandlers(I(D({},J),{domNode:i,positionAtStartOfDrag:q[0].kf.position})).onDragStart(k);return xe&&I(D({},xe),{onClick:u.onClickFromDrag,onDragEnd:(...Be)=>{var Oe;(Oe=xe.onDragEnd)==null||Oe.call(xe,...Be),dS()}})}let ee=U,$=(0,Gh.val)(ee.layoutP.scaledSpace.toUnitSpace),ie;return{onDrag(se,he,xe){var Be;let Oe=Math.max((Be=jh.checkIfMouseEventSnapToPos(xe,{}))!=null?Be:q[0].kf.position+$(se),0);w(!0,Oe),ie==null||ie.discard(),ie=void 0,ie=be().tempTransaction(({stateEditors:He})=>{for(let vt of q){let lt=vt.kf;He.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},vt.track.sheetObject.address),{trackId:vt.track.id,keyframes:[I(D({},lt),{position:Oe})],snappingFunction:(0,Gh.val)(ee.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(se){w(!1,-1),se?ie==null||ie.commit():(ie==null||ie.discard(),u.onClickFromDrag(k)),dS()},onClick(se){u.onClickFromDrag(se)}}}}),[l,u.onClickFromDrag]),[M]=ql(i,E);return ag(M,"draggingPositionInSequenceEditor","ew-resize"),[M]}var Gh,dg,Vae,Wae,Xae,Kae,SD,v9,y9,_9,bD,w9=T(()=>{Ai(),Gh=tr,dg=Z(Ot()),qt(),Uh(),Ss(),CRe(),gA(),w_(),a9(),dv(),Sc(),ad(),fm(),Ye(),p0(),hS(),Dee(),hS(),gA(),Wae=je.div(Vae||(Vae=X([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),Xae=Object.freeze({selectedPositions:new Map,selection:void 0}),Kae=dg.default.memo(MRe),SD=Kae,v9=(i=>(i[i.AllSelected=0]="AllSelected",i[i.AtLeastOneUnselected=1]="AtLeastOneUnselected",i[i.NoneSelected=2]="NoneSelected",i))(v9||{}),{AllSelected:y9,AtLeastOneUnselected:_9,NoneSelected:bD}=v9}),bA,x9,Yae,NRe=T(()=>{Ai(),bA=Z(Ot()),pRe(),ZB(),w9(),gA(),w_(),x9=(i,l)=>i.type==="propWithChildren"?bA.default.createElement(Yae,{layoutP:l,viewModel:i,key:"prop"+i.pathToProp[i.pathToProp.length-1]}):bA.default.createElement(Sae,{layoutP:l,leaf:i,key:"prop"+i.pathToProp[i.pathToProp.length-1]}),Yae=({viewModel:i,layoutP:l})=>{let u=__("RightPropWithChildrenRow",i.pathToProp.join());return ao(()=>{let m=XB(i);return bA.default.createElement(VJ,{logger:u},bA.default.createElement(yA,{leaf:i,node:bA.default.createElement(SD,{layoutP:l,aggregatedKeyframes:m,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(w=>x9(w,l))))},[i,l])}}),S9,qae,Qae,LRe=T(()=>{Ai(),S9=Z(Ot()),NRe(),ZB(),gA(),w9(),qae=({leaf:i,layoutP:l})=>ao(()=>{let u=XB(i);return S9.default.createElement(yA,{leaf:i,node:S9.default.createElement(SD,{layoutP:l,aggregatedKeyframes:u,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(m=>x9(m,l)))},[i,l]),Qae=qae}),ED,Jae,Zae,FRe=T(()=>{Ai(),ED=Z(Ot()),LRe(),ZB(),gA(),w9(),Jae=({leaf:i,layoutP:l})=>ao(()=>{let u=XB(i);return ED.default.createElement(yA,{leaf:i,node:ED.default.createElement(SD,{layoutP:l,aggregatedKeyframes:u,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(m=>ED.default.createElement(Qae,{layoutP:l,key:"sheetObject-"+m.sheetObject.address.objectKey,leaf:m})))},[i,l]),Zae=Jae}),ek,_S,AD,$ae,ele,tle,nle,rle=T(()=>{Ai(),ek=tr,_S=Z(Ot()),qt(),CIe(),Voe(),FRe(),AD=1e6,ele=je.ul($ae||($ae=X([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),AD),tle=({layoutP:i})=>ao(()=>{let l=(0,ek.val)(i.tree),u=(0,ek.val)(i.tree.top)+Math.max((0,ek.val)(i.tree.heightIncludingChildren),(0,ek.val)(i.dopeSheetDims.height));return _S.default.createElement(_S.default.Fragment,null,_S.default.createElement(FU,{layoutP:i,height:u},_S.default.createElement(doe,{layoutP:i,height:u},_S.default.createElement(ele,{style:{top:l.top+"px"}},_S.default.createElement(Zae,{leaf:l,layoutP:i})))))},[i]),nle=tle});function b9(i,l,u,m){let w="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i,"px)"),E="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(l,") * 1px)");u===0&&(u=1e-4);let M="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u,")");m===0&&(m=.001);let k="calc(var(--graphEditorVerticalSpace) * ".concat(m*-1,")");return"translate(".concat(w,", ").concat(E,") scale(").concat(M,", ").concat(k,")")}function zRe(i,l){let{index:u,trackData:m}=l,w=m.keyframes[u],E=m.keyframes[u+1];return zh(i,{menuItems:()=>[{label:"Delete",callback:()=>{be().transaction(({stateEditors:M})=>{let{deleteKeyframes:k}=M.coreByProject.historic.sheetsById.sequence;k(I(D({},l.sheetObject.address),{trackId:l.trackId,keyframeIds:[w.id,E.id]}))})}}]})}var CD,ile,ole,sle,ale,lle,E9=T(()=>{S_(),Ye(),Uh(),Ss(),CD=Z(Ot()),qt(),ole=je.path(ile||(ile=X([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),sle="M 0 0 L 1 0 L 1 1",ale=i=>{let{index:l,trackData:u}=i,m=u.keyframes[l],w=u.keyframes[l+1],E=w.position-m.position,[M,k]=rs(null),[L]=zRe(k,i),U=i.isScalar?lB(m.value,i.propConfig):0,q=i.isScalar?lB(w.value,i.propConfig):1,J=i.extremumSpace.fromValueSpace(U),Q=i.extremumSpace.fromValueSpace(q)-J,W=b9(m.position,J,E,Q),ee=m.handles[2],$=m.handles[3],ie=w.handles[0],se=w.handles[1],he="M 0 0 C ".concat(ee," ").concat($," ").concat(ie," ").concat(se," 1 1");return CD.default.createElement(CD.default.Fragment,null,CD.default.createElement(ole,{ref:M,d:!m.type||m.type==="bezier"?he:sle,style:{transform:W}}),L)},lle=ale});function URe(i,l){let u=(0,wS.useRef)(l);u.current=l;let m=(0,wS.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let w,E=u.current,M=(0,tk.val)(E.layoutP.scaledSpace.toUnitSpace),k=(0,tk.val)(E.layoutP.graphEditorVerticalSpace.toExtremumSpace),L=E.extremumSpace.lock();return{onDrag(U,q){w&&(w.discard(),w=void 0);let{index:J,trackData:Q}=E,W=Q.keyframes[J],ee=Q.keyframes[J+1],$=M(U)/(ee.position-W.position),ie=-q,se=k(ie),he=E.extremumSpace.deltaToValueSpace(se),xe=l.isScalar?W.value:0,Be=l.isScalar?ee.value:1,Oe=he/(Be-xe);if(E.which==="left"){let He=Kn(W.handles[2]+$,0,1),vt=W.handles[3]+Oe;w=be().tempTransaction(({stateEditors:lt})=>{lt.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},E.sheetObject.address),{snappingFunction:(0,tk.val)(E.layoutP.sheet).getSequence().closestGridPosition,trackId:E.trackId,keyframes:[I(D({},W),{handles:[W.handles[0],W.handles[1],He,vt]})]}))})}else{let He=Kn(ee.handles[0]+$,0,1),vt=ee.handles[1]+Oe;w=be().tempTransaction(({stateEditors:lt})=>{lt.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},E.sheetObject.address),{trackId:E.trackId,snappingFunction:(0,tk.val)(E.layoutP.sheet).getSequence().closestGridPosition,keyframes:[I(D({},ee),{handles:[He,vt,ee.handles[2],ee.handles[3]]})]}))})}},onDragEnd(U){L(),U?w&&w.commit():w&&w.discard()}}}}),[]);ql(i,m)}function jRe(i,l){return zh(i,{menuItems:()=>[{label:"Delete",callback:()=>{be().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}var tk,wS,ule,A9,cle,fle,dle,hle,ple,C9,HRe=T(()=>{Ye(),Uh(),Sc(),Ss(),tk=tr,Yl(),wS=Z(Ot()),qt(),E9(),bs(),A9=je.circle(ule||(ule=X([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),fle=je.circle(cle||(cle=X([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),gs,A9),hle=je.path(dle||(dle=X([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),ple=i=>{let[l,u]=rs(null),{index:m,trackData:w}=i,E=w.keyframes[m],M=w.keyframes[m+1],[k]=jRe(u,i);URe(u,i);let L=i.which==="left"?E.handles[2]:M.handles[0],U=E.position+(M.position-E.position)*L,q=i.which==="left"?E.handles[3]:M.handles[1],J=i.isScalar?E.value:0,Q=i.isScalar?M.value:1,W=J+(Q-J)*q,ee=i.extremumSpace.fromValueSpace(W),$=ee-i.extremumSpace.fromValueSpace(i.which==="left"?J:Q),ie=b9(i.which==="left"?E.position:M.position,i.extremumSpace.fromValueSpace(i.which==="left"?J:Q),U-(i.which==="left"?E.position:M.position),$);return wS.default.createElement("g",null,wS.default.createElement(fle,{ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(U," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(ee,") * 1px)")}}),wS.default.createElement(A9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(U," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(ee,") * 1px)")}}),wS.default.createElement(hle,{d:"M 0 0 L 1 1",style:{transform:ie}}),k)},C9=ple});function GRe(i){let[l,u]=(0,B_.useState)(!1);Dy(l,i.props.keyframe.position);let m=(0,B_.useRef)(i.props);m.current=i.props;let w=(0,B_.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(E){u(!0);let M=!!E.altKey,k=m.current,L=(0,MD.val)(k.layoutP.scaledSpace.toUnitSpace),U=(0,MD.val)(k.layoutP.graphEditorVerticalSpace.toExtremumSpace),q=k.extremumSpace.lock(),J;return{onDrag(Q,W){let ee=k.trackData.keyframes[k.index],$=L(Q),ie=-W,se=U(ie),he=k.extremumSpace.deltaToValueSpace(se),xe=[],Be=I(D({},ee),{position:ee.position+$,value:ee.value+he,handles:[...ee.handles]});if(xe.push(Be),M){let Oe=k.trackData.keyframes[k.index-1];if(Oe&&Math.abs(ee.value-Oe.value)>0){let vt=I(D({},Oe),{handles:[...Oe.handles]});xe.push(vt),vt.handles[3]=WRe(Oe.handles[3],Oe.value,Oe.value,ee.value,Be.value)}let He=k.trackData.keyframes[k.index+1];if(He&&Math.abs(ee.value-He.value)>0){let vt=I(D({},He),{handles:[...He.handles]});xe.push(vt),vt.handles[1]=XRe(vt.handles[1],vt.value,vt.value,ee.value,Be.value)}}J==null||J.discard(),J=be().tempTransaction(({stateEditors:Oe})=>{Oe.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},k.sheetObject.address),{trackId:k.trackId,keyframes:xe,snappingFunction:(0,MD.val)(k.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(Q){u(!1),q(),Q?J==null||J.commit():(J==null||J.discard(),i.onDetectedClick(E))}}}}),[]);return ql(i.node,w),ag(l,"draggingPositionInSequenceEditor","move"),l}function VRe(i,l){return zh(i,{menuItems:()=>[{label:"Delete",callback:()=>{be().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}function WRe(i,l,u,m,w){return(m-l)*i/(w-u)}function XRe(i,l,u,m,w){return((l-m)*i+m-l+u-w)/(u-w)}var MD,B_,mle,M9,gle,vle,yle,_le,KRe=T(()=>{Ye(),Uh(),Sc(),Ss(),MD=tr,B_=Z(Ot()),qt(),ad(),ad(),bs(),fm(),dv(),gD(),sS(),M9=je.circle(mle||(mle=X([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),vle=je.circle(gle||(gle=X([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),gs,M9,Cy),yle=i=>{let[l,u]=rs(null),{index:m,trackData:w}=i,E=w.keyframes[m],[M]=VRe(u,i),k=oS(i.itemKey),L=E.value,U=i.extremumSpace.fromValueSpace(L),q=pD([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.pathToProp,propConfig:i.propConfig,sheetObject:i.sheetObject,trackId:i.trackId}]),J=GRe({node:u,props:i,onDetectedClick:Q=>q.toggle(Q,Q.target instanceof Element?Q.target:u)});return B_.default.createElement(B_.default.Fragment,null,B_.default.createElement(vle,I(D(D(D({ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(E.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(U,") * 1px)")}},m0(E.position)),jh.includePositionSnapAttrs(E.position)),k.attrs),{className:J?"beingDragged":""})),B_.default.createElement(M9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(E.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(U,") * 1px)"),fill:k.flag===2?"white":void 0}}),q.node,M)},_le=yle});function YRe(i){let[l,u]=(0,D_.useState)(!1);Dy(l,i.props.keyframe.position);let m=(0,D_.useRef)(i.props);m.current=i.props;let w=(0,D_.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(E){u(!0);let M=m.current,k=(0,T9.val)(M.layoutP.scaledSpace.toUnitSpace),L=M.extremumSpace.lock(),U;return{onDrag(q,J){let Q=M.trackData.keyframes[M.index],W=k(q),ee=[],$=I(D({},Q),{position:Q.position+W,value:Q.value,handles:[...Q.handles]});ee.push($),U==null||U.discard(),U=be().tempTransaction(({stateEditors:ie})=>{ie.coreByProject.historic.sheetsById.sequence.replaceKeyframes(I(D({},M.sheetObject.address),{trackId:M.trackId,keyframes:ee,snappingFunction:(0,T9.val)(M.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(q){u(!1),L(),q?U==null||U.commit():(U==null||U.discard(),i.onDetectedClick(E))}}}}),[]);return ql(i.node,w),ag(l,"draggingPositionInSequenceEditor","ew-resize"),l}function qRe(i,l){return zh(i,{menuItems:()=>[{label:"Delete",callback:()=>{be().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(I(D({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}var T9,D_,wle,P9,xle,Sle,ble,k9,QRe=T(()=>{Ye(),Uh(),Sc(),Ss(),T9=tr,D_=Z(Ot()),qt(),ad(),ad(),bs(),fm(),dv(),gD(),sS(),P9=je.circle(wle||(wle=X([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),Sle=je.circle(xle||(xle=X([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),gs,P9,Cy),ble=i=>{let[l,u]=rs(null),{index:m,trackData:w,itemKey:E}=i,M=w.keyframes[m],[k]=qRe(u,i),L=oS(E),U=i.which==="left"?0:1,q=pD([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.pathToProp,propConfig:i.propConfig,sheetObject:i.sheetObject,trackId:i.trackId}]),J=YRe({node:u,props:i,onDetectedClick:W=>q.toggle(W,W.target instanceof Element?W.target:u)}),Q=i.extremumSpace.fromValueSpace(U);return D_.default.createElement(D_.default.Fragment,null,D_.default.createElement(Sle,I(D(D(D({ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(M.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(Q,") * 1px)")}},L.attrs),m0(M.position)),jh.includePositionSnapAttrs(M.position)),{className:J?"beingDragged":""})),D_.default.createElement(P9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(M.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(Q,") * 1px)"),fill:L.flag===2?"white":void 0}}),q.node,k)},k9=ble}),TD,Ele,Ale,Cle,Mle,JRe=T(()=>{TD=Z(Ot()),qt(),E9(),Ale=je.path(Ele||(Ele=X([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),Cle=i=>{let{index:l,trackData:u}=i,m="M 0 0 L 1 1",w=b9(u.keyframes[l].position,i.extremumSpace.fromValueSpace(0),0,i.extremumSpace.fromValueSpace(1)-i.extremumSpace.fromValueSpace(0));return TD.default.createElement(TD.default.Fragment,null,TD.default.createElement(Ale,{d:m,style:{transform:w}}))},Mle=Cle}),ud,Tle,Ple,kle,Ile,Rle,ZRe=T(()=>{ud=Z(Ot()),qt(),E9(),HRe(),KRe(),QRe(),JRe(),Ple=je.g(Tle||(Tle=X([`
  /* position: absolute; */
`]))),kle=ud.default.createElement(ud.default.Fragment,null),Ile=i=>{let{index:l,trackData:u,isScalar:m}=i,w=u.keyframes[l],E=u.keyframes[l+1],M=w.connectedRight&&!!E&&E.value!==w.value;return ud.default.createElement(Ple,null,M?ud.default.createElement(ud.default.Fragment,null,ud.default.createElement(lle,D({},i)),!w.type||w.type==="bezier"&&ud.default.createElement(ud.default.Fragment,null,ud.default.createElement(C9,I(D({},i),{which:"left"})),ud.default.createElement(C9,I(D({},i),{which:"right"})))):kle,m?ud.default.createElement(_le,D({},i)):ud.default.createElement(ud.default.Fragment,null,ud.default.createElement(k9,I(D({},i),{which:"left"})),ud.default.createElement(k9,I(D({},i),{which:"right"})),ud.default.createElement(Mle,D({},i))))},Rle=Ile});function $Re(i,l){let u=1/0,m=-1/0;function w(E){u=Math.min(E,u),m=Math.max(E,m)}return i.forEach((E,M)=>{let k=lB(E.value,l);if(w(k),!E.connectedRight)return;let L=i[M+1];if(!L)return;let U=(typeof L.value=="number"?L.value:1)-k;w(k+E.handles[3]*U),w(k+L.handles[1]*U)}),[u,m]}function e3e(i){let l=0,u=1;function m(w){l=Math.min(w,l),u=Math.max(w,u)}return i.forEach((w,E)=>{if(!w.connectedRight)return;let M=i[E+1];M&&(m(w.handles[3]),m(M.handles[1]))}),[l,u]}var v0,Ole,Ble,t3e=T(()=>{Iy(),v0=Z(Ot()),kD(),ZRe(),S_(),Ai(),Ole=v0.default.memo(({layoutP:i,trackData:l,sheetObject:u,trackId:m,color:w,pathToProp:E})=>{let M=aB(_o(u.template.configPointer),E);if(f0(M))return console.error("Composite prop types cannot be keyframed"),v0.default.createElement(v0.default.Fragment,null);let[k,L]=(0,v0.useState)(!1),U=(0,v0.useMemo)(()=>{let W=new Set;return function(){let ee=W.size===0;W.add($),ee&&L(!0);function $(){let ie=W.size>0;W.delete($),ie&&W.size===0&&L(!1)}return $}},[]),q=(0,v0.useMemo)(()=>{let W=M.type==="number"?$Re(l.keyframes,M):e3e(l.keyframes),ee=se=>(se-W[0])/(W[1]-W[0]),$=se=>W[0]+ie(se),ie=se=>se*(W[1]-W[0]);return{fromValueSpace:ee,toValueSpace:$,deltaToValueSpace:ie,lock:U}},[l.keyframes]),J=(0,v0.useRef)(void 0);k||(J.current=q);let Q=l.keyframes.map((W,ee)=>v0.default.createElement(Rle,{pathToProp:E,propConfig:M,itemKey:qc.forTrackKeyframe(u,m,W.id),keyframe:W,index:ee,trackData:l,layoutP:i,sheetObject:u,trackId:m,isScalar:M.type==="number",key:W.id,extremumSpace:J.current,color:w}));return v0.default.createElement("g",{style:{"--main-color":nk[w].iconColor}},Q)}),Ble=Ole}),Dle,PD,Nle,Lle,n3e=T(()=>{Ye(),Ai(),Dle=tr,PD=Z(Ot()),t3e(),Nle=i=>ao(()=>{let{sheetObject:l,trackId:u}=i,m=(0,Dle.val)(be().atomP.historic.coreByProject[l.address.projectId].sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[u]);return(m==null?void 0:m.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(m==null?void 0:m.type," is not yet supported on the graph editor")),PD.default.createElement(PD.default.Fragment,null)):PD.default.createElement(Ble,I(D({},i),{trackData:m}))},[i.trackId,i.layoutP]),Lle=Nle});function Fle({clippedSpaceRange:i,clippedSpaceWidth:l,fps:u,gapWidth:m=120},w){let E=1/u,M=i.end-i.start,k=l/(u*M),L=Math.floor(m/k),U=(L<u?zle(u).find(Q=>Q>=L):u*Math.floor(L/u))*E,q=Math.floor(i.start/U),J=Math.ceil(i.end/U);for(let Q=q;Q<=J;Q++){let W=Q*U,ee=W%1===0;w(W,ee)}}var zle,Ule=T(()=>{Yl(),zle=Na(i=>{let l=[];for(let u=1;u<=i;u++)i%u===0&&l.push(u);return l})});function r3e(i){let{clippedSpaceWidth:l,height:u,ctx:m,unitSpaceToClippedSpace:w,snapToGrid:E}=i;m.clearRect(0,0,l,u),Fle(i,(M,k)=>{let L=E(M),U=Math.floor(w(L));m.strokeStyle=k?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",m.beginPath(),m.moveTo(U,0),m.lineTo(U,u),m.stroke(),m.closePath()})}var xS,SS,jle,Hle,Gle,Vle,Wle,Xle,Kle,Yle,I9,qle=T(()=>{xS=tr,SS=Z(Ot()),qt(),Ule(),Ye(),Hle=je.div(jle||(jle=X([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),Vle=je.canvas(Gle||(Gle=X([`
  position: relative;
  left: 0;
`]))),Wle=i=>{let l=i;return l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1},Xle=()=>window.devicePixelRatio||1,Kle=i=>Xle()/Wle(i),Yle=({layoutP:i,width:l,height:u})=>{let m=(0,SS.useRef)(null),[w,E]=(0,SS.useState)(null),{ctx:M,ratio:k}=(0,SS.useMemo)(()=>{if(!w)return{};let L=w.getContext("2d"),U=Kle(L);return{ctx:L,ratio:U}},[w]);return(0,SS.useLayoutEffect)(()=>{if(!M)return;w.width=l*k,w.height=u*k;let L=(0,xS.prism)(()=>{let U=(0,xS.val)(i.sheet).getSequence();return{ctx:M,clippedSpaceRange:(0,xS.val)(i.clippedSpace.range),clippedSpaceWidth:(0,xS.val)(i.clippedSpace.width),unitSpaceToClippedSpace:(0,xS.val)(i.clippedSpace.fromUnitSpace),height:u,leftPadding:(0,xS.val)(i.scaledSpace.leftPadding),fps:U.subUnitsPerUnit,snapToGrid:q=>U.closestGridPosition(q)}}).onChange(be().ticker,U=>{M.save(),M.scale(k,k),r3e(U),M.restore()},!0);return()=>{L()}},[M,l,u,i]),SS.default.createElement(Hle,{ref:m,style:{width:l+"px"}},SS.default.createElement(Vle,{ref:E,style:{width:l+"px",height:u+"px"}}))},I9=Yle}),y0,bS,nk,Qle,Jle,Zle,$le,eue,tue,kD=T(()=>{Ye(),p0(),dB(),Ai(),y0=tr,bS=Z(Ot()),qt(),rle(),Voe(),n3e(),qle(),cm(),nk={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},Jle=je.div(Qle||(Qle=X([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),iv(.03,"#1a1c1e")),$le=je.svg(Zle||(Zle=X([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),eue=({layoutP:i})=>ao(()=>{let l=(0,y0.val)(i.sheet),u=(0,y0.val)(be().atomP.historic.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].sequenceEditor.selectedPropsByObject),m=(0,y0.val)(i.graphEditorDims.height),w=(0,y0.val)(i.scaledSpace.fromUnitSpace)(1),E=[];if(u)for(let[k,L]of Object.entries(u)){let U=l.getObject(k);if(!U)continue;let q=(0,y0.val)(U.template.getMapOfValidSequenceTracks_forStudio());for(let[J,Q]of Object.entries(L)){let W=VB(J),ee=E_(q,W);ee&&E.push(bS.default.createElement(Lle,{key:"graph-".concat(k,"-").concat(J),sheetObject:U,pathToProp:W,layoutP:i,trackId:ee,color:Q}))}}let M=(0,y0.val)(i.rightDims.width);return bS.default.createElement(Jle,{style:{width:M+"px",height:m+"px","--unitSpaceToScaledSpaceMultiplier":w,"--graphEditorVerticalSpace":"".concat((0,y0.val)(i.graphEditorVerticalSpace.space))}},bS.default.createElement(I9,{layoutP:i,width:M,height:m}),bS.default.createElement(FU,{layoutP:i,height:m},bS.default.createElement($le,{width:AD,height:m,viewBox:"0 0 ".concat(AD," ").concat(m)},bS.default.createElement("g",{style:{transform:"translate(".concat((0,y0.val)(i.scaledSpace.leftPadding),"px, ").concat((0,y0.val)(i.graphEditorDims.padding.top),"px)")}},E))))},[i]),tue=eue}),nue,hg,rue,iue,oue,sue,R9,aue,lue,uue,cue,fue,due,hue,i3e=T(()=>{Ye(),p0(),hB(),Ai(),nue=tr,hg=Z(Ot()),qt(),H8(),vB(),kD(),HB(),iS(),Gie(),rue={label:{color:"#9a9a9a"}},oue=je(SU)(iue||(iue=X([""]))),R9=je(bU)(sue||(sue=X([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),rue.label.color),lue=je.button(aue||(aue=X([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),i=>i.isSelected?nk[i.graphEditorColor].iconColor:A_.offColor),uue=()=>hg.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},hg.default.createElement("g",{transform:"translate(0 100)"},hg.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),fue=je.span(cue||(cue=X([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),b_,R9),due=({leaf:i})=>{var l;let u=gP(i.sheetObject.propsP,i.pathToProp),m=i.sheetObject,{controlIndicators:w}=j8(u,m,i.propConf),E=ao(()=>{let Q=i.sheetObject.address,W=h0(i.pathToProp);return(0,nue.val)(be().atomP.historic.projects.stateByProjectId[Q.projectId].stateBySheetId[Q.sheetId].sequenceEditor.selectedPropsByObject[Q.objectKey][W])},[i]),M=(0,hg.useRef)(!1),k=typeof E=="string";M.current=k;let L=(0,hg.useCallback)(()=>{let Q=i.sheetObject.address;be().transaction(({stateEditors:W})=>{M.current?W.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(I(D({},Q),{pathToProp:i.pathToProp})):(W.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(I(D({},Q),{pathToProp:i.pathToProp})),W.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[i]),U=(l=i.propConf.label)!=null?l:i.pathToProp[i.pathToProp.length-1],q=!0,J=(0,hg.useRef)(null);return jie(J.current,i),hg.default.createElement(oue,{depth:i.depth},hg.default.createElement(R9,{ref:J,isEven:i.n%2===0,style:{height:i.nodeHeight+"px"},isSelected:k===!0},hg.default.createElement(fue,null,U),w,hg.default.createElement(lue,{onClick:L,isSelected:k===!0,graphEditorColor:E??"1",style:{opacity:1},disabled:!q},hg.default.createElement(uue,null))))},hue=due});function O9(i,l){be().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(I(D({},l.sheetAddress),{studioSheetItemKey:l.sheetItemKey,isCollapsed:i}))})}var B9=T(()=>{Ye()}),EA,D9,pue,o3e=T(()=>{EA=Z(Ot()),HB(),i3e(),B9(),D9=i=>{let l="prop"+i.pathToProp[i.pathToProp.length-1];return i.shouldRender?i.type==="propWithChildren"?EA.default.createElement(pue,{leaf:i,key:l}):EA.default.createElement(hue,{leaf:i,key:l}):EA.default.createElement(EA.default.Fragment,{key:l})},pue=({leaf:i})=>EA.default.createElement(jB,{leaf:i,label:i.pathToProp[i.pathToProp.length-1],isCollapsed:i.isCollapsed,toggleCollapsed:()=>O9(!i.isCollapsed,{sheetAddress:i.sheetObject.address,sheetItemKey:i.sheetItemKey})},i.children.map(l=>D9(l)))}),mue,gue,vue,s3e=T(()=>{mue=Z(Ot()),HB(),o3e(),B9(),Ye(),gue=({leaf:i})=>mue.default.createElement(jB,{leaf:i,label:i.sheetObject.address.objectKey,isCollapsed:i.isCollapsed,toggleSelect:()=>{be().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([i.sheetObject])})},toggleCollapsed:()=>O9(!i.isCollapsed,{sheetAddress:i.sheetObject.address,sheetItemKey:i.sheetItemKey})},i.children.map(l=>D9(l))),vue=gue}),N9,yue,_ue,a3e=T(()=>{Ai(),N9=Z(Ot()),s3e(),HB(),B9(),Pte(),yue=({leaf:i})=>ao(()=>N9.default.createElement(jB,{leaf:i,label:i.sheet.address.sheetId,isCollapsed:i.isCollapsed,toggleCollapsed:()=>{O9(!i.isCollapsed,{sheetAddress:i.sheet.address,sheetItemKey:i.sheetItemKey})}},i.children.map(l=>N9.default.createElement(vue,{key:"sheetObject-"+Mte(l.sheetObject),leaf:l}))),[i]),_ue=yue}),L9,ID,wue,xue,Sue,bue,Eue,Aue,l3e=T(()=>{Ai(),L9=tr,ID=Z(Ot()),qt(),a3e(),xue=je.div(wue||(wue=X([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),bue=je.ul(Sue||(Sue=X([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),Eue=({layoutP:i})=>ao(()=>{let l=(0,L9.val)(i.tree),u=(0,L9.val)(i.leftDims.width);return ID.default.createElement(xue,{style:{width:u+"px",top:l.top+"px"}},ID.default.createElement(bue,null,ID.default.createElement(_ue,{leaf:l})))},[i]),Aue=Eue}),F9,Cue,Mue,Tue,Pue,u3e=T(()=>{bs(),jy(),Ai(),cm(),F9=Z(Ot()),qt(),qle(),Mue=je.div(Cue||(Cue=X([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>E0.rightBackground,iv(.01,VT(1*.03,KE.panel.bg))),Tue=({layoutP:i})=>{let l=_o(i.rightDims.width),u=_o(i.panelDims.height);return F9.default.createElement(Mue,{style:{width:l+"px"}},F9.default.createElement(I9,{width:l,height:u,layoutP:i}))},Pue=Tue}),AA,kue,Iue,Rue,Oue,c3e=T(()=>{Ai(),AA=Z(Ot()),qt(),l3e(),u3e(),rle(),yoe(),Iue=je.div(kue||(kue=X([`
  position: absolute;
  left: 0;
  right: 0;
`]))),Rue=({layoutP:i})=>{let l=_o(i.dopeSheetDims.height);return AA.default.createElement(Iue,{style:{height:l+"px"}},AA.default.createElement(Pue,{layoutP:i}),AA.default.createElement(voe,null,AA.default.createElement(Aue,{layoutP:i}),AA.default.createElement(nle,{layoutP:i})))},Oue=Rue});function f3e(i,l,u){return z9.prism.memo(i,()=>(0,z9.prism)(l),u).getValue()}var z9,d3e=T(()=>{z9=tr});function el(i){return function(l,u){return i(l,u())}}function hm(i){return Object.freeze({audience:ES(i,8)?"internal":ES(i,16)?"dev":"public",category:ES(i,4)?"troubleshooting":ES(i,2)?"todo":"general",level:ES(i,512)?512:ES(i,256)?256:ES(i,128)?128:64})}function ES(i,l){return(i&l)===l}function tl(i,l){return((l&32)===32?!0:(l&16)===16?i.dev:(l&8)===8?i.internal:!1)&&i.min<=l}function Bue(i=console,l={}){let u=I(D({},_0),{includes:D({},_0.includes)}),m={styled:m3e.bind(u,i),noStyle:v3e.bind(u,i)},w=p3e.bind(u);function E(){return u.loggingConsoleStyle&&u.loggerConsoleStyle?m.styled:m.noStyle}return u.create=E(),{configureLogger(M){var k;M==="console"?(u.loggerConsoleStyle=_0.loggerConsoleStyle,u.create=E()):M.type==="console"?(u.loggerConsoleStyle=(k=M.style)!=null?k:_0.loggerConsoleStyle,u.create=E()):M.type==="keyed"?(u.creatExt=L=>M.keyed(L.names),u.create=w):M.type==="named"&&(u.creatExt=h3e.bind(null,M.named),u.create=w)},configureLogging(M){var k,L,U,q,J;u.includes.dev=(k=M.dev)!=null?k:_0.includes.dev,u.includes.internal=(L=M.internal)!=null?L:_0.includes.internal,u.includes.min=(U=M.min)!=null?U:_0.includes.min,u.include=(q=M.include)!=null?q:_0.include,u.loggingConsoleStyle=(J=M.consoleStyle)!=null?J:_0.loggingConsoleStyle,u.create=E()},getLogger(){return u.create({names:[]})}}}function h3e(i,l){let u=[];for(let{name:m,key:w}of l.names)u.push(w==null?m:"".concat(m," (").concat(w,")"));return i(u)}function p3e(i){let l=D(D({},this.includes),this.include(i)),u=this.filtered,m=this.named.bind(this,i),w=this.creatExt(i),E=tl(l,524),M=tl(l,522),k=tl(l,521),L=tl(l,529),U=tl(l,545),q=tl(l,265),J=tl(l,268),Q=tl(l,273),W=tl(l,289),ee=tl(l,137),$=tl(l,145),ie=tl(l,73),se=tl(l,81),he=E?w.error.bind(w,Tp._hmm):u.bind(i,524),xe=M?w.error.bind(w,Tp._todo):u.bind(i,522),Be=k?w.error.bind(w,Tp._error):u.bind(i,521),Oe=L?w.error.bind(w,Tp.errorDev):u.bind(i,529),He=U?w.error.bind(w,Tp.errorPublic):u.bind(i,545),vt=J?w.warn.bind(w,Tp._kapow):u.bind(i,268),lt=q?w.warn.bind(w,Tp._warn):u.bind(i,265),ht=Q?w.warn.bind(w,Tp.warnDev):u.bind(i,273),It=W?w.warn.bind(w,Tp.warnPublic):u.bind(i,273),_n=ee?w.debug.bind(w,Tp._debug):u.bind(i,137),We=$?w.debug.bind(w,Tp.debugDev):u.bind(i,145),kt=ie?w.trace.bind(w,Tp._trace):u.bind(i,73),Ee=se?w.trace.bind(w,Tp.traceDev):u.bind(i,81),Ht={_hmm:he,_todo:xe,_error:Be,errorDev:Oe,errorPublic:He,_kapow:vt,_warn:lt,warnDev:ht,warnPublic:It,_debug:_n,debugDev:We,_trace:kt,traceDev:Ee,lazy:{_hmm:E?el(he):he,_todo:M?el(xe):xe,_error:k?el(Be):Be,errorDev:L?el(Oe):Oe,errorPublic:U?el(He):He,_kapow:J?el(vt):vt,_warn:q?el(lt):lt,warnDev:Q?el(ht):ht,warnPublic:W?el(It):It,_debug:ee?el(_n):_n,debugDev:$?el(We):We,_trace:ie?el(kt):kt,traceDev:se?el(Ee):Ee},named:m,utilFor:{internal(){return{debug:Ht._debug,error:Ht._error,warn:Ht._warn,trace:Ht._trace,named(cr,bt){return Ht.named(cr,bt).utilFor.internal()}}},dev(){return{debug:Ht.debugDev,error:Ht.errorDev,warn:Ht.warnDev,trace:Ht.traceDev,named(cr,bt){return Ht.named(cr,bt).utilFor.dev()}}},public(){return{error:Ht.errorPublic,warn:Ht.warnPublic,debug(cr,bt){Ht._warn('(public "debug" filtered out) '.concat(cr),bt)},trace(cr,bt){Ht._warn('(public "trace" filtered out) '.concat(cr),bt)},named(cr,bt){return Ht.named(cr,bt).utilFor.public()}}}}};return Ht}function m3e(i,l){let u=D(D({},this.includes),this.include(l)),m=[],w="";for(let L=0;L<l.names.length;L++){let{name:U,key:q}=l.names[L];if(w+=" %c".concat(U),m.push(this.style.css(U)),q!=null){let J="%c#".concat(q);w+=J,m.push(this.style.css(J))}}let E=this.filtered,M=this.named.bind(this,l),k=[w,...m];return Due(E,l,u,i,k,g3e(k),M)}function g3e(i){let l=i.slice(0);for(let u=1;u<l.length;u++)l[u]+=";background-color:#e0005a;padding:2px;color:white";return l}function v3e(i,l){let u=D(D({},this.includes),this.include(l)),m="";for(let k=0;k<l.names.length;k++){let{name:L,key:U}=l.names[k];m+=" ".concat(L),U!=null&&(m+="#".concat(U))}let w=this.filtered,E=this.named.bind(this,l),M=[m];return Due(w,l,u,i,M,M,E)}function Due(i,l,u,m,w,E,M){let k=tl(u,524),L=tl(u,522),U=tl(u,521),q=tl(u,529),J=tl(u,545),Q=tl(u,265),W=tl(u,268),ee=tl(u,273),$=tl(u,289),ie=tl(u,137),se=tl(u,145),he=tl(u,73),xe=tl(u,81),Be=k?m.error.bind(m,...w):i.bind(l,524),Oe=L?m.error.bind(m,...w):i.bind(l,522),He=U?m.error.bind(m,...w):i.bind(l,521),vt=q?m.error.bind(m,...w):i.bind(l,529),lt=J?m.error.bind(m,...w):i.bind(l,545),ht=W?m.warn.bind(m,...E):i.bind(l,268),It=Q?m.warn.bind(m,...w):i.bind(l,265),_n=ee?m.warn.bind(m,...w):i.bind(l,273),We=$?m.warn.bind(m,...w):i.bind(l,273),kt=ie?m.info.bind(m,...w):i.bind(l,137),Ee=se?m.info.bind(m,...w):i.bind(l,145),Ht=he?m.debug.bind(m,...w):i.bind(l,73),cr=xe?m.debug.bind(m,...w):i.bind(l,81),bt={_hmm:Be,_todo:Oe,_error:He,errorDev:vt,errorPublic:lt,_kapow:ht,_warn:It,warnDev:_n,warnPublic:We,_debug:kt,debugDev:Ee,_trace:Ht,traceDev:cr,lazy:{_hmm:k?el(Be):Be,_todo:L?el(Oe):Oe,_error:U?el(He):He,errorDev:q?el(vt):vt,errorPublic:J?el(lt):lt,_kapow:W?el(ht):ht,_warn:Q?el(It):It,warnDev:ee?el(_n):_n,warnPublic:$?el(We):We,_debug:ie?el(kt):kt,debugDev:se?el(Ee):Ee,_trace:he?el(Ht):Ht,traceDev:xe?el(cr):cr},named:M,utilFor:{internal(){return{debug:bt._debug,error:bt._error,warn:bt._warn,trace:bt._trace,named(Et,Wt){return bt.named(Et,Wt).utilFor.internal()}}},dev(){return{debug:bt.debugDev,error:bt.errorDev,warn:bt.warnDev,trace:bt.traceDev,named(Et,Wt){return bt.named(Et,Wt).utilFor.dev()}}},public(){return{error:bt.errorPublic,warn:bt.warnPublic,debug(Et,Wt){bt._warn('(public "debug" filtered out) '.concat(Et),Wt)},trace(Et,Wt){bt._warn('(public "trace" filtered out) '.concat(Et),Wt)},named(Et,Wt){return bt.named(Et,Wt).utilFor.public()}}}}};return bt}var Tp,_0,Nue=T(()=>{Tp={_hmm:hm(524),_todo:hm(522),_error:hm(521),errorDev:hm(529),errorPublic:hm(545),_kapow:hm(268),_warn:hm(265),warnDev:hm(273),warnPublic:hm(289),_debug:hm(137),debugDev:hm(145),_trace:hm(73),traceDev:hm(81)},_0={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(i,l,u){return this.create({names:[...i.names,{name:l,key:u}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(i){if(i.length<5)return i;let l=i.replace(this.collapseOnRE,"");return this.cssMemo.has(l)||this.cssMemo.set(l,this.css(i)),l},css(i){var l,u,m,w;let E=this.cssMemo.get(i);if(E)return E;let M="color:".concat((u=(l=this.color)==null?void 0:l.call(this,i))!=null?u:"hsl(".concat((i.charCodeAt(0)+i.charCodeAt(i.length-1))%360,", 100%, 60%)"));return(m=this.bold)!=null&&m.test(i)&&(M+=";font-weight:600"),(w=this.italic)!=null&&w.test(i)&&(M+=";font-style:italic"),this.cssMemo.set(i,M),M}}}}),U9,RD,OD=T(()=>{Nue(),Nue(),U9=Bue(console,{_debug:function(){},_error:function(){}}),U9.configureLogging({dev:!0,min:64}),RD=U9.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),N_,AS,Lue,y3e=T(()=>{Iy(),N_=tr,OD(),Ey(),AS=28,Lue=(i,l)=>{var u;N_.prism.ensurePrism();let m=!0,w=OO+AS,E=0,M=l.atomP.ahistoric.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId].sequence.collapsableItems,k=M.byId[qc.forSheet()].isCollapsed,L=(u=(0,N_.pointerToPrism)(k).getValue())!=null?u:!1,U={type:"sheet",isCollapsed:L,sheet:i,children:[],sheetItemKey:qc.forSheet(),shouldRender:m,top:OO,depth:0,n:E,nodeHeight:m?AS:0,heightIncludingChildren:-1};E+=1;for(let $ of Object.values((0,N_.val)(i.objectsP)))$&&q($,U.children,U.depth+1,!L);U.heightIncludingChildren=w-U.top;function q($,ie,se,he){var xe;let Be=(0,N_.val)($.template.getMapOfValidSequenceTracks_forStudio()),Oe=(0,N_.val)($.template.configPointer);if(Object.keys(Be).length===0)return;let He=M.byId[qc.forSheetObject($)].isCollapsed,vt=(xe=(0,N_.pointerToPrism)(He).getValue())!=null?xe:!1,lt={type:"sheetObject",isCollapsed:vt,sheetItemKey:qc.forSheetObject($),shouldRender:he,top:w,children:[],depth:se,n:E,sheetObject:$,nodeHeight:he?AS:0,heightIncludingChildren:-1};ie.push(lt),he&&(E+=1,w+=lt.nodeHeight),J($,Be,[],Oe,lt.children,se+1,he&&!vt),lt.heightIncludingChildren=w-lt.top}function J($,ie,se,he,xe,Be,Oe){for(let[He,vt]of Object.entries(ie)){let lt=he.props[He];Q($,vt,[...se,He],lt,xe,Be,Oe)}}function Q($,ie,se,he,xe,Be,Oe){he.type==="compound"?W($,ie,he,se,he,xe,Be,Oe):he.type==="enum"?RD.warn("Prop type enum is not yet supported in the sequence editor"):ee($,ie,se,he,xe,Be,Oe)}function W($,ie,se,he,xe,Be,Oe,He){var vt;let lt=M.byId[qc.forSheetObjectProp($,he)].isCollapsed,ht=(vt=(0,N_.pointerToPrism)(lt).getValue())!=null?vt:!1,It={type:"propWithChildren",isCollapsed:ht,propConf:se,pathToProp:he,sheetItemKey:qc.forSheetObjectProp($,he),sheetObject:$,shouldRender:He,top:w,children:[],nodeHeight:He?AS:0,heightIncludingChildren:-1,depth:Oe,trackMapping:ie,n:E};Be.push(It),He&&(w+=It.nodeHeight,E+=1),J($,ie,he,xe,It.children,Oe+1,He&&!ht),It.heightIncludingChildren=w-It.top}function ee($,ie,se,he,xe,Be,Oe){let He={type:"primitiveProp",propConf:he,depth:Be,sheetItemKey:qc.forSheetObjectProp($,se),sheetObject:$,pathToProp:se,shouldRender:Oe,top:w,nodeHeight:Oe?AS:0,heightIncludingChildren:Oe?AS:0,trackId:ie,n:E};xe.push(He),E+=1,w+=He.nodeHeight}return U}});function _3e(i,l){let u=be(),m=u.atomP.ahistoric.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId],w=u.atomP.historic.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId];return(0,Pp.prism)(()=>{var E;let M=f3e("tree",()=>Lue(i,u),[]),k=(0,Pp.val)(l),L=(0,Pp.val)(u.atomP.historic.panels.sequenceEditor.graphEditor),U=(0,Pp.val)(w.sequenceEditor.selectedPropsByObject),q=!!U&&Object.keys(U).length>0,{leftDims:J,rightDims:Q,graphEditorDims:W,dopeSheetDims:ee,horizontalScrollbarDims:$}=Pp.prism.memo("leftDims",()=>{var It;let _n={width:Math.floor(k.width*Fue),height:k.height,screenX:k.screenX,screenY:k.screenY},We={width:k.width-_n.width,height:k.height,screenX:k.screenX+_n.width,screenY:k.screenY},kt=q&&(L==null?void 0:L.isOpen)===!0,Ee=Math.floor((kt?Kn((It=L==null?void 0:L.height)!=null?It:.5,.1,.7):0)*k.heightWithoutBorder),Ht=0+Ee,cr=k.height-Ht,bt={width:k.width,height:cr,screenX:k.screenX,screenY:k.screenY},Et={isAvailable:q,isOpen:kt,width:We.width,height:Ee,screenX:k.screenX,screenY:k.screenY+cr,padding:{top:20,bottom:20}};return{leftDims:_n,rightDims:We,graphEditorDims:Et,dopeSheetDims:bt,horizontalScrollbarDims:{bottom:0}}},[k,L,q]),ie=Pp.prism.memo("graphEditorVerticalSpace",()=>{let It=W.height-W.padding.top-W.padding.bottom;return{space:It,fromExtremumSpace(_n){return _n*It},toExtremumSpace(_n){return _n/It}}},[W]),[se,he]=Pp.prism.state("isSeeking",!1),xe={isSeeking:se,setIsSeeking:he},Be={},Oe=(E=(0,Pp.val)(m.sequence.clippedSpaceRange))!=null?E:zue,He=Pp.prism.memo("scaledSpace",()=>{let It=Oe.end-Oe.start,_n=Q.width,We=It/_n,kt=_n/It;return{fromUnitSpace(Ee){return Ee*kt},toUnitSpace(Ee){return Ee*We},leftPadding:10}},[Oe,Q.width]),vt=Pp.prism.memo("setClippedSpaceRange",()=>function(It){u.transaction(({stateEditors:_n})=>{let We=D({},It);if(We.end<=We.start&&(We.end=We.start+1),We.start<0){let kt=We.end-We.start;We.start=0,We.end=kt}_n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(I(D({},i.address),{range:We}))})},[]),lt=Pp.prism.memo("clippedSpace",()=>({range:Oe,width:Q.width,fromUnitSpace(It){return He.fromUnitSpace(It-Oe.start)+He.leftPadding},toUnitSpace(It){return He.toUnitSpace(It-He.leftPadding)+Oe.start},setRange:vt}),[Oe,Q.width,He,vt]),ht=Pp.prism.memo("selection.current",()=>new Pp.Atom({}),[]);return xU("finalAtom",{sheet:i,tree:M,panelDims:k,leftDims:J,rightDims:Q,dopeSheetDims:ee,horizontalScrollbarDims:$,seeker:xe,unitSpace:Be,scaledSpace:He,clippedSpace:lt,graphEditorDims:W,graphEditorVerticalSpace:ie,selectionAtom:ht}).pointer})}var Pp,Fue,zue,w3e=T(()=>{Ye(),d3e(),Uie(),Pp=tr,y3e(),Yl(),Fue=.2,zue={start:0,end:10}});function x3e(i){let{fullSecondStampsContainer:l,sequencePositionFormatter:u,snapToGrid:m,unitSpaceToClippedSpace:w}=i,E="";Fle(i,(M,k)=>{let L=m(M),U=w(L);k?E+=Uue(u.formatFullUnitForGrid(L),U,"full-unit"):E+=Uue(u.formatSubUnitForGrid(L),U,"sub-unit")}),l.innerHTML=E}function Uue(i,l,u){return'<span class="'.concat(u,'" style="transform: translate3d(').concat(l.toFixed(1),'px, -50%, 0);">').concat(i,"</span>")}var CS,MS,jue,Hue,L_,Gue,Vue,Wue,Xue,Kue,Yue,que=T(()=>{CS=tr,cm(),MS=Z(Ot()),qt(),Ule(),Ye(),Hue=je.div(jue||(jue=X([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),L_={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return VT(.2,L_.fullUnitStampColor)}},Vue=je.div(Gue||(Gue=X([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),Xue=je.div(Wue||(Wue=X([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),L_.fullUnitStampColor,L_.stampFontSize,L_.fullUnitStampColor,L_.subUnitStampColor),Kue=({layoutP:i,width:l})=>{let u=(0,MS.useRef)(null),[m,w]=(0,MS.useState)(null);return(0,MS.useLayoutEffect)(()=>{if(m)return(0,CS.prism)(()=>{let E=(0,CS.val)(i.sheet).getSequence();return{fullSecondStampsContainer:m,clippedSpaceRange:(0,CS.val)(i.clippedSpace.range),clippedSpaceWidth:(0,CS.val)(i.clippedSpace.width),unitSpaceToClippedSpace:(0,CS.val)(i.clippedSpace.fromUnitSpace),leftPadding:(0,CS.val)(i.scaledSpace.leftPadding),fps:E.subUnitsPerUnit,sequencePositionFormatter:E.positionFormatter,snapToGrid:M=>E.closestGridPosition(M)}}).onChange(be().ticker,x3e,!0)},[m,l,i]),MS.default.createElement(Hue,{ref:u,style:{width:l+"px"}},MS.default.createElement(Vue,{style:{width:l+"px"}},MS.default.createElement(Xue,{ref:w})))},Yue=Kue});function S3e(i){let[l,u]=(0,j9.useState)(!1);return(0,j9.useEffect)(()=>{if(u(!1),!i)return;let m=E=>{E.target===i?u(!0):u(!1)},w=()=>{u(!1)};return i.addEventListener("mouseenter",m),i.addEventListener("mousemove",m),i.addEventListener("mouseleave",w),()=>{u(!1),i.removeEventListener("mouseenter",m),i.removeEventListener("mousemove",m),i.removeEventListener("mouseleave",w)}},[i]),l}var j9,b3e=T(()=>{j9=Z(Ot())});function E3e(i,l){let u=0,[m,w]=i,[E,M]=l;return w-m>M-E?[E,M]:(m<E&&(u=0-m),w>M&&(u=M-w),[m+u,w+u])}var w0,F_,bc,H9,Que,BD,Jue,Zue,$ue=T(()=>{w0=tr,Ai(),bs(),Ye(),PS(),Uh(),Sc(),Ss(),F_=Z(Ot()),qt(),ad(),bc={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},H9=1e3,BD=je.div(Que||(Que=X([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>S0-1,i=>i.enabled?bc.enabled.backgroundColor:bc.disabled.backgroundColor,H9,bc.hover.backgroundColor,bc.dragging.backgroundColor,gs),Jue=({layoutP:i})=>{let l=(0,F_.useMemo)(()=>(0,w0.prism)(()=>{let{projectId:U,sheetId:q}=(0,w0.val)(i.sheet).address;return(0,w0.val)(be().atomP.ahistoric.projects.stateByProjectId[U].stateBySheetId[q].sequence.focusRange)}),[i]),[u,m]=rs(null),[w]=zh(m,{menuItems:()=>{let U=(0,w0.val)(i.sheet),q=l.getValue();return[{label:"Delete focus range",callback:()=>{be().tempTransaction(({stateEditors:J})=>{J.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(D({},U.address))}).commit()}},{label:q!=null&&q.enabled?"Disable focus range":"Enable focus range",callback:()=>{q!==void 0&&be().tempTransaction(({stateEditors:J})=>{J.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(I(D({},U.address),{range:q.range,enabled:!q.enabled}))}).commit()}}]}}),E=_o(i.scaledSpace.toUnitSpace),M=_o(i.sheet),k=(0,F_.useMemo)(()=>{let U,q;return{debugName:"FocusRangeStrip",onDragStart(J){let Q,W=l.getValue();if(!W)return!1;let ee=W.range.start,$=W.range.end,ie=!1,se=(0,w0.val)(i.sheet).getSequence();return{onDrag(he){if(W=l.getValue(),W){ie=!0;let xe=E(he),Be=ee+xe,Oe=$+xe;Oe<Be&&(Oe=Be),[U,q]=E3e([Be,Oe],[0,se.length]).map(He=>se.closestGridPosition(He)),Q&&Q.discard(),Q=be().tempTransaction(({stateEditors:He})=>{var vt;He.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(I(D({},M.address),{range:{start:U,end:q},enabled:(vt=W==null?void 0:W.enabled)!=null?vt:!0}))})}},onDragEnd(){W&&(ie&&Q!==void 0?Q.commit():Q&&Q.discard())}}},lockCSSCursorTo:"grabbing"}},[M,E]),[L]=ql(m,k);return Dy(L,-1),ao(()=>{let U=l.getValue(),q=(U==null?void 0:U.range)||{start:0,end:0},J=(0,w0.val)(i.clippedSpace.fromUnitSpace)(q.start),Q=(0,w0.val)(i.clippedSpace.fromUnitSpace)(q.end),W,ee;return J<0&&(J=0),Q>(0,w0.val)(i.clippedSpace.width)&&(Q=(0,w0.val)(i.clippedSpace.width)),J>Q?(ee=0,W=0):(ee=J,W=(Q-J)/H9),U?F_.default.createElement(F_.default.Fragment,null,w,F_.default.createElement(BD,{id:"range-strip",enabled:U.enabled,className:"".concat(L?"dragging":""," ").concat(U.enabled?"enabled":""),ref:u,style:{transform:"translateX(".concat(ee,"px) scale(").concat(W,", 1)")}})):F_.default.createElement(F_.default.Fragment,null)},[i,u,l,w,L])},Zue=Jue}),z_,Fy,ece,tce,nce,rce,ice,oce,sce,G9,A3e=T(()=>{z_=tr,Ai(),Ye(),PS(),fm(),Sc(),Ss(),Fy=Z(Ot()),qt(),ad(),$ue(),dv(),tce=je.div(ece||(ece=X([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),i=>i.type==="start"?0:-bc.thumbWidth,bc.thumbWidth,()=>S0-1,({enabled:i})=>i?bc.enabled.backgroundColor:bc.disabled.backgroundColor,bc.enabled.stroke,i=>i.type==="start"?"w-resize":"e-resize",Cy,()=>BD,bc.hover.backgroundColor,bc.hover.stroke,()=>BD,bc.dragging.backgroundColor,bc.dragging.stroke,bc.dragging.backgroundColor),rce=je.div(nce||(nce=X([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),i=>i.type==="start"?90:-90,i=>i.type==="start"?bc.thumbWidth:-bc.thumbWidth+1),oce=je.div(ice||(ice=X([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),i=>i.type==="start"?-90:90,()=>rk.backgroundColor,i=>i.type==="start"?-12:bc.thumbWidth),sce=({layoutP:i,thumbType:l})=>{var u;let[m,w]=rs(null),E=(0,Fy.useMemo)(()=>(0,z_.prism)(()=>{let{projectId:U,sheetId:q}=(0,z_.val)(i.sheet).address;return(0,z_.val)(be().atomP.ahistoric.projects.stateByProjectId[U].stateBySheetId[q].sequence.focusRange)}),[i]),M=(0,Fy.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let U,q,J=(0,z_.val)(i.sheet),Q={start:0,end:J.getSequence().length},W=E.getValue()||{range:Q,enabled:!1},ee=W.enabled,$=W.range[l],ie=(0,z_.val)(i.scaledSpace.toUnitSpace),se=ie(bc.rangeStripMinWidth);return{onDrag(he,xe,Be){var Oe;let He,vt=jh.checkIfMouseEventSnapToPos(Be,{ignore:w});if(vt==null){let ht=ie(he);He=$+ht}else He=vt;q=((Oe=E.getValue())==null?void 0:Oe.range)||Q,l==="start"?He=Math.max(Math.min(He,q.end-se),0):He=Math.min(Math.max(He,q.start+se),J.getSequence().length);let lt=J.getSequence().closestGridPosition(He);U!==void 0&&U.discard(),U=be().tempTransaction(({stateEditors:ht})=>{ht.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(I(D({},J.address),{range:I(D({},q),{[l]:lt}),enabled:ee}))})},onDragEnd(he){he?U==null||U.commit():U==null||U.discard()}}}}),[i]),[k]=ql(w,M);ag(k,"draggingPositionInSequenceEditor",l==="start"?"w-resize":"e-resize");let L=_o(E);return Dy(k,(u=L==null?void 0:L.range[l])!=null?u:0),ao(()=>{let U=E.getValue();if(!U)return null;let{enabled:q}=U,J=U.range[l],Q=(0,z_.val)(i.clippedSpace.fromUnitSpace)(J);return(Q<0||(0,z_.val)(i.clippedSpace.width)<Q)&&(Q=-1e4),Fy.default.createElement(tce,I(D(D({ref:m},jh.includePositionSnapAttrs(J)),m0(J)),{className:"".concat(k&&"dragging"," ").concat(q&&"enabled"),enabled:q,type:l,style:{transform:"translate3d(".concat(Q,"px, 0, 0)")}}),Fy.default.createElement(rce,{type:l,enabled:q}),Fy.default.createElement(oce,{type:l}),Fy.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Fy.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Fy.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[i,m,E,k])},G9=sce});function C3e(i,l){let[u,m]=(0,x0.useState)("none");return ag(u!=="none","dragging",u==="creating"?"ew-resize":"move"),(0,x0.useMemo)(()=>{let w=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(M){let k,L=(0,TS.val)(i.clippedSpace.toUnitSpace),U=(0,TS.val)(i.scaledSpace.toUnitSpace),q=(0,TS.val)(i.sheet),J=q.getSequence(),Q=M.target.getBoundingClientRect(),W=L(M.clientX-Q.left),ee=U(bc.rangeStripMinWidth);return{onDrag($){let ie=U($),se=W,he=W+ie;[se,he]=[Kn(se,0,J.length),Kn(he,0,J.length)].map(xe=>J.closestGridPosition(xe)),he<se?[se,he]=[Math.max(Math.min(he,se-ee),0),se]:$>0&&(he=Math.min(Math.max(he,se+ee),J.length)),k&&k.discard(),k=be().tempTransaction(({stateEditors:xe})=>{xe.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(I(D({},q.address),{range:{start:se,end:he},enabled:!0}))})},onDragEnd($){$&&k!==void 0?k.commit():k&&k.discard()}}},lockCSSCursorTo:"ew-resize"}),E=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let M,k=l.current,L=l.current.addBoundsHighlightLock();return{onDrag(U,q){let J=I(D({},k.dims),{top:Kn(k.dims.top+q,0,window.innerHeight-n0),left:Kn(k.dims.left+U,-k.dims.width+n0,window.innerWidth-n0)}),Q=FB(J,{width:window.innerWidth,height:window.innerHeight});M==null||M.discard(),M=be().tempTransaction(({stateEditors:W})=>{W.studio.historic.panelPositions.setPanelPosition({position:Q,panelId:k.panelId})})},onDragEnd(U){L(),U?M==null||M.commit():M==null||M.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(M){let[k,L]=M.shiftKey?["creating",w().onDragStart(M)]:["moving-panel",E().onDragStart(M)];return m(k),L===!1?!1:{onDrag(U,q,J,Q,W){L.onDrag(U,q,J,Q,W)},onDragEnd(U){var q;m("none"),(q=L.onDragEnd)==null||q.call(L,U)}}}}},[i,l])}var TS,x0,ace,lce,uce,cce,M3e=T(()=>{TS=tr,Ai(),Ye(),mA(),PS(),fm(),Sc(),b3e(),noe(),Ss(),Yl(),x0=Z(Ot()),qt(),$ue(),A3e(),Ey(),lce=je.div(ace||(ace=X([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>S0,i=>i.isShiftDown?"ew-resize":"move"),uce=({layoutP:i})=>{let[l,u]=rs(null),m=pA(),w=(0,x0.useRef)(m);w.current=m;let E=(0,x0.useMemo)(()=>(0,TS.prism)(()=>{let{projectId:L,sheetId:U}=(0,TS.val)(i.sheet).address;return(0,TS.val)(be().atomP.ahistoric.projects.stateByProjectId[L].stateBySheetId[U].sequence.focusRange)}),[i]);ql(u,C3e(i,w));let M=eoe("Shift"),k=S3e(u);return(0,x0.useEffect)(()=>{if(!M&&k)return w.current.addBoundsHighlightLock()},[!M&&k]),ao(()=>x0.default.createElement(lce,{ref:l,isShiftDown:M},x0.default.createElement(Zue,{layoutP:i}),x0.default.createElement(G9,{thumbType:"start",layoutP:i}),x0.default.createElement(G9,{thumbType:"end",layoutP:i})),[i,E,M])},cce=uce}),CA,S0,rk,fce,dce,hce,pce,PS=T(()=>{Ai(),CA=Z(Ot()),qt(),que(),ad(),bs(),M3e(),S0=18,rk={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},dce=je.div(fce||(fce=X([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),S0,rk.backgroundColor,rk.borderColor,gs),hce=({layoutP:i})=>{let l=_o(i.rightDims.width);return CA.default.createElement(CA.default.Fragment,null,CA.default.createElement(dce,D({},m0("hide")),CA.default.createElement(Yue,{layoutP:i,width:l,height:S0}),CA.default.createElement(cce,{layoutP:i})))},pce=hce}),kS,mce,gce,vce,yce,_ce,wce,xce,Sce,T3e=T(()=>{kS=Z(Ot()),qt(),Ai(),Ye(),K6(),iS(),mce=i=>isFinite(i)&&i>0,vce=je.div(gce||(gce=X([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),_ce=je.div(yce||(yce=X([`
  `,`;
  white-space: nowrap;
`])),b_),wce=({deltaX:i})=>i*.25,xce=({layoutP:i})=>{let l=_o(i.sheet),u=(0,kS.useMemo)(()=>{let w;return{temporarilySetValue(E){w&&(w.discard(),w=void 0),w=be().tempTransaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.setLength(I(D({},l.address),{length:E}))})},discardTemporaryValue(){w&&(w.discard(),w=void 0)},permanentlySetValue(E){w&&(w.discard(),w=void 0),be().transaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.setLength(I(D({},l.address),{length:E}))})}}},[i,l]),m=(0,kS.useRef)(null);return(0,kS.useLayoutEffect)(()=>{m.current.focus()},[]),ao(()=>{let w=l.getSequence().length;return kS.default.createElement(vce,null,kS.default.createElement(_ce,null,"Sequence length"),kS.default.createElement(HO,I(D({value:w},u),{isValid:mce,inputRef:m,nudge:wce})))},[l,u,m])},Sce=xce});function P3e(i,l){let u=(0,kp.useRef)(l);u.current=l;let m=(0,kp.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(E){let M,k=u.current,L=(0,IS.val)(u.current.layoutP.sheet),U=L.getSequence().length,q=(0,IS.val)(k.layoutP.scaledSpace.toUnitSpace);return{onDrag(J,Q,W){let ee=q(J);M&&(M.discard(),M=void 0),M=be().tempTransaction(({stateEditors:$})=>{$.coreByProject.historic.sheetsById.sequence.setLength(I(D({},L.address),{length:U+ee}))})},onDragEnd(J){J?M&&M.commit():M&&M.discard()}}}}),[]),[w]=ql(i,m);return Dy(w,-1),[w]}var IS,kp,V9,ik,bce,U_,Ece,Ace,Cce,Mce,Tce,Pce,kce,Ice,Rce,Oce,Bce,k3e=T(()=>{Ai(),IS=tr,kp=Z(Ot()),qt(),jy(),PS(),Ss(),Sc(),Ye(),a0(),ad(),nA(),T3e(),bs(),u0(),V9=1e3,ik={stripNormal:"#0000006c",stripActive:"#000000"},U_=je.div(bce||(bce=X([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>E0.lengthIndicatorStrip,S0,ik.stripNormal,ik.stripActive),Ace=je.div(Ece||(Ece=X([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),S0-15),Mce=je.div(Cce||(Cce=X([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),gs,U_,U_,ik.stripActive),Pce=je.div(Tce||(Tce=X([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),gs,U_,U_,ik.stripActive),Ice=je.div(kce||(kce=X([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),V9,()=>E0.lengthIndicatorCover,U_,U_),Rce=-1e4,Oce=({layoutP:i})=>{let[l,u]=rs(null),[m]=P3e(u,{layoutP:i}),{node:w,toggle:E,close:M}=s0({debugName:"LengthIndicator"},()=>kp.default.createElement(l0,null,kp.default.createElement(Sce,{layoutP:i,onRequestClose:M})));return ao(()=>{let k=(0,IS.val)(i.sheet),L=(0,IS.val)(i.rightDims.height),U=k.getSequence(),q=U.length,J=q,Q=(0,IS.val)(i.clippedSpace.fromUnitSpace)(J),W=(0,IS.val)(i.clippedSpace.width),ee,$;return Q>W?($=0,ee=0):(Q<0&&(Q=0),$=Q,ee=(W-Q)/V9),kp.default.createElement(kp.default.Fragment,null,w,kp.default.createElement(U_,{style:{height:L+"px",transform:"translateX(".concat($===0?Rce:$,"px)")},className:m?"dragging":""},kp.default.createElement(Ace,null,kp.default.createElement(Pce,D({ref:l,onClick:ie=>{E(ie,u)}},m0("hide")),kp.default.createElement(_Pe,null),kp.default.createElement(wPe,null)),kp.default.createElement(Mce,null,"Sequence length:"," ",U.positionFormatter.formatBasic(q)))),kp.default.createElement(Ice,{title:"Length",style:{height:L+"px",transform:"translateX(".concat($,"px) scale(").concat(ee,", 1)")}}))},[i,l,m,w])},Bce=Oce}),W9,zy,Dce,Nce,Lce,Fce,zce,Uce,jce,Hce,I3e=T(()=>{Ai(),W9=tr,zy=Z(Ot()),qt(),que(),jy(),PS(),ad(),Nce=je.div(Dce||(Dce=X([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),Fce=je.div(Lce||(Lce=X([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),L_.stampFontSize,L_.fullUnitStampColor,rk.backgroundColor,()=>E0.currentFrameStamp),Uce=je.div(zce||(zce=X([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),jce=zy.default.memo(({layoutP:i})=>{let[l,u]=_o(Eoe()),m=_o(i.clippedSpace.fromUnitSpace),{sequence:w,formatter:E,clippedSpaceWidth:M}=ao(()=>{let q=(0,W9.val)(i.sheet).getSequence(),J=(0,W9.val)(i.clippedSpace.width);return{sequence:q,formatter:q.positionFormatter,clippedSpaceWidth:J}},[i]);if(l==-1)return zy.default.createElement(zy.default.Fragment,null);let k=u===3?w.closestGridPosition(l):l,L=m(k),U=L>=0&&L<=M;return zy.default.createElement(zy.default.Fragment,null,zy.default.createElement(Nce,null,zy.default.createElement(Fce,{style:{opacity:U?1:0,transform:"translate3d(calc(".concat(L,"px - 50%), 0, 0)")}},E.formatForPlayhead(k)),zy.default.createElement(Uce,{posType:u,style:{opacity:U?1:0,transform:"translate3d(".concat(L,"px, 0, 0)")}}))," ")}),Hce=jce}),hv,Vh,Gce,Vce,Wce,Xce,Kce,DD,Yce,X9,qce,ND,Qce,LD,Jce,K9,Zce,$ce,R3e=T(()=>{Ai(),hv=tr,I3(),cm(),Vh=Z(Ot()),qt(),jy(),ad(),bs(),Sc(),Vce=je.div(Gce||(Gce=X([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>E0.horizontalScrollbar,gs),Xce=je.div(Wce||(Wce=X([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),DD=je.div(Kce||(Kce=X([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Jz("absolute","-4px")),X9=je.div(Yce||(Yce=X([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Jz("absolute","0"),Jz("absolute","-4px")),ND=je(X9)(qce||(qce=X([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),LD=je(X9)(Qce||(Qce=X([`
  cursor: e-resize;
  left: 0px;
`]))),K9=je.div(Jce||(Jce=X([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),i=>i.active?"block":"none",ND,LD,DD,ND,DD,LD),Zce=({layoutP:i})=>{let l=(0,Vh.useCallback)(ie=>ie.toFixed(2),[]),u=(0,Vh.useMemo)(()=>(0,hv.prism)(()=>{let ie=(0,hv.val)(i.rightDims.width)-25,se=(0,hv.val)(i.clippedSpace.range),he=(0,hv.val)(i.sheet).getSequence().length,xe=Math.max(se.end,he),Be=se.start/xe*ie,Oe=se.end/xe*ie;return{rightWidth:ie,clippedSpaceRange:se,sequenceLength:he,assumedLengthOfSequence:xe,rangeStartX:Be,rangeEndX:Oe,bottom:(0,hv.val)(i.horizontalScrollbarDims.bottom)}}),[i]),{rangeStartX:m,rangeEndX:w,clippedSpaceRange:E,bottom:M}=_o(u),[k,L]=(0,Vh.useState)("nothing"),U=(0,Vh.useMemo)(()=>{let ie=(0,hv.val)(u),se=()=>{ie=(0,hv.val)(u)},he=xe=>xe/ie.rightWidth*ie.assumedLengthOfSequence;return{onRangeDragStart(){return se(),{onDrag(xe){L("both");let Be=he(xe),Oe=cy(ie.clippedSpaceRange,He=>He+Be);(0,hv.val)(i.clippedSpace.setRange)(Oe)},onDragEnd(){L("nothing")}}},onRangeStartDragStart(){return se(),{onDrag(xe){L("start");let Be=he(xe),Oe={start:ie.clippedSpaceRange.start+Be,end:ie.clippedSpaceRange.end};Oe.start>Oe.end-1&&(Oe.start=Oe.end-1),Oe.start<=0&&(Oe.start=0),(0,hv.val)(i.clippedSpace.setRange)(Oe)},onDragEnd(){L("nothing")}}},onRangeEndDragStart(){return se(),{onDrag(xe){L("end");let Be=he(xe),Oe={start:ie.clippedSpaceRange.start,end:ie.clippedSpaceRange.end+Be};Oe.end<Oe.start+1&&(Oe.end=Oe.start+1),Oe.end>=ie.assumedLengthOfSequence&&(Oe.end=ie.assumedLengthOfSequence),(0,hv.val)(i.clippedSpace.setRange)(Oe)},onDragEnd(){L("nothing")}}}}},[i,u]),[q,J]=(0,Vh.useState)(null);ql(q,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:U.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[Q,W]=(0,Vh.useState)(null);ql(Q,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:U.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[ee,$]=(0,Vh.useState)(null);return ql(ee,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:U.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),Vh.default.createElement(Vce,D({style:{bottom:M+8+"px"}},m0("hide")),Vh.default.createElement(Xce,null,Vh.default.createElement(DD,{ref:J,style:{width:"".concat(w-m,"px"),transform:"translate3d(".concat(m,"px, 0, 0)")}}),Vh.default.createElement(ND,{ref:W,style:{transform:"translate3d(".concat(m,"px, 0, 0)")}},Vh.default.createElement(K9,{active:k==="both"||k==="start"},l(E.start))),Vh.default.createElement(LD,{ref:$,style:{transform:"translate3d(".concat(w,"px, 0, 0)")}},Vh.default.createElement(K9,{active:k==="both"||k==="end"},l(E.end)))))},$ce=Zce}),efe,tfe,nfe,rfe,ife,O3e=T(()=>{efe=Z(Ot()),qt(),nfe=je.div(tfe||(tfe=X([`
  position: absolute;
  inset: `,`px;
`])),i=>i.room*-1),rfe=i=>efe.default.createElement(nfe,{room:i.room}),ife=rfe}),FD,zD,Y9,ofe,sfe,afe,lfe,ufe,cfe,ffe,dfe,B3e=T(()=>{qt(),Ai(),K6(),iS(),FD=Z(Ot()),zD=Z(Ot()),Y9=tr,Lr(),ofe=i=>isFinite(i)&&i>=0,afe=je.div(sfe||(sfe=X([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),ufe=je.div(lfe||(lfe=X([`
  `,`;
  white-space: nowrap;
`])),b_),cfe=({deltaX:i})=>i*.25,ffe=({layoutP:i,onRequestClose:l})=>{let u=(0,Y9.val)(i.sheet),m=u.getSequence(),w=(0,FD.useMemo)(()=>{let M,k=m.position;return{temporarilySetValue(L){M&&(M=void 0),M=Kn(L,0,m.length),m.position=M},discardTemporaryValue(){M&&(M=void 0,m.position=k,l("discardTemporaryValue"))},permanentlySetValue(L){M&&(M=void 0),m.position=Kn(L,0,m.length),l("permanentlySetValue")}}},[i,m]),E=(0,FD.useRef)(null);return(0,FD.useLayoutEffect)(()=>{E.current.focus()},[]),ao(()=>{let M=u.getSequence(),k=Number((0,Y9.val)(M.pointer.position).toFixed(3));return zD.default.createElement(afe,null,zD.default.createElement(ufe,null,"Sequence position"),zD.default.createElement(HO,I(D({value:k},w),{isValid:ofe,inputRef:E,nudge:cfe})))},[u,w,E])},dfe=ffe}),hfe,D3e=T(()=>{hfe=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),pfe,N3e=T(()=>{D3e(),pfe=i=>hfe?i.metaKey===!0:i.ctrlKey===!0});function L3e(){UD=!1}function F3e(){UD=!0}function z3e(){let i=be();(0,mfe.useEffect)(()=>{let l=u=>{let m=u.composedPath()[0];if(!(m&&(m.tagName==="INPUT"||m.tagName==="TEXTAREA"))){if(u.key==="z"||u.key==="Z"||u.code==="KeyZ")if(pfe(u))u.shiftKey===!0?i.redo():i.undo();else return;else if(u.code==="Space"&&!u.shiftKey&&!u.metaKey&&!u.altKey&&!u.ctrlKey){if(!UD)return;let w=HTe();if(w)if(w.playing)w.pause();else{let{projectId:E,sheetId:M}=w.address,k=(0,pv.prism)(()=>{let q=(0,pv.val)(be().atomP.ahistoric.projects.stateByProjectId[E].stateBySheetId[M].sequence.focusRange);return pv.prism.memo("shouldFollowFocusRange",()=>{let J=w.position;if(q){let Q=J>=q.range.start&&J<=q.range.end;return q.enabled?!!Q:!0}else return!0},[])&&q&&q.enabled?{range:[q.range.start,q.range.end],isFollowingARange:!0}:{range:[0,(0,pv.val)(w.pointer.length)],isFollowingARange:!1}}),L=w.playDynamicRange((0,pv.prism)(()=>(0,pv.val)(k).range),be().ticker),U=q9(w);L.finally(()=>{U.set(void 0)}),U.set(k)}else return}else if(u.altKey&&(u.key==="\\"||u.code==="Backslash"||u.code==="IntlBackslash"))i.transaction(({stateEditors:w,drafts:E})=>{w.studio.ahistoric.setVisibilityState(E.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;u.preventDefault(),u.stopPropagation()}};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[])}var mfe,pv,UD,q9,gfe,Q9=T(()=>{mfe=Z(Ot()),Ye(),N3e(),y_(),pv=tr,sB(),UD=!0,q9=fP(i=>new pv.Atom(void 0)),gfe=fP(i=>(0,pv.prism)(()=>{let l=q9(i).prism.getValue();if(l)return l.getValue().isFollowingARange;{let{projectId:u,sheetId:m}=i.address,w=(0,pv.val)(be().atomP.ahistoric.projects.stateByProjectId[u].stateBySheetId[m].sequence.focusRange);if(!w||!w.enabled)return!1;let E=(0,pv.val)(i.pointer.position);return E>=w.range.start&&E<=w.range.end}}))});function U3e(i,l){return zh(i,{menuItems(){return[{label:"Place marker",callback:()=>{be().transaction(({stateEditors:u})=>{let m=(0,b0.val)(l.layoutP.sheet),w=m.getSequence();u.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:m.address,markers:[{id:Cke(),position:w.position}],snappingFunction:w.closestGridPosition})})}}]}})}var b0,pg,vfe,RS,yfe,_fe,wfe,J9,xfe,Sfe,bfe,Efe,Afe,Cfe,j3e=T(()=>{O3e(),Sc(),Ss(),Ai(),b0=tr,Lr(),pg=Z(Ot()),qt(),jy(),ad(),bs(),a0(),u0(),B3e(),Q9(),fm(),Uh(),Ye(),Iy(),dv(),hS(),RS=je.div(vfe||(vfe=X([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>E0.playhead,i=>i.isVisible?"block":"none"),_fe=je.div(yfe||(yfe=X([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),Cy),J9=je.div(wfe||(wfe=X([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),gs,RS,RS,Cy,RS),Sfe=je.div(xfe||(xfe=X([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),RS),Efe=je.div(bfe||(bfe=X([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),J9,RS),Afe=({layoutP:i})=>{let[l,u]=rs(null),{node:m,toggle:w,close:E}=s0({debugName:"Playhead"},()=>pg.default.createElement(l0,null,pg.default.createElement(dfe,{layoutP:i,onRequestClose:E}))),M=(0,pg.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let U=(0,b0.val)(i.sheet).getSequence(),q=U.position,J=(0,b0.val)(i.scaledSpace.toUnitSpace),Q=(0,b0.val)(i.seeker.setIsSeeking);return Q(!0),BU(),{onDrag(W,ee,$){var ie;let se=J(W);U.position=(ie=jh.checkIfMouseEventSnapToPos($,{ignore:u}))!=null?ie:Kn(q+se,0,U.length)},onDragEnd(W){Q(!1),dS()},onClick(W){w(W,l.current)}}}}),[i,u]),[k]=ql(u,M);ag(k,"draggingPositionInSequenceEditor","ew-resize"),Dy(_o(i.seeker.isSeeking)||k,-1);let[L]=U3e(u,{layoutP:i});return ao(()=>{let U=(0,b0.val)(i.seeker.isSeeking),q=(0,b0.val)(i.sheet).getSequence(),J=(0,b0.val)(gfe(q)),Q=q.positionPrism.getValue(),W=(0,b0.val)(i.clippedSpace.fromUnitSpace)(Q),ee=W>=0&&W<=(0,b0.val)(i.clippedSpace.width);return pg.default.createElement(pg.default.Fragment,null,L,m,pg.default.createElement(RS,D({isVisible:ee,style:{transform:"translate3d(".concat(W,"px, 0, 0)")},className:"".concat(U&&"seeking"," ").concat(J&&"playheadattachedtofocusrange")},m0("hide")),pg.default.createElement(J9,D({ref:l},jh.includePositionSnapAttrs(Q)),pg.default.createElement(ife,{room:8}),pg.default.createElement(Sfe,null),pg.default.createElement(Efe,null,q.positionFormatter.formatForPlayhead(q.closestGridPosition(Q)))),pg.default.createElement(_fe,I(D({},jh.includePositionSnapAttrs(Q)),{className:U?"seeking":""}))))},[i,l,m])},Cfe=Afe}),OS,ok,jD,Mfe,Tfe,Pfe,kfe,H3e=T(()=>{OS=tr,Ai(),Ye(),PS(),ok=Z(Ot()),qt(),jD=1e3,Tfe=je.div(Mfe||(Mfe=X([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),S0,jD,i=>i.enabled?"#000000":"transparent"),Pfe=({layoutP:i})=>{let l=(0,ok.useMemo)(()=>(0,OS.prism)(()=>{let{projectId:u,sheetId:m}=(0,OS.val)(i.sheet).address;return(0,OS.val)(be().atomP.ahistoric.projects.stateByProjectId[u].stateBySheetId[m].sequence.focusRange)}),[i]);return ao(()=>{let u=l.getValue();if(!u||!u.enabled)return null;let m=(0,OS.val)(i.rightDims.height)-S0,w=(0,OS.val)(i.clippedSpace.fromUnitSpace),E=(0,OS.val)(i.clippedSpace.width),M=[];{let k=0,L=w(u.range.start),U,q;k>L?(q=0,U=0):(L>E&&(L=E),q=k,U=(L-k)/jD),M.push({translateX:q,scaleX:U})}{let k=w(u.range.end),L=E,U,q;k>L?(q=0,U=0):(k<0&&(k=0),q=k,U=(L-k)/jD),M.push({translateX:q,scaleX:U})}return ok.default.createElement(ok.default.Fragment,null,M.map(({translateX:k,scaleX:L},U)=>ok.default.createElement(Tfe,{key:"curtain-".concat(U),enabled:!0,style:{height:"".concat(m,"px"),transform:"translateX(".concat(k,"px) scaleX(").concat(L,")")}})))},[i,l])},kfe=Pfe}),MA,Ife,Rfe,Ofe,Bfe,Dfe,G3e=T(()=>{MA=Z(Ot()),qt(),Ai(),Ye(),iS(),e8(),Rfe=je.div(Ife||(Ife=X([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),je.div(Ofe||(Ofe=X([`
  `,`;
  white-space: nowrap;
`])),b_),Bfe=({layoutP:i,marker:l})=>{var u;let m=_o(i.sheet),w=(0,MA.useMemo)(()=>{let M;return{temporarilySetValue(k){M&&(M.discard(),M=void 0),M=be().tempTransaction(({stateEditors:L})=>{L.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:m.address,markerId:l.id,label:k})})},discardTemporaryValue(){M&&(M.discard(),M=void 0)},permanentlySetValue(k){M&&(M.discard(),M=void 0),be().transaction(({stateEditors:L})=>{L.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:m.address,markerId:l.id,label:k})})}}},[i,m]),E=(0,MA.useRef)(null);return(0,MA.useLayoutEffect)(()=>{E.current.focus()},[]),MA.default.createElement(Rfe,null,MA.default.createElement(VO,I(D({value:(u=l.label)!=null?u:""},w),{isValid:()=>!0,inputRef:E})))},Dfe=Bfe});function V3e(i,l){return zh(i,{menuItems(){return[{label:"Remove marker",callback:()=>{be().transaction(({stateEditors:u})=>{u.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:l.sheetAddress,markerId:l.markerId})})}}]}})}function W3e(i,l){let u=(0,Wh.useRef)(l);u.current=l;let m=(0,Wh.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(l.marker.id,")"),onDragStart(E){let M=u.current.marker,k=(0,HD.val)(l.layoutP.scaledSpace.toUnitSpace),L;return BU(),{onDrag(U,q,J){var Q;let W=M,ee=Math.max((Q=jh.checkIfMouseEventSnapToPos(J,{ignore:i}))!=null?Q:W.position+k(U),0);L==null||L.discard(),L=be().tempTransaction(({stateEditors:$})=>{$.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,HD.val)(l.layoutP.sheet.address),markers:[I(D({},W),{position:ee})],snappingFunction:(0,HD.val)(l.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(U){U?L==null||L.commit():L==null||L.discard(),dS()}}}}),[]),[w]=ql(i,m);return Dy(w,l.marker.position),ag(w,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[w]}var HD,Wh,Z9,$9,Nfe,Lfe,Ffe,zfe,Ufe,GD,jfe,Hfe,Gfe,Vfe,Wfe,Xfe,X3e=T(()=>{HD=tr,Ai(),Ye(),fm(),Uh(),Ss(),Wh=Z(Ot()),qt(),ad(),Sc(),jy(),dv(),YB(),Ioe(),hS(),a0(),u0(),G3e(),Z9=12,$9=12,Nfe=Z9*2,Lfe=$9*2,zfe=je.div(Ffe||(Ffe=X([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>E0.marker),GD=je.div(Ufe||(Ufe=X([`
  position: absolute;
  `,`
  pointer-events: none;
`])),cg(Z9,$9)),jfe=Wh.default.memo(()=>Wh.default.createElement(GD,{children:Wh.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Wh.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),Gfe=je.div(Hfe||(Hfe=X([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),g0.CSS,g0.CSS_WHEN_SOMETHING_DRAGGING,g0.BEING_DRAGGED_CLASS,Cy,GD,g0.BEING_DRAGGED_CLASS,GD,cg(Nfe,Lfe)),Vfe=({layoutP:i,markerId:l})=>{let u=_o(i.sheet.address),m=_o(be().atomP.historic.projects.stateByProjectId[u.projectId].stateBySheetId[u.sheetId].sequenceEditor.markerSet.byId[l]);if(!m)return null;let w=_o(i.clippedSpace.width),E=_o(i.clippedSpace.fromUnitSpace)(m.position),M=E<=0||E>w,k=M?-1e4:E,L=M?0:1;return Wh.default.createElement(zfe,{style:{transform:"translateX(".concat(k,"px) scale(").concat(L,")")}},Wh.default.createElement(Xfe,{marker:m,layoutP:i}))},Wfe=Vfe,Xfe=({layoutP:i,marker:l})=>{let u=_o(i.sheet.address),[m,w]=rs(null),[E]=V3e(w,{sheetAddress:u,markerId:l.id}),[M]=W3e(w,{layoutP:i,marker:l}),{node:k,toggle:L,close:U}=s0({debugName:"MarkerPopover"},()=>Wh.default.createElement(l0,null,Wh.default.createElement(Dfe,{marker:l,layoutP:i,onRequestClose:U})));return Wh.default.createElement(Wh.default.Fragment,null,E,k,Wh.default.createElement(Gfe,D({title:l.label?"Marker: ".concat(l.label):"Marker",ref:m,onClick:q=>{L(q,m.current)}},g0.reactProps({isDragging:M,position:l.position}))),Wh.default.createElement(jfe,null))}}),VD,Kfe,Yfe,K3e=T(()=>{Ai(),Ye(),VD=Z(Ot()),X3e(),Kfe=({layoutP:i})=>{let l=_o(i.sheet.address),u=be().atomP.historic.projects.stateByProjectId[l.projectId].stateBySheetId[l.sheetId].sequenceEditor.markerSet,m=_o(u.allIds);return VD.default.createElement(VD.default.Fragment,null,m&&Object.keys(m).map(w=>VD.default.createElement(Wfe,{key:w,layoutP:i,markerId:w})))},Yfe=Kfe}),qfe,Uy,Qfe,Jfe,Zfe,$fe,Y3e=T(()=>{jy(),Ai(),qfe=tr,Uy=Z(Ot()),qt(),k3e(),I3e(),R3e(),j3e(),PS(),H3e(),K3e(),Jfe=je.div(Qfe||(Qfe=X([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>E0.rightOverlay),Zfe=({layoutP:i})=>ao(()=>{let l=(0,qfe.val)(i.rightDims.width);return Uy.default.createElement(Jfe,{style:{width:l+"px"}},Uy.default.createElement(Cfe,{layoutP:i}),Uy.default.createElement($ce,{layoutP:i}),Uy.default.createElement(Hce,{layoutP:i}),Uy.default.createElement(pce,{layoutP:i}),Uy.default.createElement(Yfe,{layoutP:i}),Uy.default.createElement(Bce,{layoutP:i}),Uy.default.createElement(kfe,{layoutP:i}))},[i]),$fe=Zfe}),ede,WD,tde,nde,rde,ide,q3e=T(()=>{ede=tr,Ai(),Ye(),WD=Z(Ot()),qt(),nA(),ad(),nde=je.button(tde||(tde=X([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),rde=({layoutP:i})=>{let l=_o(i.graphEditorDims.isOpen),u=(0,WD.useCallback)(()=>{let m=(0,ede.val)(i.graphEditorDims.isOpen);be().transaction(({stateEditors:w})=>{w.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!m})})},[i]);return WD.default.createElement(nde,D({onClick:u,title:"Toggle graph editor",className:l?"open":""},m0("hide")),WD.default.createElement(LPe,null))},ide=rde}),mv,vl,ode,sde,ade,lde,E0,ude,cde,fde,dde,hde,pde,mde,gde,vde,jy=T(()=>{y_(),Ai(),Uie(),mv=tr,vl=Z(Ot()),qt(),c3e(),kD(),w3e(),Y3e(),mA(),Wre(),wie(),ad(),ln(),Yl(),q3e(),Ey(),sS(),sde=je(_U)(ode||(ode=X([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),YE.sequenceEditorPanel),lde=je.div(ade||(ade=X([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),E0=(()=>{let i={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},l=-1;for(let u of Object.keys(i))i[u]=l,l++;return i})(),cde=je(hU)(ude||(ude=X([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),fde={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},dde={width:800,height:200},hde=i=>vl.default.createElement(dU,{panelId:"sequenceEditor",defaultPosition:fde,minDims:dde},vl.default.createElement(pde,null)),pde=()=>{let{dims:i}=pA(),[l,u]=(0,vl.useState)(null);return aee(l),ao(()=>{let m=mv.prism.memo("panelSize",()=>{let Q=i.width,W=i.height;return{width:Q,height:W,widthWithoutBorder:Q-2,heightWithoutBorder:W-4,screenX:i.left,screenY:i.top}},[i]),w=Hd(v_().filter(Q=>qe(Q)||Qe(Q)).map(Q=>Qe(Q)?Q.sheet:Q));if(Hd(w.map(Q=>Q.template)).length!==1)return vl.default.createElement(vl.default.Fragment,null);let E=w[0];if(!E)return vl.default.createElement(vl.default.Fragment,null);let M=xU("panelSizeP",m).pointer,k=mv.prism.memo("key",()=>JSON.stringify(E.address),[E]),L=mv.prism.memo("layout",()=>_3e(E,M),[E,M]).getValue();if((0,mv.val)(L.tree.children).length===0)return vl.default.createElement(vl.default.Fragment,null);let U=mv.prism.memo("containerRef",vde,[]),q=(0,mv.val)(L.graphEditorDims.isAvailable),J=(0,mv.val)(L.graphEditorDims.isOpen);return vl.default.createElement(sde,{ref:Q=>{U(Q),Q!==l&&u(Q)}},vl.default.createElement(lde,{style:{width:"".concat((0,mv.val)(L.leftDims.width),"px")}}),vl.default.createElement(Moe,{layoutP:L},vl.default.createElement(mde,{layoutP:L}),vl.default.createElement(Oue,{key:k+"-dopeSheet",layoutP:L}),J&&vl.default.createElement(tue,{key:k+"-graphEditor",layoutP:L}),q&&vl.default.createElement(ide,{layoutP:L}),vl.default.createElement($fe,{layoutP:L})))},[i,l])},mde=({layoutP:i})=>ao(()=>{let l=(0,mv.val)(i.sheet);return vl.default.createElement(cde,{style:{width:(0,mv.val)(i.leftDims.width)}},vl.default.createElement(w6,null,vl.default.createElement(g_,null,l.address.sheetId," "),vl.default.createElement(JT,null,":"," "),vl.default.createElement(g_,null,l.address.sheetInstanceId," "),vl.default.createElement(JT,null," ",">"," "),vl.default.createElement(g_,null,"Sequence")))},[i]),gde=hde,vde=()=>{let i=null,l={passive:!1,capture:!1},u=m=>{Math.abs(m.deltaY)<Math.abs(m.deltaX)&&(m.preventDefault(),m.stopPropagation())};return m=>{i!==m&&i&&i.removeEventListener("wheel",u,l),i=m,m&&m.addEventListener("wheel",u,l)}}}),BS,yde,_de,Q3e=T(()=>{ZTe(),uU(),BS=Z(Ot()),Ye(),Ai(),dIe(),jy(),yde=()=>{let i=_o(be().paneManager.allPanesD),l=Object.entries(i).map(([u,m])=>BS.default.createElement(zie,{key:"pane-".concat(u),paneInstance:m}));return BS.default.createElement(BS.default.Fragment,null,l,BS.default.createElement(TJ,null),BS.default.createElement(Ure,null),BS.default.createElement(gde,null))},_de=yde}),wde,xde,Sde,J3e=T(()=>{qt(),CB(),xde=je(fA)(wde||(wde=X([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),Sde=xde}),Z3e=Y((i,l)=>{var u,m;u=[],m=[];function w(E,M,k){var L,U,q,J,Q,W,ee,$;if(E===M)return 0;if(L=E.length,U=M.length,L===0)return U;if(U===0)return L;for(k&&(E=E.toLowerCase(),M=M.toLowerCase()),ee=0;ee<L;)m[ee]=E.charCodeAt(ee),u[ee]=++ee;for($=0;$<U;)for(q=M.charCodeAt($),J=Q=$++,ee=-1;++ee<L;)W=q===m[ee]?Q:Q+1,Q=u[ee],u[ee]=J=Q>J?W>J?J+1:W:W>Q?Q+1:W;return J}l.exports=w}),$3e=Y((i,l)=>{var u=Z3e();function m(){var w,E,M,k,L,U=0,q=arguments[0],J=arguments[1],Q=J.length,W=arguments[2];W&&(k=W.threshold,L=W.ignoreCase),k===void 0&&(k=0);for(var ee=0;ee<Q;++ee)L?E=u(q,J[ee],!0):E=u(q,J[ee]),E>q.length?w=1-E/J[ee].length:w=1-E/q.length,w>U&&(U=w,M=J[ee]);return U>=k?M:null}l.exports=m});function eOe(i,l,u="Did you mean ",m="?"){let w=(0,bde.default)(i,l,{threshold:.7});return w?u+JSON.stringify(w)+m:""}var bde,tOe=T(()=>{bde=Z($3e())});function Ede(i,l){return i.length<=l?i:i.substr(0,l-3)+"..."}var nOe=T(()=>{}),Ade,ej,Cde=T(()=>{nOe(),Ade=i=>typeof i=="string"?'string("'.concat(Ede(i,10),'")'):typeof i=="number"?"number(".concat(Ede(String(i),10),")"):i===null?"null":i===void 0?"undefined":typeof i=="boolean"?String(i):Array.isArray(i)?"array":typeof i=="object"?"object":"unknown",ej=Ade}),Mde,Tde,tj,Pde=T(()=>{qt(),tS(),Tde=je(cQ)(Mde||(Mde=X([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),tj=Tde}),TA,kde,Ide,Rde,PA,sk=T(()=>{qt(),bs(),TA=Z(Ot()),TP(),UO(),Une(),Pde(),Ide=je.button(kde||(kde=X([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),gs,tj),Rde=TA.default.forwardRef((i,l)=>{var u=i,{title:m}=u,w=j(u,["title"]);let[E,M]=cA({enabled:typeof m=="string"},()=>TA.default.createElement(eU,null,m));return TA.default.createElement(TA.default.Fragment,null,E,TA.default.createElement(Ide,D({ref:zO([M,l])},w))," ")}),PA=Rde}),Ode,Bde,Dde,Nde,Lde,rOe=T(()=>{Ode=Z(Ot()),sk(),qt(),bs(),Dde=je(PA)(Bde||(Bde=X([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),gs),Nde=({config:i,testId:l})=>{var u;return Ode.default.createElement(Dde,{onClick:i.onClick,"data-testid":l,title:i.title,dangerouslySetInnerHTML:{__html:(u=i.svgSource)!=null?u:""}})},Lde=Nde});function iOe({value:i,label:l,icon:u,onClick:m,isSelected:w}){return kA.default.createElement(kA.default.Fragment,null,kA.default.createElement(PA,{forwardedAs:aQ,className:w?"selected":void 0,"aria-label":l,onClick:m,title:l},u))}var kA,Fde,zde,oOe=T(()=>{kA=Z(Ot()),tS(),sk(),Pde(),Fde=({value:i,onChange:l,options:u})=>kA.default.createElement(tj,null,u.map(({label:m,icon:w,value:E})=>kA.default.createElement(iOe,{key:E,value:E,isSelected:i===E,label:m,icon:w,onClick:()=>l(E)}))),zde=Fde}),nj,Ude,jde,Hde,Gde,sOe=T(()=>{nj=Z(Ot()),qt(),bs(),oOe(),jde=je.div(Ude||(Ude=X([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),gs),Hde=({config:i})=>nj.default.createElement(zde,{onChange:i.onChange,options:i.options.map(({label:l,value:u,svgSource:m})=>({label:l,value:u,icon:nj.default.createElement(jde,{dangerouslySetInnerHTML:{__html:m}})})),value:i.value}),Gde=Hde}),ak,Vde,Wde,Xde,Kde,aOe=T(()=>{ak=Z(Ot()),qt(),bs(),sk(),J2(),a0(),Wde=je.div(Vde||(Vde=X([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),gs),Xde=({config:i})=>{let l=(0,ak.useRef)(null),u=s0(()=>{let m=l.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+i.label,constraints:{maxX:m.right,maxY:8,minX:m.left,minY:8},verticalGap:2}},()=>ak.default.createElement(P8,{items:i.items.map((m,w)=>({label:m.label,callback:()=>{var E;try{(E=m.onClick)==null||E.call(m)}catch(M){console.error(M)}}})),onRequestClose:()=>{u.close("clicked")}}));return ak.default.createElement(Wde,null,u.node,ak.default.createElement(PA,{ref:l,onClick:m=>{u.open(m,l.current)}},i.label))},Kde=Xde});function lOe(i){return rj[i]}var lk,Yde,rj,qde,Qde,uOe=T(()=>{tOe(),Cde(),lk=Z(Ot()),rOe(),sOe(),aOe(),Yde=i=>lk.default.createElement(lk.default.Fragment,null,i.config.map((l,u)=>lk.default.createElement(qde,{config:l,key:u}))),rj={Icon:Lde,Switch:Gde,Flyout:Kde},qde=({config:i})=>{let l=lOe(i.type);if(!l)throw new Error("No tool with tool.type ".concat(ej(i.type)," exists. Did you mean ").concat(eOe(i.type,Object.keys(rj))));return lk.default.createElement(l,{config:i})},Qde=Yde}),Jde,A0,Zde,$de,ehe,ij,the,nhe,oj,rhe=T(()=>{Jde=tr,Ai(),Ye(),A0=Z(Ot()),qt(),uOe(),$de=je.div(Zde||(Zde=X([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),ij=je.div(ehe||(ehe=X([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),the=({extension:i,toolbarId:l})=>{var u;let m=(0,A0.useMemo)(()=>new Jde.Atom([]),[]),w=(u=i.toolbars)==null?void 0:u[l];(0,A0.useLayoutEffect)(()=>{let M=w==null?void 0:w(m.set.bind(m),be().publicApi);if(typeof M=="function")return M},[i,l,w]);let E=_o(m.prism);return A0.default.createElement(Qde,{config:E})},nhe=({toolbarId:i,showLeftDivider:l})=>{var u;let m=[],w=_o(be().atomP.ephemeral.extensions.byId),E=!1;for(let[,M]of Object.entries(w))!M||!((u=M.toolbars)!=null&&u[i])||(m.push(A0.default.createElement(A0.default.Fragment,{key:"extensionToolbar-"+M.id},E?A0.default.createElement(ij,null):void 0,A0.default.createElement(the,{extension:M,toolbarId:i}))),E=!0);return m.length===0?null:A0.default.createElement($de,{"data-testid":"theatre-extensionToolbar-".concat(i)},l?A0.default.createElement(ij,null):void 0,m)},oj=nhe}),uk,ihe,ohe,she,XD,cOe=T(()=>{qt(),uk=Z(Ot()),sk(),ohe=je(PA)(ihe||(ihe=X([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:i})=>i?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:i})=>i?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),she=(0,uk.forwardRef)((i,l)=>{var u=i,{children:m,hint:w,pinned:E,icon:M,pinHintIcon:k,unpinHintIcon:L}=u,U=j(u,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[q,J]=(0,uk.useState)(!1),Q=q||w;return uk.default.createElement(ohe,I(D({},U),{pinned:E,ref:l,onMouseOver:()=>J(!0),onMouseOut:()=>J(!1)}),uk.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},Q&&!E?k:Q&&E?L:M),m)}),XD=she});function fOe(i){return sj.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),sj.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var sj,aj,dOe=T(()=>{sj=Z(Ot()),aj=fOe});function hOe(i){return lj.createElement("svg",D({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),lj.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var lj,uj,pOe=T(()=>{lj=Z(Ot()),uj=hOe}),Ec,ahe,lhe,uhe,cj,che,j_,fhe,dhe,hhe,phe,mhe,ghe,vhe,yhe,_he,KD,whe,xhe,fj,dj,She,bhe,mOe=T(()=>{Ai(),Ye(),Ec=Z(Ot()),qt(),lhe=je.div(ahe||(ahe=X([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),cj=je.div(uhe||(uhe=X([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),j_=je(cj)(che||(che=X([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),dhe=je(cj)(fhe||(fhe=X([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),phe=je.div(hhe||(hhe=X([`
  font-weight: 600;
`]))),ghe=je.div(mhe||(mhe=X([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),yhe=je.div(vhe||(vhe=X([`
  margin-left: 2px;
`]))),KD=je.div(_he||(_he=X([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),xhe=je.div(whe||(whe=X([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),fj="0.7.0",dj=fj.match(/^[^\-]+/)[0],She=Ec.default.forwardRef((i,l)=>{let u=_o(be().atomP.ahistoric.updateChecker.result.hasUpdates);return Ec.default.createElement(lhe,{ref:l},Ec.default.createElement(j_,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Ec.default.createElement(j_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Ec.default.createElement(KD,null),Ec.default.createElement(j_,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Ec.default.createElement(j_,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Ec.default.createElement(j_,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Ec.default.createElement(KD,null),Ec.default.createElement(dhe,null,Ec.default.createElement(phe,null,"Version"),Ec.default.createElement(ghe,null,Ec.default.createElement(yhe,null,fj," ",u===!0?"(outdated)":u===!1?"(latest)":""))),u===!0&&Ec.default.createElement(Ec.default.Fragment,null,Ec.default.createElement(KD,null),Ec.default.createElement(j_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(dj)),className:"",target:"_blank"},"Update",Ec.default.createElement(xhe,null)),Ec.default.createElement(j_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(dj)),className:"",target:"_blank"},"What's new?")))}),bhe=She}),ua,Ehe,Ahe,Che,Mhe,The,Phe,hj,khe,pj,Ihe,mj,Rhe,Ohe,gOe=T(()=>{Ai(),Ye(),ua=Z(Ot()),qt(),TP(),J3e(),CB(),Ehe=tr,rhe(),cOe(),ZT(),dOe(),pOe(),sk(),a0(),mOe(),LP(),Che=je.div(Ahe||(Ahe=X([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),The=je.div(Mhe||(Mhe=X([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),hj=je.div(Phe||(Phe=X([`
  display: flex;
  gap: 8px;
`]))),pj=je.div(khe||(khe=X([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:i})=>i==="info"?"#40aaa4":"#f59e0b"),je.div(Ihe||(Ihe=X([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),mj=!1,Rhe=()=>{var i,l,u;let m=ao(()=>{let $=(0,Ehe.val)(be().atomP.ephemeral.coreByProject);return Object.entries($).map(([ie,se])=>({projectId:ie,state:se})).filter(({state:ie})=>ie.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[w,E]=cA({enabled:m.length>0,enterDelay:m.length>0?0:200},()=>m.length>0?ua.default.createElement(Sde,null,m.length===1?'There is a state conflict in project "'.concat(m[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(m.length," projects that have state conflicts. They are highlighted in the outline below. ")):ua.default.createElement(fA,null,ua.default.createElement(ua.default.Fragment,null,"Outline"))),M=(i=_o(be().atomP.ahistoric.pinOutline))!=null?i:!0,k=(l=_o(be().atomP.ahistoric.pinDetails))!=null?l:!0,L=_o(be().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,U=s0(()=>{let $=q.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:$.right,maxY:8,minX:$.left-140,minY:8},verticalGap:2}},()=>ua.default.createElement(bhe,null)),q=(0,ua.useRef)(null),J=(0,ua.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(mj||(mj=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),L||window.__IS_VISUAL_REGRESSION_TESTING?!0:L),[L]),{hasNotifications:Q}=rU(),[W,ee]=lre();return ua.default.createElement(Che,null,ua.default.createElement(hj,null,w,ua.default.createElement(XD,{ref:E,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{be().transaction(({stateEditors:$,drafts:ie})=>{var se;$.studio.ahistoric.setPinOutline(!((se=ie.ahistoric.pinOutline)==null||se))})},icon:ua.default.createElement(S6,null),pinHintIcon:ua.default.createElement(uj,null),unpinHintIcon:ua.default.createElement(aj,null),pinned:M}),m.length>0?ua.default.createElement(The,null,m.length):null,ua.default.createElement(oj,{showLeftDivider:!0,toolbarId:"global"})),ua.default.createElement(hj,null,W,ua.default.createElement(XD,{ref:ee,onClick:()=>{be().transaction(({stateEditors:$,drafts:ie})=>{var se;$.studio.ahistoric.setPinNotifications(!((se=ie.ahistoric.pinNotifications)!=null&&se))})},icon:ua.default.createElement(BO,null),pinHintIcon:ua.default.createElement(BO,null),unpinHintIcon:ua.default.createElement(BO,null),pinned:(u=_o(be().atomP.ahistoric.pinNotifications))!=null?u:!1},Q&&ua.default.createElement(pj,{type:"warning"})),U.node,ua.default.createElement(PA,{ref:q,onClick:$=>{U.toggle($,q.current)}},ua.default.createElement(MQ,null),J&&ua.default.createElement(pj,{type:"info"})),ua.default.createElement(XD,{ref:E,onClick:()=>{be().transaction(({stateEditors:$,drafts:ie})=>{var se;$.studio.ahistoric.setPinDetails(!((se=ie.ahistoric.pinDetails)==null||se))})},icon:ua.default.createElement(CQ,null),pinHintIcon:ua.default.createElement(aj,null),unpinHintIcon:ua.default.createElement(uj,null),pinned:k})))},Ohe=Rhe}),Bhe,ck,Dhe,fk,Nhe,Lhe,Fhe,zhe,Uhe=T(()=>{Bhe=tr,Ai(),ck=Z(Ot()),Dhe=Z(Qg()),fk=new Bhe.Atom({set:{},byId:{}}),Nhe=1,Lhe=()=>{let i=Nhe++;function l(m,w,E){fk.reduce(M=>({byId:I(D({},M.byId),{[i]:{comp:m,props:w,portalNode:E}}),set:I(D({},M.set),{[i]:!0})}))}function u(){fk.reduce(m=>{let w=D({},m.set),E=D({},m.byId);return delete w[i],{byId:E,set:w}})}return{mountOrRender:l,unmount:u}},Fhe=()=>{let i=Object.keys(_o(fk.pointer.set));return ck.default.createElement(ck.default.Fragment,null,i.map(l=>ck.default.createElement(zhe,{key:"id-"+l,id:l})))},zhe=({id:i})=>{let{comp:l,portalNode:u,props:m}=_o(fk.pointer.byId[i]);return(0,Dhe.createPortal)(ck.default.createElement(l,D({},m)),u)}});function vOe(i){let l=be(),[u,m]=rs(void 0),w=Bue();w.configureLogging({min:128,dev:vj,internal:vj});let E=w.getLogger().named("Theatre.js UIRoot");z3e();let M=_o(l.atomP.ahistoric.visibilityState);return(0,cd.useEffect)(()=>(M==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[M]),ao(()=>{let k=(0,gj.val)(l.atomP.ahistoric.visibilityState);return(0,gj.val)(l.atomP.ephemeral.initialised)?cd.default.createElement(VJ,{logger:E},cd.default.createElement(Xte,null,cd.default.createElement(rPe,null,cd.default.createElement(Xhe,null),cd.default.createElement(XE.Provider,{value:m},cd.default.createElement(_6,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:i.containerShadow},cd.default.createElement(cd.default.Fragment,null,cd.default.createElement(Hhe,null),cd.default.createElement(Vhe,{className:k==="everythingIsHidden"?"invisible":""},cd.default.createElement(y6,{ref:u}),cd.default.createElement(Ohe,null),cd.default.createElement(_de,null),cd.default.createElement(ure,null)))))))):null},[l,u,m])}var gj,cd,jhe,Hhe,Ghe,Vhe,Whe,vj,Xhe,yOe=T(()=>{Ye(),Ai(),gj=tr,cd=Z(Ot()),qt(),Q3e(),gOe(),Ss(),tS(),Q9(),fm(),Kte(),V6(),Uhe(),bs(),OD(),w_(),LP(),Hhe=typeof window<"u"?RT(jhe||(jhe=X([`
  :host {
    contain: strict;
  }
`]))):{},Vhe=je(GJ)(Ghe||(Ghe=X([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),vj=/Playground.+Theatre\.js/.test((Whe=typeof document<"u"?document==null?void 0:document.title:null)!=null?Whe:""),Xhe=()=>cd.default.createElement(Fhe,null)}),_Oe=Y(i=>{var l=Qg();i.createRoot=l.createRoot,i.hydrateRoot=l.hydrateRoot}),Khe={};ce(Khe,{default:()=>Qhe});var Yhe,qhe,Qhe,wOe=T(()=>{yOe(),Yhe=Z(Ot()),qhe=Z(_Oe()),Uhe(),bs(),rhe(),Qhe=class{constructor(){Le(this,"containerEl",document.createElement("div")),Le(this,"_renderTimeout"),Le(this,"_documentBodyUIIsRenderedIn"),Le(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let i=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let l=document.createElement("div");return l.id="theatrejs-faux-shadow-root",document.body.appendChild(l),l}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=i()}render(){let i=()=>{if(!document.body){this._renderTimeout=setTimeout(i,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),qhe.default.createRoot(this.containerShadow).render(Yhe.default.createElement(vOe,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(i,10)}renderToolset(i,l){let u=Lhe();return u.mountOrRender(ATe(oj),{toolbarId:i},l),u.unmount}}}),xOe=Y(i=>{i.compare=w,i.reduce=E;var l,u,m;i.REMOVE=l=-1,i.ADD=u=1,i.EQUAL=m=0;function w(q,J){var Q=q.length,W=J.length,ee=M(q,J),$=ee<Q&&ee<W?k(q,J):0,ie=$+ee-1;Q-=ie,W-=ie;for(var se=U(Q,W),he=Q-1;he>=0;--he)for(var xe=W-1;xe>=0;--xe)se[xe][he]=L(se,q,J,ee,he,xe);return{prefix:ee,matrix:se,suffix:$}}function E(q,J,Q){var W,ee,$,ie,se=Q.matrix,he=Q.prefix;for(W=0;W<he;++W)J=q(J,m,W,W);for($=W,he=se.length,W=0,ee=0;W<he;)switch(ie=se[W][ee].type,J=q(J,ie,W+$,ee+$),ie){case m:++W,++ee;break;case l:++ee;break;case u:++W;break}for(W+=$,ee+=$,he=Q.suffix,$=0;$<he;++$)J=q(J,m,W+$,ee+$);return J}function M(q,J){for(var Q=0,W=Math.min(q.length,J.length);Q<W&&q[Q]===J[Q];)++Q;return Q}function k(q,J){for(var Q=q.length-1,W=J.length-1,ee=Math.min(Q,W),$=0;$<ee&&q[Q-$]===J[W-$];)++$;return $}function L(q,J,Q,W,ee,$){return J[ee+W]===Q[$+W]?{value:q[$+1][ee+1].value,type:m}:q[$][ee+1].value<q[$+1][ee].value?{value:q[$][ee+1].value+1,type:l}:{value:q[$+1][ee].value+1,type:u}}function U(q,J){var Q=[],W,ee,$;for($=Q[J]=[],ee=0;ee<q;++ee)$[ee]={value:q-ee,type:l};for(W=0;W<J;++W)Q[W]=[],Q[W][q]={value:J-W,type:u};return Q[J][q]={value:0,type:m},Q}}),Jhe=Y(i=>{i.cons=l,i.tail=u,i.map=m;function l(w,E){var M=E.length,k=new Array(M+1);k[0]=w;for(var L=0;L<M;++L)k[L+1]=E[L];return k}function u(w){for(var E=w.length-1,M=new Array(E),k=0;k<E;++k)M[k]=w[k+1];return M}function m(w,E){for(var M=new Array(E.length),k=0;k<E.length;++k)M[k]=w(E[k]);return M}}),SOe=Y((i,l)=>{l.exports=M;var u=/\/|~1|~0/g,m="/",w="~",E="~1";function M(k,L){var U,q,J,Q;for(U=k.charAt(0)===m?1:0,q="",u.lastIndex=U;J=u.exec(k);)if(Q=J[0],q+=k.slice(U,u.lastIndex-Q.length),U=u.lastIndex,Q===m){if(L(q)===!1)return k;q=""}else q+=Q===E?m:w;return q+=k.slice(U),L(q),k}}),yj=Y(i=>{var l=SOe();i.find=q,i.join=Q,i.absolute=J,i.parse=W,i.contains=ee,i.encodeSegment=ie,i.decodeSegment=$,i.parseArrayIndex=xe,i.isValidArrayIndex=he;var u="/",m=/\//g,w="~1",E=/~1/g,M="~",k=/~/g,L="~0",U=/~0/g;function q(Oe,He,vt,lt){if(typeof He=="string"){if(He==="")return{target:Oe,key:void 0};if(He===u)return{target:Oe,key:""};var ht=Oe,It,_n=lt!==void 0;return l(He,function(We){if(Oe==null)return ht=null,!1;Array.isArray(Oe)?It=_n?Be(vt,xe(We),Oe,lt):We==="-"?We:xe(We):It=We,ht=Oe,Oe=Oe[It]}),ht===null?void 0:{target:ht,key:It}}}function J(Oe){return Oe[0]===u?Oe:u+Oe}function Q(Oe){return Oe.join(u)}function W(Oe){var He=[];return l(Oe,He.push.bind(He)),He}function ee(Oe,He){return He.indexOf(Oe)===0&&He[Oe.length]===u}function $(Oe){return Oe.replace(E,u).replace(U,M)}function ie(Oe){return Oe.replace(k,L).replace(m,w)}var se=/^(0|[1-9]\d*)$/;function he(Oe){return se.test(Oe)}function xe(Oe){if(he(Oe))return+Oe;throw new SyntaxError("invalid array index "+Oe)}function Be(Oe,He,vt,lt){var ht=He;if(ht<0)throw new Error("array index out of bounds "+ht);if(lt!==void 0&&typeof Oe=="function"&&(ht=Oe(He,vt,lt),ht<0))throw new Error("could not find patch context "+lt);return ht}}),Zhe=Y((i,l)=>{l.exports=u;function u(E){return E==null||typeof E!="object"?E:Array.isArray(E)?m(E):w(E)}function m(E){for(var M=E.length,k=new Array(M),L=0;L<M;++L)k[L]=u(E[L]);return k}function w(E){for(var M=Object.keys(E),k={},L,U=0,q=M.length;U<q;++U)L=M[U],k[L]=u(E[L]);return k}}),bOe=Y((i,l)=>{l.exports=u;function u(E,M){return E===M?!0:Array.isArray(E)&&Array.isArray(M)?m(E,M):typeof E=="object"&&typeof M=="object"?w(E,M):!1}function m(E,M){if(E.length!==M.length)return!1;for(var k=0;k<E.length;++k)if(!u(E[k],M[k]))return!1;return!0}function w(E,M){if(E===null&&M!==null||E!==null&&M===null)return!1;var k=Object.keys(E),L=Object.keys(M);if(k.length!==L.length)return!1;for(var U=0,q;U<k.length;++U)if(q=k[U],!(q in M&&u(E[q],M[q])))return!1;return!0}}),EOe=Y((i,l)=>{var u=yj();l.exports=function(q,J){var Q=u.parse(q.path),W=u.parse(J.path),ee=L(Q,W),$=E(Q,W,ee.length),ie=U(q),se=U(J);return ee.length===0&&!$?[se,ie]:$?w(ie,Q,se,W):m(ie,Q,se)};function m(q,J,Q,W){if(q.path===Q.path)throw new TypeError("cannot commute "+q.op+","+Q.op+" with identical object paths");return[Q,q]}function w(q,J,Q,W){return J.length===W.length?M(q,J,Q,W):(J.length>W.length?(J=k(Q,W,q,J,-1),q.path=u.absolute(u.join(J))):(W=k(q,J,Q,W,1),Q.path=u.absolute(u.join(W))),[Q,q])}function E(q,J,Q){return u.isValidArrayIndex(q[Q])&&u.isValidArrayIndex(J[Q])}function M(q,J,Q,W){var ee=J.length-1,$=+J[ee],ie=+W[ee],se;return $<ie?q.op==="add"||q.op==="copy"?(se=W.slice(),se[ee]=Math.max(0,ie-1),Q.path=u.absolute(u.join(se))):q.op==="remove"&&(se=W.slice(),se[ee]=ie+1,Q.path=u.absolute(u.join(se))):Q.op==="add"||Q.op==="copy"?(se=J.slice(),se[ee]=$+1,q.path=u.absolute(u.join(se))):$>ie&&Q.op==="remove"&&(se=J.slice(),se[ee]=Math.max(0,$-1),q.path=u.absolute(u.join(se))),[Q,q]}function k(q,J,Q,W,ee){var $=J.length-1,ie=+J[$],se=+W[$],he=W.slice();return ie>se||(q.op==="add"||q.op==="copy"?he[$]=Math.max(0,se-ee):q.op==="remove"&&(he[$]=Math.max(0,se+ee))),he}function L(q,J){var Q=q.length,W=J.length;if(Q===0||W===0||Q<2&&W<2)return[];for(var ee=Q===W?Q-1:Math.min(Q,W),$=0;$<ee&&q[$]===J[$];)++$;return q.slice(0,$)}function U(q){return q.op==="remove"?{op:q.op,path:q.path}:q.op==="copy"||q.op==="move"?{op:q.op,path:q.path,from:q.from}:{op:q.op,path:q.path,value:q.value}}}),$he=Y((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),_j=Y((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),epe=Y((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),tpe=Y(i=>{var l=yj(),u=Zhe(),m=bOe(),w=EOe(),E=Jhe(),M=$he(),k=_j(),L=epe(),U=l.find,q=l.parseArrayIndex;i.test={apply:J,inverse:Q,commute:W},i.add={apply:ee,inverse:ie,commute:se},i.remove={apply:Oe,inverse:vt,commute:lt},i.replace={apply:he,inverse:xe,commute:Be},i.move={apply:ht,inverse:It,commute:_n},i.copy={apply:We,inverse:kt,commute:se};function J(bt,Et,Wt){var Hn=U(bt,Et.path,Wt.findContext,Et.context),Xe=Hn.target,it,hn;if(Array.isArray(Xe)?(it=q(Hn.key),hn=Xe[it]):hn=Hn.key===void 0?Hn.target:Hn.target[Hn.key],!m(hn,Et.value))throw new M("test failed "+JSON.stringify(Et));return bt}function Q(bt,Et){return bt.push(Et),1}function W(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return Et.op==="test"||Et.op==="replace"?[Et,bt]:w(bt,Et)}function ee(bt,Et,Wt){var Hn=U(bt,Et.path,Wt.findContext,Et.context);if(Ee(Hn))throw new k("path does not exist "+Et.path);if(Et.value===void 0)throw new k("missing value");var Xe=u(Et.value);return Hn.key===void 0?Xe:($(Hn,Xe),bt)}function $(bt,Et){var Wt=bt.target;if(Array.isArray(Wt))if(bt.key==="-")Wt.push(Et);else{if(bt.key>Wt.length)throw new k("target of add outside of array bounds");Wt.splice(bt.key,0,Et)}else if(cr(Wt))Wt[bt.key]=Et;else throw new k("target of add must be an object or array "+bt.key)}function ie(bt,Et){var Wt=Et.context;return Wt!==void 0&&(Wt={before:Wt.before,after:E.cons(Et.value,Wt.after)}),bt.push({op:"test",path:Et.path,value:Et.value,context:Wt}),bt.push({op:"remove",path:Et.path,context:Wt}),1}function se(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return w(bt,Et)}function he(bt,Et,Wt){var Hn=U(bt,Et.path,Wt.findContext,Et.context);if(Ee(Hn)||Ht(Hn))throw new k("path does not exist "+Et.path);if(Et.value===void 0)throw new k("missing value");var Xe=u(Et.value);if(Hn.key===void 0)return Xe;var it=Hn.target;return Array.isArray(it)?it[q(Hn.key)]=Xe:it[Hn.key]=Xe,bt}function xe(bt,Et,Wt,Hn){var Xe=Hn[Wt-1];if(Xe===void 0||Xe.op!=="test"||Xe.path!==Et.path)throw new L("cannot invert replace w/o test");var it=Xe.context;return it!==void 0&&(it={before:it.before,after:E.cons(Xe.value,E.tail(it.after))}),bt.push({op:"test",path:Xe.path,value:Et.value}),bt.push({op:"replace",path:Xe.path,value:Xe.value}),2}function Be(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return Et.op==="test"||Et.op==="replace"?[Et,bt]:w(bt,Et)}function Oe(bt,Et,Wt){var Hn=U(bt,Et.path,Wt.findContext,Et.context);if(Ee(Hn)||Hn.target[Hn.key]===void 0)throw new k("path does not exist "+Et.path);return He(Hn),bt}function He(bt){var Et=bt.target,Wt;if(Array.isArray(Et))return Wt=Et.splice(q(bt.key),1),Wt[0];if(cr(Et))return Wt=Et[bt.key],delete Et[bt.key],Wt;throw new k("target of remove must be an object or array")}function vt(bt,Et,Wt,Hn){var Xe=Hn[Wt-1];if(Xe===void 0||Xe.op!=="test"||Xe.path!==Et.path)throw new L("cannot invert remove w/o test");var it=Xe.context;return it!==void 0&&(it={before:it.before,after:E.tail(it.after)}),bt.push({op:"add",path:Xe.path,value:Xe.value,context:it}),2}function lt(bt,Et){return bt.path===Et.path&&Et.op==="remove"?[Et,bt]:w(bt,Et)}function ht(bt,Et,Wt){if(l.contains(Et.path,Et.from))throw new k("move.from cannot be ancestor of move.path");var Hn=U(bt,Et.path,Wt.findContext,Et.context),Xe=U(bt,Et.from,Wt.findContext,Et.fromContext);return $(Hn,He(Xe)),bt}function It(bt,Et){return bt.push({op:"move",path:Et.from,context:Et.fromContext,from:Et.path,fromContext:Et.context}),1}function _n(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return w(bt,Et)}function We(bt,Et,Wt){var Hn=U(bt,Et.path,Wt.findContext,Et.context),Xe=U(bt,Et.from,Wt.findContext,Et.fromContext);if(Ee(Xe)||Ht(Xe))throw new k("copy.from must exist");var it=Xe.target,hn;return Array.isArray(it)?hn=it[q(Xe.key)]:hn=it[Xe.key],$(Hn,u(hn)),bt}function kt(bt,Et){throw new L("cannot invert "+Et.op)}function Ee(bt){return bt===void 0||bt.target==null&&bt.key!==void 0}function Ht(bt){return bt.key!==void 0&&bt.target[bt.key]===void 0}function cr(bt){return bt!==null&&typeof bt=="object"}}),AOe=Y(i=>{var l=tpe(),u=Zhe(),m=_j();i.apply=E,i.applyInPlace=M,i.clone=u,i.isValidObject=L,i.defaultHash=k;var w={};function E(q,J,Q){return M(q,u(J),Q)}function M(q,J,Q){if(Q||(Q=w),!Array.isArray(q))return J;for(var W,ee,$=0;$<q.length;++$){if(ee=q[$],W=l[ee.op],W===void 0)throw new m("invalid op "+JSON.stringify(ee));J=W.apply(J,ee,Q)}return J}function k(q){return L(q)||U(q)?JSON.stringify(q):q}function L(q){return q!==null&&Object.prototype.toString.call(q)==="[object Object]"}function U(q){return Object.prototype.toString.call(q)==="[object Array]"}}),COe=Y((i,l)=>{var u=tpe();l.exports=function(w){var E=[],M,k;for(M=w.length-1;M>=0;M-=k)k=m(E,w[M],M,w);return E};function m(w,E,M,k){var L=u[E.op];return L!==void 0&&typeof L.inverse=="function"?L.inverse(w,E,M,k):1}}),MOe=Y(i=>{var l=xOe(),u=Jhe(),m=AOe(),w=COe(),E=yj(),M=E.encodeSegment;i.diff=U,i.patch=m.apply,i.patchInPlace=m.applyInPlace,i.inverse=w,i.clone=m.clone,i.InvalidPatchOperationError=_j(),i.TestFailedError=$he(),i.PatchNotInvertibleError=epe();var k=m.isValidObject,L=m.defaultHash;function U(xe,Be,Oe){return J(xe,Be,"",q(Oe,[])).patch}function q(xe,Be){return typeof xe=="object"?{patch:Be,hash:ie(he,xe.hash,L),makeContext:ie(he,xe.makeContext,se),invertible:xe.invertible!==!1}:{patch:Be,hash:ie(he,xe,L),makeContext:se,invertible:!0}}function J(xe,Be,Oe,He){return Array.isArray(xe)&&Array.isArray(Be)?W(xe,Be,Oe,He):k(xe)&&k(Be)?Q(xe,Be,Oe,He):$(xe,Be,Oe,He)}function Q(xe,Be,Oe,He){var vt=Object.keys(Be),lt=He.patch,ht,It;for(ht=vt.length-1;ht>=0;--ht){It=vt[ht];var _n=Oe+"/"+M(It);xe[It]!==void 0?J(xe[It],Be[It],_n,He):lt.push({op:"add",path:_n,value:Be[It]})}for(vt=Object.keys(xe),ht=vt.length-1;ht>=0;--ht)if(It=vt[ht],Be[It]===void 0){var We=Oe+"/"+M(It);He.invertible&&lt.push({op:"test",path:We,value:xe[It]}),lt.push({op:"remove",path:We})}return He}function W(xe,Be,Oe,He){var vt=u.map(He.hash,xe),lt=u.map(He.hash,Be),ht=l.compare(vt,lt);return ee(xe,Be,Oe,He,ht)}function ee(xe,Be,Oe,He,vt){var lt=0;return l.reduce(function(ht,It,_n,We){var kt,Ee,Ht=ht.patch,cr=Oe+"/"+(We+lt);return It===l.REMOVE?(kt=Ht[Ht.length-1],Ee=ht.makeContext(We,xe),ht.invertible&&Ht.push({op:"test",path:cr,value:xe[We],context:Ee}),kt!==void 0&&kt.op==="add"&&kt.path===cr?(kt.op="replace",kt.context=Ee):Ht.push({op:"remove",path:cr,context:Ee}),lt-=1):It===l.ADD?(Ht.push({op:"add",path:cr,value:Be[_n],context:ht.makeContext(We,xe)}),lt+=1):J(xe[We],Be[_n],cr,ht),ht},He,vt)}function $(xe,Be,Oe,He){return xe!==Be&&(He.invertible&&He.patch.push({op:"test",path:Oe,value:xe}),He.patch.push({op:"replace",path:Oe,value:Be})),He}function ie(xe,Be,Oe){return xe(Be)?Be:Oe}function se(){}function he(xe){return typeof xe=="function"}}),DS=Y((i,l)=>{function u(m,w){for(var E=0,M=w.length-1;E<M;E++){if(!m[w[E]])return null;m=m[w[E]]}return m}l.exports=u}),H_=Y((i,l)=>{function u(w){return w==="~0"?"~":"/"}function m(w){var E=w.split("/");if(w.indexOf("~")===-1)return E;for(var M=0,k=E.length;M<k;M++)E[M].indexOf("~")!==-1&&(E[M]=E[M].replace(/~[01]/g,u));return E}l.exports=m}),TOe=Y((i,l)=>{var u=DS(),m=H_();function w(E,M){var k=m(M),L=k[k.length-1],U=u(E,k);return U?U[L]:void 0}l.exports=w}),YD=Y((i,l)=>{function u(m,w){if(m===w)return!0;if(!(m&&w)||typeof m!="object"||typeof w!="object"||m.length!==w.length)return!1;if(Array.isArray(m)){if(!Array.isArray(w))return!1;for(var E=0,M=m.length;E<M;E++)if(!u(m[E],w[E]))return!1;return!0}var k=Object.keys(m);if(k.length!==Object.keys(w).length)return!1;for(var L=0,U=k.length;L<U;L++){var q=k[L];if(!u(m[q],w[q]))return!1}return!0}l.exports=u}),qD=Y((i,l)=>{function u(m,w){if(w==="-")return m.length;for(var E=0,M=w.length;E<M;E++){var k=w.charCodeAt(E);if(57<k||k<48)return 1/0}return+w}l.exports=u}),QD=Y((i,l)=>{var u=YD(),m=DS(),w=qD(),E=H_();function M(k,L,U,q){if(typeof U>"u")return"[op:add] require value, but got undefined";var J=E(L),Q=J[J.length-1],W=m(k,J);if(W===null)return"[op:add] path not found: "+L;if(Array.isArray(W)){var ee=w(W,Q);if(W.length<ee)return"[op:add] invalid array index: "+L;q(k,J).splice(ee,0,U)}else u(W[Q],U)||(q(k,J)[Q]=U)}l.exports=M}),npe=Y((i,l)=>{var u=DS(),m=qD(),w=H_();function E(M,k,L){var U=w(k),q=U[U.length-1],J=u(M,U);if(J===null)return"[op:remove] path not found: "+k;if(Array.isArray(J)){var Q=m(J,q);if(J.length<=Q)return"[op:remove] invalid array index: "+k;L(M,U).splice(Q,1)}else delete L(M,U)[q]}l.exports=E}),rpe=Y((i,l)=>{var u=YD(),m=DS(),w=qD(),E=H_();function M(k,L,U,q){if(typeof U>"u")return"[op:replace] require value, but got undefined";var J=E(L),Q=J[J.length-1],W=m(k,J);if(W===null)return"[op:replace] path not found: "+L;if(Array.isArray(W)){var ee=w(W,Q);if(W.length<=ee)return"[op:replace] invalid array index: "+L;u(W[ee],U)||q(k,J).splice(ee,1,U)}else u(W[Q],U)||(q(k,J)[Q]=U)}l.exports=M}),ipe=Y((i,l)=>{var u=QD(),m=DS(),w=qD(),E=H_();function M(k,L,U,q){if(U!==L){var J=E(L),Q=J[J.length-1],W=m(k,J);if(W===null)return"[op:move] path not found: "+L;var ee=void 0;if(Array.isArray(W)){var $=w(W,Q);if(W.length<=$)return"[op:move] invalid array index: "+U;ee=W[$],q(k,J).splice($,1)}else ee=W[Q],delete q(k,J)[Q];return u(k,U,ee,q)}}l.exports=M}),ope=Y((i,l)=>{var u=DS(),m=H_(),w=QD();function E(M,k,L,U){var q=m(k),J=q[q.length-1],Q=u(M,q);return Q===null?"[op:copy] path not found: "+k:w(M,L,Q[J],U)}l.exports=E}),spe=Y((i,l)=>{var u=YD(),m=DS(),w=H_();function E(M,k,L){var U=w(k),q=U[U.length-1],J=m(M,U);if(J===null)return"[op:test] path not found: "+k;if(!u(J[q],L)){var Q=JSON.stringify(J[q]),W=JSON.stringify(L);return"[op:test] not matched: "+Q+" "+W}}l.exports=E}),wj=Y((i,l)=>{function u(m){if(!m||typeof m!="object")return m;if(Array.isArray(m)){for(var w=m.length,E=new Array(w),M=0;M<w;M++)E[M]=m[M];return E}for(var k=Object.keys(m),L={},U=0,q=k.length;U<q;U++){var J=k[U];L[J]=m[J]}return L}l.exports=u}),POe=Y((i,l)=>{var u=TOe(),m=QD(),w=npe(),E=rpe(),M=ipe(),k=ope(),L=spe(),U=YD(),q=wj(),J=H_();function Q(W,ee){return{get:function($){return u(W,$)},add:function($,ie){return m(W,$,ie,ee)},remove:function($){return w(W,$,ee)},replace:function($,ie){return E(W,$,ie,ee)},move:function($,ie){return M(W,$,ie,ee)},copy:function($,ie){return k(W,$,ie,ee)},test:function($,ie){return L(W,$,ie)},deepEqual:U,shallowCopy:q,toKeys:J}}l.exports=Q}),kOe=Y((i,l)=>{function u(m,w,E,M){return M.error=E,M.partial?w[""]:m}l.exports=u}),IOe=Y((i,l)=>{function u(m){return!!m}l.exports=u}),ROe=Y((i,l)=>{function u(m){if(m)throw new TypeError(m)}l.exports=u}),OOe=Y((i,l)=>{var u=wj();function m(w,E){for(var M=0,k=E.length-1;M<k;M++)w=w[E[M]]=u(w[E[M]]);return w}l.exports=m}),BOe=Y((i,l)=>{var u=wj();function m(E,M,k){var L=E[M];return k.has(L)||(L=u(L),k.add(L)),L}function w(E,M,k){for(var L=0,U=M.length-1;L<U;L++)E=E[M[L]]=m(E,M[L],k);return E}l.exports=w}),DOe=Y((i,l)=>{var u=POe(),m=kOe(),w=IOe(),E=ROe(),M=OOe(),k=BOe(),L=QD(),U=npe(),q=rpe(),J=ipe(),Q=ope(),W=spe(),ee=Set||function(){var ie=[];return ie.has=function(se){return this.indexOf(se)!==-1},ie.add=function(se){this.push(se)},ie};function $(ie,se,he){if(se.length===0)return ie;he=he||{};for(var xe=he.strict?E:w,Be=se.length===1?M:function(It){return function(_n,We){return k(_n,We,It)}}(new ee),Oe={"":ie},He,vt=0,lt=se.length;vt<lt;vt++){var ht=se[vt];switch(ht.op){case"add":if(xe(L(Oe,""+ht.path,ht.value,Be)))return m(ie,Oe,ht,he);break;case"remove":if(xe(U(Oe,""+ht.path,Be)))return m(ie,Oe,ht,he);break;case"replace":if(xe(q(Oe,""+ht.path,ht.value,Be)))return m(ie,Oe,ht,he);break;case"move":if(xe(J(Oe,""+ht.from,""+ht.path,Be)))return m(ie,Oe,ht,he);break;case"copy":if(xe(Q(Oe,""+ht.from,""+ht.path,Be)))return m(ie,Oe,ht,he);break;case"test":if(xe(W(Oe,""+ht.path,ht.value)))return m(ie,Oe,ht,he);break;default:if(he.custom&&he.custom[ht.op]){if(He=He||u(Oe,Be),xe(he.custom[ht.op](He,ht,vt,se)))return m(ie,Oe,ht,he)}else return xe("[op:"+ht.op+"] unknown"),m(ie,Oe,ht,he);break}}return Oe[""]}l.exports=$}),NOe=Y((i,l)=>{l.exports=DOe()}),LOe=Y((i,l)=>{(function(u,m){typeof i=="object"&&typeof l=="object"?l.exports=m():typeof i=="object"?i.blobCompare=m():u.blobCompare=m()})(window,function(){return function(u){var m={};function w(E){if(m[E])return m[E].exports;var M=m[E]={i:E,l:!1,exports:{}};return u[E].call(M.exports,M,M.exports,w),M.l=!0,M.exports}return w.m=u,w.c=m,w.d=function(E,M,k){w.o(E,M)||Object.defineProperty(E,M,{enumerable:!0,get:k})},w.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},w.t=function(E,M){if(1&M&&(E=w(E)),8&M||4&M&&typeof E=="object"&&E&&E.__esModule)return E;var k=Object.create(null);if(w.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:E}),2&M&&typeof E!="string")for(var L in E)w.d(k,L,(function(U){return E[U]}).bind(null,L));return k},w.n=function(E){var M=E&&E.__esModule?function(){return E.default}:function(){return E};return w.d(M,"a",M),M},w.o=function(E,M){return Object.prototype.hasOwnProperty.call(E,M)},w.p="",w(w.s=4)}([function(u,m,w){var E=function(q,J){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return function(Q,W){var ee=[],$=!0,ie=!1,se=void 0;try{for(var he,xe=Q[Symbol.iterator]();!($=(he=xe.next()).done)&&(ee.push(he.value),!W||ee.length!==W);$=!0);}catch(Be){ie=!0,se=Be}finally{try{!$&&xe.return&&xe.return()}finally{if(ie)throw se}}return ee}(q,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},M=function(){function q(J,Q){for(var W=0;W<Q.length;W++){var ee=Q[W];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(J,ee.key,ee)}}return function(J,Q,W){return Q&&q(J.prototype,Q),W&&q(J,W),J}}();function k(q){if(Array.isArray(q)){for(var J=0,Q=Array(q.length);J<q.length;J++)Q[J]=q[J];return Q}return Array.from(q)}var L=w(2),U=function(q){function J(Q){(function(ee,$){if(!(ee instanceof $))throw new TypeError("Cannot call a class as a function")})(this,J);var W=function(ee,$){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||typeof $!="object"&&typeof $!="function"?ee:$}(this,(J.__proto__||Object.getPrototypeOf(J)).call(this));return W._messageId=1,W._messages=new Map,W._worker=Q,W._worker.onmessage=W._onMessage.bind(W),W._id=Math.ceil(1e7*Math.random()),W}return function(Q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);Q.prototype=Object.create(W&&W.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,W):Q.__proto__=W)}(J,q),M(J,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(Q){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ie=arguments[3];return new Promise(function(se,he){var xe=ee._messageId++;ee._messages.set(xe,[se,he,ie]),ee._worker.postMessage([xe,W,Q],$||[])})}},{key:"postMessage",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments[2];return new Promise(function(ie,se){var he=W._messageId++;W._messages.set(he,[ie,se,$]),W._worker.postMessage([he,Q],ee||[])})}},{key:"emit",value:function(Q){for(var W=arguments.length,ee=Array(W>1?W-1:0),$=1;$<W;$++)ee[$-1]=arguments[$];this._worker.postMessage({eventName:Q,args:ee})}},{key:"_onMessage",value:function(Q){var W;if(!Array.isArray(Q.data)&&Q.data.eventName)return(W=function he(xe,Be,Oe){xe===null&&(xe=Function.prototype);var He=Object.getOwnPropertyDescriptor(xe,Be);if(He===void 0){var vt=Object.getPrototypeOf(xe);return vt===null?void 0:he(vt,Be,Oe)}if("value"in He)return He.value;var lt=He.get;return lt!==void 0?lt.call(Oe):void 0}(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"emit",this)).call.apply(W,[this,Q.data.eventName].concat(k(Q.data.args)));var ee,$=(ee=Q.data,Array.isArray(ee)?ee:Array.from(ee)),ie=$[0],se=$.slice(1);if(ie===1)this._onEvent.apply(this,k(se));else{if(ie!==0)throw new Error("Wrong message type '"+ie+"'");this._onResult.apply(this,k(se))}}},{key:"_onResult",value:function(Q,W,ee){var $=this._messages.get(Q),ie=E($,2),se=ie[0],he=ie[1];return this._messages.delete(Q),W===1?se(ee):he(ee)}},{key:"_onEvent",value:function(Q,W,ee){var $=this._messages.get(Q),ie=E($,3)[2];ie&&ie(W,ee)}}]),J}(L);u.exports=U},function(u,m,w){u.exports=function(){return w(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(u,m,w){var E=function(){function k(L,U){for(var q=0;q<U.length;q++){var J=U[q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,U,q){return U&&k(L.prototype,U),q&&k(L,q),L}}(),M=function(){function k(){(function(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")})(this,k),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return E(k,[{key:"emit",value:function(L){if(!this.__listeners[L])return this;for(var U=arguments.length,q=Array(U>1?U-1:0),J=1;J<U;J++)q[J-1]=arguments[J];var Q=!0,W=!1,ee=void 0;try{for(var $,ie=this.__listeners[L][Symbol.iterator]();!(Q=($=ie.next()).done);Q=!0){var se=$.value;se.apply(void 0,q)}}catch(he){W=!0,ee=he}finally{try{!Q&&ie.return&&ie.return()}finally{if(W)throw ee}}return this}},{key:"once",value:function(L,U){var q=this,J=function Q(){q.off(L,Q),U.apply(void 0,arguments)};return this.on(L,J)}},{key:"on",value:function(L,U){return this.__listeners[L]||(this.__listeners[L]=[]),this.__listeners[L].push(U),this}},{key:"off",value:function(L,U){return this.__listeners[L]=U?this.__listeners[L].filter(function(q){return q!==U}):[],this}}]),k}();u.exports=M},function(u,m,w){var E=window.URL||window.webkitURL;u.exports=function(M,k){try{try{var L;try{(L=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(M),L=L.getBlob()}catch{L=new Blob([M])}return new Worker(E.createObjectURL(L))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(M))}}catch{if(!k)throw Error("Inline worker is not supported");return new Worker(k)}}},function(u,m,w){w.r(m);var E=w(0),M=w.n(E),k=w(1),L=w.n(k);w.d(m,"workersEnabled",function(){return U}),w.d(m,"default",function(){return q});let U=!!window.Worker;class q{static toBinaryStringWithWorker(Q,W){return fe(this,null,function*(){let ee=new M.a(new L.a),$=yield ee.exec("binary",{blob:Q,chunk:W});return ee.terminate(),$})}static toBinaryStringWithoutWorker(Q,W){return function(ee,$){return new Promise((ie,se)=>{let he=new FileReader,xe=$?Math.min($,ee.size):ee.size,Be=ee.slice(0,xe);he.onload=()=>ie(he.result),he.onerror=se,he.readAsBinaryString(Be)})}(Q,W)}static toBinaryString(Q,W,ee=!0){return ee&&U?this.toBinaryStringWithWorker(Q,W):this.toBinaryStringWithoutWorker(Q,W)}static toArrayBufferWithWorker(Q,W){return fe(this,null,function*(){let ee=new M.a(new L.a),$=yield ee.exec("buffer",{blob:Q,chunk:W});return ee.terminate(),$})}static toArrayBufferWithoutWorker(Q,W){return function(ee,$){return new Promise((ie,se)=>{let he=new FileReader,xe=$?Math.min($,ee.size):ee.size,Be=ee.slice(0,xe);he.onload=()=>ie(he.result),he.onerror=se,he.readAsArrayBuffer(Be)})}(Q,W)}static toArrayBuffer(Q,W,ee=!0){return ee&&U?this.toArrayBufferWithWorker(Q,W):this.toArrayBufferWithoutWorker(Q,W)}static compareBuffersWithWorker(Q,W){return fe(this,null,function*(){if(Q===W)return!0;let ee=new M.a(new L.a),$=yield ee.exec("compare",{buf1:Q,buf2:W},[Q,W]);return ee.terminate(),$})}static compareBuffersWithoutWorker(Q,W){return function(ee,$){if(ee===$)return!0;if(ee.byteLength!==$.byteLength)return!1;let ie=new DataView(ee),se=new DataView($);for(var he=ee.byteLength;he--;)if(ie.getUint8(he)!==se.getUint8(he))return!1;return!0}(Q,W)}static compareBuffers(Q,W,ee=!0){return ee&&U?this.compareBuffersWithWorker(Q,W):this.compareBuffersWithoutWorker(Q,W)}static sizeEqual(Q,W){return Q.size===W.size}static typeEqual(Q,W){return Q.type===W.type}static magicNumbersEqual(Q,W,ee=!0){return fe(this,null,function*(){if(Q===W)return!0;let $=[24,16,14,12,8,6,4],[ie,se]=yield Promise.all([this.toBinaryString(Q,24,ee),this.toBinaryString(W,24,ee)]);for(let he of $)if(ie.substring(0,he)===se.substring(0,he))return!0;return!1})}static bytesEqualWithBinaryString(Q,W,ee,$=!0){return fe(this,null,function*(){if(Q===W)return!0;let[ie,se]=yield Promise.all([this.toBinaryString(Q,ee,$),this.toBinaryString(W,ee,$)]);return ie===se})}static bytesEqualWithArrayBuffer(Q,W,ee,$=!0){return fe(this,null,function*(){if(Q===W)return!0;let[ie,se]=yield Promise.all([this.toArrayBuffer(Q,ee,$),this.toArrayBuffer(W,ee,$)]);return this.compareBuffers(ie,se,$)})}static isEqual(Q,W){return fe(this,arguments,function*(ee,$,{methods:ie=["size","type","magic","byte"],byte:se="buffer",partial:he=!1,chunks:xe=null,worker:Be=!0}={}){let Oe=null;for(let He of ie){if(Oe===!1||he&&Oe===!0)break;switch(He){case"byte":case"bytes":case"content":xe=xe instanceof Array?xe:[ee.size],Oe=!0;for(let vt of xe){let lt=!1;lt=se==="buffer"?yield this.bytesEqualWithArrayBuffer(ee,$,vt,Be):yield this.bytesEqualWithBinaryString(ee,$,vt,Be),lt||(Oe=!1)}break;case"magic":case"headers":case"numbers":case"mime":Oe=yield this.magicNumbersEqual(ee,$,Be);break;case"size":case"sizes":Oe=this.sizeEqual(ee,$);break;case"type":case"types":Oe=this.typeEqual(ee,$);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return Oe})}}}])})}),ape={};ce(ape,{ToolbarDropdownSelect:()=>tDe,default:()=>rDe}),n.exports=Se(ape),Ye(),_e();var lpe=tr;ln();var FOe=0,zOe=class{constructor(i){this._studio=i,Le(this,"_id"),Le(this,"_state",{type:"Ready"}),this._id=String(FOe++)}get status(){return this._state.type}reset(){let{_state:i}=this;if(i.type!=="Ready")if(i.type==="Captured")this._state={type:"Ready"},i.transaction.discard(),i.flagsTransaction.discard();else throw i.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:i}=this;if(i.type==="Captured")i.transaction.commit(),i.flagsTransaction.discard(),this._state={type:"Committed"};else if(i.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw i.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(i){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let l=!0;try{this._state=D({type:"Captured"},this._capture(i)),l=!1}finally{l&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(i){let l=[],u=this._studio.tempTransaction(w=>{let E=!0,M={set:(k,L)=>{if(!E)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:U,path:q}=(0,lpe.getPointerParts)(k);if(!Qe(U))throw new Error("We can only scrub props of Sheet Objects for now");w.set(k,L),l.push(k)}};try{i(M)}finally{E=!1}}),m=this._studio.tempTransaction(({stateEditors:w})=>{l.forEach(E=>{let{root:M,path:k}=(0,lpe.getPointerParts)(E);if(!Qe(M))return;let L=M.template.getDefaultsAtPointer(E);de(L,(U,q)=>{w.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(I(D({},M.address),{pathToProp:q}))},k)})});return{transaction:u,flagsTransaction:m}}discard(){let{_state:i}=this;if(i.type==="Captured"||i.type==="Ready")i.type==="Captured"&&(i.transaction.discard(),i.flagsTransaction.discard()),this._state={type:"Discarded"};else throw i.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},UOe=tr,upe=typeof window<"u"?Promise.resolve().then(()=>(wOe(),Khe)).then(i=>i.default):null,jOe=class{constructor(i){this.studio=i,Le(this,"_rendered",!1),Le(this,"_nonSSRBits",upe?upe.then(l=>new l):Promise.reject()),Le(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(i=>{i.render()}).catch(i=>{throw console.error(i),i}))}hide(){this.studio.transaction(({drafts:i})=>{i.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:i})=>{i.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,UOe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(i,l){let u=!1,m=null;return this._nonSSRBits.then(w=>{u||(m=w.renderToolset(i,l))}).catch(w=>{console.error(w)}),()=>{if(m){m();return}u||(u=!0)}}},JD=tr;function HOe(i){return i}var GOe=(i,l=HOe)=>{let u=m=>({type:i,payload:l(m)});return u.type=i,u.is=m=>m&&m.type&&m.type===i,u},C0=GOe,cpe=Z(MOe()),fpe=Z(NOe());EE();var ZD,VOe=new Uint8Array(16);function WOe(){if(!ZD&&(ZD=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ZD))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZD(VOe)}var XOe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function KOe(i){return typeof i=="string"&&XOe.test(i)}var YOe=KOe,fd=[];for($D=0;$D<256;++$D)fd.push(($D+256).toString(16).substr(1));var $D;function qOe(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(fd[i[l+0]]+fd[i[l+1]]+fd[i[l+2]]+fd[i[l+3]]+"-"+fd[i[l+4]]+fd[i[l+5]]+"-"+fd[i[l+6]]+fd[i[l+7]]+"-"+fd[i[l+8]]+fd[i[l+9]]+"-"+fd[i[l+10]]+fd[i[l+11]]+fd[i[l+12]]+fd[i[l+13]]+fd[i[l+14]]+fd[i[l+15]]).toLowerCase();if(!YOe(u))throw TypeError("Stringified UUID is invalid");return u}var QOe=qOe;function JOe(i,l,u){i=i||{};var m=i.random||(i.rng||WOe)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,l){u=u||0;for(var w=0;w<16;++w)l[u+w]=m[w];return l}return QOe(m)}var ZOe=JOe,dk={replaceHistory:C0("@history/replaceHistory"),startHistoryFromScratch:C0("@history/startHistoryFromScratch"),undo:C0("@history/undo"),redo:C0("@history/redo")},$Oe={type:"@history/unknownAction",payload:""},eBe={maxNumberOfCommits:100},tBe=(i,l=eBe)=>{let u=xj(i(void 0,$Oe));return function(m,w){return dk.startHistoryFromScratch.is(w)?xj(i(void 0,w.payload)):dk.replaceHistory.is(w)?w.payload:dk.undo.is(w)?m?iBe(m):u:dk.redo.is(w)?m?oBe(m):u:m?nBe(m,i(m.innerState,w),l):xj(i(void 0,w))}};function xj(i){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:i}}function nBe(i,l,u){if(l===i.innerState)return i;let m=rBe(i.innerState,l);if(m.forwardDiff.length===0)return i;let w=ly(i.listOfCommitHashes),E={currentCommitHash:m.hash,commitsByHash:D({},i.commitsByHash),listOfCommitHashes:[...i.listOfCommitHashes],innerState:l};if(i.currentCommitHash!==w){let M=i.listOfCommitHashes.findIndex(k=>k===i.currentCommitHash);i.listOfCommitHashes.slice(M+1).forEach(k=>{delete E.commitsByHash[k]}),E.listOfCommitHashes.splice(M+1,E.listOfCommitHashes.length)}if(E.listOfCommitHashes.push(m.hash),E.commitsByHash[m.hash]=m,E.listOfCommitHashes.length>u.maxNumberOfCommits){let M=E.listOfCommitHashes.length-u.maxNumberOfCommits;E.listOfCommitHashes.slice(0,M).forEach(k=>{delete E.commitsByHash[k]}),E.listOfCommitHashes.splice(0,M)}return E}function rBe(i,l){let u=cpe.default.diff(i,l,{invertible:!1}),m=cpe.default.diff(l,i,{invertible:!1}),w=Date.now(),E=ZOe();return{forwardDiff:u,backwardDiff:m,timestamp:w,hash:E}}function iBe(i){if(i.currentCommitHash===void 0)return i;let l=i.listOfCommitHashes.findIndex(M=>M===i.currentCommitHash);if(l===-1)throw new Error("This should never happen");let u=i.commitsByHash[i.currentCommitHash],m=(0,fpe.default)(i.innerState,u.backwardDiff),w=l-1,E=w===-1?void 0:i.listOfCommitHashes[w];return I(D({},i),{currentCommitHash:E,innerState:m})}function oBe(i){if(i.listOfCommitHashes.length===0)return i;let l=i.listOfCommitHashes.findIndex(M=>M===i.currentCommitHash);if(l===i.listOfCommitHashes.length-1)return i;let u=l+1,m=i.listOfCommitHashes[u],w=i.commitsByHash[m],E=(0,fpe.default)(i.innerState,w.forwardDiff);return I(D({},i),{currentCommitHash:m,innerState:E})}OD();var e4={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},dpe=C0("@storeBundle/replacePersistentState",i=>i),hpe=C0("@storeBundle/reduceParts",i=>i),IA={historic:dk,replacePersistentState:dpe,reduceParts:hpe},ppe=C0("@storeBundle/setInnerHistoricState",i=>i),sBe=(i=e4.historic,l)=>ppe.is(l)?l.payload:i,Sj=tBe(sBe),mpe=(i,l)=>{if(dpe.is(l)){let{historic:u,ahistoric:m}=l.payload,w=(i==null?void 0:i.ephemeral)||e4.ephemeral;return{$persistent:{historic:u,ahistoric:m},ephemeral:w}}else if(i){let{historic:u,ahistoric:m}=i.$persistent,{ephemeral:w}=i;if(hpe.is(l)){let E={historic:i.$persistent.historic.innerState,ahistoric:i.$persistent.ahistoric,ephemeral:i.ephemeral},M=l.payload(E);if(M===E)return i;u.innerState!==M.historic&&(u=Sj(u,ppe(M.historic))),m=M.ahistoric,w=M.ephemeral}else{let E=Sj(u,l);if(E===u)return i;u=E}return{$persistent:u===i.$persistent.historic&&m===i.$persistent.ahistoric?i.$persistent:{historic:u,ahistoric:m},ephemeral:w}}else{let u=Sj(void 0,{}),m=e4.ahistoric,w=e4.ephemeral;return{$persistent:{historic:u,ahistoric:m},ephemeral:w}}},gpe=C0("@history/pushTempAction",i=>i),vpe=C0("@history/discardTempAction",i=>i),ype=C0("@history/commitTempAction",i=>i),aBe=0,lBe=()=>{let i=aBe++;return{push:l=>gpe({id:i,originalAction:l}),discard:()=>vpe(i),commit:()=>ype(i)}},uBe=(i,l)=>{if(i){let{tempActions:u,permanent:m}=i.$temps,w;if(gpe.is(l))u=[...u,l];else if(ype.is(l)){let M=u.find(k=>k.payload.id===l.payload);M?(w=M.payload.originalAction,u=u.filter(k=>k.payload.id!==l.payload)):RD.error("Comitting temp action group ".concat(l.payload," isn't possible as this group doesn't exist"))}else vpe.is(l)?u=u.filter(M=>M.payload.id!==l.payload):w=l;w&&(m=mpe(i.$temps.permanent,w));let E={historic:m.$persistent.historic.innerState,ahistoric:m.$persistent.ahistoric,ephemeral:m.ephemeral};for(let M of u)E=M.payload.originalAction.payload(E);return D({$temps:{tempActions:u,permanent:m},$persistent:m.$persistent},E)}else{let u=mpe(void 0,l);return{$temps:{permanent:u,tempActions:[]},$persistent:u.$persistent,historic:u.$persistent.historic.innerState,ahistoric:u.$persistent.ahistoric,ephemeral:u.ephemeral}}};p0(),p0(),Iy();function _pe(i,l){if(typeof i!="object"||i===null)return;if(l.length===0){for(let M of Object.keys(i))delete i[M];return}let u=l.slice(0,l.length-1),m=i,w=new WeakMap;for(let M of u){let k=m,L=k[M];if(typeof L!="object"||L===null)return;w.set(L,k),m=L}let E=l.slice().reverse();for(let M of E){if(delete m[M],Object.keys(m).length>0)return;m=w.get(m)}}function cBe(i,{scale:l,origin:u,translate:m}){let w=u+(i-u)*l;return m+w}function gv(i){for(var l=arguments.length,u=Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];throw Error("[Immer] minified error nr: "+i+(u.length?" "+u.map(function(w){return"'"+w+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function RA(i){return!!i&&!!i[pm]}function NS(i){return!!i&&(function(l){if(!l||typeof l!="object")return!1;var u=Object.getPrototypeOf(l);if(u===null)return!0;var m=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return m===Object||typeof m=="function"&&Function.toString.call(m)===vBe}(i)||Array.isArray(i)||!!i[Ppe]||!!i.constructor[Ppe]||Ej(i)||Aj(i))}function hk(i,l,u){u===void 0&&(u=!1),OA(i)===0?(u?Object.keys:Lj)(i).forEach(function(m){u&&typeof m=="symbol"||l(m,i[m],i)}):i.forEach(function(m,w){return l(w,m,i)})}function OA(i){var l=i[pm];return l?l.i>3?l.i-4:l.i:Array.isArray(i)?1:Ej(i)?2:Aj(i)?3:0}function bj(i,l){return OA(i)===2?i.has(l):Object.prototype.hasOwnProperty.call(i,l)}function fBe(i,l){return OA(i)===2?i.get(l):i[l]}function wpe(i,l,u){var m=OA(i);m===2?i.set(l,u):m===3?(i.delete(l),i.add(u)):i[l]=u}function dBe(i,l){return i===l?i!==0||1/i==1/l:i!=i&&l!=l}function Ej(i){return mBe&&i instanceof Map}function Aj(i){return gBe&&i instanceof Set}function LS(i){return i.o||i.t}function Cj(i){if(Array.isArray(i))return Array.prototype.slice.call(i);var l=yBe(i);delete l[pm];for(var u=Lj(l),m=0;m<u.length;m++){var w=u[m],E=l[w];E.writable===!1&&(E.writable=!0,E.configurable=!0),(E.get||E.set)&&(l[w]={configurable:!0,writable:!0,enumerable:E.enumerable,value:i[w]})}return Object.create(Object.getPrototypeOf(i),l)}function Mj(i,l){return l===void 0&&(l=!1),Tj(i)||RA(i)||!NS(i)||(OA(i)>1&&(i.set=i.add=i.clear=i.delete=hBe),Object.freeze(i),l&&hk(i,function(u,m){return Mj(m,!0)},!0)),i}function hBe(){gv(2)}function Tj(i){return i==null||typeof i!="object"||Object.isFrozen(i)}function Hy(i){var l=_Be[i];return l||gv(18,i),l}function xpe(){return pk}function Pj(i,l){l&&(Hy("Patches"),i.u=[],i.s=[],i.v=l)}function t4(i){kj(i),i.p.forEach(pBe),i.p=null}function kj(i){i===pk&&(pk=i.l)}function Spe(i){return pk={p:[],l:pk,h:i,m:!0,_:0}}function pBe(i){var l=i[pm];l.i===0||l.i===1?l.j():l.O=!0}function Ij(i,l){l._=l.p.length;var u=l.p[0],m=i!==void 0&&i!==u;return l.h.g||Hy("ES5").S(l,i,m),m?(u[pm].P&&(t4(l),gv(4)),NS(i)&&(i=n4(l,i),l.l||r4(l,i)),l.u&&Hy("Patches").M(u[pm],i,l.u,l.s)):i=n4(l,u,[]),t4(l),l.u&&l.v(l.u,l.s),i!==Tpe?i:void 0}function n4(i,l,u){if(Tj(l))return l;var m=l[pm];if(!m)return hk(l,function(E,M){return bpe(i,m,l,E,M,u)},!0),l;if(m.A!==i)return l;if(!m.P)return r4(i,m.t,!0),m.t;if(!m.I){m.I=!0,m.A._--;var w=m.i===4||m.i===5?m.o=Cj(m.k):m.o;hk(m.i===3?new Set(w):w,function(E,M){return bpe(i,m,w,E,M,u)}),r4(i,w,!1),u&&i.u&&Hy("Patches").R(m,u,i.u,i.s)}return m.o}function bpe(i,l,u,m,w,E){if(RA(w)){var M=n4(i,w,E&&l&&l.i!==3&&!bj(l.D,m)?E.concat(m):void 0);if(wpe(u,m,M),!RA(M))return;i.m=!1}if(NS(w)&&!Tj(w)){if(!i.h.F&&i._<1)return;n4(i,w),l&&l.A.l||r4(i,w)}}function r4(i,l,u){u===void 0&&(u=!1),i.h.F&&i.m&&Mj(l,u)}function Rj(i,l){var u=i[pm];return(u?LS(u):i)[l]}function Epe(i,l){if(l in i)for(var u=Object.getPrototypeOf(i);u;){var m=Object.getOwnPropertyDescriptor(u,l);if(m)return m;u=Object.getPrototypeOf(u)}}function Oj(i){i.P||(i.P=!0,i.l&&Oj(i.l))}function Bj(i){i.o||(i.o=Cj(i.t))}function Dj(i,l,u){var m=Ej(l)?Hy("MapSet").N(l,u):Aj(l)?Hy("MapSet").T(l,u):i.g?function(w,E){var M=Array.isArray(w),k={i:M?1:0,A:E?E.A:xpe(),P:!1,I:!1,D:{},l:E,t:w,k:null,o:null,j:null,C:!1},L=k,U=o4;M&&(L=[k],U=s4);var q=Proxy.revocable(L,U),J=q.revoke,Q=q.proxy;return k.k=Q,k.j=J,Q}(l,u):Hy("ES5").J(l,u);return(u?u.A:xpe()).p.push(m),m}function i4(i){return RA(i)||gv(22,i),function l(u){if(!NS(u))return u;var m,w=u[pm],E=OA(u);if(w){if(!w.P&&(w.i<4||!Hy("ES5").K(w)))return w.t;w.I=!0,m=Ape(u,E),w.I=!1}else m=Ape(u,E);return hk(m,function(M,k){w&&fBe(w.t,M)===k||wpe(m,M,l(k))}),E===3?new Set(m):m}(i)}function Ape(i,l){switch(l){case 2:return new Map(i);case 3:return Array.from(i)}return Cj(i)}var Cpe,pk,Nj=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mBe=typeof Map<"u",gBe=typeof Set<"u",Mpe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Tpe=Nj?Symbol.for("immer-nothing"):((Cpe={})["immer-nothing"]=!0,Cpe),Ppe=Nj?Symbol.for("immer-draftable"):"__$immer_draftable",pm=Nj?Symbol.for("immer-state"):"__$immer_state",vBe=""+Object.prototype.constructor,Lj=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Object.getOwnPropertyNames,yBe=Object.getOwnPropertyDescriptors||function(i){var l={};return Lj(i).forEach(function(u){l[u]=Object.getOwnPropertyDescriptor(i,u)}),l},_Be={},o4={get:function(i,l){if(l===pm)return i;var u=LS(i);if(!bj(u,l))return function(w,E,M){var k,L=Epe(E,M);return L?"value"in L?L.value:(k=L.get)===null||k===void 0?void 0:k.call(w.k):void 0}(i,u,l);var m=u[l];return i.I||!NS(m)?m:m===Rj(i.t,l)?(Bj(i),i.o[l]=Dj(i.A.h,m,i)):m},has:function(i,l){return l in LS(i)},ownKeys:function(i){return Reflect.ownKeys(LS(i))},set:function(i,l,u){var m=Epe(LS(i),l);if(m!=null&&m.set)return m.set.call(i.k,u),!0;if(!i.P){var w=Rj(LS(i),l),E=w==null?void 0:w[pm];if(E&&E.t===u)return i.o[l]=u,i.D[l]=!1,!0;if(dBe(u,w)&&(u!==void 0||bj(i.t,l)))return!0;Bj(i),Oj(i)}return i.o[l]===u&&typeof u!="number"&&(u!==void 0||l in i.o)||(i.o[l]=u,i.D[l]=!0,!0)},deleteProperty:function(i,l){return Rj(i.t,l)!==void 0||l in i.t?(i.D[l]=!1,Bj(i),Oj(i)):delete i.D[l],i.o&&delete i.o[l],!0},getOwnPropertyDescriptor:function(i,l){var u=LS(i),m=Reflect.getOwnPropertyDescriptor(u,l);return m&&{writable:!0,configurable:i.i!==1||l!=="length",enumerable:m.enumerable,value:u[l]}},defineProperty:function(){gv(11)},getPrototypeOf:function(i){return Object.getPrototypeOf(i.t)},setPrototypeOf:function(){gv(12)}},s4={};hk(o4,function(i,l){s4[i]=function(){return arguments[0]=arguments[0][0],l.apply(this,arguments)}}),s4.deleteProperty=function(i,l){return o4.deleteProperty.call(this,i[0],l)},s4.set=function(i,l,u){return o4.set.call(this,i[0],l,u,i[0])};var wBe=function(){function i(u){var m=this;this.g=Mpe,this.F=!0,this.produce=function(w,E,M){if(typeof w=="function"&&typeof E!="function"){var k=E;E=w;var L=m;return function(W){var ee=this;W===void 0&&(W=k);for(var $=arguments.length,ie=Array($>1?$-1:0),se=1;se<$;se++)ie[se-1]=arguments[se];return L.produce(W,function(he){var xe;return(xe=E).call.apply(xe,[ee,he].concat(ie))})}}var U;if(typeof E!="function"&&gv(6),M!==void 0&&typeof M!="function"&&gv(7),NS(w)){var q=Spe(m),J=Dj(m,w,void 0),Q=!0;try{U=E(J),Q=!1}finally{Q?t4(q):kj(q)}return typeof Promise<"u"&&U instanceof Promise?U.then(function(W){return Pj(q,M),Ij(W,q)},function(W){throw t4(q),W}):(Pj(q,M),Ij(U,q))}if(!w||typeof w!="object")return(U=E(w))===Tpe?void 0:(U===void 0&&(U=w),m.F&&Mj(U,!0),U);gv(21,w)},this.produceWithPatches=function(w,E){return typeof w=="function"?function(L){for(var U=arguments.length,q=Array(U>1?U-1:0),J=1;J<U;J++)q[J-1]=arguments[J];return m.produceWithPatches(L,function(Q){return w.apply(void 0,[Q].concat(q))})}:[m.produce(w,E,function(L,U){M=L,k=U}),M,k];var M,k},typeof(u==null?void 0:u.useProxies)=="boolean"&&this.setUseProxies(u.useProxies),typeof(u==null?void 0:u.autoFreeze)=="boolean"&&this.setAutoFreeze(u.autoFreeze)}var l=i.prototype;return l.createDraft=function(u){NS(u)||gv(8),RA(u)&&(u=i4(u));var m=Spe(this),w=Dj(this,u,void 0);return w[pm].C=!0,kj(m),w},l.finishDraft=function(u,m){var w=u&&u[pm],E=w.A;return Pj(E,m),Ij(void 0,E)},l.setAutoFreeze=function(u){this.F=u},l.setUseProxies=function(u){u&&!Mpe&&gv(20),this.g=u},l.applyPatches=function(u,m){var w;for(w=m.length-1;w>=0;w--){var E=m[w];if(E.path.length===0&&E.op==="replace"){u=E.value;break}}var M=Hy("Patches").$;return RA(u)?M(u,m):this.produce(u,function(k){return M(k,m.slice(w+1))})},i}(),mm=new wBe;mm.produce,mm.produceWithPatches.bind(mm),mm.setAutoFreeze.bind(mm),mm.setUseProxies.bind(mm),mm.applyPatches.bind(mm);var Fj=mm.createDraft.bind(mm),zj=mm.finishDraft.bind(mm);vz(),k3(),Pz(),Ux(),W3(),kD(),Yl(),ln();var vv={create(i){let l={byId:{},allIds:{}};if(i)for(let[u,m]of i)l.byId[u]=m,l.allIds[u]=!0;return l},shallowCopy(i){return{byId:D({},i==null?void 0:i.byId),allIds:D({},i==null?void 0:i.allIds)}},add(i,l,u){return{byId:I(D({},i==null?void 0:i.byId),{[l]:u}),allIds:I(D({},i==null?void 0:i.allIds),{[l]:!0})}},merge(i){let l=vv.create();for(let u=0;u<i.length;u++)l.byId=D(D({},l.byId),i[u].byId),l.allIds=D(D({},l.allIds),i[u].allIds);return l},remove(i,l){let u=vv.shallowCopy(i);return delete u.allIds[l],delete u.byId[l],u},filter(i,l){let u=vv.shallowCopy(i);for(let[m,w]of Object.entries(u.byId))l(w)||(delete u.allIds[m],delete u.byId[m]);return u}},kpe=i=>(Uj=i,jj),Uj,dd=()=>{if(Uj===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return Uj},jj;(i=>{(l=>{(u=>{(m=>{function w(E){let M=dd().historic;M.panelPositions!=null||(M.panelPositions={}),M.panelPositions[E.panelId]=E.position}m.setPanelPosition=w})(u.panelPositions||(u.panelPositions={})),(m=>{function w(){var E;return(E=dd().historic).panels!=null||(E.panels={}),dd().historic.panels}m._ensure=w,(E=>{function M(){let k=i.studio.historic.panels._ensure();return k.outlinePanel!=null||(k.outlinePanel={}),k.outlinePanel}E._ensure=M,(k=>{function L(q){let J=[];for(let Q of Hd(q))dt(Q)?J.push(D({type:"Project"},Q.address)):qe(Q)?(J.push(D({type:"Sheet"},Q.template.address)),i.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(Q.address)):_t(Q)?J.push(D({type:"Sheet"},Q.address)):Qe(Q)?(J.push(D({type:"SheetObject"},Q.template.address)),i.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(Q.sheet.address)):zt(Q)&&J.push(D({type:"SheetObject"},Q.address));E._ensure().selection=J}k.set=L;function U(){E._ensure().selection=[]}k.unset=U})(E.selection||(E.selection={}))})(m.outline||(m.outline={})),(E=>{function M(){let k=i.studio.historic.panels._ensure();return k.sequenceEditor!=null||(k.sequenceEditor={}),k.sequenceEditor}E._ensure=M,(k=>{function L(){let q=E._ensure();return q.graphEditor!=null||(q.graphEditor={height:.5,isOpen:!1}),q.graphEditor}function U(q){L().isOpen=q.isOpen}k.setIsOpen=U})(E.graphEditor||(E.graphEditor={}))})(m.sequenceEditor||(m.sequenceEditor={}))})(u.panels||(u.panels={})),(m=>{(w=>{function E(M){let k=dd().historic;return k.projects.stateByProjectId[M.projectId]||(k.projects.stateByProjectId[M.projectId]={stateBySheetId:{}}),k.projects.stateByProjectId[M.projectId]}w._ensure=E,(M=>{function k(U){let q=i.studio.historic.projects.stateByProjectId._ensure(U);return q.stateBySheetId[U.sheetId]||(q.stateBySheetId[U.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),q.stateBySheetId[U.sheetId]}M._ensure=k;function L(U){i.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(U).selectedInstanceId=U.sheetInstanceId}M.setSelectedInstanceId=L,(U=>{function q(ie){let{selectedPropsByObject:se}=M._ensure(ie).sequenceEditor;se[ie.objectKey]||(se[ie.objectKey]={});let he=se[ie.objectKey],xe=h0(ie.pathToProp),Be=new Set(Object.keys(nk));for(let[He,vt]of Object.entries(i4(se)))for(let[lt,ht]of Object.entries(vt))Be.delete(ht);let Oe=Be.size>0?Be.values().next().value:Object.keys(nk)[0];he[xe]=Oe}U.addPropToGraphEditor=q;function J(ie){let{selectedPropsByObject:se}=M._ensure(ie).sequenceEditor;if(!se[ie.objectKey])return;let he=se[ie.objectKey],xe=h0(ie.pathToProp);he[xe]&&_pe(se,[ie.objectKey,xe])}U.removePropFromGraphEditor=J;function Q(ie){let se=i.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(ie).sequenceEditor;return se.markerSet||(se.markerSet=vv.create()),se.markerSet}function W(ie){let se=Q(ie.sheetAddress),he=ie.markers.filter(He=>!!isFinite(He.position)).map(He=>I(D({},He),{position:ie.snappingFunction(He.position)})),xe=Nh(he,"id"),Be=vv.filter(se,He=>He&&!xe[He.id]),Oe=Nh(Object.values(Be.byId),"position");he.forEach(({position:He})=>{let vt=Oe[He];vt&&(Be=vv.remove(Be,vt.id))}),Object.assign(se,vv.merge([Be,vv.create(he.map(He=>[He.id,He]))]))}U.replaceMarkers=W;function ee(ie){let se=Q(ie.sheetAddress);Object.assign(se,vv.remove(se,ie.markerId))}U.removeMarker=ee;function $(ie){let se=Q(ie.sheetAddress).byId[ie.markerId];se!==void 0&&(se.label=ie.label)}U.updateMarker=$})(M.sequenceEditor||(M.sequenceEditor={}))})(w.stateBySheetId||(w.stateBySheetId={}))})(m.stateByProjectId||(m.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.historic||(l.historic={})),(u=>{function m(w){dd().ephemeral.showOutline=w}u.setShowOutline=m,(w=>{(E=>{function M(k){let L=dd().ephemeral;return L.projects.stateByProjectId[k.projectId]||(L.projects.stateByProjectId[k.projectId]={stateBySheetId:{}}),L.projects.stateByProjectId[k.projectId]}E._ensure=M,(k=>{function L(U){let q=i.studio.ephemeral.projects.stateByProjectId._ensure(U);return q.stateBySheetId[U.sheetId]||(q.stateBySheetId[U.sheetId]={stateByObjectKey:{}}),q.stateBySheetId[U.sheetId]}k._ensure=L,(U=>{function q(J){var Q;let W=i.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(J).stateByObjectKey;return W[Q=J.objectKey]!=null||(W[Q]={}),W[J.objectKey]}U._ensure=q,(J=>{function Q(ee){let $=i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(ee);return $.valuesBeingScrubbed!=null||($.valuesBeingScrubbed={}),$.valuesBeingScrubbed}J._ensure=Q;function W(ee){dy(Q(ee),ee.pathToProp,!0)}J.flag=W})(U.propsBeingScrubbed||(U.propsBeingScrubbed={}))})(k.stateByObjectKey||(k.stateByObjectKey={}))})(E.stateBySheetId||(E.stateBySheetId={}))})(w.stateByProjectId||(w.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.ephemeral||(l.ephemeral={})),(u=>{function m(L){dd().ahistoric.pinOutline=L}u.setPinOutline=m;function w(L){dd().ahistoric.pinDetails=L}u.setPinDetails=w;function E(L){dd().ahistoric.pinNotifications=L}u.setPinNotifications=E;function M(L){dd().ahistoric.visibilityState=L}u.setVisibilityState=M;function k(L){let U=GB(L.map(Q=>Q.pathToProp)),q=L.map(({keyframe:Q,pathToProp:W})=>({keyframe:Q,pathToProp:W.slice(U.length)})),J=dd();J.ahistoric.clipboard?J.ahistoric.clipboard.keyframesWithRelativePaths=q:J.ahistoric.clipboard={keyframesWithRelativePaths:q}}u.setClipboardKeyframes=k,(L=>{(U=>{function q(J){let Q=dd().ahistoric;return Q.projects.stateByProjectId[J.projectId]||(Q.projects.stateByProjectId[J.projectId]={stateBySheetId:{}}),Q.projects.stateByProjectId[J.projectId]}U._ensure=q,(J=>{function Q(ee){let $=i.studio.ahistoric.projects.stateByProjectId._ensure(ee);return $.collapsedItemsInOutline||($.collapsedItemsInOutline={}),$.collapsedItemsInOutline}J._ensure=Q;function W(ee){let $=i.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(ee);ee.isCollapsed?$[ee.itemKey]=!0:delete $[ee.itemKey]}J.set=W})(U.collapsedItemsInOutline||(U.collapsedItemsInOutline={})),(J=>{function Q(W){let ee=i.studio.ahistoric.projects.stateByProjectId._ensure(W);return ee.stateBySheetId[W.sheetId]||(ee.stateBySheetId[W.sheetId]={}),ee.stateBySheetId[W.sheetId]}J._ensure=Q,(W=>{function ee($){let ie=i.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure($);return ie.sequence||(ie.sequence={}),ie.sequence}W._ensure=ee,($=>{function ie(he){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(he).focusRange={range:he.range,enabled:he.enabled}}$.set=ie;function se(he){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(he).focusRange=void 0}$.unset=se})(W.focusRange||(W.focusRange={})),($=>{function ie(se){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(se).clippedSpaceRange=D({},se.range)}$.set=ie})(W.clippedSpaceRange||(W.clippedSpaceRange={})),($=>{function ie(he){let xe=i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(he),Be=xe.collapsableItems;return Be||(Be=xe.collapsableItems=vv.create()),Be}function se(he){let xe=ie(he);Object.assign(xe,vv.add(xe,he.studioSheetItemKey,{isCollapsed:he.isCollapsed}))}$.set=se})(W.sequenceEditorCollapsableItems||(W.sequenceEditorCollapsableItems={}))})(J.sequence||(J.sequence={}))})(U.stateBySheetId||(U.stateBySheetId={}))})(L.stateByProjectId||(L.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.ahistoric||(l.ahistoric={}))})(i.studio||(i.studio={})),(l=>{(u=>{(m=>{function w(E){let M=dd().historic.coreByProject[E.projectId].revisionHistory,k=50;M.unshift(E.revision),M.length>k&&(M.length=k)}m.add=w})(u.revisionHistory||(u.revisionHistory={})),(m=>{function w(k){let L=dd().historic.coreByProject[k.projectId].sheetsById;return L[k.sheetId]||(L[k.sheetId]={staticOverrides:{byObject:{}}}),L[k.sheetId]}m._ensure=w;function E(k){let L=dd().historic.coreByProject[k.projectId].sheetsById[k.sheetId];if(!L)return;delete L.staticOverrides.byObject[k.objectKey];let U=L.sequence;U&&delete U.tracksByObject[k.objectKey]}m.forgetObject=E;function M(k){dd().historic.coreByProject[k.projectId].sheetsById[k.sheetId]&&delete dd().historic.coreByProject[k.projectId].sheetsById[k.sheetId]}m.forgetSheet=M,(k=>{function L(lt){let ht=i.coreByProject.historic.sheetsById._ensure(lt);return ht.sequence!=null||(ht.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),ht.sequence}k._ensure=L;function U(lt){L(lt).length=Kn(parseFloat(lt.length.toFixed(2)),.01,1/0)}k.setLength=U;function q(lt){var ht;let It=i.coreByProject.historic.sheetsById.sequence._ensure(lt).tracksByObject;return It[ht=lt.objectKey]!=null||(It[ht]={trackData:{},trackIdByPropPath:{}}),It[lt.objectKey]}function J(lt,ht){let It=q(lt),_n=h0(lt.pathToProp);if(typeof It.trackIdByPropPath[_n]=="string")return;let We=Ake(),kt={type:"BasicKeyframedTrack",__debugName:"".concat(lt.objectKey,":").concat(_n),keyframes:[]};It.trackData[We]=kt,It.trackIdByPropPath[_n]=We}k.setPrimitivePropAsSequenced=J;function Q(lt){let ht=q(lt),It=h0(lt.pathToProp),_n=ht.trackIdByPropPath[It];typeof _n=="string"&&(delete ht.trackIdByPropPath[It],delete ht.trackData[_n],i.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(lt))}k.setPrimitivePropAsStatic=Q;function W(lt){let ht=q(lt);for(let It of Object.keys(ht.trackIdByPropPath)){let _n=JSON.parse(It);if(lt.pathToProp.every((We,kt)=>_n[kt]===We)){let We=ht.trackIdByPropPath[It];if(typeof We!="string")continue;delete ht.trackIdByPropPath[It],delete ht.trackData[We]}}i.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(lt)}k.setCompoundPropAsStatic=W;function ee(lt){return q(lt).trackData[lt.trackId]}function $(lt){let ht=ee(lt);if(ht)return ht.keyframes.find(It=>It.id===lt.keyframeId)}function ie(lt){let ht=lt.snappingFunction(lt.position),It=ee(lt);if(!It)return;let{keyframes:_n}=It,We=_n.findIndex(Ht=>Ht.position===ht);if(We!==-1){let Ht=_n[We];Ht.value=lt.value;return}let kt=A3(_n,Ht=>Ht.position<ht);if(kt===-1){_n.unshift({id:Iee(),position:ht,connectedRight:!0,handles:lt.handles||[.5,1,.5,0],type:lt.type||"bezier",value:lt.value});return}let Ee=_n[kt];_n.splice(kt+1,0,{id:Iee(),position:ht,connectedRight:Ee.connectedRight,handles:lt.handles||[.5,1,.5,0],type:lt.type||"bezier",value:lt.value})}k.setKeyframeAtPosition=ie;function se(lt){let ht=ee(lt);if(!ht)return;let{keyframes:It}=ht,_n=It.findIndex(We=>We.position===lt.position);_n!==-1&&It.splice(_n,1)}k.unsetKeyframeAtPosition=se;function he(lt){let ht=ee(lt);if(!ht)return;let It=i4(ht.keyframes).filter(_n=>lt.keyframeIds.includes(_n.id)).map(_n=>{let We=_n.position,kt=lt.snappingFunction(cBe(We,lt));return I(D({},_n),{position:kt})});vt(I(D({},lt),{keyframes:It}))}k.transformKeyframes=he;function xe(lt){let ht=ee(lt);ht&&(ht.keyframes=ht.keyframes.map((It,_n)=>{let We=ht.keyframes[_n-1],kt=lt.keyframeIds.includes(It.id),Ee=lt.keyframeIds.includes(We==null?void 0:We.id);return kt&&!Ee?I(D({},It),{handles:[It.handles[0],It.handles[1],lt.handles[0],lt.handles[1]]}):kt&&Ee?I(D({},It),{handles:[lt.handles[2],lt.handles[3],lt.handles[0],lt.handles[1]]}):Ee?I(D({},It),{handles:[lt.handles[2],lt.handles[3],It.handles[2],It.handles[3]]}):It}))}k.setTweenBetweenKeyframes=xe;function Be(lt){var ht,It,_n,We,kt,Ee,Ht,cr;let bt=$(lt);bt&&(bt.handles=[(It=(ht=lt.end)==null?void 0:ht[0])!=null?It:bt.handles[0],(We=(_n=lt.end)==null?void 0:_n[1])!=null?We:bt.handles[1],(Ee=(kt=lt.start)==null?void 0:kt[0])!=null?Ee:bt.handles[2],(cr=(Ht=lt.start)==null?void 0:Ht[1])!=null?cr:bt.handles[3]])}k.setHandlesForKeyframe=Be;function Oe(lt){let ht=ee(lt);ht&&(ht.keyframes=ht.keyframes.filter(It=>lt.keyframeIds.indexOf(It.id)===-1))}k.deleteKeyframes=Oe;function He(lt){let ht=$(lt);ht&&(ht.type=lt.keyframeType)}k.setKeyframeType=He;function vt(lt){let ht=ee(lt);if(!ht)return;let It=i4(ht.keyframes),_n=lt.keyframes.filter(cr=>!(typeof cr.value=="number"&&!isFinite(cr.value)||!cr.handles.every(bt=>isFinite(bt)))).map(cr=>I(D({},cr),{position:lt.snappingFunction(cr.position)})),We=Nh(_n,"id"),kt=It.filter(cr=>!We[cr.id]),Ee=Nh(kt,"position");_n.forEach(({position:cr})=>{let bt=Ee[cr];bt&&CE(kt,bt)});let Ht=jx([...kt,..._n],"position");ht.keyframes=Ht}k.replaceKeyframes=vt})(m.sequence||(m.sequence={})),(k=>{(L=>{function U(W){var ee;let $=i.coreByProject.historic.sheetsById._ensure(W).staticOverrides.byObject;return $[ee=W.objectKey]!=null||($[ee]={}),$[W.objectKey]}function q(W){let ee=U(W);dy(ee,W.pathToProp,W.value)}L.setValueOfCompoundProp=q;function J(W){let ee=U(W);dy(ee,W.pathToProp,W.value)}L.setValueOfPrimitiveProp=J;function Q(W){let ee=i.coreByProject.historic.sheetsById._ensure(W).staticOverrides.byObject[W.objectKey];ee&&_pe(ee,W.pathToProp)}L.unsetValueOfPrimitiveProp=Q})(k.byObject||(k.byObject={}))})(m.staticOverrides||(m.staticOverrides={}))})(u.sheetsById||(u.sheetsById={}))})(l.historic||(l.historic={}))})(i.coreByProject||(i.coreByProject={}))})(jj||(jj={}));function Hj(){let i,l,u=new Promise((w,E)=>{i=M=>{w(M),m.status="resolved"},l=M=>{E(M),m.status="rejected"}}),m={resolve:i,reject:l,promise:u,status:"pending"};return m}var xBe=tr;function SBe(i){let l=i.getState(),u=new xBe.Atom(l);return i.subscribe(()=>{let m=i.getState();u.set(m),l=m}),u}f();function bBe(i){var l,u=i.Symbol;return typeof u=="function"?u.observable?l=u.observable:(l=u("observable"),u.observable=l):l="@@observable",l}var mk;typeof self<"u"?mk=self:typeof window<"u"?mk=window:typeof eu<"u"?mk=eu:mk=n;var EBe=bBe(mk),Ipe=EBe,Rpe={INIT:"@@redux/INIT"};function Ope(i,l,u){var m;if(typeof l=="function"&&typeof u>"u"&&(u=l,l=void 0),typeof u<"u"){if(typeof u!="function")throw new Error("Expected the enhancer to be a function.");return u(Ope)(i,l)}if(typeof i!="function")throw new Error("Expected the reducer to be a function.");var w=i,E=l,M=[],k=M,L=!1;function U(){k===M&&(k=M.slice())}function q(){return E}function J($){if(typeof $!="function")throw new Error("Expected listener to be a function.");var ie=!0;return U(),k.push($),function(){if(ie){ie=!1,U();var se=k.indexOf($);k.splice(se,1)}}}function Q($){if(!a($))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof $.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(L)throw new Error("Reducers may not dispatch actions.");try{L=!0,E=w(E,$)}finally{L=!1}for(var ie=M=k,se=0;se<ie.length;se++){var he=ie[se];he()}return $}function W($){if(typeof $!="function")throw new Error("Expected the nextReducer to be a function.");w=$,Q({type:Rpe.INIT})}function ee(){var $,ie=J;return $={subscribe:function(se){if(typeof se!="object")throw new TypeError("Expected the observer to be an object.");function he(){se.next&&se.next(q())}he();var xe=ie(he);return{unsubscribe:xe}}},$[Ipe]=function(){return this},$}return Q({type:Rpe.INIT}),m={dispatch:Q,subscribe:J,getState:q,replaceReducer:W},m[Ipe]=ee,m}function ABe(){for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length===0?function(m){return m}:l.length===1?l[0]:l.reduce(function(m,w){return function(){return m(w.apply(void 0,arguments))}})}function CBe(i){let l=ABe();return Ope(i.rootReducer,void 0,l)}OD(),mT();var Gj=new WeakMap,MBe=(i,l,u)=>{let m=L=>{i.dispatch(IA.replacePersistentState(L))},w=Bpe(u),E=()=>i.getState().$persistent;k();let M=()=>{let L=E(),U=Gj.get(i);L!==U&&(Gj.set(i,L),localStorage.setItem(w,JSON.stringify(L)))};i.subscribe(bE(M,1e3)),window&&window.addEventListener("beforeunload",M);function k(){let L=localStorage.getItem(w);if(L){let U,q=!0;try{U=JSON.parse(L),q=!1}catch{RD.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{q||m(U),l()}}else l()}},TBe=(i,l)=>{let u=Bpe(l),m=i.getState().$persistent;localStorage.removeItem(u),Gj.set(i,m)};function Bpe(i){return i+".persistent"}jte(),ln(),Mf(),_e(),dB();var a4=tr;S_(),Yl(),Cde();function Vj(i){if(typeof i=="boolean"||typeof i=="string"||typeof i=="number")return i;if(a(i)){let l={},u=!1;for(let[m,w]of Object.entries(i))Vj(w)!==void 0&&(l[m]=w,u=!0);if(u)return l}else return}function Dpe(i,l,u){for(let[m,w]of Object.entries(i.props))if(w.type==="compound")Dpe(w,[...l,m],u);else{if(w.type==="enum")throw new Error("Not yet implemented");u(w,[...l,m])}}function PBe(i,l,u){return{set:(m,w)=>{i();let E=Vj(w);if(typeof E>"u")return;let{root:M,path:k}=(0,a4.getPointerParts)(m);if(Qe(M)){let L=M.template.getMapOfValidSequenceTracks_forStudio().getValue(),U=aB(M.template.staticConfig,k);if(!U)throw new Error("Object ".concat(M.address.objectKey," does not have a prop at ").concat(JSON.stringify(k)));let q=(J,Q,W)=>{if(J==null)return;if(Vj(Q.deserializeAndSanitize(J))===void 0)throw new Error("Invalid value ".concat(ej(J)," for object.props").concat(W.map(ie=>"[".concat(JSON.stringify(ie),"]")).join("")," is invalid"));let ee=I(D({},M.address),{pathToProp:W}),$=Zf(L,W);if(typeof $=="string"){let ie=M.sheet.getSequence();ie.position=ie.closestGridPosition(ie.position),l.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(I(D({},ee),{trackId:$,position:ie.position,value:J,snappingFunction:ie.closestGridPosition,type:"bezier"}))}else l.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(I(D({},ee),{value:J}))};if(U.type==="compound"){let J=(0,a4.getPointerParts)(m).path,Q=J.length;Dpe(U,J,(W,ee)=>{let $=ee.slice(Q),ie=E_(E,$);if(typeof ie<"u")q(ie,W,ee);else throw new Error("Property object.props".concat(ee.map(se=>"[".concat(JSON.stringify(se),"]")).join("")," is required but not provided"))})}else{if(U.type==="enum")throw new Error("Enums aren't implemented yet");q(E,U,k)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:m=>{i();let{root:w,path:E}=(0,a4.getPointerParts)(m);if(Qe(w)){let M=w.template.getMapOfValidSequenceTracks_forStudio().getValue(),k=E_(w.template.getDefaultValues().getValue(),E),L=aB(w.template.staticConfig,E),U=(q,J)=>{let Q=I(D({},w.address),{pathToProp:J}),W=Zf(M,J);typeof W=="string"?l.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(I(D({},Q),{trackId:W,position:w.sheet.getSequence().positionSnappedToGrid})):L!==void 0&&l.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(Q)};L.type==="compound"?de(k,(q,J)=>{U(q,J)},(0,a4.getPointerParts)(m).path):U(k,E)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return i(),u},get stateEditors(){return l}}}var kBe=class{constructor(){Le(this,"_reduxStore"),Le(this,"_atom"),Le(this,"atomP"),this._reduxStore=CBe({rootReducer:uBe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=SBe(this._reduxStore),this.atomP=this._atom.pointer}initialize(i){let l=Hj();return i.usePersistentStorage===!0?MBe(this._reduxStore,()=>{this.tempTransaction(({drafts:u})=>{u.ephemeral.initialised=!0}).commit(),l.resolve()},i.persistenceKey):(this.tempTransaction(({drafts:u})=>{u.ephemeral.initialised=!0}).commit(),l.resolve()),l.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(i){return TBe(this._reduxStore,i),this.getState()}__dev_startHistoryFromScratch(i){this._reduxStore.dispatch(IA.historic.startHistoryFromScratch(IA.reduceParts(l=>I(D({},l),{historic:i}))))}tempTransaction(i){let l=lBe(),u,m=l.push(IA.reduceParts(w=>{let E={historic:Fj(w.historic),ahistoric:Fj(w.ahistoric),ephemeral:Fj(w.ephemeral)},M=!0,k=()=>{if(!M)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},L=kpe(E),U=PBe(k,L,E);try{return i(U),M=!1,{historic:zj(E.historic),ahistoric:zj(E.ahistoric),ephemeral:zj(E.ephemeral)}}catch(q){return u=q,w}finally{kpe(void 0)}}));if(this._reduxStore.dispatch(m),u)throw this._reduxStore.dispatch(l.discard()),u;return{commit:()=>{this._reduxStore.dispatch(l.commit())},discard:()=>{this._reduxStore.dispatch(l.discard())}}}undo(){this._reduxStore.dispatch(IA.historic.undo())}redo(){this._reduxStore.dispatch(IA.historic.redo())}createContentOfSaveFile(i){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[i])throw new Error("Project ".concat(i," has not been initialized."));let l=Ute();this.tempTransaction(({stateEditors:m})=>{m.coreByProject.historic.revisionHistory.add({projectId:i,revision:l})}).commit();let u=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[i];return D({},u)}},IBe=tr,Wj=class{constructor(){Le(this,"_values",{})}get(i,l){if(this.has(i))return this._values[i];{let u=l();return this._values[i]=u,u}}has(i){return this._values.hasOwnProperty(i)}};ln(),y_(),Ye(),Yl(),Q9();var RBe=class{constructor(i){Le(this,"ui",{hide(){be().ui.hide()},get isHidden(){return be().ui.isHidden},restore(){be().ui.restore()},renderToolset(l,u){return be().ui.renderToolset(l,u)}}),Le(this,"_cache",new Wj),Le(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){L3e()},__experimental_enablePlayPauseKeyboardShortcut(){F3e()},__experimental_clearPersistentStorage(l){return be().clearPersistentStorage(l)},__experimental_createContentOfSaveFileTyped(l){return be().createContentOfSaveFile(l)}})}initialize(i){return be().initialize(i)}extend(i,l){be().extend(i,l)}transaction(i){return be().transaction(({set:l,unset:u,stateEditors:m})=>i({set:l,unset:u,__experimental_forgetObject:w=>{if(!Kt(w))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");m.coreByProject.historic.sheetsById.forgetObject(w.address)},__experimental_forgetSheet:w=>{if(!Lt(w))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");m.coreByProject.historic.sheetsById.forgetSheet(w.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,IBe.prism)(()=>v_().filter(i=>i.type==="Theatre_SheetObject"||i.type==="Theatre_Sheet").map(i=>i.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(i){let l=[...i].filter(u=>Kt(u)||Lt(u)).map(u=>be().corePrivateAPI(u));be().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set(l)})}onSelectionChange(i){let l=be();return this._getSelectionPrism().onChange(l.ticker,i,!0)}get selection(){return this._getSelection()}scrub(){return be().scrub()}getStudioProject(){let i=be().core;if(!i)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return be().getStudioProject(i)}debouncedScrub(i=1e3){let l,u=bE(()=>{let m=l;m&&(l=void 0,m.commit())},i);return{capture:m=>{l||(l=this.scrub());let w=!0;try{l.capture(m),w=!1}finally{if(w){let E=l;l=void 0,E.discard()}else u()}}}}createPane(i){return be().paneManager.createPane(i)}destroyPane(i){return be().paneManager.destroyPane(i)}createContentOfSaveFile(i){return be().createContentOfSaveFile(i)}};kee();var FS=tr,OBe=class{constructor(i){this._studio=i,Le(this,"_cache",new Wj),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let i=this._getAllPanes();i.onStale(()=>{i.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,FS.prism)(()=>{if(!(0,FS.val)(this._studio.coreP))return{};let i=(0,FS.val)(this._studio.atomP.historic.panelInstanceDesceriptors),l=(0,FS.val)(this._studio.atomP.ephemeral.extensions.paneClasses),u={};for(let m of Object.values(i)){if(!m)continue;let w=l[m.paneClass];if(!w)continue;let{instanceId:E}=m,{extensionId:M,classDefinition:k}=w,L=FS.prism.memo("instance-".concat(m.instanceId),()=>({extensionId:M,instanceId:E,definition:k}),[k]);u[E]=L}return u}))}get allPanesD(){return this._getAllPanes()}createPane(i){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let l=(0,FS.val)(this._studio.atomP.ephemeral.extensions.paneClasses[i].extensionId),u=(0,FS.val)(this._studio.atomP.historic.panelInstanceDesceriptors),m;for(let w=1;w<1e3&&(m="".concat(i," #").concat(w),!!u[m]);w++);if(!l)throw new Error('Pane class "'.concat(i,'" is not registered.'));return this._studio.transaction(({drafts:w})=>{w.historic.panelInstanceDesceriptors[m]={instanceId:m,paneClass:i}}),this._getAllPanes().getValue()[m]}destroyPane(i){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:l})=>{delete l.historic.panelInstanceDesceriptors[i]})}},l4=tr;Ye();var Npe=30*60*1e3,BBe=1e3*60*60;function DBe(){return fe(this,null,function*(){let i=be().atomP.ahistoric.visibilityState;if((0,l4.val)(i)==="everythingIsVisible")return;let l=Hj(),u=(0,l4.pointerToPrism)(i).onStale(()=>{(0,l4.val)(i)==="everythingIsVisible"&&(u(),l.resolve(void 0))});return l.promise})}function NBe(){return fe(this,null,function*(){if(!"0.7.0".match(/COMPAT/))for(yield u4(500),yield DBe();;){let i=(0,l4.val)(be().atomP.ahistoric.updateChecker);if(i&&i.result!=="error"){let l=i.lastChecked,u=Date.now(),m=Math.abs(u-l);m<Npe&&(yield u4(Npe-m))}try{let l=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));if(l.ok){let u=yield l.json();if(!LBe(u))throw new Error("Bad response");be().transaction(({drafts:m})=>{m.ahistoric.updateChecker={lastChecked:Date.now(),result:D({},u)}}),yield u4(1e3)}else throw new Error("HTTP Error ".concat(l.statusText))}catch{yield u4(BBe)}}})}var u4=i=>new Promise(l=>setTimeout(l,i));function LBe(i){if(typeof i!="object")return!1;let l=i;return typeof l.hasUpdates!="boolean"?!1:l.hasUpdates===!0&&typeof l.newVersion=="string"&&typeof l.releasePage=="string"||l.hasUpdates===!1}var FBe=Z(nO());function Gy(i){return new Promise((l,u)=>{i.oncomplete=i.onsuccess=()=>l(i.result),i.onabort=i.onerror=()=>u(i.error)})}function Lpe(i,l){let u=indexedDB.open(i);u.onupgradeneeded=()=>u.result.createObjectStore(l);let m=Gy(u);return(w,E)=>m.then(M=>E(M.transaction(l,w).objectStore(l)))}var Xj;function BA(){return Xj||(Xj=Lpe("keyval-store","keyval")),Xj}function zBe(i,l=BA()){return l("readonly",u=>Gy(u.get(i)))}function UBe(i,l,u=BA()){return u("readwrite",m=>(m.put(l,i),Gy(m.transaction)))}function jBe(i,l=BA()){return l("readwrite",u=>(u.delete(i),Gy(u.transaction)))}function Kj(i,l){return i.openCursor().onsuccess=function(){this.result&&(l(this.result),this.result.continue())},Gy(i.transaction)}function HBe(i=BA()){return i("readonly",l=>{if(l.getAllKeys)return Gy(l.getAllKeys());let u=[];return Kj(l,m=>u.push(m.key)).then(()=>u)})}function GBe(i=BA()){return i("readonly",l=>{if(l.getAll)return Gy(l.getAll());let u=[];return Kj(l,m=>u.push(m.value)).then(()=>u)})}function VBe(i=BA()){return i("readonly",l=>{if(l.getAll&&l.getAllKeys)return Promise.all([Gy(l.getAllKeys()),Gy(l.getAll())]).then(([m,w])=>m.map((E,M)=>[E,w[M]]));let u=[];return i("readonly",m=>Kj(m,w=>u.push([w.key,w.value])).then(()=>u))})}var WBe=i=>{let l=Lpe("theatrejs-".concat(i),"default-store");return{set:(u,m)=>UBe(u,m,l),get:u=>zBe(u,l),del:u=>jBe(u,l),keys:()=>HBe(l),entries:()=>VBe(l),values:()=>GBe(l)}};fre(),LP();var Fpe="theatre-0.4",XBe=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,KBe="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",YBe=class{constructor(){Le(this,"ui"),Le(this,"publicApi"),Le(this,"address"),Le(this,"_projectsProxy",new JD.PointerProxy(new JD.Atom({}).pointer)),Le(this,"projectsP",this._projectsProxy.pointer),Le(this,"_store",new kBe),Le(this,"_corePrivateApi"),Le(this,"_cache",new Wj),Le(this,"paneManager"),Le(this,"_coreAtom",new JD.Atom({})),Le(this,"_initializedDeferred",Hj()),Le(this,"_initializeFnCalled",!1),Le(this,"_didWarnAboutNotInitializing",!1),Le(this,"_coreBits"),Le(this,"_rafDriver"),this.address={studioId:EP(10)},this.publicApi=new RBe(this),this.ui=new jOe(this),this._attachToIncomingProjects(),this.paneManager=new OBe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(XBe),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(i){return fe(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(KBe);let l={persistenceKey:Fpe,usePersistentStorage:!0};if(typeof(i==null?void 0:i.persistenceKey)=="string"&&(l.persistenceKey=i.persistenceKey),((i==null?void 0:i.usePersistentStorage)===!1||typeof window>"u")&&(l.usePersistentStorage=!1),i!=null&&i.__experimental_rafDriver){if(i.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let u=this._coreBits.privateAPI(i.__experimental_rafDriver);if(!u)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=u}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(l)}catch(u){this._initializedDeferred.reject(u);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),NBe().catch(u=>{console.error(u)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let i=(0,JD.pointerToPrism)(this.projectsP),l=u=>{for(let m of Object.values(u))m.isAttachedToStudio||m.attachToStudio(this)};i.onStale(()=>{l(i.getValue())}),l(i.getValue())}setCoreBits(i){this._coreBits=i,this._corePrivateApi=i.privateAPI,this._coreAtom.setByPointer(l=>l.core,i.coreExports),this._setProjectsP(i.projectsP)}_setProjectsP(i){this._projectsProxy.setPointer(i)}scrub(){return new zOe(this)}tempTransaction(i){return this._store.tempTransaction(i)}transaction(i){return this.tempTransaction(i).commit()}__dev_startHistoryFromScratch(i){return this._store.__dev_startHistoryFromScratch(i)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(i,l){if(!i||typeof i!="object")throw new Error("Extensions must be JS objects");if(typeof i.id!="string")throw new Error("extension.id must be a string");let u=(l==null?void 0:l.__experimental_reconfigure)===!0,m=i.id,w=this._store.getState().ephemeral.extensions.byId[m];if(w&&!u){if(i===w||(0,FBe.default)(i,w))return;throw new Error('Extension id "'.concat(i.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:E})=>{var M,k;E.ephemeral.extensions.byId[i.id]=i;let L=E.ephemeral.extensions.paneClasses;u&&w&&((M=w.panes)==null||M.forEach(U=>{delete L[U.class]})),(k=i.panes)==null||k.forEach(U=>{if(typeof U.class!="string")throw new Error("pane.class must be a string");if(U.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let q=L[U.class];if(q)if(u&&q.extensionId===i.id)console.warn('Pane class "'.concat(U.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(U.class,'" already exists and is supplied by extension ').concat(q));L[U.class]={extensionId:i.id,classDefinition:U}})})}getStudioProject(i){return this._cache.get("getStudioProject",()=>i.getProject("Studio"))}getExtensionSheet(i,l){return this._cache.get("extensionSheet-"+i,()=>this.getStudioProject(l).sheet("Extension "+i))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(i){return this._store.createContentOfSaveFile(i)}createAssetStorage(i,l){return fe(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:U=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:U=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let u=WBe("".concat(i.address.projectId,"-assets")),m=iU(i),w=yield u.keys();yield Promise.all(w.map(U=>fe(this,null,function*(){m.includes(U)||(yield u.del(U))}))),yield Promise.all(w.map(U=>fe(this,null,function*(){var q,J;let Q="".concat(l,"/").concat(U);try{(yield fetch(Q,{method:"HEAD"})).ok&&(yield u.del(U))}catch{NP.error("Failed to access assets","Failed to access assets at ".concat((J=(q=i.config.assets)==null?void 0:q.baseUrl)!=null?J:"/",". This is likely due to a CORS issue."))}})));let E=new Map(yield u.entries()),M=new Map,k=U=>{if(M.has(U))return M.get(U);{let q=URL.createObjectURL(U);return M.set(U,q),q}},L=U=>{let q=E.get(U);if(!q)throw new Error("Asset with id ".concat(U," not found"));return k(q)};return{getAssetUrl:U=>E.has(U)?L(U):"".concat(l,"/").concat(U),createAsset:U=>fe(this,null,function*(){var q,J,Q;let W=iU(i),ee=!1;if(W.includes(U.name)){let $;try{$=(q=E.get(U.name))!=null?q:yield fetch("".concat(l,"/").concat(U.name)).then(ie=>ie.ok?ie.blob():void 0)}catch{return NP.error("Failed to access assets","Failed to access assets at ".concat((Q=(J=i.config.assets)==null?void 0:J.baseUrl)!=null?Q:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if($){if(ee=yield(yield Promise.resolve().then(()=>Z(LOe()))).default.isEqual(U,$),ee)return U.name;{let ie=se=>{let he=prompt(se,U.name);return he===null?!1:he===""?ie("Asset name cannot be empty. Please choose a different file name for this asset."):W.includes(he)?(console.log(W),ie("An asset with this name already exists. Please choose a different file name for this asset.")):(U=new File([U],he,{type:U.type}),!0)};if(!ie("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return E.set(U.name,U),yield u.set(U.name,U),U.name})}})}clearPersistentStorage(i=Fpe){this._store.__experimental_clearPersistentStorage(i)}},Yj="__TheatreJS_StudioBundle",qBe="__TheatreJS_CoreBundle",QBe="__TheatreJS_Notifications",JBe=class{constructor(i){this._studio=i,Le(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(i){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=i;let l;i.getBitsForStudio(this._studio,u=>{l=u}),this._studio.setCoreBits(l)}},ZBe=Z(Ot());qt();var zpe,$Be=je.div(zpe||(zpe=X([""]))),eDe=i=>ZBe.default.createElement($Be,null),tDe=eDe;LP();var qj=new YBe;Me(qj);var nDe=qj.publicApi,rDe=nDe;iDe();function iDe(){if(typeof window>"u")return;let i=window[Yj];if(typeof i<"u")throw typeof i=="object"&&i&&typeof i.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(Yj," seems to be already set by a module other than @theatre/core."));let l=new JBe(qj);window[Yj]=l;let u=window[qBe];u&&u!==null&&u.type==="Theatre_CoreBundle"&&l.registerCoreBundle(u)}typeof window<"u"&&(window[QBe]={notify:NP});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(QL,QL.exports);var PVe=QL.exports;const Mm=oF(PVe);var Eg={},kVe=Object.create,f3=Object.defineProperty,IVe=Object.defineProperties,RVe=Object.getOwnPropertyDescriptor,OVe=Object.getOwnPropertyDescriptors,VY=Object.getOwnPropertyNames,JL=Object.getOwnPropertySymbols,BVe=Object.getPrototypeOf,WY=Object.prototype.hasOwnProperty,ZAe=Object.prototype.propertyIsEnumerable,AX=(n,e,t)=>e in n?f3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xi=(n,e)=>{for(var t in e||(e={}))WY.call(e,t)&&AX(n,t,e[t]);if(JL)for(var t of JL(e))ZAe.call(e,t)&&AX(n,t,e[t]);return n},uh=(n,e)=>IVe(n,OVe(e)),Wp=(n,e)=>{var t={};for(var r in n)WY.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&JL)for(var r of JL(n))e.indexOf(r)<0&&ZAe.call(n,r)&&(t[r]=n[r]);return t},XY=(n,e)=>function(){return n&&(e=(0,n[VY(n)[0]])(n=0)),e},os=(n,e)=>function(){return e||(0,n[VY(n)[0]])((e={exports:{}}).exports,e),e.exports},DVe=(n,e)=>{for(var t in e)f3(n,t,{get:e[t],enumerable:!0})},$Ae=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of VY(e))!WY.call(n,o)&&o!==t&&f3(n,o,{get:()=>e[o],enumerable:!(r=RVe(e,o))||r.enumerable});return n},oo=(n,e,t)=>(t=n!=null?kVe(BVe(n)):{},$Ae(e||!n||!n.__esModule?f3(t,"default",{value:n,enumerable:!0}):t,n)),NVe=n=>$Ae(f3({},"__esModule",{value:!0}),n),Ao=(n,e,t)=>(AX(n,typeof e!="symbol"?e+"":e,t),t),LVe=os({"../../node_modules/react/cjs/react.production.min.js"(n){var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.iterator;function N(_e){return _e===null||typeof _e!="object"?null:(_e=P&&_e[P]||_e["@@iterator"],typeof _e=="function"?_e:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,D={};function I(_e,ge,dt){this.props=_e,this.context=ge,this.refs=D,this.updater=dt||F}I.prototype.isReactComponent={},I.prototype.setState=function(_e,ge){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,ge,"setState")},I.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function j(){}j.prototype=I.prototype;function T(_e,ge,dt){this.props=_e,this.context=ge,this.refs=D,this.updater=dt||F}var Y=T.prototype=new j;Y.constructor=T,K(Y,I.prototype),Y.isPureReactComponent=!0;var ce=Array.isArray,le=Object.prototype.hasOwnProperty,Z={current:null},Se={key:!0,ref:!0,__self:!0,__source:!0};function Le(_e,ge,dt){var qe,_t={},Qe=null,zt=null;if(ge!=null)for(qe in ge.ref!==void 0&&(zt=ge.ref),ge.key!==void 0&&(Qe=""+ge.key),ge)le.call(ge,qe)&&!Se.hasOwnProperty(qe)&&(_t[qe]=ge[qe]);var Lt=arguments.length-2;if(Lt===1)_t.children=dt;else if(1<Lt){for(var Kt=Array(Lt),ln=0;ln<Lt;ln++)Kt[ln]=arguments[ln+2];_t.children=Kt}if(_e&&_e.defaultProps)for(qe in Lt=_e.defaultProps,Lt)_t[qe]===void 0&&(_t[qe]=Lt[qe]);return{$$typeof:e,type:_e,key:Qe,ref:zt,props:_t,_owner:Z.current}}function X(_e,ge){return{$$typeof:e,type:_e.type,key:ge,ref:_e.ref,props:_e.props,_owner:_e._owner}}function fe(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===e}function st(_e){var ge={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(dt){return ge[dt]})}var Ue=/\/+/g;function Me(_e,ge){return typeof _e=="object"&&_e!==null&&_e.key!=null?st(""+_e.key):ge.toString(36)}function be(_e,ge,dt,qe,_t){var Qe=typeof _e;(Qe==="undefined"||Qe==="boolean")&&(_e=null);var zt=!1;if(_e===null)zt=!0;else switch(Qe){case"string":case"number":zt=!0;break;case"object":switch(_e.$$typeof){case e:case t:zt=!0}}if(zt)return zt=_e,_t=_t(zt),_e=qe===""?"."+Me(zt,0):qe,ce(_t)?(dt="",_e!=null&&(dt=_e.replace(Ue,"$&/")+"/"),be(_t,ge,dt,"",function(ln){return ln})):_t!=null&&(fe(_t)&&(_t=X(_t,dt+(!_t.key||zt&&zt.key===_t.key?"":(""+_t.key).replace(Ue,"$&/")+"/")+_e)),ge.push(_t)),1;if(zt=0,qe=qe===""?".":qe+":",ce(_e))for(var Lt=0;Lt<_e.length;Lt++){Qe=_e[Lt];var Kt=qe+Me(Qe,Lt);zt+=be(Qe,ge,dt,Kt,_t)}else if(Kt=N(_e),typeof Kt=="function")for(_e=Kt.call(_e),Lt=0;!(Qe=_e.next()).done;)Qe=Qe.value,Kt=qe+Me(Qe,Lt++),zt+=be(Qe,ge,dt,Kt,_t);else if(Qe==="object")throw ge=String(_e),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return zt}function Ke(_e,ge,dt){if(_e==null)return _e;var qe=[],_t=0;return be(_e,qe,"","",function(Qe){return ge.call(dt,Qe,_t++)}),qe}function Ye(_e){if(_e._status===-1){var ge=_e._result;ge=ge(),ge.then(function(dt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=dt)},function(dt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=dt)}),_e._status===-1&&(_e._status=0,_e._result=ge)}if(_e._status===1)return _e._result.default;throw _e._result}var de={current:null},ve={transition:null},ye={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:ve,ReactCurrentOwner:Z};n.Children={map:Ke,forEach:function(_e,ge,dt){Ke(_e,function(){ge.apply(this,arguments)},dt)},count:function(_e){var ge=0;return Ke(_e,function(){ge++}),ge},toArray:function(_e){return Ke(_e,function(ge){return ge})||[]},only:function(_e){if(!fe(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}},n.Component=I,n.Fragment=r,n.Profiler=s,n.PureComponent=T,n.StrictMode=o,n.Suspense=_,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,n.cloneElement=function(_e,ge,dt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var qe=K({},_e.props),_t=_e.key,Qe=_e.ref,zt=_e._owner;if(ge!=null){if(ge.ref!==void 0&&(Qe=ge.ref,zt=Z.current),ge.key!==void 0&&(_t=""+ge.key),_e.type&&_e.type.defaultProps)var Lt=_e.type.defaultProps;for(Kt in ge)le.call(ge,Kt)&&!Se.hasOwnProperty(Kt)&&(qe[Kt]=ge[Kt]===void 0&&Lt!==void 0?Lt[Kt]:ge[Kt])}var Kt=arguments.length-2;if(Kt===1)qe.children=dt;else if(1<Kt){Lt=Array(Kt);for(var ln=0;ln<Kt;ln++)Lt[ln]=arguments[ln+2];qe.children=Lt}return{$$typeof:e,type:_e.type,key:_t,ref:Qe,props:qe,_owner:zt}},n.createContext=function(_e){return _e={$$typeof:d,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:c,_context:_e},_e.Consumer=_e},n.createElement=Le,n.createFactory=function(_e){var ge=Le.bind(null,_e);return ge.type=_e,ge},n.createRef=function(){return{current:null}},n.forwardRef=function(_e){return{$$typeof:g,render:_e}},n.isValidElement=fe,n.lazy=function(_e){return{$$typeof:A,_payload:{_status:-1,_result:_e},_init:Ye}},n.memo=function(_e,ge){return{$$typeof:b,type:_e,compare:ge===void 0?null:ge}},n.startTransition=function(_e){var ge=ve.transition;ve.transition={};try{_e()}finally{ve.transition=ge}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(_e,ge){return de.current.useCallback(_e,ge)},n.useContext=function(_e){return de.current.useContext(_e)},n.useDebugValue=function(){},n.useDeferredValue=function(_e){return de.current.useDeferredValue(_e)},n.useEffect=function(_e,ge){return de.current.useEffect(_e,ge)},n.useId=function(){return de.current.useId()},n.useImperativeHandle=function(_e,ge,dt){return de.current.useImperativeHandle(_e,ge,dt)},n.useInsertionEffect=function(_e,ge){return de.current.useInsertionEffect(_e,ge)},n.useLayoutEffect=function(_e,ge){return de.current.useLayoutEffect(_e,ge)},n.useMemo=function(_e,ge){return de.current.useMemo(_e,ge)},n.useReducer=function(_e,ge,dt){return de.current.useReducer(_e,ge,dt)},n.useRef=function(_e){return de.current.useRef(_e)},n.useState=function(_e){return de.current.useState(_e)},n.useSyncExternalStore=function(_e,ge,dt){return de.current.useSyncExternalStore(_e,ge,dt)},n.useTransition=function(){return de.current.useTransition()},n.version="18.2.0"}}),ys=os({"../../node_modules/react/index.js"(n,e){e.exports=LVe()}}),FVe=os({"../../node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js"(n){n.ConcurrentRoot=1,n.ContinuousEventPriority=4,n.DefaultEventPriority=16,n.DiscreteEventPriority=1,n.IdleEventPriority=536870912,n.LegacyRoot=0}}),eCe=os({"../../node_modules/react-reconciler/constants.js"(n,e){e.exports=FVe()}}),zVe=os({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(n){function e(de,ve){var ye=de.length;de.push(ve);e:for(;0<ye;){var _e=ye-1>>>1,ge=de[_e];if(0<o(ge,ve))de[_e]=ve,de[ye]=ge,ye=_e;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ve=de[0],ye=de.pop();if(ye!==ve){de[0]=ye;e:for(var _e=0,ge=de.length,dt=ge>>>1;_e<dt;){var qe=2*(_e+1)-1,_t=de[qe],Qe=qe+1,zt=de[Qe];if(0>o(_t,ye))Qe<ge&&0>o(zt,_t)?(de[_e]=zt,de[Qe]=ye,_e=Qe):(de[_e]=_t,de[qe]=ye,_e=qe);else if(Qe<ge&&0>o(zt,ye))de[_e]=zt,de[Qe]=ye,_e=Qe;else break e}}return ve}function o(de,ve){var ye=de.sortIndex-ve.sortIndex;return ye!==0?ye:de.id-ve.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,n.unstable_now=function(){return s.now()}):(c=Date,d=c.now(),n.unstable_now=function(){return c.now()-d});var s,c,d,g=[],_=[],b=1,A=null,P=3,N=!1,F=!1,K=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var ve=t(_);ve!==null;){if(ve.callback===null)r(_);else if(ve.startTime<=de)r(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(_)}}function Y(de){if(K=!1,T(de),!F)if(t(g)!==null)F=!0,Ke(ce);else{var ve=t(_);ve!==null&&Ye(Y,ve.startTime-de)}}function ce(de,ve){F=!1,K&&(K=!1,I(Se),Se=-1),N=!0;var ye=P;try{for(T(ve),A=t(g);A!==null&&(!(A.expirationTime>ve)||de&&!fe());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,P=A.priorityLevel;var ge=_e(A.expirationTime<=ve);ve=n.unstable_now(),typeof ge=="function"?A.callback=ge:A===t(g)&&r(g),T(ve)}else r(g);A=t(g)}if(A!==null)var dt=!0;else{var qe=t(_);qe!==null&&Ye(Y,qe.startTime-ve),dt=!1}return dt}finally{A=null,P=ye,N=!1}}var le=!1,Z=null,Se=-1,Le=5,X=-1;function fe(){return!(n.unstable_now()-X<Le)}function st(){if(Z!==null){var de=n.unstable_now();X=de;var ve=!0;try{ve=Z(!0,de)}finally{ve?Ue():(le=!1,Z=null)}}else le=!1}var Ue;typeof j=="function"?Ue=function(){j(st)}:typeof MessageChannel<"u"?(Me=new MessageChannel,be=Me.port2,Me.port1.onmessage=st,Ue=function(){be.postMessage(null)}):Ue=function(){D(st,0)};var Me,be;function Ke(de){Z=de,le||(le=!0,Ue())}function Ye(de,ve){Se=D(function(){de(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ke(ce))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(de){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var ye=P;P=ve;try{return de()}finally{P=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ve){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ye=P;P=de;try{return ve()}finally{P=ye}},n.unstable_scheduleCallback=function(de,ve,ye){var _e=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,de){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,de={id:b++,callback:ve,priorityLevel:de,startTime:ye,expirationTime:ge,sortIndex:-1},ye>_e?(de.sortIndex=ye,e(_,de),t(g)===null&&de===t(_)&&(K?(I(Se),Se=-1):K=!0,Ye(Y,ye-_e))):(de.sortIndex=ge,e(g,de),F||N||(F=!0,Ke(ce))),de},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(de){var ve=P;return function(){var ye=P;P=ve;try{return de.apply(this,arguments)}finally{P=ye}}}}}),KY=os({"../../node_modules/scheduler/index.js"(n,e){e.exports=zVe()}}),UVe=os({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(n,e){e.exports=function(t){var r={},o=ys(),s=KY(),c=Object.assign;function d(a){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+a,S=1;S<arguments.length;S++)f+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+a+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),le=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=le&&a[le]||a["@@iterator"],typeof a=="function"?a:null)}function Se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case b:return"Portal";case N:return"Profiler";case P:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case K:return(a.displayName||"Context")+".Consumer";case F:return(a._context.displayName||"Context")+".Provider";case D:var f=a.render;return a=a.displayName,a||(a=f.displayName||f.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return f=a.displayName||null,f!==null?f:Se(a.type)||"Memo";case Y:f=a._payload,a=a._init;try{return Se(a(f))}catch{}}return null}function Le(a){var f=a.type;switch(a.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=f.render,a=a.displayName||a.name||"",f.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(f);case 8:return f===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function X(a){var f=a,S=a;if(a.alternate)for(;f.return;)f=f.return;else{a=f;do f=a,f.flags&4098&&(S=f.return),a=f.return;while(a)}return f.tag===3?S:null}function fe(a){if(X(a)!==a)throw Error(d(188))}function st(a){var f=a.alternate;if(!f){if(f=X(a),f===null)throw Error(d(188));return f!==a?null:a}for(var S=a,R=f;;){var z=S.return;if(z===null)break;var ne=z.alternate;if(ne===null){if(R=z.return,R!==null){S=R;continue}break}if(z.child===ne.child){for(ne=z.child;ne;){if(ne===S)return fe(z),a;if(ne===R)return fe(z),f;ne=ne.sibling}throw Error(d(188))}if(S.return!==R.return)S=z,R=ne;else{for(var ke=!1,nt=z.child;nt;){if(nt===S){ke=!0,S=z,R=ne;break}if(nt===R){ke=!0,R=z,S=ne;break}nt=nt.sibling}if(!ke){for(nt=ne.child;nt;){if(nt===S){ke=!0,S=ne,R=z;break}if(nt===R){ke=!0,R=ne,S=z;break}nt=nt.sibling}if(!ke)throw Error(d(189))}}if(S.alternate!==R)throw Error(d(190))}if(S.tag!==3)throw Error(d(188));return S.stateNode.current===S?a:f}function Ue(a){return a=st(a),a!==null?Me(a):null}function Me(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var f=Me(a);if(f!==null)return f;a=a.sibling}return null}function be(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var f=be(a);if(f!==null)return f}a=a.sibling}return null}var Ke=Array.isArray,Ye=t.getPublicInstance,de=t.getRootHostContext,ve=t.getChildHostContext,ye=t.prepareForCommit,_e=t.resetAfterCommit,ge=t.createInstance,dt=t.appendInitialChild,qe=t.finalizeInitialChildren,_t=t.prepareUpdate,Qe=t.shouldSetTextContent,zt=t.createTextInstance,Lt=t.scheduleTimeout,Kt=t.cancelTimeout,ln=t.noTimeout,bn=t.isPrimaryRenderer,Ze=t.supportsMutation,nn=t.supportsPersistence,jt=t.supportsHydration,fn=t.getInstanceFromNode,cn=t.preparePortalMount,Dn=t.getCurrentEventPriority,Qn=t.detachDeletedInstance,nr=t.supportsMicrotasks,Tr=t.scheduleMicrotask,ct=t.supportsTestSelectors,Ne=t.findFiberRoot,rn=t.getBoundingRect,Dt=t.getTextContent,Pn=t.isHiddenSubtree,Wn=t.matchAccessibilityRole,ei=t.setFocusIfFocusable,jr=t.setupIntersectionObserver,Yn=t.appendChild,vr=t.appendChildToContainer,Mt=t.commitTextUpdate,Zt=t.commitMount,yr=t.commitUpdate,hr=t.insertBefore,Hr=t.insertInContainerBefore,Rr=t.removeChild,wr=t.removeChildFromContainer,qr=t.resetTextContent,ri=t.hideInstance,Nn=t.hideTextInstance,Bt=t.unhideInstance,_r=t.unhideTextInstance,Xt=t.clearContainer,er=t.cloneInstance,xr=t.createContainerChildSet,Mi=t.appendChildToContainerChildSet,Di=t.finalizeContainerChildren,eo=t.replaceContainerChildren,Ro=t.cloneHiddenInstance,Ri=t.cloneHiddenTextInstance,to=t.canHydrateInstance,_s=t.canHydrateTextInstance,zs=t.canHydrateSuspenseInstance,ol=t.isSuspenseInstancePending,ss=t.isSuspenseInstanceFallback,ks=t.registerSuspenseInstanceRetry,fi=t.getNextHydratableSibling,ba=t.getFirstHydratableChild,su=t.getFirstHydratableChildWithinContainer,Re=t.getFirstHydratableChildWithinSuspenseInstance,$e=t.hydrateInstance,At=t.hydrateTextInstance,Pe=t.hydrateSuspenseInstance,at=t.getNextHydratableInstanceAfterSuspenseInstance,pt=t.commitHydratedContainer,St=t.commitHydratedSuspenseInstance,yt=t.clearSuspenseBoundary,on=t.clearSuspenseBoundaryFromContainer,Sn=t.shouldDeleteUnhydratedTailInstances,In=t.didNotMatchHydratedContainerTextInstance,kn=t.didNotMatchHydratedTextInstance,sr;function Un(a){if(sr===void 0)try{throw Error()}catch(S){var f=S.stack.trim().match(/\n( *(at )?)/);sr=f&&f[1]||""}return`
`+sr+a}var qn=!1;function Er(a,f){if(!a||qn)return"";qn=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(gn){var R=gn}Reflect.construct(a,[],f)}else{try{f.call()}catch(gn){R=gn}a.call(f.prototype)}else{try{throw Error()}catch(gn){R=gn}a()}}catch(gn){if(gn&&R&&typeof gn.stack=="string"){for(var z=gn.stack.split(`
`),ne=R.stack.split(`
`),ke=z.length-1,nt=ne.length-1;1<=ke&&0<=nt&&z[ke]!==ne[nt];)nt--;for(;1<=ke&&0<=nt;ke--,nt--)if(z[ke]!==ne[nt]){if(ke!==1||nt!==1)do if(ke--,nt--,0>nt||z[ke]!==ne[nt]){var Pt=`
`+z[ke].replace(" at new "," at ");return a.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",a.displayName)),Pt}while(1<=ke&&0<=nt);break}}}finally{qn=!1,Error.prepareStackTrace=S}return(a=a?a.displayName||a.name:"")?Un(a):""}var Qr=Object.prototype.hasOwnProperty,li=[],ii=-1;function Sr(a){return{current:a}}function Ln(a){0>ii||(a.current=li[ii],li[ii]=null,ii--)}function Gr(a,f){ii++,li[ii]=a.current,a.current=f}var zr={},Wr=Sr(zr),wi=Sr(!1),mo=zr;function Gi(a,f){var S=a.type.contextTypes;if(!S)return zr;var R=a.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===f)return R.__reactInternalMemoizedMaskedChildContext;var z={},ne;for(ne in S)z[ne]=f[ne];return R&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=f,a.__reactInternalMemoizedMaskedChildContext=z),z}function si(a){return a=a.childContextTypes,a!=null}function Ti(){Ln(wi),Ln(Wr)}function So(a,f,S){if(Wr.current!==zr)throw Error(d(168));Gr(Wr,f),Gr(wi,S)}function ae(a,f,S){var R=a.stateNode;if(f=f.childContextTypes,typeof R.getChildContext!="function")return S;R=R.getChildContext();for(var z in R)if(!(z in f))throw Error(d(108,Le(a)||"Unknown",z));return c({},S,R)}function Ae(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||zr,mo=Wr.current,Gr(Wr,a),Gr(wi,wi.current),!0}function Ge(a,f,S){var R=a.stateNode;if(!R)throw Error(d(169));S?(a=ae(a,f,mo),R.__reactInternalMemoizedMergedChildContext=a,Ln(wi),Ln(Wr),Gr(Wr,a)):Ln(wi),Gr(wi,S)}var ut=Math.clz32?Math.clz32:On,$t=Math.log,Yt=Math.LN2;function On(a){return a>>>=0,a===0?32:31-($t(a)/Yt|0)|0}var lr=64,dr=4194304;function oi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Oi(a,f){var S=a.pendingLanes;if(S===0)return 0;var R=0,z=a.suspendedLanes,ne=a.pingedLanes,ke=S&268435455;if(ke!==0){var nt=ke&~z;nt!==0?R=oi(nt):(ne&=ke,ne!==0&&(R=oi(ne)))}else ke=S&~z,ke!==0?R=oi(ke):ne!==0&&(R=oi(ne));if(R===0)return 0;if(f!==0&&f!==R&&!(f&z)&&(z=R&-R,ne=f&-f,z>=ne||z===16&&(ne&4194240)!==0))return f;if(R&4&&(R|=S&16),f=a.entangledLanes,f!==0)for(a=a.entanglements,f&=R;0<f;)S=31-ut(f),z=1<<S,R|=a[S],f&=~z;return R}function Mo(a,f){switch(a){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(a,f){for(var S=a.suspendedLanes,R=a.pingedLanes,z=a.expirationTimes,ne=a.pendingLanes;0<ne;){var ke=31-ut(ne),nt=1<<ke,Pt=z[ke];Pt===-1?(!(nt&S)||nt&R)&&(z[ke]=Mo(nt,f)):Pt<=f&&(a.expiredLanes|=nt),ne&=~nt}}function na(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ws(a){for(var f=[],S=0;31>S;S++)f.push(a);return f}function Is(a,f,S){a.pendingLanes|=f,f!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,f=31-ut(f),a[f]=S}function Ea(a,f){var S=a.pendingLanes&~f;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=f,a.mutableReadLanes&=f,a.entangledLanes&=f,f=a.entanglements;var R=a.eventTimes;for(a=a.expirationTimes;0<S;){var z=31-ut(S),ne=1<<z;f[z]=0,R[z]=-1,a[z]=-1,S&=~ne}}function Pi(a,f){var S=a.entangledLanes|=f;for(a=a.entanglements;S;){var R=31-ut(S),z=1<<R;z&f|a[R]&f&&(a[R]|=f),S&=~z}}var ki=0;function ha(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var ra=s.unstable_scheduleCallback,au=s.unstable_cancelCallback,ku=s.unstable_shouldYield,Us=s.unstable_requestPaint,ps=s.unstable_now,tc=s.unstable_ImmediatePriority,nc=s.unstable_UserBlockingPriority,Aa=s.unstable_NormalPriority,lu=s.unstable_IdlePriority,js=null,uo=null;function pa(a){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(js,a,void 0,(a.current.flags&128)===128)}catch{}}function as(a,f){return a===f&&(a!==0||1/a===1/f)||a!==a&&f!==f}var No=typeof Object.is=="function"?Object.is:as,Xo=null,Iu=!1,uu=!1;function of(a){Xo===null?Xo=[a]:Xo.push(a)}function Ca(a){Iu=!0,of(a)}function ja(){if(!uu&&Xo!==null){uu=!0;var a=0,f=ki;try{var S=Xo;for(ki=1;a<S.length;a++){var R=S[a];do R=R(!0);while(R!==null)}Xo=null,Iu=!1}catch(z){throw Xo!==null&&(Xo=Xo.slice(a+1)),ra(tc,ja),z}finally{ki=f,uu=!1}}return null}var rc=g.ReactCurrentBatchConfig;function sl(a,f){if(No(a,f))return!0;if(typeof a!="object"||a===null||typeof f!="object"||f===null)return!1;var S=Object.keys(a),R=Object.keys(f);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var z=S[R];if(!Qr.call(f,z)||!No(a[z],f[z]))return!1}return!0}function Ma(a){switch(a.tag){case 5:return Un(a.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 2:case 15:return a=Er(a.type,!1),a;case 11:return a=Er(a.type.render,!1),a;case 1:return a=Er(a.type,!0),a;default:return""}}function Hs(a,f){if(a&&a.defaultProps){f=c({},f),a=a.defaultProps;for(var S in a)f[S]===void 0&&(f[S]=a[S]);return f}return f}var Ru=Sr(null),Ta=null,Ha=null,Cl=null;function ls(){Cl=Ha=Ta=null}function Nl(a,f,S){bn?(Gr(Ru,f._currentValue),f._currentValue=S):(Gr(Ru,f._currentValue2),f._currentValue2=S)}function Ll(a){var f=Ru.current;Ln(Ru),bn?a._currentValue=f:a._currentValue2=f}function Rs(a,f,S){for(;a!==null;){var R=a.alternate;if((a.childLanes&f)!==f?(a.childLanes|=f,R!==null&&(R.childLanes|=f)):R!==null&&(R.childLanes&f)!==f&&(R.childLanes|=f),a===S)break;a=a.return}}function Qo(a,f){Ta=a,Cl=Ha=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&f&&(xo=!0),a.firstContext=null)}function Oo(a){var f=bn?a._currentValue:a._currentValue2;if(Cl!==a)if(a={context:a,memoizedValue:f,next:null},Ha===null){if(Ta===null)throw Error(d(308));Ha=a,Ta.dependencies={lanes:0,firstContext:a}}else Ha=Ha.next=a;return f}var Go=null,Uo=!1;function cu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(a,f){a=a.updateQueue,f.updateQueue===a&&(f.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function go(a,f){return{eventTime:a,lane:f,tag:0,payload:null,callback:null,next:null}}function ma(a,f){var S=a.updateQueue;S!==null&&(S=S.shared,Ki!==null&&a.mode&1&&!(ai&2)?(a=S.interleaved,a===null?(f.next=f,Go===null?Go=[S]:Go.push(S)):(f.next=a.next,a.next=f),S.interleaved=f):(a=S.pending,a===null?f.next=f:(f.next=a.next,a.next=f),S.pending=f))}function Os(a,f,S){if(f=f.updateQueue,f!==null&&(f=f.shared,(S&4194240)!==0)){var R=f.lanes;R&=a.pendingLanes,S|=R,f.lanes=S,Pi(a,S)}}function Ou(a,f){var S=a.updateQueue,R=a.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var z=null,ne=null;if(S=S.firstBaseUpdate,S!==null){do{var ke={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};ne===null?z=ne=ke:ne=ne.next=ke,S=S.next}while(S!==null);ne===null?z=ne=f:ne=ne.next=f}else z=ne=f;S={baseState:R.baseState,firstBaseUpdate:z,lastBaseUpdate:ne,shared:R.shared,effects:R.effects},a.updateQueue=S;return}a=S.lastBaseUpdate,a===null?S.firstBaseUpdate=f:a.next=f,S.lastBaseUpdate=f}function al(a,f,S,R){var z=a.updateQueue;Uo=!1;var ne=z.firstBaseUpdate,ke=z.lastBaseUpdate,nt=z.shared.pending;if(nt!==null){z.shared.pending=null;var Pt=nt,gn=Pt.next;Pt.next=null,ke===null?ne=gn:ke.next=gn,ke=Pt;var Jn=a.alternate;Jn!==null&&(Jn=Jn.updateQueue,nt=Jn.lastBaseUpdate,nt!==ke&&(nt===null?Jn.firstBaseUpdate=gn:nt.next=gn,Jn.lastBaseUpdate=Pt))}if(ne!==null){var Kn=z.baseState;ke=0,Jn=gn=Pt=null,nt=ne;do{var Lr=nt.lane,Or=nt.eventTime;if((R&Lr)===Lr){Jn!==null&&(Jn=Jn.next={eventTime:Or,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var Mr=a,Zi=nt;switch(Lr=f,Or=S,Zi.tag){case 1:if(Mr=Zi.payload,typeof Mr=="function"){Kn=Mr.call(Or,Kn,Lr);break e}Kn=Mr;break e;case 3:Mr.flags=Mr.flags&-65537|128;case 0:if(Mr=Zi.payload,Lr=typeof Mr=="function"?Mr.call(Or,Kn,Lr):Mr,Lr==null)break e;Kn=c({},Kn,Lr);break e;case 2:Uo=!0}}nt.callback!==null&&nt.lane!==0&&(a.flags|=64,Lr=z.effects,Lr===null?z.effects=[nt]:Lr.push(nt))}else Or={eventTime:Or,lane:Lr,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},Jn===null?(gn=Jn=Or,Pt=Kn):Jn=Jn.next=Or,ke|=Lr;if(nt=nt.next,nt===null){if(nt=z.shared.pending,nt===null)break;Lr=nt,nt=Lr.next,Lr.next=null,z.lastBaseUpdate=Lr,z.shared.pending=null}}while(!0);if(Jn===null&&(Pt=Kn),z.baseState=Pt,z.firstBaseUpdate=gn,z.lastBaseUpdate=Jn,f=z.shared.interleaved,f!==null){z=f;do ke|=z.lane,z=z.next;while(z!==f)}else ne===null&&(z.shared.lanes=0);Gc|=ke,a.lanes=ke,a.memoizedState=Kn}}function Ic(a,f,S){if(a=f.effects,f.effects=null,a!==null)for(f=0;f<a.length;f++){var R=a[f],z=R.callback;if(z!==null){if(R.callback=null,R=S,typeof z!="function")throw Error(d(191,z));z.call(R)}}}var ic=new o.Component().refs;function Fl(a,f,S,R){f=a.memoizedState,S=S(R,f),S=S==null?f:c({},f,S),a.memoizedState=S,a.lanes===0&&(a.updateQueue.baseState=S)}var oc={isMounted:function(a){return(a=a._reactInternals)?X(a)===a:!1},enqueueSetState:function(a,f,S){a=a._reactInternals;var R=Bo(),z=Ws(a),ne=go(R,z);ne.payload=f,S!=null&&(ne.callback=S),ma(a,ne),f=Da(a,z,R),f!==null&&Os(f,a,z)},enqueueReplaceState:function(a,f,S){a=a._reactInternals;var R=Bo(),z=Ws(a),ne=go(R,z);ne.tag=1,ne.payload=f,S!=null&&(ne.callback=S),ma(a,ne),f=Da(a,z,R),f!==null&&Os(f,a,z)},enqueueForceUpdate:function(a,f){a=a._reactInternals;var S=Bo(),R=Ws(a),z=go(S,R);z.tag=2,f!=null&&(z.callback=f),ma(a,z),f=Da(a,R,S),f!==null&&Os(f,a,R)}};function sf(a,f,S,R,z,ne,ke){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(R,ne,ke):f.prototype&&f.prototype.isPureReactComponent?!sl(S,R)||!sl(z,ne):!0}function Rc(a,f,S){var R=!1,z=zr,ne=f.contextType;return typeof ne=="object"&&ne!==null?ne=Oo(ne):(z=si(f)?mo:Wr.current,R=f.contextTypes,ne=(R=R!=null)?Gi(a,z):zr),f=new f(S,ne),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=oc,a.stateNode=f,f._reactInternals=a,R&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=z,a.__reactInternalMemoizedMaskedChildContext=ne),f}function Oc(a,f,S,R){a=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(S,R),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(S,R),f.state!==a&&oc.enqueueReplaceState(f,f.state,null)}function Ml(a,f,S,R){var z=a.stateNode;z.props=S,z.state=a.memoizedState,z.refs=ic,cu(a);var ne=f.contextType;typeof ne=="object"&&ne!==null?z.context=Oo(ne):(ne=si(f)?mo:Wr.current,z.context=Gi(a,ne)),z.state=a.memoizedState,ne=f.getDerivedStateFromProps,typeof ne=="function"&&(Fl(a,f,ne,S),z.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(f=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),f!==z.state&&oc.enqueueReplaceState(z,z.state,null),al(a,S,z,R),z.state=a.memoizedState),typeof z.componentDidMount=="function"&&(a.flags|=4194308)}var Tl=[],ll=0,Pl=null,Bs=0,ue=[],Ce=0,Ve=null,ft=1,en="";function Vt(a,f){Tl[ll++]=Bs,Tl[ll++]=Pl,Pl=a,Bs=f}function zn(a,f,S){ue[Ce++]=ft,ue[Ce++]=en,ue[Ce++]=Ve,Ve=a;var R=ft;a=en;var z=32-ut(R)-1;R&=~(1<<z),S+=1;var ne=32-ut(f)+z;if(30<ne){var ke=z-z%5;ne=(R&(1<<ke)-1).toString(32),R>>=ke,z-=ke,ft=1<<32-ut(f)+z|S<<z|R,en=ne+a}else ft=1<<ne|S<<z|R,en=a}function ir(a){a.return!==null&&(Vt(a,1),zn(a,1,0))}function Zr(a){for(;a===Pl;)Pl=Tl[--ll],Tl[ll]=null,Bs=Tl[--ll],Tl[ll]=null;for(;a===Ve;)Ve=ue[--Ce],ue[Ce]=null,en=ue[--Ce],ue[Ce]=null,ft=ue[--Ce],ue[Ce]=null}var Xr=null,Cr=null,Kr=!1,so=!1,To=null;function Ys(a,f){var S=Wl(5,null,null,0);S.elementType="DELETED",S.stateNode=f,S.return=a,f=a.deletions,f===null?(a.deletions=[S],a.flags|=16):f.push(S)}function fu(a,f){switch(a.tag){case 5:return f=to(f,a.type,a.pendingProps),f!==null?(a.stateNode=f,Xr=a,Cr=ba(f),!0):!1;case 6:return f=_s(f,a.pendingProps),f!==null?(a.stateNode=f,Xr=a,Cr=null,!0):!1;case 13:if(f=zs(f),f!==null){var S=Ve!==null?{id:ft,overflow:en}:null;return a.memoizedState={dehydrated:f,treeContext:S,retryLane:1073741824},S=Wl(18,null,null,0),S.stateNode=f,S.return=a,a.child=S,Xr=a,Cr=null,!0}return!1;default:return!1}}function vo(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ga(a){if(Kr){var f=Cr;if(f){var S=f;if(!fu(a,f)){if(vo(a))throw Error(d(418));f=fi(S);var R=Xr;f&&fu(a,f)?Ys(R,S):(a.flags=a.flags&-4097|2,Kr=!1,Xr=a)}}else{if(vo(a))throw Error(d(418));a.flags=a.flags&-4097|2,Kr=!1,Xr=a}}}function Ad(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xr=a}function Bu(a){if(!jt||a!==Xr)return!1;if(!Kr)return Ad(a),Kr=!0,!1;if(a.tag!==3&&(a.tag!==5||Sn(a.type)&&!Qe(a.type,a.memoizedProps))){var f=Cr;if(f){if(vo(a)){for(a=Cr;a;)a=fi(a);throw Error(d(418))}for(;f;)Ys(a,f),f=fi(f)}}if(Ad(a),a.tag===13){if(!jt)throw Error(d(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));Cr=at(a)}else Cr=Xr?fi(a.stateNode):null;return!0}function Du(){jt&&(Cr=Xr=null,so=Kr=!1)}function sc(a){To===null?To=[a]:To.push(a)}function Bc(a,f,S){if(a=S.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(d(309));var R=S.stateNode}if(!R)throw Error(d(147,a));var z=R,ne=""+a;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===ne?f.ref:(f=function(ke){var nt=z.refs;nt===ic&&(nt=z.refs={}),ke===null?delete nt[ne]:nt[ne]=ke},f._stringRef=ne,f)}if(typeof a!="string")throw Error(d(284));if(!S._owner)throw Error(d(290,a))}return a}function du(a,f){throw a=Object.prototype.toString.call(f),Error(d(31,a==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":a))}function Nu(a){var f=a._init;return f(a._payload)}function af(a){function f(et,rt){if(a){var Rt=et.deletions;Rt===null?(et.deletions=[rt],et.flags|=16):Rt.push(rt)}}function S(et,rt){if(!a)return null;for(;rt!==null;)f(et,rt),rt=rt.sibling;return null}function R(et,rt){for(et=new Map;rt!==null;)rt.key!==null?et.set(rt.key,rt):et.set(rt.index,rt),rt=rt.sibling;return et}function z(et,rt){return et=wu(et,rt),et.index=0,et.sibling=null,et}function ne(et,rt,Rt){return et.index=Rt,a?(Rt=et.alternate,Rt!==null?(Rt=Rt.index,Rt<rt?(et.flags|=2,rt):Rt):(et.flags|=2,rt)):(et.flags|=1048576,rt)}function ke(et){return a&&et.alternate===null&&(et.flags|=2),et}function nt(et,rt,Rt,Fn){return rt===null||rt.tag!==6?(rt=Ih(Rt,et.mode,Fn),rt.return=et,rt):(rt=z(rt,Rt),rt.return=et,rt)}function Pt(et,rt,Rt,Fn){var ar=Rt.type;return ar===A?Jn(et,rt,Rt.props.children,Fn,Rt.key):rt!==null&&(rt.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===Y&&Nu(ar)===rt.type)?(Fn=z(rt,Rt.props),Fn.ref=Bc(et,rt,Rt),Fn.return=et,Fn):(Fn=gc(Rt.type,Rt.key,Rt.props,null,et.mode,Fn),Fn.ref=Bc(et,rt,Rt),Fn.return=et,Fn)}function gn(et,rt,Rt,Fn){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==Rt.containerInfo||rt.stateNode.implementation!==Rt.implementation?(rt=vp(Rt,et.mode,Fn),rt.return=et,rt):(rt=z(rt,Rt.children||[]),rt.return=et,rt)}function Jn(et,rt,Rt,Fn,ar){return rt===null||rt.tag!==7?(rt=xu(Rt,et.mode,Fn,ar),rt.return=et,rt):(rt=z(rt,Rt),rt.return=et,rt)}function Kn(et,rt,Rt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return rt=Ih(""+rt,et.mode,Rt),rt.return=et,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return Rt=gc(rt.type,rt.key,rt.props,null,et.mode,Rt),Rt.ref=Bc(et,null,rt),Rt.return=et,Rt;case b:return rt=vp(rt,et.mode,Rt),rt.return=et,rt;case Y:var Fn=rt._init;return Kn(et,Fn(rt._payload),Rt)}if(Ke(rt)||Z(rt))return rt=xu(rt,et.mode,Rt,null),rt.return=et,rt;du(et,rt)}return null}function Lr(et,rt,Rt,Fn){var ar=rt!==null?rt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return ar!==null?null:nt(et,rt,""+Rt,Fn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case _:return Rt.key===ar?Pt(et,rt,Rt,Fn):null;case b:return Rt.key===ar?gn(et,rt,Rt,Fn):null;case Y:return ar=Rt._init,Lr(et,rt,ar(Rt._payload),Fn)}if(Ke(Rt)||Z(Rt))return ar!==null?null:Jn(et,rt,Rt,Fn,null);du(et,Rt)}return null}function Or(et,rt,Rt,Fn,ar){if(typeof Fn=="string"&&Fn!==""||typeof Fn=="number")return et=et.get(Rt)||null,nt(rt,et,""+Fn,ar);if(typeof Fn=="object"&&Fn!==null){switch(Fn.$$typeof){case _:return et=et.get(Fn.key===null?Rt:Fn.key)||null,Pt(rt,et,Fn,ar);case b:return et=et.get(Fn.key===null?Rt:Fn.key)||null,gn(rt,et,Fn,ar);case Y:var Br=Fn._init;return Or(et,rt,Rt,Br(Fn._payload),ar)}if(Ke(Fn)||Z(Fn))return et=et.get(Rt)||null,Jn(rt,et,Fn,ar,null);du(rt,Fn)}return null}function Mr(et,rt,Rt,Fn){for(var ar=null,Br=null,Ur=rt,Li=rt=0,Fi=null;Ur!==null&&Li<Rt.length;Li++){Ur.index>Li?(Fi=Ur,Ur=null):Fi=Ur.sibling;var $i=Lr(et,Ur,Rt[Li],Fn);if($i===null){Ur===null&&(Ur=Fi);break}a&&Ur&&$i.alternate===null&&f(et,Ur),rt=ne($i,rt,Li),Br===null?ar=$i:Br.sibling=$i,Br=$i,Ur=Fi}if(Li===Rt.length)return S(et,Ur),Kr&&Vt(et,Li),ar;if(Ur===null){for(;Li<Rt.length;Li++)Ur=Kn(et,Rt[Li],Fn),Ur!==null&&(rt=ne(Ur,rt,Li),Br===null?ar=Ur:Br.sibling=Ur,Br=Ur);return Kr&&Vt(et,Li),ar}for(Ur=R(et,Ur);Li<Rt.length;Li++)Fi=Or(Ur,et,Li,Rt[Li],Fn),Fi!==null&&(a&&Fi.alternate!==null&&Ur.delete(Fi.key===null?Li:Fi.key),rt=ne(Fi,rt,Li),Br===null?ar=Fi:Br.sibling=Fi,Br=Fi);return a&&Ur.forEach(function(Xc){return f(et,Xc)}),Kr&&Vt(et,Li),ar}function Zi(et,rt,Rt,Fn){var ar=Z(Rt);if(typeof ar!="function")throw Error(d(150));if(Rt=ar.call(Rt),Rt==null)throw Error(d(151));for(var Br=ar=null,Ur=rt,Li=rt=0,Fi=null,$i=Rt.next();Ur!==null&&!$i.done;Li++,$i=Rt.next()){Ur.index>Li?(Fi=Ur,Ur=null):Fi=Ur.sibling;var Xc=Lr(et,Ur,$i.value,Fn);if(Xc===null){Ur===null&&(Ur=Fi);break}a&&Ur&&Xc.alternate===null&&f(et,Ur),rt=ne(Xc,rt,Li),Br===null?ar=Xc:Br.sibling=Xc,Br=Xc,Ur=Fi}if($i.done)return S(et,Ur),Kr&&Vt(et,Li),ar;if(Ur===null){for(;!$i.done;Li++,$i=Rt.next())$i=Kn(et,$i.value,Fn),$i!==null&&(rt=ne($i,rt,Li),Br===null?ar=$i:Br.sibling=$i,Br=$i);return Kr&&Vt(et,Li),ar}for(Ur=R(et,Ur);!$i.done;Li++,$i=Rt.next())$i=Or(Ur,et,Li,$i.value,Fn),$i!==null&&(a&&$i.alternate!==null&&Ur.delete($i.key===null?Li:$i.key),rt=ne($i,rt,Li),Br===null?ar=$i:Br.sibling=$i,Br=$i);return a&&Ur.forEach(function(R1){return f(et,R1)}),Kr&&Vt(et,Li),ar}function sn(et,rt,Rt,Fn){if(typeof Rt=="object"&&Rt!==null&&Rt.type===A&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case _:e:{for(var ar=Rt.key,Br=rt;Br!==null;){if(Br.key===ar){if(ar=Rt.type,ar===A){if(Br.tag===7){S(et,Br.sibling),rt=z(Br,Rt.props.children),rt.return=et,et=rt;break e}}else if(Br.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===Y&&Nu(ar)===Br.type){S(et,Br.sibling),rt=z(Br,Rt.props),rt.ref=Bc(et,Br,Rt),rt.return=et,et=rt;break e}S(et,Br);break}else f(et,Br);Br=Br.sibling}Rt.type===A?(rt=xu(Rt.props.children,et.mode,Fn,Rt.key),rt.return=et,et=rt):(Fn=gc(Rt.type,Rt.key,Rt.props,null,et.mode,Fn),Fn.ref=Bc(et,rt,Rt),Fn.return=et,et=Fn)}return ke(et);case b:e:{for(Br=Rt.key;rt!==null;){if(rt.key===Br)if(rt.tag===4&&rt.stateNode.containerInfo===Rt.containerInfo&&rt.stateNode.implementation===Rt.implementation){S(et,rt.sibling),rt=z(rt,Rt.children||[]),rt.return=et,et=rt;break e}else{S(et,rt);break}else f(et,rt);rt=rt.sibling}rt=vp(Rt,et.mode,Fn),rt.return=et,et=rt}return ke(et);case Y:return Br=Rt._init,sn(et,rt,Br(Rt._payload),Fn)}if(Ke(Rt))return Mr(et,rt,Rt,Fn);if(Z(Rt))return Zi(et,rt,Rt,Fn);du(et,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"?(Rt=""+Rt,rt!==null&&rt.tag===6?(S(et,rt.sibling),rt=z(rt,Rt),rt.return=et,et=rt):(S(et,rt),rt=Ih(Rt,et.mode,Fn),rt.return=et,et=rt),ke(et)):S(et,rt)}return sn}var ac=af(!0),lf=af(!1),qs={},Qs=Sr(qs),Te=Sr(qs),ot=Sr(qs);function Tt(a){if(a===qs)throw Error(d(174));return a}function An(a,f){Gr(ot,f),Gr(Te,a),Gr(Qs,qs),a=de(f),Ln(Qs),Gr(Qs,a)}function pi(){Ln(Qs),Ln(Te),Ln(ot)}function Co(a){var f=Tt(ot.current),S=Tt(Qs.current);f=ve(S,a.type,f),S!==f&&(Gr(Te,a),Gr(Qs,f))}function no(a){Te.current===a&&(Ln(Qs),Ln(Te))}var yo=Sr(0);function uf(a){for(var f=a;f!==null;){if(f.tag===13){var S=f.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||ol(S)||ss(S)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Js=[];function kl(){for(var a=0;a<Js.length;a++){var f=Js[a];bn?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Js.length=0}var Va=g.ReactCurrentDispatcher,Wa=g.ReactCurrentBatchConfig,Jo=0,co=null,wo=null,ia=null,cf=!1,zl=!1,Dc=0,oa=0;function Gs(){throw Error(d(321))}function ff(a,f){if(f===null)return!1;for(var S=0;S<f.length&&S<a.length;S++)if(!No(a[S],f[S]))return!1;return!0}function Cd(a,f,S,R,z,ne){if(Jo=ne,co=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Va.current=a===null||a.memoizedState===null?Zo:Nm,a=S(R,z),zl){ne=0;do{if(zl=!1,Dc=0,25<=ne)throw Error(d(301));ne+=1,ia=wo=null,f.updateQueue=null,Va.current=qp,a=S(R,z)}while(zl)}if(Va.current=vh,f=wo!==null&&wo.next!==null,Jo=0,ia=wo=co=null,cf=!1,f)throw Error(d(300));return a}function Xa(){var a=Dc!==0;return Dc=0,a}function ga(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ia===null?co.memoizedState=ia=a:ia=ia.next=a,ia}function Pa(){if(wo===null){var a=co.alternate;a=a!==null?a.memoizedState:null}else a=wo.next;var f=ia===null?co.memoizedState:ia.next;if(f!==null)ia=f,wo=a;else{if(a===null)throw Error(d(310));wo=a,a={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},ia===null?co.memoizedState=ia=a:ia=ia.next=a}return ia}function ul(a,f){return typeof f=="function"?f(a):f}function jf(a){var f=Pa(),S=f.queue;if(S===null)throw Error(d(311));S.lastRenderedReducer=a;var R=wo,z=R.baseQueue,ne=S.pending;if(ne!==null){if(z!==null){var ke=z.next;z.next=ne.next,ne.next=ke}R.baseQueue=z=ne,S.pending=null}if(z!==null){ne=z.next,R=R.baseState;var nt=ke=null,Pt=null,gn=ne;do{var Jn=gn.lane;if((Jo&Jn)===Jn)Pt!==null&&(Pt=Pt.next={lane:0,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null}),R=gn.hasEagerState?gn.eagerState:a(R,gn.action);else{var Kn={lane:Jn,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null};Pt===null?(nt=Pt=Kn,ke=R):Pt=Pt.next=Kn,co.lanes|=Jn,Gc|=Jn}gn=gn.next}while(gn!==null&&gn!==ne);Pt===null?ke=R:Pt.next=nt,No(R,f.memoizedState)||(xo=!0),f.memoizedState=R,f.baseState=ke,f.baseQueue=Pt,S.lastRenderedState=R}if(a=S.interleaved,a!==null){z=a;do ne=z.lane,co.lanes|=ne,Gc|=ne,z=z.next;while(z!==a)}else z===null&&(S.lanes=0);return[f.memoizedState,S.dispatch]}function Md(a){var f=Pa(),S=f.queue;if(S===null)throw Error(d(311));S.lastRenderedReducer=a;var R=S.dispatch,z=S.pending,ne=f.memoizedState;if(z!==null){S.pending=null;var ke=z=z.next;do ne=a(ne,ke.action),ke=ke.next;while(ke!==z);No(ne,f.memoizedState)||(xo=!0),f.memoizedState=ne,f.baseQueue===null&&(f.baseState=ne),S.lastRenderedState=ne}return[ne,R]}function Xp(){}function Kp(a,f){var S=co,R=Pa(),z=f(),ne=!No(R.memoizedState,z);if(ne&&(R.memoizedState=z,xo=!0),R=R.queue,Id(df.bind(null,S,R,a),[a]),R.getSnapshot!==f||ne||ia!==null&&ia.memoizedState.tag&1){if(S.flags|=2048,Gf(9,ip.bind(null,S,R,z,f),void 0,null),Ki===null)throw Error(d(349));Jo&30||Td(S,f,z)}return z}function Td(a,f,S){a.flags|=16384,a={getSnapshot:f,value:S},f=co.updateQueue,f===null?(f={lastEffect:null,stores:null},co.updateQueue=f,f.stores=[a]):(S=f.stores,S===null?f.stores=[a]:S.push(a))}function ip(a,f,S,R){f.value=S,f.getSnapshot=R,Pd(f)&&Da(a,1,-1)}function df(a,f,S){return S(function(){Pd(f)&&Da(a,1,-1)})}function Pd(a){var f=a.getSnapshot;a=a.value;try{var S=f();return!No(a,S)}catch{return!0}}function Hf(a){var f=ga();return typeof a=="function"&&(a=a()),f.memoizedState=f.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:a},f.queue=a,a=a.dispatch=Hg.bind(null,co,a),[f.memoizedState,a]}function Gf(a,f,S,R){return a={tag:a,create:f,destroy:S,deps:R,next:null},f=co.updateQueue,f===null?(f={lastEffect:null,stores:null},co.updateQueue=f,f.lastEffect=a.next=a):(S=f.lastEffect,S===null?f.lastEffect=a.next=a:(R=S.next,S.next=a,a.next=R,f.lastEffect=a)),a}function Vf(){return Pa().memoizedState}function lc(a,f,S,R){var z=ga();co.flags|=a,z.memoizedState=Gf(1|f,S,void 0,R===void 0?null:R)}function kd(a,f,S,R){var z=Pa();R=R===void 0?null:R;var ne=void 0;if(wo!==null){var ke=wo.memoizedState;if(ne=ke.destroy,R!==null&&ff(R,ke.deps)){z.memoizedState=Gf(f,S,ne,R);return}}co.flags|=a,z.memoizedState=Gf(1|f,S,ne,R)}function hf(a,f){return lc(8390656,8,a,f)}function Id(a,f){return kd(2048,8,a,f)}function Ko(a,f){return kd(4,2,a,f)}function op(a,f){return kd(4,4,a,f)}function ph(a,f){if(typeof f=="function")return a=a(),f(a),function(){f(null)};if(f!=null)return a=a(),f.current=a,function(){f.current=null}}function uc(a,f,S){return S=S!=null?S.concat([a]):null,kd(4,4,ph.bind(null,f,a),S)}function sp(){}function ap(a,f){var S=Pa();f=f===void 0?null:f;var R=S.memoizedState;return R!==null&&f!==null&&ff(f,R[1])?R[0]:(S.memoizedState=[a,f],a)}function mh(a,f){var S=Pa();f=f===void 0?null:f;var R=S.memoizedState;return R!==null&&f!==null&&ff(f,R[1])?R[0]:(a=a(),S.memoizedState=[a,f],a)}function lp(a,f){var S=ki;ki=S!==0&&4>S?S:4,a(!0);var R=Wa.transition;Wa.transition={};try{a(!1),f()}finally{ki=S,Wa.transition=R}}function Rd(){return Pa().memoizedState}function jg(a,f,S){var R=Ws(a);S={lane:R,action:S,hasEagerState:!1,eagerState:null,next:null},Dm(a)?Yp(f,S):(gh(a,f,S),S=Bo(),a=Da(a,R,S),a!==null&&Wf(a,f,R))}function Hg(a,f,S){var R=Ws(a),z={lane:R,action:S,hasEagerState:!1,eagerState:null,next:null};if(Dm(a))Yp(f,z);else{gh(a,f,z);var ne=a.alternate;if(a.lanes===0&&(ne===null||ne.lanes===0)&&(ne=f.lastRenderedReducer,ne!==null))try{var ke=f.lastRenderedState,nt=ne(ke,S);if(z.hasEagerState=!0,z.eagerState=nt,No(nt,ke))return}catch{}finally{}S=Bo(),a=Da(a,R,S),a!==null&&Wf(a,f,R)}}function Dm(a){var f=a.alternate;return a===co||f!==null&&f===co}function Yp(a,f){zl=cf=!0;var S=a.pending;S===null?f.next=f:(f.next=S.next,S.next=f),a.pending=f}function gh(a,f,S){Ki!==null&&a.mode&1&&!(ai&2)?(a=f.interleaved,a===null?(S.next=S,Go===null?Go=[f]:Go.push(f)):(S.next=a.next,a.next=S),f.interleaved=S):(a=f.pending,a===null?S.next=S:(S.next=a.next,a.next=S),f.pending=S)}function Wf(a,f,S){if(S&4194240){var R=f.lanes;R&=a.pendingLanes,S|=R,f.lanes=S,Pi(a,S)}}var vh={readContext:Oo,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},Zo={readContext:Oo,useCallback:function(a,f){return ga().memoizedState=[a,f===void 0?null:f],a},useContext:Oo,useEffect:hf,useImperativeHandle:function(a,f,S){return S=S!=null?S.concat([a]):null,lc(4194308,4,ph.bind(null,f,a),S)},useLayoutEffect:function(a,f){return lc(4194308,4,a,f)},useInsertionEffect:function(a,f){return lc(4,2,a,f)},useMemo:function(a,f){var S=ga();return f=f===void 0?null:f,a=a(),S.memoizedState=[a,f],a},useReducer:function(a,f,S){var R=ga();return f=S!==void 0?S(f):f,R.memoizedState=R.baseState=f,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:f},R.queue=a,a=a.dispatch=jg.bind(null,co,a),[R.memoizedState,a]},useRef:function(a){var f=ga();return a={current:a},f.memoizedState=a},useState:Hf,useDebugValue:sp,useDeferredValue:function(a){var f=Hf(a),S=f[0],R=f[1];return hf(function(){var z=Wa.transition;Wa.transition={};try{R(a)}finally{Wa.transition=z}},[a]),S},useTransition:function(){var a=Hf(!1),f=a[0];return a=lp.bind(null,a[1]),ga().memoizedState=a,[f,a]},useMutableSource:function(){},useSyncExternalStore:function(a,f,S){var R=co,z=ga();if(Kr){if(S===void 0)throw Error(d(407));S=S()}else{if(S=f(),Ki===null)throw Error(d(349));Jo&30||Td(R,f,S)}z.memoizedState=S;var ne={value:S,getSnapshot:f};return z.queue=ne,hf(df.bind(null,R,ne,a),[a]),R.flags|=2048,Gf(9,ip.bind(null,R,ne,S,f),void 0,null),S},useId:function(){var a=ga(),f=Ki.identifierPrefix;if(Kr){var S=en,R=ft;S=(R&~(1<<32-ut(R)-1)).toString(32)+S,f=":"+f+"R"+S,S=Dc++,0<S&&(f+="H"+S.toString(32)),f+=":"}else S=oa++,f=":"+f+"r"+S.toString(32)+":";return a.memoizedState=f},unstable_isNewReconciler:!1},Nm={readContext:Oo,useCallback:ap,useContext:Oo,useEffect:Id,useImperativeHandle:uc,useInsertionEffect:Ko,useLayoutEffect:op,useMemo:mh,useReducer:jf,useRef:Vf,useState:function(){return jf(ul)},useDebugValue:sp,useDeferredValue:function(a){var f=jf(ul),S=f[0],R=f[1];return Id(function(){var z=Wa.transition;Wa.transition={};try{R(a)}finally{Wa.transition=z}},[a]),S},useTransition:function(){var a=jf(ul)[0],f=Pa().memoizedState;return[a,f]},useMutableSource:Xp,useSyncExternalStore:Kp,useId:Rd,unstable_isNewReconciler:!1},qp={readContext:Oo,useCallback:ap,useContext:Oo,useEffect:Id,useImperativeHandle:uc,useInsertionEffect:Ko,useLayoutEffect:op,useMemo:mh,useReducer:Md,useRef:Vf,useState:function(){return Md(ul)},useDebugValue:sp,useDeferredValue:function(a){var f=Md(ul),S=f[0],R=f[1];return Id(function(){var z=Wa.transition;Wa.transition={};try{R(a)}finally{Wa.transition=z}},[a]),S},useTransition:function(){var a=Md(ul)[0],f=Pa().memoizedState;return[a,f]},useMutableSource:Xp,useSyncExternalStore:Kp,useId:Rd,unstable_isNewReconciler:!1};function Qp(a,f){try{var S="",R=f;do S+=Ma(R),R=R.return;while(R);var z=S}catch(ne){z=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:a,source:f,stack:z}}function yh(a,f){try{console.error(f.value)}catch(S){setTimeout(function(){throw S})}}var Lm=typeof WeakMap=="function"?WeakMap:Map;function Jp(a,f,S){S=go(-1,S),S.tag=3,S.payload={element:null};var R=f.value;return S.callback=function(){bf||(bf=!0,_a=R),yh(a,f)},S}function pf(a,f,S){S=go(-1,S),S.tag=3;var R=a.type.getDerivedStateFromError;if(typeof R=="function"){var z=f.value;S.payload=function(){return R(z)},S.callback=function(){yh(a,f)}}var ne=a.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(S.callback=function(){yh(a,f),typeof R!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var ke=f.stack;this.componentDidCatch(f.value,{componentStack:ke!==null?ke:""})}),S}function Nc(a,f,S){var R=a.pingCache;if(R===null){R=a.pingCache=new Lm;var z=new Set;R.set(f,z)}else z=R.get(f),z===void 0&&(z=new Set,R.set(f,z));z.has(S)||(z.add(S),a=im.bind(null,a,f,S),f.then(a,a))}function _h(a){do{var f;if((f=a.tag===13)&&(f=a.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return a;a=a.return}while(a!==null);return null}function cl(a,f,S,R,z){return a.mode&1?(a.flags|=65536,a.lanes=z,a):(a===f?a.flags|=65536:(a.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(f=go(-1,1),f.tag=2,ma(S,f))),S.lanes|=1),a)}function Zs(a){a.flags|=4}function Po(a,f){if(a!==null&&a.child===f.child)return!0;if(f.flags&16)return!1;for(a=f.child;a!==null;){if(a.flags&12854||a.subtreeFlags&12854)return!1;a=a.sibling}return!0}var ka,Lc,Xf,Od;if(Ze)ka=function(a,f){for(var S=f.child;S!==null;){if(S.tag===5||S.tag===6)dt(a,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Lc=function(){},Xf=function(a,f,S,R,z){if(a=a.memoizedProps,a!==R){var ne=f.stateNode,ke=Tt(Qs.current);S=_t(ne,S,a,R,z,ke),(f.updateQueue=S)&&Zs(f)}},Od=function(a,f,S,R){S!==R&&Zs(f)};else if(nn){ka=function(a,f,S,R){for(var z=f.child;z!==null;){if(z.tag===5){var ne=z.stateNode;S&&R&&(ne=Ro(ne,z.type,z.memoizedProps,z)),dt(a,ne)}else if(z.tag===6)ne=z.stateNode,S&&R&&(ne=Ri(ne,z.memoizedProps,z)),dt(a,ne);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)ne=z.child,ne!==null&&(ne.return=z),ka(a,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===f)break;for(;z.sibling===null;){if(z.return===null||z.return===f)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var Lu=function(a,f,S,R){for(var z=f.child;z!==null;){if(z.tag===5){var ne=z.stateNode;S&&R&&(ne=Ro(ne,z.type,z.memoizedProps,z)),Mi(a,ne)}else if(z.tag===6)ne=z.stateNode,S&&R&&(ne=Ri(ne,z.memoizedProps,z)),Mi(a,ne);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)ne=z.child,ne!==null&&(ne.return=z),Lu(a,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===f)break;for(;z.sibling===null;){if(z.return===null||z.return===f)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};Lc=function(a,f){var S=f.stateNode;if(!Po(a,f)){a=S.containerInfo;var R=xr(a);Lu(R,f,!1,!1),S.pendingChildren=R,Zs(f),Di(a,R)}},Xf=function(a,f,S,R,z){var ne=a.stateNode,ke=a.memoizedProps;if((a=Po(a,f))&&ke===R)f.stateNode=ne;else{var nt=f.stateNode,Pt=Tt(Qs.current),gn=null;ke!==R&&(gn=_t(nt,S,ke,R,z,Pt)),a&&gn===null?f.stateNode=ne:(ne=er(ne,gn,S,ke,R,f,a,nt),qe(ne,S,R,z,Pt)&&Zs(f),f.stateNode=ne,a?Zs(f):ka(ne,f,!1,!1))}},Od=function(a,f,S,R){S!==R?(a=Tt(ot.current),S=Tt(Qs.current),f.stateNode=zt(R,a,S,f),Zs(f)):f.stateNode=a.stateNode}}else Lc=function(){},Xf=function(){},Od=function(){};function Yo(a,f){if(!Kr)switch(a.tailMode){case"hidden":f=a.tail;for(var S=null;f!==null;)f.alternate!==null&&(S=f),f=f.sibling;S===null?a.tail=null:S.sibling=null;break;case"collapsed":S=a.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?f||a.tail===null?a.tail=null:a.tail.sibling=null:R.sibling=null}}function $s(a){var f=a.alternate!==null&&a.alternate.child===a.child,S=0,R=0;if(f)for(var z=a.child;z!==null;)S|=z.lanes|z.childLanes,R|=z.subtreeFlags&14680064,R|=z.flags&14680064,z.return=a,z=z.sibling;else for(z=a.child;z!==null;)S|=z.lanes|z.childLanes,R|=z.subtreeFlags,R|=z.flags,z.return=a,z=z.sibling;return a.subtreeFlags|=R,a.childLanes=S,f}function wh(a,f,S){var R=f.pendingProps;switch(Zr(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(f),null;case 1:return si(f.type)&&Ti(),$s(f),null;case 3:return R=f.stateNode,pi(),Ln(wi),Ln(Wr),kl(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(a===null||a.child===null)&&(Bu(f)?Zs(f):a===null||a.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,To!==null&&(ea(To),To=null))),Lc(a,f),$s(f),null;case 5:no(f),S=Tt(ot.current);var z=f.type;if(a!==null&&f.stateNode!=null)Xf(a,f,z,R,S),a.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!R){if(f.stateNode===null)throw Error(d(166));return $s(f),null}if(a=Tt(Qs.current),Bu(f)){if(!jt)throw Error(d(175));a=$e(f.stateNode,f.type,f.memoizedProps,S,a,f,!so),f.updateQueue=a,a!==null&&Zs(f)}else{var ne=ge(z,R,S,a,f);ka(ne,f,!1,!1),f.stateNode=ne,qe(ne,z,R,S,a)&&Zs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return $s(f),null;case 6:if(a&&f.stateNode!=null)Od(a,f,a.memoizedProps,R);else{if(typeof R!="string"&&f.stateNode===null)throw Error(d(166));if(a=Tt(ot.current),S=Tt(Qs.current),Bu(f)){if(!jt)throw Error(d(176));if(a=f.stateNode,R=f.memoizedProps,(S=At(a,R,f,!so))&&(z=Xr,z!==null))switch(ne=(z.mode&1)!==0,z.tag){case 3:In(z.stateNode.containerInfo,a,R,ne);break;case 5:kn(z.type,z.memoizedProps,z.stateNode,a,R,ne)}S&&Zs(f)}else f.stateNode=zt(R,a,S,f)}return $s(f),null;case 13:if(Ln(yo),R=f.memoizedState,Kr&&Cr!==null&&f.mode&1&&!(f.flags&128)){for(a=Cr;a;)a=fi(a);return Du(),f.flags|=98560,f}if(R!==null&&R.dehydrated!==null){if(R=Bu(f),a===null){if(!R)throw Error(d(318));if(!jt)throw Error(d(344));if(a=f.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));Pe(a,f)}else Du(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return $s(f),null}return To!==null&&(ea(To),To=null),f.flags&128?(f.lanes=S,f):(R=R!==null,S=!1,a===null?Bu(f):S=a.memoizedState!==null,R&&!S&&(f.child.flags|=8192,f.mode&1&&(a===null||yo.current&1?Ds===0&&(Ds=3):Wc())),f.updateQueue!==null&&(f.flags|=4),$s(f),null);case 4:return pi(),Lc(a,f),a===null&&cn(f.stateNode.containerInfo),$s(f),null;case 10:return Ll(f.type._context),$s(f),null;case 17:return si(f.type)&&Ti(),$s(f),null;case 19:if(Ln(yo),z=f.memoizedState,z===null)return $s(f),null;if(R=(f.flags&128)!==0,ne=z.rendering,ne===null)if(R)Yo(z,!1);else{if(Ds!==0||a!==null&&a.flags&128)for(a=f.child;a!==null;){if(ne=uf(a),ne!==null){for(f.flags|=128,Yo(z,!1),a=ne.updateQueue,a!==null&&(f.updateQueue=a,f.flags|=4),f.subtreeFlags=0,a=S,R=f.child;R!==null;)S=R,z=a,S.flags&=14680066,ne=S.alternate,ne===null?(S.childLanes=0,S.lanes=z,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=ne.childLanes,S.lanes=ne.lanes,S.child=ne.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=ne.memoizedProps,S.memoizedState=ne.memoizedState,S.updateQueue=ne.updateQueue,S.type=ne.type,z=ne.dependencies,S.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),R=R.sibling;return Gr(yo,yo.current&1|2),f.child}a=a.sibling}z.tail!==null&&ps()>yu&&(f.flags|=128,R=!0,Yo(z,!1),f.lanes=4194304)}else{if(!R)if(a=uf(ne),a!==null){if(f.flags|=128,R=!0,a=a.updateQueue,a!==null&&(f.updateQueue=a,f.flags|=4),Yo(z,!0),z.tail===null&&z.tailMode==="hidden"&&!ne.alternate&&!Kr)return $s(f),null}else 2*ps()-z.renderingStartTime>yu&&S!==1073741824&&(f.flags|=128,R=!0,Yo(z,!1),f.lanes=4194304);z.isBackwards?(ne.sibling=f.child,f.child=ne):(a=z.last,a!==null?a.sibling=ne:f.child=ne,z.last=ne)}return z.tail!==null?(f=z.tail,z.rendering=f,z.tail=f.sibling,z.renderingStartTime=ps(),f.sibling=null,a=yo.current,Gr(yo,R?a&1|2:a&1),f):($s(f),null);case 22:case 23:return Af(),R=f.memoizedState!==null,a!==null&&a.memoizedState!==null!==R&&(f.flags|=8192),R&&f.mode&1?va&1073741824&&($s(f),Ze&&f.subtreeFlags&6&&(f.flags|=8192)):$s(f),null;case 24:return null;case 25:return null}throw Error(d(156,f.tag))}var Ul=g.ReactCurrentOwner,xo=!1;function ms(a,f,S,R){f.child=a===null?lf(f,null,S,R):ac(f,a.child,S,R)}function $o(a,f,S,R,z){S=S.render;var ne=f.ref;return Qo(f,z),R=Cd(a,f,S,R,ne,z),S=Xa(),a!==null&&!xo?(f.updateQueue=a.updateQueue,f.flags&=-2053,a.lanes&=~z,pu(a,f,z)):(Kr&&S&&ir(f),f.flags|=1,ms(a,f,R,z),f.child)}function Vo(a,f,S,R,z){if(a===null){var ne=S.type;return typeof ne=="function"&&!$f(ne)&&ne.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(f.tag=15,f.type=ne,Fc(a,f,ne,R,z)):(a=gc(S.type,null,R,f,f.mode,z),a.ref=f.ref,a.return=f,f.child=a)}if(ne=a.child,!(a.lanes&z)){var ke=ne.memoizedProps;if(S=S.compare,S=S!==null?S:sl,S(ke,R)&&a.ref===f.ref)return pu(a,f,z)}return f.flags|=1,a=wu(ne,R),a.ref=f.ref,a.return=f,f.child=a}function Fc(a,f,S,R,z){if(a!==null&&sl(a.memoizedProps,R)&&a.ref===f.ref)if(xo=!1,(a.lanes&z)!==0)a.flags&131072&&(xo=!0);else return f.lanes=a.lanes,pu(a,f,z);return cc(a,f,S,R,z)}function Ka(a,f,S){var R=f.pendingProps,z=R.children,ne=a!==null?a.memoizedState:null;if(R.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Gr(es,va),va|=S;else if(S&1073741824)f.memoizedState={baseLanes:0,cachePool:null},R=ne!==null?ne.baseLanes:S,Gr(es,va),va|=R;else return a=ne!==null?ne.baseLanes|S:S,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:a,cachePool:null},f.updateQueue=null,Gr(es,va),va|=a,null;else ne!==null?(R=ne.baseLanes|S,f.memoizedState=null):R=S,Gr(es,va),va|=R;return ms(a,f,z,S),f.child}function fl(a,f){var S=f.ref;(a===null&&S!==null||a!==null&&a.ref!==S)&&(f.flags|=512,f.flags|=2097152)}function cc(a,f,S,R,z){var ne=si(S)?mo:Wr.current;return ne=Gi(f,ne),Qo(f,z),S=Cd(a,f,S,R,ne,z),R=Xa(),a!==null&&!xo?(f.updateQueue=a.updateQueue,f.flags&=-2053,a.lanes&=~z,pu(a,f,z)):(Kr&&R&&ir(f),f.flags|=1,ms(a,f,S,z),f.child)}function mf(a,f,S,R,z){if(si(S)){var ne=!0;Ae(f)}else ne=!1;if(Qo(f,z),f.stateNode===null)a!==null&&(a.alternate=null,f.alternate=null,f.flags|=2),Rc(f,S,R),Ml(f,S,R,z),R=!0;else if(a===null){var ke=f.stateNode,nt=f.memoizedProps;ke.props=nt;var Pt=ke.context,gn=S.contextType;typeof gn=="object"&&gn!==null?gn=Oo(gn):(gn=si(S)?mo:Wr.current,gn=Gi(f,gn));var Jn=S.getDerivedStateFromProps,Kn=typeof Jn=="function"||typeof ke.getSnapshotBeforeUpdate=="function";Kn||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(nt!==R||Pt!==gn)&&Oc(f,ke,R,gn),Uo=!1;var Lr=f.memoizedState;ke.state=Lr,al(f,R,ke,z),Pt=f.memoizedState,nt!==R||Lr!==Pt||wi.current||Uo?(typeof Jn=="function"&&(Fl(f,S,Jn,R),Pt=f.memoizedState),(nt=Uo||sf(f,S,nt,R,Lr,Pt,gn))?(Kn||typeof ke.UNSAFE_componentWillMount!="function"&&typeof ke.componentWillMount!="function"||(typeof ke.componentWillMount=="function"&&ke.componentWillMount(),typeof ke.UNSAFE_componentWillMount=="function"&&ke.UNSAFE_componentWillMount()),typeof ke.componentDidMount=="function"&&(f.flags|=4194308)):(typeof ke.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=R,f.memoizedState=Pt),ke.props=R,ke.state=Pt,ke.context=gn,R=nt):(typeof ke.componentDidMount=="function"&&(f.flags|=4194308),R=!1)}else{ke=f.stateNode,Ks(a,f),nt=f.memoizedProps,gn=f.type===f.elementType?nt:Hs(f.type,nt),ke.props=gn,Kn=f.pendingProps,Lr=ke.context,Pt=S.contextType,typeof Pt=="object"&&Pt!==null?Pt=Oo(Pt):(Pt=si(S)?mo:Wr.current,Pt=Gi(f,Pt));var Or=S.getDerivedStateFromProps;(Jn=typeof Or=="function"||typeof ke.getSnapshotBeforeUpdate=="function")||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(nt!==Kn||Lr!==Pt)&&Oc(f,ke,R,Pt),Uo=!1,Lr=f.memoizedState,ke.state=Lr,al(f,R,ke,z);var Mr=f.memoizedState;nt!==Kn||Lr!==Mr||wi.current||Uo?(typeof Or=="function"&&(Fl(f,S,Or,R),Mr=f.memoizedState),(gn=Uo||sf(f,S,gn,R,Lr,Mr,Pt)||!1)?(Jn||typeof ke.UNSAFE_componentWillUpdate!="function"&&typeof ke.componentWillUpdate!="function"||(typeof ke.componentWillUpdate=="function"&&ke.componentWillUpdate(R,Mr,Pt),typeof ke.UNSAFE_componentWillUpdate=="function"&&ke.UNSAFE_componentWillUpdate(R,Mr,Pt)),typeof ke.componentDidUpdate=="function"&&(f.flags|=4),typeof ke.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof ke.componentDidUpdate!="function"||nt===a.memoizedProps&&Lr===a.memoizedState||(f.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&Lr===a.memoizedState||(f.flags|=1024),f.memoizedProps=R,f.memoizedState=Mr),ke.props=R,ke.state=Mr,ke.context=Pt,R=gn):(typeof ke.componentDidUpdate!="function"||nt===a.memoizedProps&&Lr===a.memoizedState||(f.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&Lr===a.memoizedState||(f.flags|=1024),R=!1)}return Ia(a,f,S,R,ne,z)}function Ia(a,f,S,R,z,ne){fl(a,f);var ke=(f.flags&128)!==0;if(!R&&!ke)return z&&Ge(f,S,!1),pu(a,f,ne);R=f.stateNode,Ul.current=f;var nt=ke&&typeof S.getDerivedStateFromError!="function"?null:R.render();return f.flags|=1,a!==null&&ke?(f.child=ac(f,a.child,null,ne),f.child=ac(f,null,nt,ne)):ms(a,f,nt,ne),f.memoizedState=R.state,z&&Ge(f,S,!0),f.child}function up(a){var f=a.stateNode;f.pendingContext?So(a,f.pendingContext,f.pendingContext!==f.context):f.context&&So(a,f.context,!1),An(a,f.containerInfo)}function cp(a,f,S,R,z){return Du(),sc(z),f.flags|=256,ms(a,f,S,R),f.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function gf(a){return{baseLanes:a,cachePool:null}}function Zp(a,f,S){var R=f.pendingProps,z=yo.current,ne=!1,ke=(f.flags&128)!==0,nt;if((nt=ke)||(nt=a!==null&&a.memoizedState===null?!1:(z&2)!==0),nt?(ne=!0,f.flags&=-129):(a===null||a.memoizedState!==null)&&(z|=1),Gr(yo,z&1),a===null)return Ga(f),a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(f.mode&1?ss(a)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(z=R.children,a=R.fallback,ne?(R=f.mode,ne=f.child,z={mode:"hidden",children:z},!(R&1)&&ne!==null?(ne.childLanes=0,ne.pendingProps=z):ne=ed(z,R,0,null),a=xu(a,R,S,null),ne.return=f,a.return=f,ne.sibling=a,f.child=ne,f.child.memoizedState=gf(S),f.memoizedState=zc,a):Fu(f,z));if(z=a.memoizedState,z!==null){if(nt=z.dehydrated,nt!==null){if(ke)return f.flags&256?(f.flags&=-257,Bd(a,f,S,Error(d(422)))):f.memoizedState!==null?(f.child=a.child,f.flags|=128,null):(ne=R.fallback,z=f.mode,R=ed({mode:"visible",children:R.children},z,0,null),ne=xu(ne,z,S,null),ne.flags|=2,R.return=f,ne.return=f,R.sibling=ne,f.child=R,f.mode&1&&ac(f,a.child,null,S),f.child.memoizedState=gf(S),f.memoizedState=zc,ne);if(!(f.mode&1))f=Bd(a,f,S,null);else if(ss(nt))f=Bd(a,f,S,Error(d(419)));else if(R=(S&a.childLanes)!==0,xo||R){if(R=Ki,R!==null){switch(S&-S){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}R=ne&(R.suspendedLanes|S)?0:ne,R!==0&&R!==z.retryLane&&(z.retryLane=R,Da(a,R,-1))}Wc(),f=Bd(a,f,S,Error(d(421)))}else ol(nt)?(f.flags|=128,f.child=a.child,f=Zf.bind(null,a),ks(nt,f),f=null):(S=z.treeContext,jt&&(Cr=Re(nt),Xr=f,Kr=!0,To=null,so=!1,S!==null&&(ue[Ce++]=ft,ue[Ce++]=en,ue[Ce++]=Ve,ft=S.id,en=S.overflow,Ve=f)),f=Fu(f,f.pendingProps.children),f.flags|=4096);return f}return ne?(R=hu(a,f,R.children,R.fallback,S),ne=f.child,z=a.child.memoizedState,ne.memoizedState=z===null?gf(S):{baseLanes:z.baseLanes|S,cachePool:null},ne.childLanes=a.childLanes&~S,f.memoizedState=zc,R):(S=xh(a,f,R.children,S),f.memoizedState=null,S)}return ne?(R=hu(a,f,R.children,R.fallback,S),ne=f.child,z=a.child.memoizedState,ne.memoizedState=z===null?gf(S):{baseLanes:z.baseLanes|S,cachePool:null},ne.childLanes=a.childLanes&~S,f.memoizedState=zc,R):(S=xh(a,f,R.children,S),f.memoizedState=null,S)}function Fu(a,f){return f=ed({mode:"visible",children:f},a.mode,0,null),f.return=a,a.child=f}function xh(a,f,S,R){var z=a.child;return a=z.sibling,S=wu(z,{mode:"visible",children:S}),!(f.mode&1)&&(S.lanes=R),S.return=f,S.sibling=null,a!==null&&(R=f.deletions,R===null?(f.deletions=[a],f.flags|=16):R.push(a)),f.child=S}function hu(a,f,S,R,z){var ne=f.mode;a=a.child;var ke=a.sibling,nt={mode:"hidden",children:S};return!(ne&1)&&f.child!==a?(S=f.child,S.childLanes=0,S.pendingProps=nt,f.deletions=null):(S=wu(a,nt),S.subtreeFlags=a.subtreeFlags&14680064),ke!==null?R=wu(ke,R):(R=xu(R,ne,z,null),R.flags|=2),R.return=f,S.return=f,S.sibling=R,f.child=S,R}function Bd(a,f,S,R){return R!==null&&sc(R),ac(f,a.child,null,S),a=Fu(f,f.pendingProps.children),a.flags|=2,f.memoizedState=null,a}function $p(a,f,S){a.lanes|=f;var R=a.alternate;R!==null&&(R.lanes|=f),Rs(a.return,f,S)}function Il(a,f,S,R,z){var ne=a.memoizedState;ne===null?a.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:z}:(ne.isBackwards=f,ne.rendering=null,ne.renderingStartTime=0,ne.last=R,ne.tail=S,ne.tailMode=z)}function Ya(a,f,S){var R=f.pendingProps,z=R.revealOrder,ne=R.tail;if(ms(a,f,R.children,S),R=yo.current,R&2)R=R&1|2,f.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=f.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$p(a,S,f);else if(a.tag===19)$p(a,S,f);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===f)break e;for(;a.sibling===null;){if(a.return===null||a.return===f)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}R&=1}if(Gr(yo,R),!(f.mode&1))f.memoizedState=null;else switch(z){case"forwards":for(S=f.child,z=null;S!==null;)a=S.alternate,a!==null&&uf(a)===null&&(z=S),S=S.sibling;S=z,S===null?(z=f.child,f.child=null):(z=S.sibling,S.sibling=null),Il(f,!1,z,S,ne);break;case"backwards":for(S=null,z=f.child,f.child=null;z!==null;){if(a=z.alternate,a!==null&&uf(a)===null){f.child=z;break}a=z.sibling,z.sibling=S,S=z,z=a}Il(f,!0,S,null,ne);break;case"together":Il(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function pu(a,f,S){if(a!==null&&(f.dependencies=a.dependencies),Gc|=f.lanes,!(S&f.childLanes))return null;if(a!==null&&f.child!==a.child)throw Error(d(153));if(f.child!==null){for(a=f.child,S=wu(a,a.pendingProps),f.child=S,S.return=f;a.sibling!==null;)a=a.sibling,S=S.sibling=wu(a,a.pendingProps),S.return=f;S.sibling=null}return f.child}function em(a,f,S){switch(f.tag){case 3:up(f),Du();break;case 5:Co(f);break;case 1:si(f.type)&&Ae(f);break;case 4:An(f,f.stateNode.containerInfo);break;case 10:Nl(f,f.type._context,f.memoizedProps.value);break;case 13:var R=f.memoizedState;if(R!==null)return R.dehydrated!==null?(Gr(yo,yo.current&1),f.flags|=128,null):S&f.child.childLanes?Zp(a,f,S):(Gr(yo,yo.current&1),a=pu(a,f,S),a!==null?a.sibling:null);Gr(yo,yo.current&1);break;case 19:if(R=(S&f.childLanes)!==0,a.flags&128){if(R)return Ya(a,f,S);f.flags|=128}var z=f.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Gr(yo,yo.current),R)break;return null;case 22:case 23:return f.lanes=0,Ka(a,f,S)}return pu(a,f,S)}function Sh(a,f){switch(Zr(f),f.tag){case 1:return si(f.type)&&Ti(),a=f.flags,a&65536?(f.flags=a&-65537|128,f):null;case 3:return pi(),Ln(wi),Ln(Wr),kl(),a=f.flags,a&65536&&!(a&128)?(f.flags=a&-65537|128,f):null;case 5:return no(f),null;case 13:if(Ln(yo),a=f.memoizedState,a!==null&&a.dehydrated!==null){if(f.alternate===null)throw Error(d(340));Du()}return a=f.flags,a&65536?(f.flags=a&-65537|128,f):null;case 19:return Ln(yo),null;case 4:return pi(),null;case 10:return Ll(f.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var Vs=!1,Ra=!1,Nr=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function dl(a,f){var S=a.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(R){Qa(a,f,R)}else S.current=null}function vf(a,f,S){try{S()}catch(R){Qa(a,f,R)}}var Fm=!1;function yf(a,f){for(ye(a.containerInfo),Pr=f;Pr!==null;)if(a=Pr,f=a.child,(a.subtreeFlags&1028)!==0&&f!==null)f.return=a,Pr=f;else for(;Pr!==null;){a=Pr;try{var S=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,z=S.memoizedState,ne=a.stateNode,ke=ne.getSnapshotBeforeUpdate(a.elementType===a.type?R:Hs(a.type,R),z);ne.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:Ze&&Xt(a.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(nt){Qa(a,a.return,nt)}if(f=a.sibling,f!==null){f.return=a.return,Pr=f;break}Pr=a.return}return S=Fm,Fm=!1,S}function mu(a,f,S){var R=f.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var z=R=R.next;do{if((z.tag&a)===a){var ne=z.destroy;z.destroy=void 0,ne!==void 0&&vf(f,S,ne)}z=z.next}while(z!==R)}}function Oa(a,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var S=f=f.next;do{if((S.tag&a)===a){var R=S.create;S.destroy=R()}S=S.next}while(S!==f)}}function hl(a){var f=a.ref;if(f!==null){var S=a.stateNode;switch(a.tag){case 5:a=Ye(S);break;default:a=S}typeof f=="function"?f(a):f.current=a}}function us(a,f,S){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(js,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(a=f.updateQueue,a!==null&&(a=a.lastEffect,a!==null)){var R=a=a.next;do{var z=R,ne=z.destroy;z=z.tag,ne!==void 0&&(z&2||z&4)&&vf(f,S,ne),R=R.next}while(R!==a)}break;case 1:if(dl(f,S),a=f.stateNode,typeof a.componentWillUnmount=="function")try{a.props=f.memoizedProps,a.state=f.memoizedState,a.componentWillUnmount()}catch(ke){Qa(f,S,ke)}break;case 5:dl(f,S);break;case 4:Ze?Eh(a,f,S):nn&&nn&&(f=f.stateNode.containerInfo,S=xr(f),eo(f,S))}}function gu(a,f,S){for(var R=f;;)if(us(a,R,S),R.child===null||Ze&&R.tag===4){if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function zm(a){var f=a.alternate;f!==null&&(a.alternate=null,zm(f)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(f=a.stateNode,f!==null&&Qn(f)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function tm(a){return a.tag===5||a.tag===3||a.tag===4}function fp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tm(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function bh(a){if(Ze){e:{for(var f=a.return;f!==null;){if(tm(f))break e;f=f.return}throw Error(d(160))}var S=f;switch(S.tag){case 5:f=S.stateNode,S.flags&32&&(qr(f),S.flags&=-33),S=fp(a),fc(a,S,f);break;case 3:case 4:f=S.stateNode.containerInfo,S=fp(a),dp(a,S,f);break;default:throw Error(d(161))}}}function dp(a,f,S){var R=a.tag;if(R===5||R===6)a=a.stateNode,f?Hr(S,a,f):vr(S,a);else if(R!==4&&(a=a.child,a!==null))for(dp(a,f,S),a=a.sibling;a!==null;)dp(a,f,S),a=a.sibling}function fc(a,f,S){var R=a.tag;if(R===5||R===6)a=a.stateNode,f?hr(S,a,f):Yn(S,a);else if(R!==4&&(a=a.child,a!==null))for(fc(a,f,S),a=a.sibling;a!==null;)fc(a,f,S),a=a.sibling}function Eh(a,f,S){for(var R=f,z=!1,ne,ke;;){if(!z){z=R.return;e:for(;;){if(z===null)throw Error(d(160));switch(ne=z.stateNode,z.tag){case 5:ke=!1;break e;case 3:ne=ne.containerInfo,ke=!0;break e;case 4:ne=ne.containerInfo,ke=!0;break e}z=z.return}z=!0}if(R.tag===5||R.tag===6)gu(a,R,S),ke?wr(ne,R.stateNode):Rr(ne,R.stateNode);else if(R.tag===18)ke?on(ne,R.stateNode):yt(ne,R.stateNode);else if(R.tag===4){if(R.child!==null){ne=R.stateNode.containerInfo,ke=!0,R.child.return=R,R=R.child;continue}}else if(us(a,R,S),R.child!==null){R.child.return=R,R=R.child;continue}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return,R.tag===4&&(z=!1)}R.sibling.return=R.return,R=R.sibling}}function Uc(a,f){if(Ze){switch(f.tag){case 0:case 11:case 14:case 15:mu(3,f,f.return),Oa(3,f),mu(5,f,f.return);return;case 1:return;case 5:var S=f.stateNode;if(S!=null){var R=f.memoizedProps;a=a!==null?a.memoizedProps:R;var z=f.type,ne=f.updateQueue;f.updateQueue=null,ne!==null&&yr(S,ne,z,a,R,f)}return;case 6:if(f.stateNode===null)throw Error(d(162));S=f.memoizedProps,Mt(f.stateNode,a!==null?a.memoizedProps:S,S);return;case 3:jt&&a!==null&&a.memoizedState.isDehydrated&&pt(f.stateNode.containerInfo);return;case 12:return;case 13:hp(f);return;case 19:hp(f);return;case 17:return}throw Error(d(163))}switch(f.tag){case 0:case 11:case 14:case 15:mu(3,f,f.return),Oa(3,f),mu(5,f,f.return);return;case 12:return;case 13:hp(f);return;case 19:hp(f);return;case 3:jt&&a!==null&&a.memoizedState.isDehydrated&&pt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(nn){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,eo(f.containerInfo,f.pendingChildren);break e}throw Error(d(163))}}function hp(a){var f=a.updateQueue;if(f!==null){a.updateQueue=null;var S=a.stateNode;S===null&&(S=a.stateNode=new Nr),f.forEach(function(R){var z=Mf.bind(null,a,R);S.has(R)||(S.add(R),R.then(z,z))})}}function Kv(a,f){for(Pr=f;Pr!==null;){f=Pr;var S=f.deletions;if(S!==null)for(var R=0;R<S.length;R++){var z=S[R];try{var ne=a;Ze?Eh(ne,z,f):gu(ne,z,f);var ke=z.alternate;ke!==null&&(ke.return=null),z.return=null}catch(ar){Qa(z,f,ar)}}if(S=f.child,f.subtreeFlags&12854&&S!==null)S.return=f,Pr=S;else for(;Pr!==null;){f=Pr;try{var nt=f.flags;if(nt&32&&Ze&&qr(f.stateNode),nt&512){var Pt=f.alternate;if(Pt!==null){var gn=Pt.ref;gn!==null&&(typeof gn=="function"?gn(null):gn.current=null)}}if(nt&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Jn=f.alternate;(Jn===null||Jn.memoizedState===null)&&(Th=ps())}break;case 22:var Kn=f.memoizedState!==null,Lr=f.alternate,Or=Lr!==null&&Lr.memoizedState!==null;if(S=f,Ze){e:if(R=S,z=Kn,ne=null,Ze)for(var Mr=R;;){if(Mr.tag===5){if(ne===null){ne=Mr;var Zi=Mr.stateNode;z?ri(Zi):Bt(Mr.stateNode,Mr.memoizedProps)}}else if(Mr.tag===6){if(ne===null){var sn=Mr.stateNode;z?Nn(sn):_r(sn,Mr.memoizedProps)}}else if((Mr.tag!==22&&Mr.tag!==23||Mr.memoizedState===null||Mr===R)&&Mr.child!==null){Mr.child.return=Mr,Mr=Mr.child;continue}if(Mr===R)break;for(;Mr.sibling===null;){if(Mr.return===null||Mr.return===R)break e;ne===Mr&&(ne=null),Mr=Mr.return}ne===Mr&&(ne=null),Mr.sibling.return=Mr.return,Mr=Mr.sibling}}if(Kn&&!Or&&S.mode&1){Pr=S;for(var et=S.child;et!==null;){for(S=Pr=et;Pr!==null;){R=Pr;var rt=R.child;switch(R.tag){case 0:case 11:case 14:case 15:mu(4,R,R.return);break;case 1:dl(R,R.return);var Rt=R.stateNode;if(typeof Rt.componentWillUnmount=="function"){var Fn=R.return;try{Rt.props=R.memoizedProps,Rt.state=R.memoizedState,Rt.componentWillUnmount()}catch(ar){Qa(R,Fn,ar)}}break;case 5:dl(R,R.return);break;case 22:if(R.memoizedState!==null){zu(S);continue}}rt!==null?(rt.return=R,Pr=rt):zu(S)}et=et.sibling}}}switch(nt&4102){case 2:bh(f),f.flags&=-3;break;case 6:bh(f),f.flags&=-3,Uc(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Uc(f.alternate,f);break;case 4:Uc(f.alternate,f)}}catch(ar){Qa(f,f.return,ar)}if(S=f.sibling,S!==null){S.return=f.return,Pr=S;break}Pr=f.return}}}function dc(a,f,S){Pr=a,pp(a)}function pp(a,f,S){for(var R=(a.mode&1)!==0;Pr!==null;){var z=Pr,ne=z.child;if(z.tag===22&&R){var ke=z.memoizedState!==null||Vs;if(!ke){var nt=z.alternate,Pt=nt!==null&&nt.memoizedState!==null||Ra;nt=Vs;var gn=Ra;if(Vs=ke,(Ra=Pt)&&!gn)for(Pr=z;Pr!==null;)ke=Pr,Pt=ke.child,ke.tag===22&&ke.memoizedState!==null?Ah(z):Pt!==null?(Pt.return=ke,Pr=Pt):Ah(z);for(;ne!==null;)Pr=ne,pp(ne),ne=ne.sibling;Pr=z,Vs=nt,Ra=gn}_f(a)}else z.subtreeFlags&8772&&ne!==null?(ne.return=z,Pr=ne):_f(a)}}function _f(a){for(;Pr!==null;){var f=Pr;if(f.flags&8772){var S=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ra||Oa(5,f);break;case 1:var R=f.stateNode;if(f.flags&4&&!Ra)if(S===null)R.componentDidMount();else{var z=f.elementType===f.type?S.memoizedProps:Hs(f.type,S.memoizedProps);R.componentDidUpdate(z,S.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var ne=f.updateQueue;ne!==null&&Ic(f,ne,R);break;case 3:var ke=f.updateQueue;if(ke!==null){if(S=null,f.child!==null)switch(f.child.tag){case 5:S=Ye(f.child.stateNode);break;case 1:S=f.child.stateNode}Ic(f,ke,S)}break;case 5:var nt=f.stateNode;S===null&&f.flags&4&&Zt(nt,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(jt&&f.memoizedState===null){var Pt=f.alternate;if(Pt!==null){var gn=Pt.memoizedState;if(gn!==null){var Jn=gn.dehydrated;Jn!==null&&St(Jn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(d(163))}Ra||f.flags&512&&hl(f)}catch(Kn){Qa(f,f.return,Kn)}}if(f===a){Pr=null;break}if(S=f.sibling,S!==null){S.return=f.return,Pr=S;break}Pr=f.return}}function zu(a){for(;Pr!==null;){var f=Pr;if(f===a){Pr=null;break}var S=f.sibling;if(S!==null){S.return=f.return,Pr=S;break}Pr=f.return}}function Ah(a){for(;Pr!==null;){var f=Pr;try{switch(f.tag){case 0:case 11:case 15:var S=f.return;try{Oa(4,f)}catch(Pt){Qa(f,S,Pt)}break;case 1:var R=f.stateNode;if(typeof R.componentDidMount=="function"){var z=f.return;try{R.componentDidMount()}catch(Pt){Qa(f,z,Pt)}}var ne=f.return;try{hl(f)}catch(Pt){Qa(f,ne,Pt)}break;case 5:var ke=f.return;try{hl(f)}catch(Pt){Qa(f,ke,Pt)}}}catch(Pt){Qa(f,f.return,Pt)}if(f===a){Pr=null;break}var nt=f.sibling;if(nt!==null){nt.return=f.return,Pr=nt;break}Pr=f.return}}var wf=0,jc=1,xf=2,hc=3,Ba=4;if(typeof Symbol=="function"&&Symbol.for){var vu=Symbol.for;wf=vu("selector.component"),jc=vu("selector.has_pseudo_class"),xf=vu("selector.role"),hc=vu("selector.test_id"),Ba=vu("selector.text")}function Ch(a){var f=fn(a);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(d(364));return f}if(a=Ne(a),a===null)throw Error(d(362));return a.stateNode.current}function mp(a,f){switch(f.$$typeof){case wf:if(a.type===f.value)return!0;break;case jc:e:{f=f.value,a=[a,0];for(var S=0;S<a.length;){var R=a[S++],z=a[S++],ne=f[z];if(R.tag!==5||!Pn(R)){for(;ne!=null&&mp(R,ne);)z++,ne=f[z];if(z===f.length){f=!0;break e}else for(R=R.child;R!==null;)a.push(R,z),R=R.sibling}}f=!1}return f;case xf:if(a.tag===5&&Wn(a.stateNode,f.value))return!0;break;case Ba:if((a.tag===5||a.tag===6)&&(a=Dt(a),a!==null&&0<=a.indexOf(f.value)))return!0;break;case hc:if(a.tag===5&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function jl(a){switch(a.$$typeof){case wf:return"<"+(Se(a.value)||"Unknown")+">";case jc:return":has("+(jl(a)||"")+")";case xf:return'[role="'+a.value+'"]';case Ba:return'"'+a.value+'"';case hc:return'[data-testname="'+a.value+'"]';default:throw Error(d(365))}}function Uu(a,f){var S=[];a=[a,0];for(var R=0;R<a.length;){var z=a[R++],ne=a[R++],ke=f[ne];if(z.tag!==5||!Pn(z)){for(;ke!=null&&mp(z,ke);)ne++,ke=f[ne];if(ne===f.length)S.push(z);else for(z=z.child;z!==null;)a.push(z,ne),z=z.sibling}}return S}function nm(a,f){if(!ct)throw Error(d(363));a=Ch(a),a=Uu(a,f),f=[],a=Array.from(a);for(var S=0;S<a.length;){var R=a[S++];if(R.tag===5)Pn(R)||f.push(R.stateNode);else for(R=R.child;R!==null;)a.push(R),R=R.sibling}return f}var Mh=Math.ceil,Hl=g.ReactCurrentDispatcher,bo=g.ReactCurrentOwner,ti=g.ReactCurrentBatchConfig,ai=0,Ki=null,Ji=null,Lo=0,va=0,es=Sr(0),Ds=0,Hc=null,Gc=0,Dd=0,Vc=0,xs=null,ya=null,Th=0,yu=1/0;function Sf(){yu=ps()+500}var bf=!1,_a=null,Gl=null,Vl=!1,qa=null,Ef=0,pc=0,Nd=null,Kf=-1,Ni=0;function Bo(){return ai&6?ps():Kf!==-1?Kf:Kf=ps()}function Ws(a){return a.mode&1?ai&2&&Lo!==0?Lo&-Lo:rc.transition!==null?(Ni===0&&(a=lr,lr<<=1,!(lr&4194240)&&(lr=64),Ni=a),Ni):(a=ki,a!==0?a:Dn()):1}function Da(a,f,S){if(50<pc)throw pc=0,Nd=null,Error(d(185));var R=sa(a,f);return R===null?null:(Is(R,f,S),(!(ai&2)||R!==Ki)&&(R===Ki&&(!(ai&2)&&(Dd|=f),Ds===4&&ju(R,Lo)),Na(R,S),f===1&&ai===0&&!(a.mode&1)&&(Sf(),Iu&&ja())),R)}function sa(a,f){a.lanes|=f;var S=a.alternate;for(S!==null&&(S.lanes|=f),S=a,a=a.return;a!==null;)a.childLanes|=f,S=a.alternate,S!==null&&(S.childLanes|=f),S=a,a=a.return;return S.tag===3?S.stateNode:null}function Na(a,f){var S=a.callbackNode;Ua(a,f);var R=Oi(a,a===Ki?Lo:0);if(R===0)S!==null&&au(S),a.callbackNode=null,a.callbackPriority=0;else if(f=R&-R,a.callbackPriority!==f){if(S!=null&&au(S),f===1)a.tag===0?Ca(Ld.bind(null,a)):of(Ld.bind(null,a)),nr?Tr(function(){ai===0&&ja()}):ra(tc,ja),S=null;else{switch(ha(R)){case 1:S=tc;break;case 4:S=nc;break;case 16:S=Aa;break;case 536870912:S=lu;break;default:S=Aa}S=kh(S,mc.bind(null,a))}a.callbackPriority=f,a.callbackNode=S}}function mc(a,f){if(Kf=-1,Ni=0,ai&6)throw Error(d(327));var S=a.callbackNode;if(Vu()&&a.callbackNode!==S)return null;var R=Oi(a,a===Ki?Lo:0);if(R===0)return null;if(R&30||R&a.expiredLanes||f)f=_u(a,R);else{f=R;var z=ai;ai|=2;var ne=Ph();(Ki!==a||Lo!==f)&&(Sf(),Ns(a,f));do try{qf();break}catch(nt){rm(a,nt)}while(!0);ls(),Hl.current=ne,ai=z,Ji!==null?f=0:(Ki=null,Lo=0,f=Ds)}if(f!==0){if(f===2&&(z=na(a),z!==0&&(R=z,f=ts(a,z))),f===1)throw S=Hc,Ns(a,0),ju(a,R),Na(a,ps()),S;if(f===6)ju(a,R);else{if(z=a.current.alternate,!(R&30)&&!cs(z)&&(f=_u(a,R),f===2&&(ne=na(a),ne!==0&&(R=ne,f=ts(a,ne))),f===1))throw S=Hc,Ns(a,0),ju(a,R),Na(a,ps()),S;switch(a.finishedWork=z,a.finishedLanes=R,f){case 0:case 1:throw Error(d(345));case 2:Jf(a,ya);break;case 3:if(ju(a,R),(R&130023424)===R&&(f=Th+500-ps(),10<f)){if(Oi(a,0)!==0)break;if(z=a.suspendedLanes,(z&R)!==R){Bo(),a.pingedLanes|=a.suspendedLanes&z;break}a.timeoutHandle=Lt(Jf.bind(null,a,ya),f);break}Jf(a,ya);break;case 4:if(ju(a,R),(R&4194240)===R)break;for(f=a.eventTimes,z=-1;0<R;){var ke=31-ut(R);ne=1<<ke,ke=f[ke],ke>z&&(z=ke),R&=~ne}if(R=z,R=ps()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Mh(R/1960))-R,10<R){a.timeoutHandle=Lt(Jf.bind(null,a,ya),R);break}Jf(a,ya);break;case 5:Jf(a,ya);break;default:throw Error(d(329))}}}return Na(a,ps()),a.callbackNode===S?mc.bind(null,a):null}function ts(a,f){var S=xs;return a.current.memoizedState.isDehydrated&&(Ns(a,f).flags|=256),a=_u(a,f),a!==2&&(f=ya,ya=S,f!==null&&ea(f)),a}function ea(a){ya===null?ya=a:ya.push.apply(ya,a)}function cs(a){for(var f=a;;){if(f.flags&16384){var S=f.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var R=0;R<S.length;R++){var z=S[R],ne=z.getSnapshot;z=z.value;try{if(!No(ne(),z))return!1}catch{return!1}}}if(S=f.child,f.subtreeFlags&16384&&S!==null)S.return=f,f=S;else{if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ju(a,f){for(f&=~Vc,f&=~Dd,a.suspendedLanes|=f,a.pingedLanes&=~f,a=a.expirationTimes;0<f;){var S=31-ut(f),R=1<<S;a[S]=-1,f&=~R}}function Ld(a){if(ai&6)throw Error(d(327));Vu();var f=Oi(a,0);if(!(f&1))return Na(a,ps()),null;var S=_u(a,f);if(a.tag!==0&&S===2){var R=na(a);R!==0&&(f=R,S=ts(a,R))}if(S===1)throw S=Hc,Ns(a,0),ju(a,f),Na(a,ps()),S;if(S===6)throw Error(d(345));return a.finishedWork=a.current.alternate,a.finishedLanes=f,Jf(a,ya),Na(a,ps()),null}function Yf(a){qa!==null&&qa.tag===0&&!(ai&6)&&Vu();var f=ai;ai|=1;var S=ti.transition,R=ki;try{if(ti.transition=null,ki=1,a)return a()}finally{ki=R,ti.transition=S,ai=f,!(ai&6)&&ja()}}function Af(){va=es.current,Ln(es)}function Ns(a,f){a.finishedWork=null,a.finishedLanes=0;var S=a.timeoutHandle;if(S!==ln&&(a.timeoutHandle=ln,Kt(S)),Ji!==null)for(S=Ji.return;S!==null;){var R=S;switch(Zr(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Ti();break;case 3:pi(),Ln(wi),Ln(Wr),kl();break;case 5:no(R);break;case 4:pi();break;case 13:Ln(yo);break;case 19:Ln(yo);break;case 10:Ll(R.type._context);break;case 22:case 23:Af()}S=S.return}if(Ki=a,Ji=a=wu(a.current,null),Lo=va=f,Ds=0,Hc=null,Vc=Dd=Gc=0,ya=xs=null,Go!==null){for(f=0;f<Go.length;f++)if(S=Go[f],R=S.interleaved,R!==null){S.interleaved=null;var z=R.next,ne=S.pending;if(ne!==null){var ke=ne.next;ne.next=z,R.next=ke}S.pending=R}Go=null}return a}function rm(a,f){do{var S=Ji;try{if(ls(),Va.current=vh,cf){for(var R=co.memoizedState;R!==null;){var z=R.queue;z!==null&&(z.pending=null),R=R.next}cf=!1}if(Jo=0,ia=wo=co=null,zl=!1,Dc=0,bo.current=null,S===null||S.return===null){Ds=1,Hc=f,Ji=null;break}e:{var ne=a,ke=S.return,nt=S,Pt=f;if(f=Lo,nt.flags|=32768,Pt!==null&&typeof Pt=="object"&&typeof Pt.then=="function"){var gn=Pt,Jn=nt,Kn=Jn.tag;if(!(Jn.mode&1)&&(Kn===0||Kn===11||Kn===15)){var Lr=Jn.alternate;Lr?(Jn.updateQueue=Lr.updateQueue,Jn.memoizedState=Lr.memoizedState,Jn.lanes=Lr.lanes):(Jn.updateQueue=null,Jn.memoizedState=null)}var Or=_h(ke);if(Or!==null){Or.flags&=-257,cl(Or,ke,nt,ne,f),Or.mode&1&&Nc(ne,gn,f),f=Or,Pt=gn;var Mr=f.updateQueue;if(Mr===null){var Zi=new Set;Zi.add(Pt),f.updateQueue=Zi}else Mr.add(Pt);break e}else{if(!(f&1)){Nc(ne,gn,f),Wc();break e}Pt=Error(d(426))}}else if(Kr&&nt.mode&1){var sn=_h(ke);if(sn!==null){!(sn.flags&65536)&&(sn.flags|=256),cl(sn,ke,nt,ne,f),sc(Pt);break e}}ne=Pt,Ds!==4&&(Ds=2),xs===null?xs=[ne]:xs.push(ne),Pt=Qp(Pt,nt),nt=ke;do{switch(nt.tag){case 3:nt.flags|=65536,f&=-f,nt.lanes|=f;var et=Jp(nt,Pt,f);Ou(nt,et);break e;case 1:ne=Pt;var rt=nt.type,Rt=nt.stateNode;if(!(nt.flags&128)&&(typeof rt.getDerivedStateFromError=="function"||Rt!==null&&typeof Rt.componentDidCatch=="function"&&(Gl===null||!Gl.has(Rt)))){nt.flags|=65536,f&=-f,nt.lanes|=f;var Fn=pf(nt,ne,f);Ou(nt,Fn);break e}}nt=nt.return}while(nt!==null)}Cf(S)}catch(ar){f=ar,Ji===S&&S!==null&&(Ji=S=S.return);continue}break}while(!0)}function Ph(){var a=Hl.current;return Hl.current=vh,a===null?vh:a}function Wc(){(Ds===0||Ds===3||Ds===2)&&(Ds=4),Ki===null||!(Gc&268435455)&&!(Dd&268435455)||ju(Ki,Lo)}function _u(a,f){var S=ai;ai|=2;var R=Ph();Ki===a&&Lo===f||Ns(a,f);do try{Hu();break}catch(z){rm(a,z)}while(!0);if(ls(),ai=S,Hl.current=R,Ji!==null)throw Error(d(261));return Ki=null,Lo=0,Ds}function Hu(){for(;Ji!==null;)Qf(Ji)}function qf(){for(;Ji!==null&&!ku();)Qf(Ji)}function Qf(a){var f=gp(a.alternate,a,va);a.memoizedProps=a.pendingProps,f===null?Cf(a):Ji=f,bo.current=null}function Cf(a){var f=a;do{var S=f.alternate;if(a=f.return,f.flags&32768){if(S=Sh(S,f),S!==null){S.flags&=32767,Ji=S;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ds=6,Ji=null;return}}else if(S=wh(S,f,va),S!==null){Ji=S;return}if(f=f.sibling,f!==null){Ji=f;return}Ji=f=a}while(f!==null);Ds===0&&(Ds=5)}function Jf(a,f){var S=ki,R=ti.transition;try{ti.transition=null,ki=1,Gu(a,f,S)}finally{ti.transition=R,ki=S}return null}function Gu(a,f,S){do Vu();while(qa!==null);if(ai&6)throw Error(d(327));var R=a.finishedWork,z=a.finishedLanes;if(R===null)return null;if(a.finishedWork=null,a.finishedLanes=0,R===a.current)throw Error(d(177));a.callbackNode=null,a.callbackPriority=0;var ne=R.lanes|R.childLanes;if(Ea(a,ne),a===Ki&&(Ji=Ki=null,Lo=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||Vl||(Vl=!0,kh(Aa,function(){return Vu(),null})),ne=(R.flags&15990)!==0,R.subtreeFlags&15990||ne){ne=ti.transition,ti.transition=null;var ke=ki;ki=1;var nt=ai;ai|=4,bo.current=null,yf(a,R),Kv(a,R),_e(a.containerInfo),a.current=R,dc(R),Us(),ai=nt,ki=ke,ti.transition=ne}else a.current=R;if(Vl&&(Vl=!1,qa=a,Ef=z),ne=a.pendingLanes,ne===0&&(Gl=null),pa(R.stateNode),Na(a,ps()),f!==null)for(S=a.onRecoverableError,R=0;R<f.length;R++)S(f[R]);if(bf)throw bf=!1,a=_a,_a=null,a;return Ef&1&&a.tag!==0&&Vu(),ne=a.pendingLanes,ne&1?a===Nd?pc++:(pc=0,Nd=a):pc=0,ja(),null}function Vu(){if(qa!==null){var a=ha(Ef),f=ti.transition,S=ki;try{if(ti.transition=null,ki=16>a?16:a,qa===null)var R=!1;else{if(a=qa,qa=null,Ef=0,ai&6)throw Error(d(331));var z=ai;for(ai|=4,Pr=a.current;Pr!==null;){var ne=Pr,ke=ne.child;if(Pr.flags&16){var nt=ne.deletions;if(nt!==null){for(var Pt=0;Pt<nt.length;Pt++){var gn=nt[Pt];for(Pr=gn;Pr!==null;){var Jn=Pr;switch(Jn.tag){case 0:case 11:case 15:mu(8,Jn,ne)}var Kn=Jn.child;if(Kn!==null)Kn.return=Jn,Pr=Kn;else for(;Pr!==null;){Jn=Pr;var Lr=Jn.sibling,Or=Jn.return;if(zm(Jn),Jn===gn){Pr=null;break}if(Lr!==null){Lr.return=Or,Pr=Lr;break}Pr=Or}}}var Mr=ne.alternate;if(Mr!==null){var Zi=Mr.child;if(Zi!==null){Mr.child=null;do{var sn=Zi.sibling;Zi.sibling=null,Zi=sn}while(Zi!==null)}}Pr=ne}}if(ne.subtreeFlags&2064&&ke!==null)ke.return=ne,Pr=ke;else e:for(;Pr!==null;){if(ne=Pr,ne.flags&2048)switch(ne.tag){case 0:case 11:case 15:mu(9,ne,ne.return)}var et=ne.sibling;if(et!==null){et.return=ne.return,Pr=et;break e}Pr=ne.return}}var rt=a.current;for(Pr=rt;Pr!==null;){ke=Pr;var Rt=ke.child;if(ke.subtreeFlags&2064&&Rt!==null)Rt.return=ke,Pr=Rt;else e:for(ke=rt;Pr!==null;){if(nt=Pr,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Oa(9,nt)}}catch(ar){Qa(nt,nt.return,ar)}if(nt===ke){Pr=null;break e}var Fn=nt.sibling;if(Fn!==null){Fn.return=nt.return,Pr=Fn;break e}Pr=nt.return}}if(ai=z,ja(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(js,a)}catch{}R=!0}return R}finally{ki=S,ti.transition=f}}return!1}function pl(a,f,S){f=Qp(S,f),f=Jp(a,f,1),ma(a,f),f=Bo(),a=sa(a,1),a!==null&&(Is(a,1,f),Na(a,f))}function Qa(a,f,S){if(a.tag===3)pl(a,a,S);else for(;f!==null;){if(f.tag===3){pl(f,a,S);break}else if(f.tag===1){var R=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Gl===null||!Gl.has(R))){a=Qp(S,a),a=pf(f,a,1),ma(f,a),a=Bo(),f=sa(f,1),f!==null&&(Is(f,1,a),Na(f,a));break}}f=f.return}}function im(a,f,S){var R=a.pingCache;R!==null&&R.delete(f),f=Bo(),a.pingedLanes|=a.suspendedLanes&S,Ki===a&&(Lo&S)===S&&(Ds===4||Ds===3&&(Lo&130023424)===Lo&&500>ps()-Th?Ns(a,0):Vc|=S),Na(a,f)}function Gg(a,f){f===0&&(a.mode&1?(f=dr,dr<<=1,!(dr&130023424)&&(dr=4194304)):f=1);var S=Bo();a=sa(a,f),a!==null&&(Is(a,f,S),Na(a,S))}function Zf(a){var f=a.memoizedState,S=0;f!==null&&(S=f.retryLane),Gg(a,S)}function Mf(a,f){var S=0;switch(a.tag){case 13:var R=a.stateNode,z=a.memoizedState;z!==null&&(S=z.retryLane);break;case 19:R=a.stateNode;break;default:throw Error(d(314))}R!==null&&R.delete(f),Gg(a,S)}var gp;gp=function(a,f,S){if(a!==null)if(a.memoizedProps!==f.pendingProps||wi.current)xo=!0;else{if(!(a.lanes&S)&&!(f.flags&128))return xo=!1,em(a,f,S);xo=!!(a.flags&131072)}else xo=!1,Kr&&f.flags&1048576&&zn(f,Bs,f.index);switch(f.lanes=0,f.tag){case 2:var R=f.type;a!==null&&(a.alternate=null,f.alternate=null,f.flags|=2),a=f.pendingProps;var z=Gi(f,Wr.current);Qo(f,S),z=Cd(null,f,R,a,z,S);var ne=Xa();return f.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,si(R)?(ne=!0,Ae(f)):ne=!1,f.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,cu(f),z.updater=oc,f.stateNode=z,z._reactInternals=f,Ml(f,R,a,S),f=Ia(null,f,R,!0,ne,S)):(f.tag=0,Kr&&ne&&ir(f),ms(null,f,z,S),f=f.child),f;case 16:R=f.elementType;e:{switch(a!==null&&(a.alternate=null,f.alternate=null,f.flags|=2),a=f.pendingProps,z=R._init,R=z(R._payload),f.type=R,z=f.tag=Tf(R),a=Hs(R,a),z){case 0:f=cc(null,f,R,a,S);break e;case 1:f=mf(null,f,R,a,S);break e;case 11:f=$o(null,f,R,a,S);break e;case 14:f=Vo(null,f,R,Hs(R.type,a),S);break e}throw Error(d(306,R,""))}return f;case 0:return R=f.type,z=f.pendingProps,z=f.elementType===R?z:Hs(R,z),cc(a,f,R,z,S);case 1:return R=f.type,z=f.pendingProps,z=f.elementType===R?z:Hs(R,z),mf(a,f,R,z,S);case 3:e:{if(up(f),a===null)throw Error(d(387));R=f.pendingProps,ne=f.memoizedState,z=ne.element,Ks(a,f),al(f,R,null,S);var ke=f.memoizedState;if(R=ke.element,jt&&ne.isDehydrated)if(ne={element:R,isDehydrated:!1,cache:ke.cache,transitions:ke.transitions},f.updateQueue.baseState=ne,f.memoizedState=ne,f.flags&256){z=Error(d(423)),f=cp(a,f,R,S,z);break e}else if(R!==z){z=Error(d(424)),f=cp(a,f,R,S,z);break e}else for(jt&&(Cr=su(f.stateNode.containerInfo),Xr=f,Kr=!0,To=null,so=!1),S=lf(f,null,R,S),f.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Du(),R===z){f=pu(a,f,S);break e}ms(a,f,R,S)}f=f.child}return f;case 5:return Co(f),a===null&&Ga(f),R=f.type,z=f.pendingProps,ne=a!==null?a.memoizedProps:null,ke=z.children,Qe(R,z)?ke=null:ne!==null&&Qe(R,ne)&&(f.flags|=32),fl(a,f),ms(a,f,ke,S),f.child;case 6:return a===null&&Ga(f),null;case 13:return Zp(a,f,S);case 4:return An(f,f.stateNode.containerInfo),R=f.pendingProps,a===null?f.child=ac(f,null,R,S):ms(a,f,R,S),f.child;case 11:return R=f.type,z=f.pendingProps,z=f.elementType===R?z:Hs(R,z),$o(a,f,R,z,S);case 7:return ms(a,f,f.pendingProps,S),f.child;case 8:return ms(a,f,f.pendingProps.children,S),f.child;case 12:return ms(a,f,f.pendingProps.children,S),f.child;case 10:e:{if(R=f.type._context,z=f.pendingProps,ne=f.memoizedProps,ke=z.value,Nl(f,R,ke),ne!==null)if(No(ne.value,ke)){if(ne.children===z.children&&!wi.current){f=pu(a,f,S);break e}}else for(ne=f.child,ne!==null&&(ne.return=f);ne!==null;){var nt=ne.dependencies;if(nt!==null){ke=ne.child;for(var Pt=nt.firstContext;Pt!==null;){if(Pt.context===R){if(ne.tag===1){Pt=go(-1,S&-S),Pt.tag=2;var gn=ne.updateQueue;if(gn!==null){gn=gn.shared;var Jn=gn.pending;Jn===null?Pt.next=Pt:(Pt.next=Jn.next,Jn.next=Pt),gn.pending=Pt}}ne.lanes|=S,Pt=ne.alternate,Pt!==null&&(Pt.lanes|=S),Rs(ne.return,S,f),nt.lanes|=S;break}Pt=Pt.next}}else if(ne.tag===10)ke=ne.type===f.type?null:ne.child;else if(ne.tag===18){if(ke=ne.return,ke===null)throw Error(d(341));ke.lanes|=S,nt=ke.alternate,nt!==null&&(nt.lanes|=S),Rs(ke,S,f),ke=ne.sibling}else ke=ne.child;if(ke!==null)ke.return=ne;else for(ke=ne;ke!==null;){if(ke===f){ke=null;break}if(ne=ke.sibling,ne!==null){ne.return=ke.return,ke=ne;break}ke=ke.return}ne=ke}ms(a,f,z.children,S),f=f.child}return f;case 9:return z=f.type,R=f.pendingProps.children,Qo(f,S),z=Oo(z),R=R(z),f.flags|=1,ms(a,f,R,S),f.child;case 14:return R=f.type,z=Hs(R,f.pendingProps),z=Hs(R.type,z),Vo(a,f,R,z,S);case 15:return Fc(a,f,f.type,f.pendingProps,S);case 17:return R=f.type,z=f.pendingProps,z=f.elementType===R?z:Hs(R,z),a!==null&&(a.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,si(R)?(a=!0,Ae(f)):a=!1,Qo(f,S),Rc(f,R,z),Ml(f,R,z,S),Ia(null,f,R,!0,a,S);case 19:return Ya(a,f,S);case 22:return Ka(a,f,S)}throw Error(d(156,f.tag))};function kh(a,f){return ra(a,f)}function Rl(a,f,S,R){this.tag=a,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wl(a,f,S,R){return new Rl(a,f,S,R)}function $f(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Tf(a){if(typeof a=="function")return $f(a)?1:0;if(a!=null){if(a=a.$$typeof,a===D)return 11;if(a===T)return 14}return 2}function wu(a,f){var S=a.alternate;return S===null?(S=Wl(a.tag,f,a.key,a.mode),S.elementType=a.elementType,S.type=a.type,S.stateNode=a.stateNode,S.alternate=a,a.alternate=S):(S.pendingProps=f,S.type=a.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=a.flags&14680064,S.childLanes=a.childLanes,S.lanes=a.lanes,S.child=a.child,S.memoizedProps=a.memoizedProps,S.memoizedState=a.memoizedState,S.updateQueue=a.updateQueue,f=a.dependencies,S.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},S.sibling=a.sibling,S.index=a.index,S.ref=a.ref,S}function gc(a,f,S,R,z,ne){var ke=2;if(R=a,typeof a=="function")$f(a)&&(ke=1);else if(typeof a=="string")ke=5;else e:switch(a){case A:return xu(S.children,z,ne,f);case P:ke=8,z|=8;break;case N:return a=Wl(12,S,f,z|2),a.elementType=N,a.lanes=ne,a;case I:return a=Wl(13,S,f,z),a.elementType=I,a.lanes=ne,a;case j:return a=Wl(19,S,f,z),a.elementType=j,a.lanes=ne,a;case ce:return ed(S,z,ne,f);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:ke=10;break e;case K:ke=9;break e;case D:ke=11;break e;case T:ke=14;break e;case Y:ke=16,R=null;break e}throw Error(d(130,a==null?a:typeof a,""))}return f=Wl(ke,S,f,z),f.elementType=a,f.type=R,f.lanes=ne,f}function xu(a,f,S,R){return a=Wl(7,a,R,f),a.lanes=S,a}function ed(a,f,S,R){return a=Wl(22,a,R,f),a.elementType=ce,a.lanes=S,a.stateNode={},a}function Ih(a,f,S){return a=Wl(6,a,null,f),a.lanes=S,a}function vp(a,f,S){return f=Wl(4,a.children!==null?a.children:[],a.key,f),f.lanes=S,f.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},f}function Um(a,f,S,R,z){this.tag=f,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ln,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=R,this.onRecoverableError=z,jt&&(this.mutableSourceEagerHydrationData=null)}function jm(a,f,S,R,z,ne,ke,nt,Pt){return a=new Um(a,f,S,nt,Pt),f===1?(f=1,ne===!0&&(f|=8)):f=0,ne=Wl(3,null,null,f),a.current=ne,ne.stateNode=a,ne.memoizedState={element:R,isDehydrated:S,cache:null,transitions:null},cu(ne),a}function yp(a){if(!a)return zr;a=a._reactInternals;e:{if(X(a)!==a||a.tag!==1)throw Error(d(170));var f=a;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(si(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(d(171))}if(a.tag===1){var S=a.type;if(si(S))return ae(a,S,f)}return f}function Hm(a){var f=a._reactInternals;if(f===void 0)throw typeof a.render=="function"?Error(d(188)):(a=Object.keys(a).join(","),Error(d(268,a)));return a=Ue(f),a===null?null:a.stateNode}function om(a,f){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var S=a.retryLane;a.retryLane=S!==0&&S<f?S:f}}function _p(a,f){om(a,f),(a=a.alternate)&&om(a,f)}function Vg(a){return a=Ue(a),a===null?null:a.stateNode}function x(){return null}return r.attemptContinuousHydration=function(a){if(a.tag===13){var f=Bo();Da(a,134217728,f),_p(a,134217728)}},r.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var f=Bo(),S=Ws(a);Da(a,S,f),_p(a,S)}},r.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var f=a.stateNode;if(f.current.memoizedState.isDehydrated){var S=oi(f.pendingLanes);S!==0&&(Pi(f,S|1),Na(f,ps()),!(ai&6)&&(Sf(),ja()))}break;case 13:var R=Bo();Yf(function(){return Da(a,1,R)}),_p(a,1)}},r.batchedUpdates=function(a,f){var S=ai;ai|=1;try{return a(f)}finally{ai=S,ai===0&&(Sf(),Iu&&ja())}},r.createComponentSelector=function(a){return{$$typeof:wf,value:a}},r.createContainer=function(a,f,S,R,z,ne,ke){return jm(a,f,!1,null,S,R,z,ne,ke)},r.createHasPseudoClassSelector=function(a){return{$$typeof:jc,value:a}},r.createHydrationContainer=function(a,f,S,R,z,ne,ke,nt,Pt){return a=jm(S,R,!0,a,z,ne,ke,nt,Pt),a.context=yp(null),S=a.current,R=Bo(),z=Ws(S),ne=go(R,z),ne.callback=f??null,ma(S,ne),a.current.lanes=z,Is(a,z,R),Na(a,R),a},r.createPortal=function(a,f,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:R==null?null:""+R,children:a,containerInfo:f,implementation:S}},r.createRoleSelector=function(a){return{$$typeof:xf,value:a}},r.createTestNameSelector=function(a){return{$$typeof:hc,value:a}},r.createTextSelector=function(a){return{$$typeof:Ba,value:a}},r.deferredUpdates=function(a){var f=ki,S=ti.transition;try{return ti.transition=null,ki=16,a()}finally{ki=f,ti.transition=S}},r.discreteUpdates=function(a,f,S,R,z){var ne=ki,ke=ti.transition;try{return ti.transition=null,ki=1,a(f,S,R,z)}finally{ki=ne,ti.transition=ke,ai===0&&Sf()}},r.findAllNodes=nm,r.findBoundingRects=function(a,f){if(!ct)throw Error(d(363));f=nm(a,f),a=[];for(var S=0;S<f.length;S++)a.push(rn(f[S]));for(f=a.length-1;0<f;f--){S=a[f];for(var R=S.x,z=R+S.width,ne=S.y,ke=ne+S.height,nt=f-1;0<=nt;nt--)if(f!==nt){var Pt=a[nt],gn=Pt.x,Jn=gn+Pt.width,Kn=Pt.y,Lr=Kn+Pt.height;if(R>=gn&&ne>=Kn&&z<=Jn&&ke<=Lr){a.splice(f,1);break}else if(R!==gn||S.width!==Pt.width||Lr<ne||Kn>ke){if(!(ne!==Kn||S.height!==Pt.height||Jn<R||gn>z)){gn>R&&(Pt.width+=gn-R,Pt.x=R),Jn<z&&(Pt.width=z-gn),a.splice(f,1);break}}else{Kn>ne&&(Pt.height+=Kn-ne,Pt.y=ne),Lr<ke&&(Pt.height=ke-Kn),a.splice(f,1);break}}}return a},r.findHostInstance=Hm,r.findHostInstanceWithNoPortals=function(a){return a=st(a),a=a!==null?be(a):null,a===null?null:a.stateNode},r.findHostInstanceWithWarning=function(a){return Hm(a)},r.flushControlled=function(a){var f=ai;ai|=1;var S=ti.transition,R=ki;try{ti.transition=null,ki=1,a()}finally{ki=R,ti.transition=S,ai=f,ai===0&&(Sf(),ja())}},r.flushPassiveEffects=Vu,r.flushSync=Yf,r.focusWithin=function(a,f){if(!ct)throw Error(d(363));for(a=Ch(a),f=Uu(a,f),f=Array.from(f),a=0;a<f.length;){var S=f[a++];if(!Pn(S)){if(S.tag===5&&ei(S.stateNode))return!0;for(S=S.child;S!==null;)f.push(S),S=S.sibling}}return!1},r.getCurrentUpdatePriority=function(){return ki},r.getFindAllNodesFailureDescription=function(a,f){if(!ct)throw Error(d(363));var S=0,R=[];a=[Ch(a),0];for(var z=0;z<a.length;){var ne=a[z++],ke=a[z++],nt=f[ke];if((ne.tag!==5||!Pn(ne))&&(mp(ne,nt)&&(R.push(jl(nt)),ke++,ke>S&&(S=ke)),ke<f.length))for(ne=ne.child;ne!==null;)a.push(ne,ke),ne=ne.sibling}if(S<f.length){for(a=[];S<f.length;S++)a.push(jl(f[S]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},r.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return Ye(a.child.stateNode);default:return a.child.stateNode}},r.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:g.ReactCurrentDispatcher,findHostInstanceByFiber:Vg,findFiberByHostInstance:a.findFiberByHostInstance||x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)a=!0;else{try{js=f.inject(a),uo=f}catch{}a=!!f.checkDCE}}return a},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(a,f,S,R){if(!ct)throw Error(d(363));a=nm(a,f);var z=jr(a,S,R).disconnect;return{disconnect:function(){z()}}},r.registerMutableSourceForHydration=function(a,f){var S=f._getVersion;S=S(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,S]:a.mutableSourceEagerHydrationData.push(f,S)},r.runWithPriority=function(a,f){var S=ki;try{return ki=a,f()}finally{ki=S}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(a,f,S,R){var z=f.current,ne=Bo(),ke=Ws(z);return S=yp(S),f.context===null?f.context=S:f.pendingContext=S,f=go(ne,ke),f.payload={element:a},R=R===void 0?null:R,R!==null&&(f.callback=R),ma(z,f),a=Da(z,ke,ne),a!==null&&Os(a,z,ke),ke},r}}}),tCe=os({"../../node_modules/react-reconciler/index.js"(n,e){e.exports=UVe()}}),jVe=os({"../../node_modules/debounce/index.js"(n,e){function t(r,o,s){var c,d,g,_,b;o==null&&(o=100);function A(){var N=Date.now()-_;N<o&&N>=0?c=setTimeout(A,o-N):(c=null,s||(b=r.apply(g,d),g=d=null))}var P=function(){g=this,d=arguments,_=Date.now();var N=s&&!c;return c||(c=setTimeout(A,o)),N&&(b=r.apply(g,d),g=d=null),b};return P.clear=function(){c&&(clearTimeout(c),c=null)},P.flush=function(){c&&(b=r.apply(g,d),g=d=null,clearTimeout(c),c=null)},P}t.debounce=t,e.exports=t}}),$F=os({"../../node_modules/zustand/shallow.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t,r){if(Object.is(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t);if(o.length!==Object.keys(r).length)return!1;for(var s=0;s<o.length;s++)if(!Object.prototype.hasOwnProperty.call(r,o[s])||!Object.is(t[o[s]],r[o[s]]))return!1;return!0}n.default=e}}),HVe=os({"../../node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.min.js"(n){var e=ys();function t(ae){for(var Ae="https://reactjs.org/docs/error-decoder.html?invariant="+ae,Ge=1;Ge<arguments.length;Ge++)Ae+="&args[]="+encodeURIComponent(arguments[Ge]);return"Minified React error #"+ae+"; visit "+Ae+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},c={};function d(ae){return r.call(c,ae)?!0:r.call(s,ae)?!1:o.test(ae)?c[ae]=!0:(s[ae]=!0,!1)}function g(ae,Ae,Ge,ut,$t,Yt,On){this.acceptsBooleans=Ae===2||Ae===3||Ae===4,this.attributeName=ut,this.attributeNamespace=$t,this.mustUseProperty=Ge,this.propertyName=ae,this.type=Ae,this.sanitizeURL=Yt,this.removeEmptyString=On}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ae){_[ae]=new g(ae,0,!1,ae,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ae){var Ae=ae[0];_[Ae]=new g(Ae,1,!1,ae[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ae){_[ae]=new g(ae,2,!1,ae.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ae){_[ae]=new g(ae,2,!1,ae,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ae){_[ae]=new g(ae,3,!1,ae.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ae){_[ae]=new g(ae,3,!0,ae,null,!1,!1)}),["capture","download"].forEach(function(ae){_[ae]=new g(ae,4,!1,ae,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ae){_[ae]=new g(ae,6,!1,ae,null,!1,!1)}),["rowSpan","start"].forEach(function(ae){_[ae]=new g(ae,5,!1,ae.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function A(ae){return ae[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ae){var Ae=ae.replace(b,A);_[Ae]=new g(Ae,1,!1,ae,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ae){var Ae=ae.replace(b,A);_[Ae]=new g(Ae,1,!1,ae,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ae){var Ae=ae.replace(b,A);_[Ae]=new g(Ae,1,!1,ae,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ae){_[ae]=new g(ae,1,!1,ae.toLowerCase(),null,!1,!1)}),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ae){_[ae]=new g(ae,1,!1,ae.toLowerCase(),null,!0,!0)});var P={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(ae){N.forEach(function(Ae){Ae=Ae+ae.charAt(0).toUpperCase()+ae.substring(1),P[Ae]=P[ae]})});var F=/["'&<>]/;function K(ae){if(typeof ae=="boolean"||typeof ae=="number")return""+ae;ae=""+ae;var Ae=F.exec(ae);if(Ae){var Ge="",ut,$t=0;for(ut=Ae.index;ut<ae.length;ut++){switch(ae.charCodeAt(ut)){case 34:Ae="&quot;";break;case 38:Ae="&amp;";break;case 39:Ae="&#x27;";break;case 60:Ae="&lt;";break;case 62:Ae="&gt;";break;default:continue}$t!==ut&&(Ge+=ae.substring($t,ut)),$t=ut+1,Ge+=Ae}ae=$t!==ut?Ge+ae.substring($t,ut):Ge}return ae}var D=/([A-Z])/g,I=/^ms-/,j=Array.isArray;function T(ae,Ae){return{insertionMode:ae,selectedValue:Ae}}function Y(ae,Ae,Ge){switch(Ae){case"select":return T(1,Ge.value!=null?Ge.value:Ge.defaultValue);case"svg":return T(2,null);case"math":return T(3,null);case"foreignObject":return T(1,null);case"table":return T(4,null);case"thead":case"tbody":case"tfoot":return T(5,null);case"colgroup":return T(7,null);case"tr":return T(6,null)}return 4<=ae.insertionMode||ae.insertionMode===0?T(1,null):ae}var ce=new Map;function le(ae,Ae,Ge){if(typeof Ge!="object")throw Error(t(62));Ae=!0;for(var ut in Ge)if(r.call(Ge,ut)){var $t=Ge[ut];if($t!=null&&typeof $t!="boolean"&&$t!==""){if(ut.indexOf("--")===0){var Yt=K(ut);$t=K((""+$t).trim())}else{Yt=ut;var On=ce.get(Yt);On!==void 0||(On=K(Yt.replace(D,"-$1").toLowerCase().replace(I,"-ms-")),ce.set(Yt,On)),Yt=On,$t=typeof $t=="number"?$t===0||r.call(P,ut)?""+$t:$t+"px":K((""+$t).trim())}Ae?(Ae=!1,ae.push(' style="',Yt,":",$t)):ae.push(";",Yt,":",$t)}}Ae||ae.push('"')}function Z(ae,Ae,Ge,ut){switch(Ge){case"style":le(ae,Ae,ut);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<Ge.length)||Ge[0]!=="o"&&Ge[0]!=="O"||Ge[1]!=="n"&&Ge[1]!=="N"){if(Ae=_.hasOwnProperty(Ge)?_[Ge]:null,Ae!==null){switch(typeof ut){case"function":case"symbol":return;case"boolean":if(!Ae.acceptsBooleans)return}switch(Ge=Ae.attributeName,Ae.type){case 3:ut&&ae.push(" ",Ge,'=""');break;case 4:ut===!0?ae.push(" ",Ge,'=""'):ut!==!1&&ae.push(" ",Ge,'="',K(ut),'"');break;case 5:isNaN(ut)||ae.push(" ",Ge,'="',K(ut),'"');break;case 6:!isNaN(ut)&&1<=ut&&ae.push(" ",Ge,'="',K(ut),'"');break;default:Ae.sanitizeURL&&(ut=""+ut),ae.push(" ",Ge,'="',K(ut),'"')}}else if(d(Ge)){switch(typeof ut){case"function":case"symbol":return;case"boolean":if(Ae=Ge.toLowerCase().slice(0,5),Ae!=="data-"&&Ae!=="aria-")return}ae.push(" ",Ge,'="',K(ut),'"')}}}function Se(ae,Ae,Ge){if(Ae!=null){if(Ge!=null)throw Error(t(60));if(typeof Ae!="object"||!("__html"in Ae))throw Error(t(61));Ae=Ae.__html,Ae!=null&&ae.push(""+Ae)}}function Le(ae){var Ae="";return e.Children.forEach(ae,function(Ge){Ge!=null&&(Ae+=Ge)}),Ae}function X(ae,Ae,Ge,ut){ae.push(Ue(Ge));var $t=Ge=null,Yt;for(Yt in Ae)if(r.call(Ae,Yt)){var On=Ae[Yt];if(On!=null)switch(Yt){case"children":Ge=On;break;case"dangerouslySetInnerHTML":$t=On;break;default:Z(ae,ut,Yt,On)}}return ae.push(">"),Se(ae,$t,Ge),typeof Ge=="string"?(ae.push(K(Ge)),null):Ge}var fe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,st=new Map;function Ue(ae){var Ae=st.get(ae);if(Ae===void 0){if(!fe.test(ae))throw Error(t(65,ae));Ae="<"+ae,st.set(ae,Ae)}return Ae}function Me(ae,Ae,Ge,ut,$t){switch(Ae){case"select":ae.push(Ue("select"));var Yt=null,On=null;for(Oi in Ge)if(r.call(Ge,Oi)){var lr=Ge[Oi];if(lr!=null)switch(Oi){case"children":Yt=lr;break;case"dangerouslySetInnerHTML":On=lr;break;case"defaultValue":case"value":break;default:Z(ae,ut,Oi,lr)}}return ae.push(">"),Se(ae,On,Yt),Yt;case"option":On=$t.selectedValue,ae.push(Ue("option"));var dr=lr=null,oi=null,Oi=null;for(Yt in Ge)if(r.call(Ge,Yt)){var Mo=Ge[Yt];if(Mo!=null)switch(Yt){case"children":lr=Mo;break;case"selected":oi=Mo;break;case"dangerouslySetInnerHTML":Oi=Mo;break;case"value":dr=Mo;default:Z(ae,ut,Yt,Mo)}}if(On!=null)if(Ge=dr!==null?""+dr:Le(lr),j(On)){for(ut=0;ut<On.length;ut++)if(""+On[ut]===Ge){ae.push(' selected=""');break}}else""+On===Ge&&ae.push(' selected=""');else oi&&ae.push(' selected=""');return ae.push(">"),Se(ae,Oi,lr),lr;case"textarea":ae.push(Ue("textarea")),Oi=On=Yt=null;for(lr in Ge)if(r.call(Ge,lr)&&(dr=Ge[lr],dr!=null))switch(lr){case"children":Oi=dr;break;case"value":Yt=dr;break;case"defaultValue":On=dr;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Z(ae,ut,lr,dr)}if(Yt===null&&On!==null&&(Yt=On),ae.push(">"),Oi!=null){if(Yt!=null)throw Error(t(92));if(j(Oi)&&1<Oi.length)throw Error(t(93));Yt=""+Oi}return typeof Yt=="string"&&Yt[0]===`
`&&ae.push(`
`),Yt!==null&&ae.push(K(""+Yt)),null;case"input":ae.push(Ue("input")),dr=Oi=lr=Yt=null;for(On in Ge)if(r.call(Ge,On)&&(oi=Ge[On],oi!=null))switch(On){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":dr=oi;break;case"defaultValue":lr=oi;break;case"checked":Oi=oi;break;case"value":Yt=oi;break;default:Z(ae,ut,On,oi)}return Oi!==null?Z(ae,ut,"checked",Oi):dr!==null&&Z(ae,ut,"checked",dr),Yt!==null?Z(ae,ut,"value",Yt):lr!==null&&Z(ae,ut,"value",lr),ae.push("/>"),null;case"menuitem":ae.push(Ue("menuitem"));for(var Ua in Ge)if(r.call(Ge,Ua)&&(Yt=Ge[Ua],Yt!=null))switch(Ua){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Z(ae,ut,Ua,Yt)}return ae.push(">"),null;case"title":ae.push(Ue("title")),Yt=null;for(Mo in Ge)if(r.call(Ge,Mo)&&(On=Ge[Mo],On!=null))switch(Mo){case"children":Yt=On;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Z(ae,ut,Mo,On)}return ae.push(">"),Yt;case"listing":case"pre":ae.push(Ue(Ae)),On=Yt=null;for(dr in Ge)if(r.call(Ge,dr)&&(lr=Ge[dr],lr!=null))switch(dr){case"children":Yt=lr;break;case"dangerouslySetInnerHTML":On=lr;break;default:Z(ae,ut,dr,lr)}if(ae.push(">"),On!=null){if(Yt!=null)throw Error(t(60));if(typeof On!="object"||!("__html"in On))throw Error(t(61));Ge=On.__html,Ge!=null&&(typeof Ge=="string"&&0<Ge.length&&Ge[0]===`
`?ae.push(`
`,Ge):ae.push(""+Ge))}return typeof Yt=="string"&&Yt[0]===`
`&&ae.push(`
`),Yt;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":ae.push(Ue(Ae));for(var na in Ge)if(r.call(Ge,na)&&(Yt=Ge[na],Yt!=null))switch(na){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,Ae));default:Z(ae,ut,na,Yt)}return ae.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return X(ae,Ge,Ae,ut);case"html":return $t.insertionMode===0&&ae.push("<!DOCTYPE html>"),X(ae,Ge,Ae,ut);default:if(Ae.indexOf("-")===-1&&typeof Ge.is!="string")return X(ae,Ge,Ae,ut);ae.push(Ue(Ae)),On=Yt=null;for(oi in Ge)if(r.call(Ge,oi)&&(lr=Ge[oi],lr!=null))switch(oi){case"children":Yt=lr;break;case"dangerouslySetInnerHTML":On=lr;break;case"style":le(ae,ut,lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:d(oi)&&typeof lr!="function"&&typeof lr!="symbol"&&ae.push(" ",oi,'="',K(lr),'"')}return ae.push(">"),Se(ae,On,Yt),Yt}}function be(ae,Ae,Ge){if(ae.push('<!--$?--><template id="'),Ge===null)throw Error(t(395));return ae.push(Ge),ae.push('"></template>')}function Ke(ae,Ae,Ge,ut){switch(Ge.insertionMode){case 0:case 1:return ae.push('<div hidden id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 2:return ae.push('<svg aria-hidden="true" style="display:none" id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 3:return ae.push('<math aria-hidden="true" style="display:none" id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 4:return ae.push('<table hidden id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 5:return ae.push('<table hidden><tbody id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 6:return ae.push('<table hidden><tr id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');case 7:return ae.push('<table hidden><colgroup id="'),ae.push(Ae.segmentPrefix),Ae=ut.toString(16),ae.push(Ae),ae.push('">');default:throw Error(t(397))}}function Ye(ae,Ae){switch(Ae.insertionMode){case 0:case 1:return ae.push("</div>");case 2:return ae.push("</svg>");case 3:return ae.push("</math>");case 4:return ae.push("</table>");case 5:return ae.push("</tbody></table>");case 6:return ae.push("</tr></table>");case 7:return ae.push("</colgroup></table>");default:throw Error(t(397))}}var de=/[<\u2028\u2029]/g;function ve(ae){return JSON.stringify(ae).replace(de,function(Ae){switch(Ae){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ye(ae,Ae){return Ae=Ae===void 0?"":Ae,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:Ae+"P:",segmentPrefix:Ae+"S:",boundaryPrefix:Ae+"B:",idPrefix:Ae,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:ae}}function _e(ae,Ae,Ge,ut){return Ge.generateStaticMarkup?(ae.push(K(Ae)),!1):(Ae===""?ae=ut:(ut&&ae.push("<!-- -->"),ae.push(K(Ae)),ae=!0),ae)}var ge=Object.assign,dt=Symbol.for("react.element"),qe=Symbol.for("react.portal"),_t=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),Lt=Symbol.for("react.provider"),Kt=Symbol.for("react.context"),ln=Symbol.for("react.forward_ref"),bn=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),nn=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),fn=Symbol.for("react.scope"),cn=Symbol.for("react.debug_trace_mode"),Dn=Symbol.for("react.legacy_hidden"),Qn=Symbol.for("react.default_value"),nr=Symbol.iterator;function Tr(ae){if(ae==null)return null;if(typeof ae=="function")return ae.displayName||ae.name||null;if(typeof ae=="string")return ae;switch(ae){case _t:return"Fragment";case qe:return"Portal";case zt:return"Profiler";case Qe:return"StrictMode";case bn:return"Suspense";case Ze:return"SuspenseList"}if(typeof ae=="object")switch(ae.$$typeof){case Kt:return(ae.displayName||"Context")+".Consumer";case Lt:return(ae._context.displayName||"Context")+".Provider";case ln:var Ae=ae.render;return ae=ae.displayName,ae||(ae=Ae.displayName||Ae.name||"",ae=ae!==""?"ForwardRef("+ae+")":"ForwardRef"),ae;case nn:return Ae=ae.displayName||null,Ae!==null?Ae:Tr(ae.type)||"Memo";case jt:Ae=ae._payload,ae=ae._init;try{return Tr(ae(Ae))}catch{}}return null}var ct={};function Ne(ae,Ae){if(ae=ae.contextTypes,!ae)return ct;var Ge={},ut;for(ut in ae)Ge[ut]=Ae[ut];return Ge}var rn=null;function Dt(ae,Ae){if(ae!==Ae){ae.context._currentValue2=ae.parentValue,ae=ae.parent;var Ge=Ae.parent;if(ae===null){if(Ge!==null)throw Error(t(401))}else{if(Ge===null)throw Error(t(401));Dt(ae,Ge)}Ae.context._currentValue2=Ae.value}}function Pn(ae){ae.context._currentValue2=ae.parentValue,ae=ae.parent,ae!==null&&Pn(ae)}function Wn(ae){var Ae=ae.parent;Ae!==null&&Wn(Ae),ae.context._currentValue2=ae.value}function ei(ae,Ae){if(ae.context._currentValue2=ae.parentValue,ae=ae.parent,ae===null)throw Error(t(402));ae.depth===Ae.depth?Dt(ae,Ae):ei(ae,Ae)}function jr(ae,Ae){var Ge=Ae.parent;if(Ge===null)throw Error(t(402));ae.depth===Ge.depth?Dt(ae,Ge):jr(ae,Ge),Ae.context._currentValue2=Ae.value}function Yn(ae){var Ae=rn;Ae!==ae&&(Ae===null?Wn(ae):ae===null?Pn(Ae):Ae.depth===ae.depth?Dt(Ae,ae):Ae.depth>ae.depth?ei(Ae,ae):jr(Ae,ae),rn=ae)}var vr={isMounted:function(){return!1},enqueueSetState:function(ae,Ae){ae=ae._reactInternals,ae.queue!==null&&ae.queue.push(Ae)},enqueueReplaceState:function(ae,Ae){ae=ae._reactInternals,ae.replace=!0,ae.queue=[Ae]},enqueueForceUpdate:function(){}};function Mt(ae,Ae,Ge,ut){var $t=ae.state!==void 0?ae.state:null;ae.updater=vr,ae.props=Ge,ae.state=$t;var Yt={queue:[],replace:!1};ae._reactInternals=Yt;var On=Ae.contextType;if(ae.context=typeof On=="object"&&On!==null?On._currentValue2:ut,On=Ae.getDerivedStateFromProps,typeof On=="function"&&(On=On(Ge,$t),$t=On==null?$t:ge({},$t,On),ae.state=$t),typeof Ae.getDerivedStateFromProps!="function"&&typeof ae.getSnapshotBeforeUpdate!="function"&&(typeof ae.UNSAFE_componentWillMount=="function"||typeof ae.componentWillMount=="function"))if(Ae=ae.state,typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount(),Ae!==ae.state&&vr.enqueueReplaceState(ae,ae.state,null),Yt.queue!==null&&0<Yt.queue.length)if(Ae=Yt.queue,On=Yt.replace,Yt.queue=null,Yt.replace=!1,On&&Ae.length===1)ae.state=Ae[0];else{for(Yt=On?Ae[0]:ae.state,$t=!0,On=On?1:0;On<Ae.length;On++){var lr=Ae[On];lr=typeof lr=="function"?lr.call(ae,Yt,Ge,ut):lr,lr!=null&&($t?($t=!1,Yt=ge({},Yt,lr)):ge(Yt,lr))}ae.state=Yt}else Yt.queue=null}var Zt={id:1,overflow:""};function yr(ae,Ae,Ge){var ut=ae.id;ae=ae.overflow;var $t=32-hr(ut)-1;ut&=~(1<<$t),Ge+=1;var Yt=32-hr(Ae)+$t;if(30<Yt){var On=$t-$t%5;return Yt=(ut&(1<<On)-1).toString(32),ut>>=On,$t-=On,{id:1<<32-hr(Ae)+$t|Ge<<$t|ut,overflow:Yt+ae}}return{id:1<<Yt|Ge<<$t|ut,overflow:ae}}var hr=Math.clz32?Math.clz32:wr,Hr=Math.log,Rr=Math.LN2;function wr(ae){return ae>>>=0,ae===0?32:31-(Hr(ae)/Rr|0)|0}function qr(ae,Ae){return ae===Ae&&(ae!==0||1/ae===1/Ae)||ae!==ae&&Ae!==Ae}var ri=typeof Object.is=="function"?Object.is:qr,Nn=null,Bt=null,_r=null,Xt=null,er=!1,xr=!1,Mi=0,Di=null,eo=0;function Ro(){if(Nn===null)throw Error(t(321));return Nn}function Ri(){if(0<eo)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function to(){return Xt===null?_r===null?(er=!1,_r=Xt=Ri()):(er=!0,Xt=_r):Xt.next===null?(er=!1,Xt=Xt.next=Ri()):(er=!0,Xt=Xt.next),Xt}function _s(){Bt=Nn=null,xr=!1,_r=null,eo=0,Xt=Di=null}function zs(ae,Ae){return typeof Ae=="function"?Ae(ae):Ae}function ol(ae,Ae,Ge){if(Nn=Ro(),Xt=to(),er){var ut=Xt.queue;if(Ae=ut.dispatch,Di!==null&&(Ge=Di.get(ut),Ge!==void 0)){Di.delete(ut),ut=Xt.memoizedState;do ut=ae(ut,Ge.action),Ge=Ge.next;while(Ge!==null);return Xt.memoizedState=ut,[ut,Ae]}return[Xt.memoizedState,Ae]}return ae=ae===zs?typeof Ae=="function"?Ae():Ae:Ge!==void 0?Ge(Ae):Ae,Xt.memoizedState=ae,ae=Xt.queue={last:null,dispatch:null},ae=ae.dispatch=ks.bind(null,Nn,ae),[Xt.memoizedState,ae]}function ss(ae,Ae){if(Nn=Ro(),Xt=to(),Ae=Ae===void 0?null:Ae,Xt!==null){var Ge=Xt.memoizedState;if(Ge!==null&&Ae!==null){var ut=Ge[1];e:if(ut===null)ut=!1;else{for(var $t=0;$t<ut.length&&$t<Ae.length;$t++)if(!ri(Ae[$t],ut[$t])){ut=!1;break e}ut=!0}if(ut)return Ge[0]}}return ae=ae(),Xt.memoizedState=[ae,Ae],ae}function ks(ae,Ae,Ge){if(25<=eo)throw Error(t(301));if(ae===Nn)if(xr=!0,ae={action:Ge,next:null},Di===null&&(Di=new Map),Ge=Di.get(Ae),Ge===void 0)Di.set(Ae,ae);else{for(Ae=Ge;Ae.next!==null;)Ae=Ae.next;Ae.next=ae}}function fi(){throw Error(t(394))}function ba(){}var su={readContext:function(ae){return ae._currentValue2},useContext:function(ae){return Ro(),ae._currentValue2},useMemo:ss,useReducer:ol,useRef:function(ae){Nn=Ro(),Xt=to();var Ae=Xt.memoizedState;return Ae===null?(ae={current:ae},Xt.memoizedState=ae):Ae},useState:function(ae){return ol(zs,ae)},useInsertionEffect:ba,useLayoutEffect:function(){},useCallback:function(ae,Ae){return ss(function(){return ae},Ae)},useImperativeHandle:ba,useEffect:ba,useDebugValue:ba,useDeferredValue:function(ae){return Ro(),ae},useTransition:function(){return Ro(),[!1,fi]},useId:function(){var ae=Bt.treeContext,Ae=ae.overflow;ae=ae.id,ae=(ae&~(1<<32-hr(ae)-1)).toString(32)+Ae;var Ge=Re;if(Ge===null)throw Error(t(404));return Ae=Mi++,ae=":"+Ge.idPrefix+"R"+ae,0<Ae&&(ae+="H"+Ae.toString(32)),ae+":"},useMutableSource:function(ae,Ae){return Ro(),Ae(ae._source)},useSyncExternalStore:function(ae,Ae,Ge){if(Ge===void 0)throw Error(t(407));return Ge()}},Re=null,$e=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function At(ae){return console.error(ae),null}function Pe(){}function at(ae,Ae,Ge,ut,$t,Yt,On,lr,dr){var oi=[],Oi=new Set;return Ae={destination:null,responseState:Ae,progressiveChunkSize:ut===void 0?12800:ut,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Oi,pingedTasks:oi,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:$t===void 0?At:$t,onAllReady:Yt===void 0?Pe:Yt,onShellReady:On===void 0?Pe:On,onShellError:lr===void 0?Pe:lr,onFatalError:dr===void 0?Pe:dr},Ge=St(Ae,0,null,Ge,!1,!1),Ge.parentFlushed=!0,ae=pt(Ae,ae,null,Ge,Oi,ct,null,Zt),oi.push(ae),Ae}function pt(ae,Ae,Ge,ut,$t,Yt,On,lr){ae.allPendingTasks++,Ge===null?ae.pendingRootTasks++:Ge.pendingTasks++;var dr={node:Ae,ping:function(){var oi=ae.pingedTasks;oi.push(dr),oi.length===1&&Ln(ae)},blockedBoundary:Ge,blockedSegment:ut,abortSet:$t,legacyContext:Yt,context:On,treeContext:lr};return $t.add(dr),dr}function St(ae,Ae,Ge,ut,$t,Yt){return{status:0,id:-1,index:Ae,parentFlushed:!1,chunks:[],children:[],formatContext:ut,boundary:Ge,lastPushedText:$t,textEmbedded:Yt}}function yt(ae,Ae){if(ae=ae.onError(Ae),ae!=null&&typeof ae!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof ae+'" instead');return ae}function on(ae,Ae){var Ge=ae.onShellError;Ge(Ae),Ge=ae.onFatalError,Ge(Ae),ae.destination!==null?(ae.status=2,ae.destination.destroy(Ae)):(ae.status=1,ae.fatalError=Ae)}function Sn(ae,Ae,Ge,ut,$t){for(Nn={},Bt=Ae,Mi=0,ae=Ge(ut,$t);xr;)xr=!1,Mi=0,eo+=1,Xt=null,ae=Ge(ut,$t);return _s(),ae}function In(ae,Ae,Ge,ut){var $t=Ge.render(),Yt=ut.childContextTypes;if(Yt!=null){var On=Ae.legacyContext;if(typeof Ge.getChildContext!="function")ut=On;else{Ge=Ge.getChildContext();for(var lr in Ge)if(!(lr in Yt))throw Error(t(108,Tr(ut)||"Unknown",lr));ut=ge({},On,Ge)}Ae.legacyContext=ut,Un(ae,Ae,$t),Ae.legacyContext=On}else Un(ae,Ae,$t)}function kn(ae,Ae){if(ae&&ae.defaultProps){Ae=ge({},Ae),ae=ae.defaultProps;for(var Ge in ae)Ae[Ge]===void 0&&(Ae[Ge]=ae[Ge]);return Ae}return Ae}function sr(ae,Ae,Ge,ut,$t){if(typeof Ge=="function")if(Ge.prototype&&Ge.prototype.isReactComponent){$t=Ne(Ge,Ae.legacyContext);var Yt=Ge.contextType;Yt=new Ge(ut,typeof Yt=="object"&&Yt!==null?Yt._currentValue2:$t),Mt(Yt,Ge,ut,$t),In(ae,Ae,Yt,Ge)}else{Yt=Ne(Ge,Ae.legacyContext),$t=Sn(ae,Ae,Ge,ut,Yt);var On=Mi!==0;if(typeof $t=="object"&&$t!==null&&typeof $t.render=="function"&&$t.$$typeof===void 0)Mt($t,Ge,ut,Yt),In(ae,Ae,$t,Ge);else if(On){ut=Ae.treeContext,Ae.treeContext=yr(ut,1,0);try{Un(ae,Ae,$t)}finally{Ae.treeContext=ut}}else Un(ae,Ae,$t)}else if(typeof Ge=="string"){switch($t=Ae.blockedSegment,Yt=Me($t.chunks,Ge,ut,ae.responseState,$t.formatContext),$t.lastPushedText=!1,On=$t.formatContext,$t.formatContext=Y(On,Ge,ut),Er(ae,Ae,Yt),$t.formatContext=On,Ge){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:$t.chunks.push("</",Ge,">")}$t.lastPushedText=!1}else{switch(Ge){case Dn:case cn:case Qe:case zt:case _t:Un(ae,Ae,ut.children);return;case Ze:Un(ae,Ae,ut.children);return;case fn:throw Error(t(343));case bn:e:{Ge=Ae.blockedBoundary,$t=Ae.blockedSegment,Yt=ut.fallback,ut=ut.children,On=new Set;var lr={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:On,errorDigest:null},dr=St(ae,$t.chunks.length,lr,$t.formatContext,!1,!1);$t.children.push(dr),$t.lastPushedText=!1;var oi=St(ae,0,null,$t.formatContext,!1,!1);oi.parentFlushed=!0,Ae.blockedBoundary=lr,Ae.blockedSegment=oi;try{if(Er(ae,Ae,ut),ae.responseState.generateStaticMarkup||oi.lastPushedText&&oi.textEmbedded&&oi.chunks.push("<!-- -->"),oi.status=1,ii(lr,oi),lr.pendingTasks===0)break e}catch(Oi){oi.status=4,lr.forceClientRender=!0,lr.errorDigest=yt(ae,Oi)}finally{Ae.blockedBoundary=Ge,Ae.blockedSegment=$t}Ae=pt(ae,Yt,Ge,dr,On,Ae.legacyContext,Ae.context,Ae.treeContext),ae.pingedTasks.push(Ae)}return}if(typeof Ge=="object"&&Ge!==null)switch(Ge.$$typeof){case ln:if(ut=Sn(ae,Ae,Ge.render,ut,$t),Mi!==0){Ge=Ae.treeContext,Ae.treeContext=yr(Ge,1,0);try{Un(ae,Ae,ut)}finally{Ae.treeContext=Ge}}else Un(ae,Ae,ut);return;case nn:Ge=Ge.type,ut=kn(Ge,ut),sr(ae,Ae,Ge,ut,$t);return;case Lt:if($t=ut.children,Ge=Ge._context,ut=ut.value,Yt=Ge._currentValue2,Ge._currentValue2=ut,On=rn,rn=ut={parent:On,depth:On===null?0:On.depth+1,context:Ge,parentValue:Yt,value:ut},Ae.context=ut,Un(ae,Ae,$t),ae=rn,ae===null)throw Error(t(403));ut=ae.parentValue,ae.context._currentValue2=ut===Qn?ae.context._defaultValue:ut,ae=rn=ae.parent,Ae.context=ae;return;case Kt:ut=ut.children,ut=ut(Ge._currentValue2),Un(ae,Ae,ut);return;case jt:$t=Ge._init,Ge=$t(Ge._payload),ut=kn(Ge,ut),sr(ae,Ae,Ge,ut,void 0);return}throw Error(t(130,Ge==null?Ge:typeof Ge,""))}}function Un(ae,Ae,Ge){if(Ae.node=Ge,typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case dt:sr(ae,Ae,Ge.type,Ge.props,Ge.ref);return;case qe:throw Error(t(257));case jt:var ut=Ge._init;Ge=ut(Ge._payload),Un(ae,Ae,Ge);return}if(j(Ge)){qn(ae,Ae,Ge);return}if(Ge===null||typeof Ge!="object"?ut=null:(ut=nr&&Ge[nr]||Ge["@@iterator"],ut=typeof ut=="function"?ut:null),ut&&(ut=ut.call(Ge))){if(Ge=ut.next(),!Ge.done){var $t=[];do $t.push(Ge.value),Ge=ut.next();while(!Ge.done);qn(ae,Ae,$t)}return}throw ae=Object.prototype.toString.call(Ge),Error(t(31,ae==="[object Object]"?"object with keys {"+Object.keys(Ge).join(", ")+"}":ae))}typeof Ge=="string"?(ut=Ae.blockedSegment,ut.lastPushedText=_e(Ae.blockedSegment.chunks,Ge,ae.responseState,ut.lastPushedText)):typeof Ge=="number"&&(ut=Ae.blockedSegment,ut.lastPushedText=_e(Ae.blockedSegment.chunks,""+Ge,ae.responseState,ut.lastPushedText))}function qn(ae,Ae,Ge){for(var ut=Ge.length,$t=0;$t<ut;$t++){var Yt=Ae.treeContext;Ae.treeContext=yr(Yt,ut,$t);try{Er(ae,Ae,Ge[$t])}finally{Ae.treeContext=Yt}}}function Er(ae,Ae,Ge){var ut=Ae.blockedSegment.formatContext,$t=Ae.legacyContext,Yt=Ae.context;try{return Un(ae,Ae,Ge)}catch(dr){if(_s(),typeof dr=="object"&&dr!==null&&typeof dr.then=="function"){Ge=dr;var On=Ae.blockedSegment,lr=St(ae,On.chunks.length,null,On.formatContext,On.lastPushedText,!0);On.children.push(lr),On.lastPushedText=!1,ae=pt(ae,Ae.node,Ae.blockedBoundary,lr,Ae.abortSet,Ae.legacyContext,Ae.context,Ae.treeContext).ping,Ge.then(ae,ae),Ae.blockedSegment.formatContext=ut,Ae.legacyContext=$t,Ae.context=Yt,Yn(Yt)}else throw Ae.blockedSegment.formatContext=ut,Ae.legacyContext=$t,Ae.context=Yt,Yn(Yt),dr}}function Qr(ae){var Ae=ae.blockedBoundary;ae=ae.blockedSegment,ae.status=3,Sr(this,Ae,ae)}function li(ae,Ae,Ge){var ut=ae.blockedBoundary;ae.blockedSegment.status=3,ut===null?(Ae.allPendingTasks--,Ae.status!==2&&(Ae.status=2,Ae.destination!==null&&Ae.destination.push(null))):(ut.pendingTasks--,ut.forceClientRender||(ut.forceClientRender=!0,ae=Ge===void 0?Error(t(432)):Ge,ut.errorDigest=Ae.onError(ae),ut.parentFlushed&&Ae.clientRenderedBoundaries.push(ut)),ut.fallbackAbortableTasks.forEach(function($t){return li($t,Ae,Ge)}),ut.fallbackAbortableTasks.clear(),Ae.allPendingTasks--,Ae.allPendingTasks===0&&(ut=Ae.onAllReady,ut()))}function ii(ae,Ae){if(Ae.chunks.length===0&&Ae.children.length===1&&Ae.children[0].boundary===null){var Ge=Ae.children[0];Ge.id=Ae.id,Ge.parentFlushed=!0,Ge.status===1&&ii(ae,Ge)}else ae.completedSegments.push(Ae)}function Sr(ae,Ae,Ge){if(Ae===null){if(Ge.parentFlushed){if(ae.completedRootSegment!==null)throw Error(t(389));ae.completedRootSegment=Ge}ae.pendingRootTasks--,ae.pendingRootTasks===0&&(ae.onShellError=Pe,Ae=ae.onShellReady,Ae())}else Ae.pendingTasks--,Ae.forceClientRender||(Ae.pendingTasks===0?(Ge.parentFlushed&&Ge.status===1&&ii(Ae,Ge),Ae.parentFlushed&&ae.completedBoundaries.push(Ae),Ae.fallbackAbortableTasks.forEach(Qr,ae),Ae.fallbackAbortableTasks.clear()):Ge.parentFlushed&&Ge.status===1&&(ii(Ae,Ge),Ae.completedSegments.length===1&&Ae.parentFlushed&&ae.partialBoundaries.push(Ae)));ae.allPendingTasks--,ae.allPendingTasks===0&&(ae=ae.onAllReady,ae())}function Ln(ae){if(ae.status!==2){var Ae=rn,Ge=$e.current;$e.current=su;var ut=Re;Re=ae.responseState;try{var $t=ae.pingedTasks,Yt;for(Yt=0;Yt<$t.length;Yt++){var On=$t[Yt],lr=ae,dr=On.blockedSegment;if(dr.status===0){Yn(On.context);try{Un(lr,On,On.node),lr.responseState.generateStaticMarkup||dr.lastPushedText&&dr.textEmbedded&&dr.chunks.push("<!-- -->"),On.abortSet.delete(On),dr.status=1,Sr(lr,On.blockedBoundary,dr)}catch(ws){if(_s(),typeof ws=="object"&&ws!==null&&typeof ws.then=="function"){var oi=On.ping;ws.then(oi,oi)}else{On.abortSet.delete(On),dr.status=4;var Oi=On.blockedBoundary,Mo=ws,Ua=yt(lr,Mo);if(Oi===null?on(lr,Mo):(Oi.pendingTasks--,Oi.forceClientRender||(Oi.forceClientRender=!0,Oi.errorDigest=Ua,Oi.parentFlushed&&lr.clientRenderedBoundaries.push(Oi))),lr.allPendingTasks--,lr.allPendingTasks===0){var na=lr.onAllReady;na()}}}finally{}}}$t.splice(0,Yt),ae.destination!==null&&Gi(ae,ae.destination)}catch(ws){yt(ae,ws),on(ae,ws)}finally{Re=ut,$e.current=Ge,Ge===su&&Yn(Ae)}}}function Gr(ae,Ae,Ge){switch(Ge.parentFlushed=!0,Ge.status){case 0:var ut=Ge.id=ae.nextSegmentId++;return Ge.lastPushedText=!1,Ge.textEmbedded=!1,ae=ae.responseState,Ae.push('<template id="'),Ae.push(ae.placeholderPrefix),ae=ut.toString(16),Ae.push(ae),Ae.push('"></template>');case 1:Ge.status=2;var $t=!0;ut=Ge.chunks;var Yt=0;Ge=Ge.children;for(var On=0;On<Ge.length;On++){for($t=Ge[On];Yt<$t.index;Yt++)Ae.push(ut[Yt]);$t=zr(ae,Ae,$t)}for(;Yt<ut.length-1;Yt++)Ae.push(ut[Yt]);return Yt<ut.length&&($t=Ae.push(ut[Yt])),$t;default:throw Error(t(390))}}function zr(ae,Ae,Ge){var ut=Ge.boundary;if(ut===null)return Gr(ae,Ae,Ge);if(ut.parentFlushed=!0,ut.forceClientRender)return ae.responseState.generateStaticMarkup||(ut=ut.errorDigest,Ae.push("<!--$!-->"),Ae.push("<template"),ut&&(Ae.push(' data-dgst="'),ut=K(ut),Ae.push(ut),Ae.push('"')),Ae.push("></template>")),Gr(ae,Ae,Ge),ae=ae.responseState.generateStaticMarkup?!0:Ae.push("<!--/$-->"),ae;if(0<ut.pendingTasks){ut.rootSegmentID=ae.nextSegmentId++,0<ut.completedSegments.length&&ae.partialBoundaries.push(ut);var $t=ae.responseState,Yt=$t.nextSuspenseID++;return $t=$t.boundaryPrefix+Yt.toString(16),ut=ut.id=$t,be(Ae,ae.responseState,ut),Gr(ae,Ae,Ge),Ae.push("<!--/$-->")}if(ut.byteSize>ae.progressiveChunkSize)return ut.rootSegmentID=ae.nextSegmentId++,ae.completedBoundaries.push(ut),be(Ae,ae.responseState,ut.id),Gr(ae,Ae,Ge),Ae.push("<!--/$-->");if(ae.responseState.generateStaticMarkup||Ae.push("<!--$-->"),Ge=ut.completedSegments,Ge.length!==1)throw Error(t(391));return zr(ae,Ae,Ge[0]),ae=ae.responseState.generateStaticMarkup?!0:Ae.push("<!--/$-->"),ae}function Wr(ae,Ae,Ge){return Ke(Ae,ae.responseState,Ge.formatContext,Ge.id),zr(ae,Ae,Ge),Ye(Ae,Ge.formatContext)}function wi(ae,Ae,Ge){for(var ut=Ge.completedSegments,$t=0;$t<ut.length;$t++)mo(ae,Ae,Ge,ut[$t]);if(ut.length=0,ae=ae.responseState,ut=Ge.id,Ge=Ge.rootSegmentID,Ae.push(ae.startInlineScript),ae.sentCompleteBoundaryFunction?Ae.push('$RC("'):(ae.sentCompleteBoundaryFunction=!0,Ae.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),ut===null)throw Error(t(395));return Ge=Ge.toString(16),Ae.push(ut),Ae.push('","'),Ae.push(ae.segmentPrefix),Ae.push(Ge),Ae.push('")<\/script>')}function mo(ae,Ae,Ge,ut){if(ut.status===2)return!0;var $t=ut.id;if($t===-1){if((ut.id=Ge.rootSegmentID)===-1)throw Error(t(392));return Wr(ae,Ae,ut)}return Wr(ae,Ae,ut),ae=ae.responseState,Ae.push(ae.startInlineScript),ae.sentCompleteSegmentFunction?Ae.push('$RS("'):(ae.sentCompleteSegmentFunction=!0,Ae.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),Ae.push(ae.segmentPrefix),$t=$t.toString(16),Ae.push($t),Ae.push('","'),Ae.push(ae.placeholderPrefix),Ae.push($t),Ae.push('")<\/script>')}function Gi(ae,Ae){try{var Ge=ae.completedRootSegment;if(Ge!==null&&ae.pendingRootTasks===0){zr(ae,Ae,Ge),ae.completedRootSegment=null;var ut=ae.responseState.bootstrapChunks;for(Ge=0;Ge<ut.length-1;Ge++)Ae.push(ut[Ge]);Ge<ut.length&&Ae.push(ut[Ge])}var $t=ae.clientRenderedBoundaries,Yt;for(Yt=0;Yt<$t.length;Yt++){var On=$t[Yt];ut=Ae;var lr=ae.responseState,dr=On.id,oi=On.errorDigest,Oi=On.errorMessage,Mo=On.errorComponentStack;if(ut.push(lr.startInlineScript),lr.sentClientRenderFunction?ut.push('$RX("'):(lr.sentClientRenderFunction=!0,ut.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),dr===null)throw Error(t(395));if(ut.push(dr),ut.push('"'),oi||Oi||Mo){ut.push(",");var Ua=ve(oi||"");ut.push(Ua)}if(Oi||Mo){ut.push(",");var na=ve(Oi||"");ut.push(na)}if(Mo){ut.push(",");var ws=ve(Mo);ut.push(ws)}if(!ut.push(")<\/script>")){ae.destination=null,Yt++,$t.splice(0,Yt);return}}$t.splice(0,Yt);var Is=ae.completedBoundaries;for(Yt=0;Yt<Is.length;Yt++)if(!wi(ae,Ae,Is[Yt])){ae.destination=null,Yt++,Is.splice(0,Yt);return}Is.splice(0,Yt);var Ea=ae.partialBoundaries;for(Yt=0;Yt<Ea.length;Yt++){var Pi=Ea[Yt];e:{$t=ae,On=Ae;var ki=Pi.completedSegments;for(lr=0;lr<ki.length;lr++)if(!mo($t,On,Pi,ki[lr])){lr++,ki.splice(0,lr);var ha=!1;break e}ki.splice(0,lr),ha=!0}if(!ha){ae.destination=null,Yt++,Ea.splice(0,Yt);return}}Ea.splice(0,Yt);var ra=ae.completedBoundaries;for(Yt=0;Yt<ra.length;Yt++)if(!wi(ae,Ae,ra[Yt])){ae.destination=null,Yt++,ra.splice(0,Yt);return}ra.splice(0,Yt)}finally{ae.allPendingTasks===0&&ae.pingedTasks.length===0&&ae.clientRenderedBoundaries.length===0&&ae.completedBoundaries.length===0&&Ae.push(null)}}function si(ae,Ae){try{var Ge=ae.abortableTasks;Ge.forEach(function(ut){return li(ut,ae,Ae)}),Ge.clear(),ae.destination!==null&&Gi(ae,ae.destination)}catch(ut){yt(ae,ut),on(ae,ut)}}function Ti(){}function So(ae,Ae,Ge,ut){var $t=!1,Yt=null,On="",lr={push:function(oi){return oi!==null&&(On+=oi),!0},destroy:function(oi){$t=!0,Yt=oi}},dr=!1;if(ae=at(ae,ye(Ge,Ae?Ae.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Ti,void 0,function(){dr=!0},void 0,void 0),Ln(ae),si(ae,ut),ae.status===1)ae.status=2,lr.destroy(ae.fatalError);else if(ae.status!==2&&ae.destination===null){ae.destination=lr;try{Gi(ae,lr)}catch(oi){yt(ae,oi),on(ae,oi)}}if($t)throw Yt;if(!dr)throw Error(t(426));return On}n.renderToNodeStream=function(){throw Error(t(207))},n.renderToStaticMarkup=function(ae,Ae){return So(ae,Ae,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.renderToStaticNodeStream=function(){throw Error(t(208))},n.renderToString=function(ae,Ae){return So(ae,Ae,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.version="18.2.0"}}),GVe=os({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js"(n){var e=ys();function t(ue){for(var Ce="https://reactjs.org/docs/error-decoder.html?invariant="+ue,Ve=1;Ve<arguments.length;Ve++)Ce+="&args[]="+encodeURIComponent(arguments[Ve]);return"Minified React error #"+ue+"; visit "+Ce+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,o=0;function s(ue,Ce){if(Ce.length!==0)if(512<Ce.length)0<o&&(ue.enqueue(new Uint8Array(r.buffer,0,o)),r=new Uint8Array(512),o=0),ue.enqueue(Ce);else{var Ve=r.length-o;Ve<Ce.length&&(Ve===0?ue.enqueue(r):(r.set(Ce.subarray(0,Ve),o),ue.enqueue(r),Ce=Ce.subarray(Ve)),r=new Uint8Array(512),o=0),r.set(Ce,o),o+=Ce.length}}function c(ue,Ce){return s(ue,Ce),!0}function d(ue){r&&0<o&&(ue.enqueue(new Uint8Array(r.buffer,0,o)),r=null,o=0)}var g=new TextEncoder;function _(ue){return g.encode(ue)}function b(ue){return g.encode(ue)}function A(ue,Ce){typeof ue.error=="function"?ue.error(Ce):ue.close()}var P=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F={},K={};function D(ue){return P.call(K,ue)?!0:P.call(F,ue)?!1:N.test(ue)?K[ue]=!0:(F[ue]=!0,!1)}function I(ue,Ce,Ve,ft,en,Vt,zn){this.acceptsBooleans=Ce===2||Ce===3||Ce===4,this.attributeName=ft,this.attributeNamespace=en,this.mustUseProperty=Ve,this.propertyName=ue,this.type=Ce,this.sanitizeURL=Vt,this.removeEmptyString=zn}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ue){j[ue]=new I(ue,0,!1,ue,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ue){var Ce=ue[0];j[Ce]=new I(Ce,1,!1,ue[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ue){j[ue]=new I(ue,2,!1,ue.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ue){j[ue]=new I(ue,2,!1,ue,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ue){j[ue]=new I(ue,3,!1,ue.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ue){j[ue]=new I(ue,3,!0,ue,null,!1,!1)}),["capture","download"].forEach(function(ue){j[ue]=new I(ue,4,!1,ue,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ue){j[ue]=new I(ue,6,!1,ue,null,!1,!1)}),["rowSpan","start"].forEach(function(ue){j[ue]=new I(ue,5,!1,ue.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function Y(ue){return ue[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ue){var Ce=ue.replace(T,Y);j[Ce]=new I(Ce,1,!1,ue,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ue){var Ce=ue.replace(T,Y);j[Ce]=new I(Ce,1,!1,ue,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ue){var Ce=ue.replace(T,Y);j[Ce]=new I(Ce,1,!1,ue,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ue){j[ue]=new I(ue,1,!1,ue.toLowerCase(),null,!1,!1)}),j.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ue){j[ue]=new I(ue,1,!1,ue.toLowerCase(),null,!0,!0)});var ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(ue){le.forEach(function(Ce){Ce=Ce+ue.charAt(0).toUpperCase()+ue.substring(1),ce[Ce]=ce[ue]})});var Z=/["'&<>]/;function Se(ue){if(typeof ue=="boolean"||typeof ue=="number")return""+ue;ue=""+ue;var Ce=Z.exec(ue);if(Ce){var Ve="",ft,en=0;for(ft=Ce.index;ft<ue.length;ft++){switch(ue.charCodeAt(ft)){case 34:Ce="&quot;";break;case 38:Ce="&amp;";break;case 39:Ce="&#x27;";break;case 60:Ce="&lt;";break;case 62:Ce="&gt;";break;default:continue}en!==ft&&(Ve+=ue.substring(en,ft)),en=ft+1,Ve+=Ce}ue=en!==ft?Ve+ue.substring(en,ft):Ve}return ue}var Le=/([A-Z])/g,X=/^ms-/,fe=Array.isArray,st=b("<script>"),Ue=b("<\/script>"),Me=b('<script src="'),be=b('<script type="module" src="'),Ke=b('" async=""><\/script>'),Ye=/(<\/|<)(s)(cript)/gi;function de(ue,Ce,Ve,ft){return""+Ce+(Ve==="s"?"\\u0073":"\\u0053")+ft}function ve(ue,Ce,Ve,ft,en){ue=ue===void 0?"":ue,Ce=Ce===void 0?st:b('<script nonce="'+Se(Ce)+'">');var Vt=[];if(Ve!==void 0&&Vt.push(Ce,_((""+Ve).replace(Ye,de)),Ue),ft!==void 0)for(Ve=0;Ve<ft.length;Ve++)Vt.push(Me,_(Se(ft[Ve])),Ke);if(en!==void 0)for(ft=0;ft<en.length;ft++)Vt.push(be,_(Se(en[ft])),Ke);return{bootstrapChunks:Vt,startInlineScript:Ce,placeholderPrefix:b(ue+"P:"),segmentPrefix:b(ue+"S:"),boundaryPrefix:ue+"B:",idPrefix:ue,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ye(ue,Ce){return{insertionMode:ue,selectedValue:Ce}}function _e(ue){return ye(ue==="http://www.w3.org/2000/svg"?2:ue==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function ge(ue,Ce,Ve){switch(Ce){case"select":return ye(1,Ve.value!=null?Ve.value:Ve.defaultValue);case"svg":return ye(2,null);case"math":return ye(3,null);case"foreignObject":return ye(1,null);case"table":return ye(4,null);case"thead":case"tbody":case"tfoot":return ye(5,null);case"colgroup":return ye(7,null);case"tr":return ye(6,null)}return 4<=ue.insertionMode||ue.insertionMode===0?ye(1,null):ue}var dt=b("<!-- -->");function qe(ue,Ce,Ve,ft){return Ce===""?ft:(ft&&ue.push(dt),ue.push(_(Se(Ce))),!0)}var _t=new Map,Qe=b(' style="'),zt=b(":"),Lt=b(";");function Kt(ue,Ce,Ve){if(typeof Ve!="object")throw Error(t(62));Ce=!0;for(var ft in Ve)if(P.call(Ve,ft)){var en=Ve[ft];if(en!=null&&typeof en!="boolean"&&en!==""){if(ft.indexOf("--")===0){var Vt=_(Se(ft));en=_(Se((""+en).trim()))}else{Vt=ft;var zn=_t.get(Vt);zn!==void 0||(zn=b(Se(Vt.replace(Le,"-$1").toLowerCase().replace(X,"-ms-"))),_t.set(Vt,zn)),Vt=zn,en=typeof en=="number"?en===0||P.call(ce,ft)?_(""+en):_(en+"px"):_(Se((""+en).trim()))}Ce?(Ce=!1,ue.push(Qe,Vt,zt,en)):ue.push(Lt,Vt,zt,en)}}Ce||ue.push(Ze)}var ln=b(" "),bn=b('="'),Ze=b('"'),nn=b('=""');function jt(ue,Ce,Ve,ft){switch(Ve){case"style":Kt(ue,Ce,ft);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<Ve.length)||Ve[0]!=="o"&&Ve[0]!=="O"||Ve[1]!=="n"&&Ve[1]!=="N"){if(Ce=j.hasOwnProperty(Ve)?j[Ve]:null,Ce!==null){switch(typeof ft){case"function":case"symbol":return;case"boolean":if(!Ce.acceptsBooleans)return}switch(Ve=_(Ce.attributeName),Ce.type){case 3:ft&&ue.push(ln,Ve,nn);break;case 4:ft===!0?ue.push(ln,Ve,nn):ft!==!1&&ue.push(ln,Ve,bn,_(Se(ft)),Ze);break;case 5:isNaN(ft)||ue.push(ln,Ve,bn,_(Se(ft)),Ze);break;case 6:!isNaN(ft)&&1<=ft&&ue.push(ln,Ve,bn,_(Se(ft)),Ze);break;default:Ce.sanitizeURL&&(ft=""+ft),ue.push(ln,Ve,bn,_(Se(ft)),Ze)}}else if(D(Ve)){switch(typeof ft){case"function":case"symbol":return;case"boolean":if(Ce=Ve.toLowerCase().slice(0,5),Ce!=="data-"&&Ce!=="aria-")return}ue.push(ln,_(Ve),bn,_(Se(ft)),Ze)}}}var fn=b(">"),cn=b("/>");function Dn(ue,Ce,Ve){if(Ce!=null){if(Ve!=null)throw Error(t(60));if(typeof Ce!="object"||!("__html"in Ce))throw Error(t(61));Ce=Ce.__html,Ce!=null&&ue.push(_(""+Ce))}}function Qn(ue){var Ce="";return e.Children.forEach(ue,function(Ve){Ve!=null&&(Ce+=Ve)}),Ce}var nr=b(' selected=""');function Tr(ue,Ce,Ve,ft){ue.push(Dt(Ve));var en=Ve=null,Vt;for(Vt in Ce)if(P.call(Ce,Vt)){var zn=Ce[Vt];if(zn!=null)switch(Vt){case"children":Ve=zn;break;case"dangerouslySetInnerHTML":en=zn;break;default:jt(ue,ft,Vt,zn)}}return ue.push(fn),Dn(ue,en,Ve),typeof Ve=="string"?(ue.push(_(Se(Ve))),null):Ve}var ct=b(`
`),Ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,rn=new Map;function Dt(ue){var Ce=rn.get(ue);if(Ce===void 0){if(!Ne.test(ue))throw Error(t(65,ue));Ce=b("<"+ue),rn.set(ue,Ce)}return Ce}var Pn=b("<!DOCTYPE html>");function Wn(ue,Ce,Ve,ft,en){switch(Ce){case"select":ue.push(Dt("select"));var Vt=null,zn=null;for(Cr in Ve)if(P.call(Ve,Cr)){var ir=Ve[Cr];if(ir!=null)switch(Cr){case"children":Vt=ir;break;case"dangerouslySetInnerHTML":zn=ir;break;case"defaultValue":case"value":break;default:jt(ue,ft,Cr,ir)}}return ue.push(fn),Dn(ue,zn,Vt),Vt;case"option":zn=en.selectedValue,ue.push(Dt("option"));var Zr=ir=null,Xr=null,Cr=null;for(Vt in Ve)if(P.call(Ve,Vt)){var Kr=Ve[Vt];if(Kr!=null)switch(Vt){case"children":ir=Kr;break;case"selected":Xr=Kr;break;case"dangerouslySetInnerHTML":Cr=Kr;break;case"value":Zr=Kr;default:jt(ue,ft,Vt,Kr)}}if(zn!=null)if(Ve=Zr!==null?""+Zr:Qn(ir),fe(zn)){for(ft=0;ft<zn.length;ft++)if(""+zn[ft]===Ve){ue.push(nr);break}}else""+zn===Ve&&ue.push(nr);else Xr&&ue.push(nr);return ue.push(fn),Dn(ue,Cr,ir),ir;case"textarea":ue.push(Dt("textarea")),Cr=zn=Vt=null;for(ir in Ve)if(P.call(Ve,ir)&&(Zr=Ve[ir],Zr!=null))switch(ir){case"children":Cr=Zr;break;case"value":Vt=Zr;break;case"defaultValue":zn=Zr;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:jt(ue,ft,ir,Zr)}if(Vt===null&&zn!==null&&(Vt=zn),ue.push(fn),Cr!=null){if(Vt!=null)throw Error(t(92));if(fe(Cr)&&1<Cr.length)throw Error(t(93));Vt=""+Cr}return typeof Vt=="string"&&Vt[0]===`
`&&ue.push(ct),Vt!==null&&ue.push(_(Se(""+Vt))),null;case"input":ue.push(Dt("input")),Zr=Cr=ir=Vt=null;for(zn in Ve)if(P.call(Ve,zn)&&(Xr=Ve[zn],Xr!=null))switch(zn){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":Zr=Xr;break;case"defaultValue":ir=Xr;break;case"checked":Cr=Xr;break;case"value":Vt=Xr;break;default:jt(ue,ft,zn,Xr)}return Cr!==null?jt(ue,ft,"checked",Cr):Zr!==null&&jt(ue,ft,"checked",Zr),Vt!==null?jt(ue,ft,"value",Vt):ir!==null&&jt(ue,ft,"value",ir),ue.push(cn),null;case"menuitem":ue.push(Dt("menuitem"));for(var so in Ve)if(P.call(Ve,so)&&(Vt=Ve[so],Vt!=null))switch(so){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:jt(ue,ft,so,Vt)}return ue.push(fn),null;case"title":ue.push(Dt("title")),Vt=null;for(Kr in Ve)if(P.call(Ve,Kr)&&(zn=Ve[Kr],zn!=null))switch(Kr){case"children":Vt=zn;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:jt(ue,ft,Kr,zn)}return ue.push(fn),Vt;case"listing":case"pre":ue.push(Dt(Ce)),zn=Vt=null;for(Zr in Ve)if(P.call(Ve,Zr)&&(ir=Ve[Zr],ir!=null))switch(Zr){case"children":Vt=ir;break;case"dangerouslySetInnerHTML":zn=ir;break;default:jt(ue,ft,Zr,ir)}if(ue.push(fn),zn!=null){if(Vt!=null)throw Error(t(60));if(typeof zn!="object"||!("__html"in zn))throw Error(t(61));Ve=zn.__html,Ve!=null&&(typeof Ve=="string"&&0<Ve.length&&Ve[0]===`
`?ue.push(ct,_(Ve)):ue.push(_(""+Ve)))}return typeof Vt=="string"&&Vt[0]===`
`&&ue.push(ct),Vt;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":ue.push(Dt(Ce));for(var To in Ve)if(P.call(Ve,To)&&(Vt=Ve[To],Vt!=null))switch(To){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,Ce));default:jt(ue,ft,To,Vt)}return ue.push(cn),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Tr(ue,Ve,Ce,ft);case"html":return en.insertionMode===0&&ue.push(Pn),Tr(ue,Ve,Ce,ft);default:if(Ce.indexOf("-")===-1&&typeof Ve.is!="string")return Tr(ue,Ve,Ce,ft);ue.push(Dt(Ce)),zn=Vt=null;for(Xr in Ve)if(P.call(Ve,Xr)&&(ir=Ve[Xr],ir!=null))switch(Xr){case"children":Vt=ir;break;case"dangerouslySetInnerHTML":zn=ir;break;case"style":Kt(ue,ft,ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:D(Xr)&&typeof ir!="function"&&typeof ir!="symbol"&&ue.push(ln,_(Xr),bn,_(Se(ir)),Ze)}return ue.push(fn),Dn(ue,zn,Vt),Vt}}var ei=b("</"),jr=b(">"),Yn=b('<template id="'),vr=b('"></template>'),Mt=b("<!--$-->"),Zt=b('<!--$?--><template id="'),yr=b('"></template>'),hr=b("<!--$!-->"),Hr=b("<!--/$-->"),Rr=b("<template"),wr=b('"'),qr=b(' data-dgst="');b(' data-msg="'),b(' data-stck="');var ri=b("></template>");function Nn(ue,Ce,Ve){if(s(ue,Zt),Ve===null)throw Error(t(395));return s(ue,Ve),c(ue,yr)}var Bt=b('<div hidden id="'),_r=b('">'),Xt=b("</div>"),er=b('<svg aria-hidden="true" style="display:none" id="'),xr=b('">'),Mi=b("</svg>"),Di=b('<math aria-hidden="true" style="display:none" id="'),eo=b('">'),Ro=b("</math>"),Ri=b('<table hidden id="'),to=b('">'),_s=b("</table>"),zs=b('<table hidden><tbody id="'),ol=b('">'),ss=b("</tbody></table>"),ks=b('<table hidden><tr id="'),fi=b('">'),ba=b("</tr></table>"),su=b('<table hidden><colgroup id="'),Re=b('">'),$e=b("</colgroup></table>");function At(ue,Ce,Ve,ft){switch(Ve.insertionMode){case 0:case 1:return s(ue,Bt),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,_r);case 2:return s(ue,er),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,xr);case 3:return s(ue,Di),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,eo);case 4:return s(ue,Ri),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,to);case 5:return s(ue,zs),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,ol);case 6:return s(ue,ks),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,fi);case 7:return s(ue,su),s(ue,Ce.segmentPrefix),s(ue,_(ft.toString(16))),c(ue,Re);default:throw Error(t(397))}}function Pe(ue,Ce){switch(Ce.insertionMode){case 0:case 1:return c(ue,Xt);case 2:return c(ue,Mi);case 3:return c(ue,Ro);case 4:return c(ue,_s);case 5:return c(ue,ss);case 6:return c(ue,ba);case 7:return c(ue,$e);default:throw Error(t(397))}}var at=b('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),pt=b('$RS("'),St=b('","'),yt=b('")<\/script>'),on=b('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Sn=b('$RC("'),In=b('","'),kn=b('")<\/script>'),sr=b('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Un=b('$RX("'),qn=b('"'),Er=b(")<\/script>"),Qr=b(","),li=/[<\u2028\u2029]/g;function ii(ue){return JSON.stringify(ue).replace(li,function(Ce){switch(Ce){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Sr=Object.assign,Ln=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),Wr=Symbol.for("react.strict_mode"),wi=Symbol.for("react.profiler"),mo=Symbol.for("react.provider"),Gi=Symbol.for("react.context"),si=Symbol.for("react.forward_ref"),Ti=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Ge=Symbol.for("react.scope"),ut=Symbol.for("react.debug_trace_mode"),$t=Symbol.for("react.legacy_hidden"),Yt=Symbol.for("react.default_value"),On=Symbol.iterator;function lr(ue){if(ue==null)return null;if(typeof ue=="function")return ue.displayName||ue.name||null;if(typeof ue=="string")return ue;switch(ue){case zr:return"Fragment";case Gr:return"Portal";case wi:return"Profiler";case Wr:return"StrictMode";case Ti:return"Suspense";case So:return"SuspenseList"}if(typeof ue=="object")switch(ue.$$typeof){case Gi:return(ue.displayName||"Context")+".Consumer";case mo:return(ue._context.displayName||"Context")+".Provider";case si:var Ce=ue.render;return ue=ue.displayName,ue||(ue=Ce.displayName||Ce.name||"",ue=ue!==""?"ForwardRef("+ue+")":"ForwardRef"),ue;case ae:return Ce=ue.displayName||null,Ce!==null?Ce:lr(ue.type)||"Memo";case Ae:Ce=ue._payload,ue=ue._init;try{return lr(ue(Ce))}catch{}}return null}var dr={};function oi(ue,Ce){if(ue=ue.contextTypes,!ue)return dr;var Ve={},ft;for(ft in ue)Ve[ft]=Ce[ft];return Ve}var Oi=null;function Mo(ue,Ce){if(ue!==Ce){ue.context._currentValue=ue.parentValue,ue=ue.parent;var Ve=Ce.parent;if(ue===null){if(Ve!==null)throw Error(t(401))}else{if(Ve===null)throw Error(t(401));Mo(ue,Ve)}Ce.context._currentValue=Ce.value}}function Ua(ue){ue.context._currentValue=ue.parentValue,ue=ue.parent,ue!==null&&Ua(ue)}function na(ue){var Ce=ue.parent;Ce!==null&&na(Ce),ue.context._currentValue=ue.value}function ws(ue,Ce){if(ue.context._currentValue=ue.parentValue,ue=ue.parent,ue===null)throw Error(t(402));ue.depth===Ce.depth?Mo(ue,Ce):ws(ue,Ce)}function Is(ue,Ce){var Ve=Ce.parent;if(Ve===null)throw Error(t(402));ue.depth===Ve.depth?Mo(ue,Ve):Is(ue,Ve),Ce.context._currentValue=Ce.value}function Ea(ue){var Ce=Oi;Ce!==ue&&(Ce===null?na(ue):ue===null?Ua(Ce):Ce.depth===ue.depth?Mo(Ce,ue):Ce.depth>ue.depth?ws(Ce,ue):Is(Ce,ue),Oi=ue)}var Pi={isMounted:function(){return!1},enqueueSetState:function(ue,Ce){ue=ue._reactInternals,ue.queue!==null&&ue.queue.push(Ce)},enqueueReplaceState:function(ue,Ce){ue=ue._reactInternals,ue.replace=!0,ue.queue=[Ce]},enqueueForceUpdate:function(){}};function ki(ue,Ce,Ve,ft){var en=ue.state!==void 0?ue.state:null;ue.updater=Pi,ue.props=Ve,ue.state=en;var Vt={queue:[],replace:!1};ue._reactInternals=Vt;var zn=Ce.contextType;if(ue.context=typeof zn=="object"&&zn!==null?zn._currentValue:ft,zn=Ce.getDerivedStateFromProps,typeof zn=="function"&&(zn=zn(Ve,en),en=zn==null?en:Sr({},en,zn),ue.state=en),typeof Ce.getDerivedStateFromProps!="function"&&typeof ue.getSnapshotBeforeUpdate!="function"&&(typeof ue.UNSAFE_componentWillMount=="function"||typeof ue.componentWillMount=="function"))if(Ce=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),Ce!==ue.state&&Pi.enqueueReplaceState(ue,ue.state,null),Vt.queue!==null&&0<Vt.queue.length)if(Ce=Vt.queue,zn=Vt.replace,Vt.queue=null,Vt.replace=!1,zn&&Ce.length===1)ue.state=Ce[0];else{for(Vt=zn?Ce[0]:ue.state,en=!0,zn=zn?1:0;zn<Ce.length;zn++){var ir=Ce[zn];ir=typeof ir=="function"?ir.call(ue,Vt,Ve,ft):ir,ir!=null&&(en?(en=!1,Vt=Sr({},Vt,ir)):Sr(Vt,ir))}ue.state=Vt}else Vt.queue=null}var ha={id:1,overflow:""};function ra(ue,Ce,Ve){var ft=ue.id;ue=ue.overflow;var en=32-au(ft)-1;ft&=~(1<<en),Ve+=1;var Vt=32-au(Ce)+en;if(30<Vt){var zn=en-en%5;return Vt=(ft&(1<<zn)-1).toString(32),ft>>=zn,en-=zn,{id:1<<32-au(Ce)+en|Ve<<en|ft,overflow:Vt+ue}}return{id:1<<Vt|Ve<<en|ft,overflow:ue}}var au=Math.clz32?Math.clz32:ps,ku=Math.log,Us=Math.LN2;function ps(ue){return ue>>>=0,ue===0?32:31-(ku(ue)/Us|0)|0}function tc(ue,Ce){return ue===Ce&&(ue!==0||1/ue===1/Ce)||ue!==ue&&Ce!==Ce}var nc=typeof Object.is=="function"?Object.is:tc,Aa=null,lu=null,js=null,uo=null,pa=!1,as=!1,No=0,Xo=null,Iu=0;function uu(){if(Aa===null)throw Error(t(321));return Aa}function of(){if(0<Iu)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ca(){return uo===null?js===null?(pa=!1,js=uo=of()):(pa=!0,uo=js):uo.next===null?(pa=!1,uo=uo.next=of()):(pa=!0,uo=uo.next),uo}function ja(){lu=Aa=null,as=!1,js=null,Iu=0,uo=Xo=null}function rc(ue,Ce){return typeof Ce=="function"?Ce(ue):Ce}function sl(ue,Ce,Ve){if(Aa=uu(),uo=Ca(),pa){var ft=uo.queue;if(Ce=ft.dispatch,Xo!==null&&(Ve=Xo.get(ft),Ve!==void 0)){Xo.delete(ft),ft=uo.memoizedState;do ft=ue(ft,Ve.action),Ve=Ve.next;while(Ve!==null);return uo.memoizedState=ft,[ft,Ce]}return[uo.memoizedState,Ce]}return ue=ue===rc?typeof Ce=="function"?Ce():Ce:Ve!==void 0?Ve(Ce):Ce,uo.memoizedState=ue,ue=uo.queue={last:null,dispatch:null},ue=ue.dispatch=Hs.bind(null,Aa,ue),[uo.memoizedState,ue]}function Ma(ue,Ce){if(Aa=uu(),uo=Ca(),Ce=Ce===void 0?null:Ce,uo!==null){var Ve=uo.memoizedState;if(Ve!==null&&Ce!==null){var ft=Ve[1];e:if(ft===null)ft=!1;else{for(var en=0;en<ft.length&&en<Ce.length;en++)if(!nc(Ce[en],ft[en])){ft=!1;break e}ft=!0}if(ft)return Ve[0]}}return ue=ue(),uo.memoizedState=[ue,Ce],ue}function Hs(ue,Ce,Ve){if(25<=Iu)throw Error(t(301));if(ue===Aa)if(as=!0,ue={action:Ve,next:null},Xo===null&&(Xo=new Map),Ve=Xo.get(Ce),Ve===void 0)Xo.set(Ce,ue);else{for(Ce=Ve;Ce.next!==null;)Ce=Ce.next;Ce.next=ue}}function Ru(){throw Error(t(394))}function Ta(){}var Ha={readContext:function(ue){return ue._currentValue},useContext:function(ue){return uu(),ue._currentValue},useMemo:Ma,useReducer:sl,useRef:function(ue){Aa=uu(),uo=Ca();var Ce=uo.memoizedState;return Ce===null?(ue={current:ue},uo.memoizedState=ue):Ce},useState:function(ue){return sl(rc,ue)},useInsertionEffect:Ta,useLayoutEffect:function(){},useCallback:function(ue,Ce){return Ma(function(){return ue},Ce)},useImperativeHandle:Ta,useEffect:Ta,useDebugValue:Ta,useDeferredValue:function(ue){return uu(),ue},useTransition:function(){return uu(),[!1,Ru]},useId:function(){var ue=lu.treeContext,Ce=ue.overflow;ue=ue.id,ue=(ue&~(1<<32-au(ue)-1)).toString(32)+Ce;var Ve=Cl;if(Ve===null)throw Error(t(404));return Ce=No++,ue=":"+Ve.idPrefix+"R"+ue,0<Ce&&(ue+="H"+Ce.toString(32)),ue+":"},useMutableSource:function(ue,Ce){return uu(),Ce(ue._source)},useSyncExternalStore:function(ue,Ce,Ve){if(Ve===void 0)throw Error(t(407));return Ve()}},Cl=null,ls=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Nl(ue){return console.error(ue),null}function Ll(){}function Rs(ue,Ce,Ve,ft,en,Vt,zn,ir,Zr){var Xr=[],Cr=new Set;return Ce={destination:null,responseState:Ce,progressiveChunkSize:ft===void 0?12800:ft,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Cr,pingedTasks:Xr,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:en===void 0?Nl:en,onAllReady:Vt===void 0?Ll:Vt,onShellReady:zn===void 0?Ll:zn,onShellError:ir===void 0?Ll:ir,onFatalError:Zr===void 0?Ll:Zr},Ve=Oo(Ce,0,null,Ve,!1,!1),Ve.parentFlushed=!0,ue=Qo(Ce,ue,null,Ve,Cr,dr,null,ha),Xr.push(ue),Ce}function Qo(ue,Ce,Ve,ft,en,Vt,zn,ir){ue.allPendingTasks++,Ve===null?ue.pendingRootTasks++:Ve.pendingTasks++;var Zr={node:Ce,ping:function(){var Xr=ue.pingedTasks;Xr.push(Zr),Xr.length===1&&sf(ue)},blockedBoundary:Ve,blockedSegment:ft,abortSet:en,legacyContext:Vt,context:zn,treeContext:ir};return en.add(Zr),Zr}function Oo(ue,Ce,Ve,ft,en,Vt){return{status:0,id:-1,index:Ce,parentFlushed:!1,chunks:[],children:[],formatContext:ft,boundary:Ve,lastPushedText:en,textEmbedded:Vt}}function Go(ue,Ce){if(ue=ue.onError(Ce),ue!=null&&typeof ue!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof ue+'" instead');return ue}function Uo(ue,Ce){var Ve=ue.onShellError;Ve(Ce),Ve=ue.onFatalError,Ve(Ce),ue.destination!==null?(ue.status=2,A(ue.destination,Ce)):(ue.status=1,ue.fatalError=Ce)}function cu(ue,Ce,Ve,ft,en){for(Aa={},lu=Ce,No=0,ue=Ve(ft,en);as;)as=!1,No=0,Iu+=1,uo=null,ue=Ve(ft,en);return ja(),ue}function Ks(ue,Ce,Ve,ft){var en=Ve.render(),Vt=ft.childContextTypes;if(Vt!=null){var zn=Ce.legacyContext;if(typeof Ve.getChildContext!="function")ft=zn;else{Ve=Ve.getChildContext();for(var ir in Ve)if(!(ir in Vt))throw Error(t(108,lr(ft)||"Unknown",ir));ft=Sr({},zn,Ve)}Ce.legacyContext=ft,Os(ue,Ce,en),Ce.legacyContext=zn}else Os(ue,Ce,en)}function go(ue,Ce){if(ue&&ue.defaultProps){Ce=Sr({},Ce),ue=ue.defaultProps;for(var Ve in ue)Ce[Ve]===void 0&&(Ce[Ve]=ue[Ve]);return Ce}return Ce}function ma(ue,Ce,Ve,ft,en){if(typeof Ve=="function")if(Ve.prototype&&Ve.prototype.isReactComponent){en=oi(Ve,Ce.legacyContext);var Vt=Ve.contextType;Vt=new Ve(ft,typeof Vt=="object"&&Vt!==null?Vt._currentValue:en),ki(Vt,Ve,ft,en),Ks(ue,Ce,Vt,Ve)}else{Vt=oi(Ve,Ce.legacyContext),en=cu(ue,Ce,Ve,ft,Vt);var zn=No!==0;if(typeof en=="object"&&en!==null&&typeof en.render=="function"&&en.$$typeof===void 0)ki(en,Ve,ft,Vt),Ks(ue,Ce,en,Ve);else if(zn){ft=Ce.treeContext,Ce.treeContext=ra(ft,1,0);try{Os(ue,Ce,en)}finally{Ce.treeContext=ft}}else Os(ue,Ce,en)}else if(typeof Ve=="string"){switch(en=Ce.blockedSegment,Vt=Wn(en.chunks,Ve,ft,ue.responseState,en.formatContext),en.lastPushedText=!1,zn=en.formatContext,en.formatContext=ge(zn,Ve,ft),al(ue,Ce,Vt),en.formatContext=zn,Ve){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:en.chunks.push(ei,_(Ve),jr)}en.lastPushedText=!1}else{switch(Ve){case $t:case ut:case Wr:case wi:case zr:Os(ue,Ce,ft.children);return;case So:Os(ue,Ce,ft.children);return;case Ge:throw Error(t(343));case Ti:e:{Ve=Ce.blockedBoundary,en=Ce.blockedSegment,Vt=ft.fallback,ft=ft.children,zn=new Set;var ir={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:zn,errorDigest:null},Zr=Oo(ue,en.chunks.length,ir,en.formatContext,!1,!1);en.children.push(Zr),en.lastPushedText=!1;var Xr=Oo(ue,0,null,en.formatContext,!1,!1);Xr.parentFlushed=!0,Ce.blockedBoundary=ir,Ce.blockedSegment=Xr;try{if(al(ue,Ce,ft),Xr.lastPushedText&&Xr.textEmbedded&&Xr.chunks.push(dt),Xr.status=1,Fl(ir,Xr),ir.pendingTasks===0)break e}catch(Cr){Xr.status=4,ir.forceClientRender=!0,ir.errorDigest=Go(ue,Cr)}finally{Ce.blockedBoundary=Ve,Ce.blockedSegment=en}Ce=Qo(ue,Vt,Ve,Zr,zn,Ce.legacyContext,Ce.context,Ce.treeContext),ue.pingedTasks.push(Ce)}return}if(typeof Ve=="object"&&Ve!==null)switch(Ve.$$typeof){case si:if(ft=cu(ue,Ce,Ve.render,ft,en),No!==0){Ve=Ce.treeContext,Ce.treeContext=ra(Ve,1,0);try{Os(ue,Ce,ft)}finally{Ce.treeContext=Ve}}else Os(ue,Ce,ft);return;case ae:Ve=Ve.type,ft=go(Ve,ft),ma(ue,Ce,Ve,ft,en);return;case mo:if(en=ft.children,Ve=Ve._context,ft=ft.value,Vt=Ve._currentValue,Ve._currentValue=ft,zn=Oi,Oi=ft={parent:zn,depth:zn===null?0:zn.depth+1,context:Ve,parentValue:Vt,value:ft},Ce.context=ft,Os(ue,Ce,en),ue=Oi,ue===null)throw Error(t(403));ft=ue.parentValue,ue.context._currentValue=ft===Yt?ue.context._defaultValue:ft,ue=Oi=ue.parent,Ce.context=ue;return;case Gi:ft=ft.children,ft=ft(Ve._currentValue),Os(ue,Ce,ft);return;case Ae:en=Ve._init,Ve=en(Ve._payload),ft=go(Ve,ft),ma(ue,Ce,Ve,ft,void 0);return}throw Error(t(130,Ve==null?Ve:typeof Ve,""))}}function Os(ue,Ce,Ve){if(Ce.node=Ve,typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case Ln:ma(ue,Ce,Ve.type,Ve.props,Ve.ref);return;case Gr:throw Error(t(257));case Ae:var ft=Ve._init;Ve=ft(Ve._payload),Os(ue,Ce,Ve);return}if(fe(Ve)){Ou(ue,Ce,Ve);return}if(Ve===null||typeof Ve!="object"?ft=null:(ft=On&&Ve[On]||Ve["@@iterator"],ft=typeof ft=="function"?ft:null),ft&&(ft=ft.call(Ve))){if(Ve=ft.next(),!Ve.done){var en=[];do en.push(Ve.value),Ve=ft.next();while(!Ve.done);Ou(ue,Ce,en)}return}throw ue=Object.prototype.toString.call(Ve),Error(t(31,ue==="[object Object]"?"object with keys {"+Object.keys(Ve).join(", ")+"}":ue))}typeof Ve=="string"?(ft=Ce.blockedSegment,ft.lastPushedText=qe(Ce.blockedSegment.chunks,Ve,ue.responseState,ft.lastPushedText)):typeof Ve=="number"&&(ft=Ce.blockedSegment,ft.lastPushedText=qe(Ce.blockedSegment.chunks,""+Ve,ue.responseState,ft.lastPushedText))}function Ou(ue,Ce,Ve){for(var ft=Ve.length,en=0;en<ft;en++){var Vt=Ce.treeContext;Ce.treeContext=ra(Vt,ft,en);try{al(ue,Ce,Ve[en])}finally{Ce.treeContext=Vt}}}function al(ue,Ce,Ve){var ft=Ce.blockedSegment.formatContext,en=Ce.legacyContext,Vt=Ce.context;try{return Os(ue,Ce,Ve)}catch(Zr){if(ja(),typeof Zr=="object"&&Zr!==null&&typeof Zr.then=="function"){Ve=Zr;var zn=Ce.blockedSegment,ir=Oo(ue,zn.chunks.length,null,zn.formatContext,zn.lastPushedText,!0);zn.children.push(ir),zn.lastPushedText=!1,ue=Qo(ue,Ce.node,Ce.blockedBoundary,ir,Ce.abortSet,Ce.legacyContext,Ce.context,Ce.treeContext).ping,Ve.then(ue,ue),Ce.blockedSegment.formatContext=ft,Ce.legacyContext=en,Ce.context=Vt,Ea(Vt)}else throw Ce.blockedSegment.formatContext=ft,Ce.legacyContext=en,Ce.context=Vt,Ea(Vt),Zr}}function Ic(ue){var Ce=ue.blockedBoundary;ue=ue.blockedSegment,ue.status=3,oc(this,Ce,ue)}function ic(ue,Ce,Ve){var ft=ue.blockedBoundary;ue.blockedSegment.status=3,ft===null?(Ce.allPendingTasks--,Ce.status!==2&&(Ce.status=2,Ce.destination!==null&&Ce.destination.close())):(ft.pendingTasks--,ft.forceClientRender||(ft.forceClientRender=!0,ue=Ve===void 0?Error(t(432)):Ve,ft.errorDigest=Ce.onError(ue),ft.parentFlushed&&Ce.clientRenderedBoundaries.push(ft)),ft.fallbackAbortableTasks.forEach(function(en){return ic(en,Ce,Ve)}),ft.fallbackAbortableTasks.clear(),Ce.allPendingTasks--,Ce.allPendingTasks===0&&(ft=Ce.onAllReady,ft()))}function Fl(ue,Ce){if(Ce.chunks.length===0&&Ce.children.length===1&&Ce.children[0].boundary===null){var Ve=Ce.children[0];Ve.id=Ce.id,Ve.parentFlushed=!0,Ve.status===1&&Fl(ue,Ve)}else ue.completedSegments.push(Ce)}function oc(ue,Ce,Ve){if(Ce===null){if(Ve.parentFlushed){if(ue.completedRootSegment!==null)throw Error(t(389));ue.completedRootSegment=Ve}ue.pendingRootTasks--,ue.pendingRootTasks===0&&(ue.onShellError=Ll,Ce=ue.onShellReady,Ce())}else Ce.pendingTasks--,Ce.forceClientRender||(Ce.pendingTasks===0?(Ve.parentFlushed&&Ve.status===1&&Fl(Ce,Ve),Ce.parentFlushed&&ue.completedBoundaries.push(Ce),Ce.fallbackAbortableTasks.forEach(Ic,ue),Ce.fallbackAbortableTasks.clear()):Ve.parentFlushed&&Ve.status===1&&(Fl(Ce,Ve),Ce.completedSegments.length===1&&Ce.parentFlushed&&ue.partialBoundaries.push(Ce)));ue.allPendingTasks--,ue.allPendingTasks===0&&(ue=ue.onAllReady,ue())}function sf(ue){if(ue.status!==2){var Ce=Oi,Ve=ls.current;ls.current=Ha;var ft=Cl;Cl=ue.responseState;try{var en=ue.pingedTasks,Vt;for(Vt=0;Vt<en.length;Vt++){var zn=en[Vt],ir=ue,Zr=zn.blockedSegment;if(Zr.status===0){Ea(zn.context);try{Os(ir,zn,zn.node),Zr.lastPushedText&&Zr.textEmbedded&&Zr.chunks.push(dt),zn.abortSet.delete(zn),Zr.status=1,oc(ir,zn.blockedBoundary,Zr)}catch(Ys){if(ja(),typeof Ys=="object"&&Ys!==null&&typeof Ys.then=="function"){var Xr=zn.ping;Ys.then(Xr,Xr)}else{zn.abortSet.delete(zn),Zr.status=4;var Cr=zn.blockedBoundary,Kr=Ys,so=Go(ir,Kr);if(Cr===null?Uo(ir,Kr):(Cr.pendingTasks--,Cr.forceClientRender||(Cr.forceClientRender=!0,Cr.errorDigest=so,Cr.parentFlushed&&ir.clientRenderedBoundaries.push(Cr))),ir.allPendingTasks--,ir.allPendingTasks===0){var To=ir.onAllReady;To()}}}finally{}}}en.splice(0,Vt),ue.destination!==null&&Pl(ue,ue.destination)}catch(Ys){Go(ue,Ys),Uo(ue,Ys)}finally{Cl=ft,ls.current=Ve,Ve===Ha&&Ea(Ce)}}}function Rc(ue,Ce,Ve){switch(Ve.parentFlushed=!0,Ve.status){case 0:var ft=Ve.id=ue.nextSegmentId++;return Ve.lastPushedText=!1,Ve.textEmbedded=!1,ue=ue.responseState,s(Ce,Yn),s(Ce,ue.placeholderPrefix),ue=_(ft.toString(16)),s(Ce,ue),c(Ce,vr);case 1:Ve.status=2;var en=!0;ft=Ve.chunks;var Vt=0;Ve=Ve.children;for(var zn=0;zn<Ve.length;zn++){for(en=Ve[zn];Vt<en.index;Vt++)s(Ce,ft[Vt]);en=Oc(ue,Ce,en)}for(;Vt<ft.length-1;Vt++)s(Ce,ft[Vt]);return Vt<ft.length&&(en=c(Ce,ft[Vt])),en;default:throw Error(t(390))}}function Oc(ue,Ce,Ve){var ft=Ve.boundary;if(ft===null)return Rc(ue,Ce,Ve);if(ft.parentFlushed=!0,ft.forceClientRender)ft=ft.errorDigest,c(Ce,hr),s(Ce,Rr),ft&&(s(Ce,qr),s(Ce,_(Se(ft))),s(Ce,wr)),c(Ce,ri),Rc(ue,Ce,Ve);else if(0<ft.pendingTasks){ft.rootSegmentID=ue.nextSegmentId++,0<ft.completedSegments.length&&ue.partialBoundaries.push(ft);var en=ue.responseState,Vt=en.nextSuspenseID++;en=b(en.boundaryPrefix+Vt.toString(16)),ft=ft.id=en,Nn(Ce,ue.responseState,ft),Rc(ue,Ce,Ve)}else if(ft.byteSize>ue.progressiveChunkSize)ft.rootSegmentID=ue.nextSegmentId++,ue.completedBoundaries.push(ft),Nn(Ce,ue.responseState,ft.id),Rc(ue,Ce,Ve);else{if(c(Ce,Mt),Ve=ft.completedSegments,Ve.length!==1)throw Error(t(391));Oc(ue,Ce,Ve[0])}return c(Ce,Hr)}function Ml(ue,Ce,Ve){return At(Ce,ue.responseState,Ve.formatContext,Ve.id),Oc(ue,Ce,Ve),Pe(Ce,Ve.formatContext)}function Tl(ue,Ce,Ve){for(var ft=Ve.completedSegments,en=0;en<ft.length;en++)ll(ue,Ce,Ve,ft[en]);if(ft.length=0,ue=ue.responseState,ft=Ve.id,Ve=Ve.rootSegmentID,s(Ce,ue.startInlineScript),ue.sentCompleteBoundaryFunction?s(Ce,Sn):(ue.sentCompleteBoundaryFunction=!0,s(Ce,on)),ft===null)throw Error(t(395));return Ve=_(Ve.toString(16)),s(Ce,ft),s(Ce,In),s(Ce,ue.segmentPrefix),s(Ce,Ve),c(Ce,kn)}function ll(ue,Ce,Ve,ft){if(ft.status===2)return!0;var en=ft.id;if(en===-1){if((ft.id=Ve.rootSegmentID)===-1)throw Error(t(392));return Ml(ue,Ce,ft)}return Ml(ue,Ce,ft),ue=ue.responseState,s(Ce,ue.startInlineScript),ue.sentCompleteSegmentFunction?s(Ce,pt):(ue.sentCompleteSegmentFunction=!0,s(Ce,at)),s(Ce,ue.segmentPrefix),en=_(en.toString(16)),s(Ce,en),s(Ce,St),s(Ce,ue.placeholderPrefix),s(Ce,en),c(Ce,yt)}function Pl(ue,Ce){r=new Uint8Array(512),o=0;try{var Ve=ue.completedRootSegment;if(Ve!==null&&ue.pendingRootTasks===0){Oc(ue,Ce,Ve),ue.completedRootSegment=null;var ft=ue.responseState.bootstrapChunks;for(Ve=0;Ve<ft.length-1;Ve++)s(Ce,ft[Ve]);Ve<ft.length&&c(Ce,ft[Ve])}var en=ue.clientRenderedBoundaries,Vt;for(Vt=0;Vt<en.length;Vt++){var zn=en[Vt];ft=Ce;var ir=ue.responseState,Zr=zn.id,Xr=zn.errorDigest,Cr=zn.errorMessage,Kr=zn.errorComponentStack;if(s(ft,ir.startInlineScript),ir.sentClientRenderFunction?s(ft,Un):(ir.sentClientRenderFunction=!0,s(ft,sr)),Zr===null)throw Error(t(395));s(ft,Zr),s(ft,qn),(Xr||Cr||Kr)&&(s(ft,Qr),s(ft,_(ii(Xr||"")))),(Cr||Kr)&&(s(ft,Qr),s(ft,_(ii(Cr||"")))),Kr&&(s(ft,Qr),s(ft,_(ii(Kr)))),c(ft,Er)}en.splice(0,Vt);var so=ue.completedBoundaries;for(Vt=0;Vt<so.length;Vt++)Tl(ue,Ce,so[Vt]);so.splice(0,Vt),d(Ce),r=new Uint8Array(512),o=0;var To=ue.partialBoundaries;for(Vt=0;Vt<To.length;Vt++){var Ys=To[Vt];e:{en=ue,zn=Ce;var fu=Ys.completedSegments;for(ir=0;ir<fu.length;ir++)if(!ll(en,zn,Ys,fu[ir])){ir++,fu.splice(0,ir);var vo=!1;break e}fu.splice(0,ir),vo=!0}if(!vo){ue.destination=null,Vt++,To.splice(0,Vt);return}}To.splice(0,Vt);var Ga=ue.completedBoundaries;for(Vt=0;Vt<Ga.length;Vt++)Tl(ue,Ce,Ga[Vt]);Ga.splice(0,Vt)}finally{d(Ce),ue.allPendingTasks===0&&ue.pingedTasks.length===0&&ue.clientRenderedBoundaries.length===0&&ue.completedBoundaries.length===0&&Ce.close()}}function Bs(ue,Ce){try{var Ve=ue.abortableTasks;Ve.forEach(function(ft){return ic(ft,ue,Ce)}),Ve.clear(),ue.destination!==null&&Pl(ue,ue.destination)}catch(ft){Go(ue,ft),Uo(ue,ft)}}n.renderToReadableStream=function(ue,Ce){return new Promise(function(Ve,ft){var en,Vt,zn=new Promise(function(Cr,Kr){Vt=Cr,en=Kr}),ir=Rs(ue,ve(Ce?Ce.identifierPrefix:void 0,Ce?Ce.nonce:void 0,Ce?Ce.bootstrapScriptContent:void 0,Ce?Ce.bootstrapScripts:void 0,Ce?Ce.bootstrapModules:void 0),_e(Ce?Ce.namespaceURI:void 0),Ce?Ce.progressiveChunkSize:void 0,Ce?Ce.onError:void 0,Vt,function(){var Cr=new ReadableStream({type:"bytes",pull:function(Kr){if(ir.status===1)ir.status=2,A(Kr,ir.fatalError);else if(ir.status!==2&&ir.destination===null){ir.destination=Kr;try{Pl(ir,Kr)}catch(so){Go(ir,so),Uo(ir,so)}}},cancel:function(){Bs(ir)}},{highWaterMark:0});Cr.allReady=zn,Ve(Cr)},function(Cr){zn.catch(function(){}),ft(Cr)},en);if(Ce&&Ce.signal){var Zr=Ce.signal,Xr=function(){Bs(ir,Zr.reason),Zr.removeEventListener("abort",Xr)};Zr.addEventListener("abort",Xr)}sf(ir)})},n.version="18.2.0"}}),VVe=os({"../../node_modules/react-dom/server.browser.js"(n){var e,t;e=HVe(),t=GVe(),n.version=e.version,n.renderToString=e.renderToString,n.renderToStaticMarkup=e.renderToStaticMarkup,n.renderToNodeStream=e.renderToNodeStream,n.renderToStaticNodeStream=e.renderToStaticNodeStream,n.renderToReadableStream=t.renderToReadableStream}}),WVe=os({"../../node_modules/react-is/cjs/react-is.production.min.js"(n){var e=60103,t=60106,r=60107,o=60108,s=60114,c=60109,d=60110,g=60112,_=60113,b=60120,A=60115,P=60116,N=60121,F=60122,K=60117,D=60129,I=60131;typeof Symbol=="function"&&Symbol.for&&(j=Symbol.for,e=j("react.element"),t=j("react.portal"),r=j("react.fragment"),o=j("react.strict_mode"),s=j("react.profiler"),c=j("react.provider"),d=j("react.context"),g=j("react.forward_ref"),_=j("react.suspense"),b=j("react.suspense_list"),A=j("react.memo"),P=j("react.lazy"),N=j("react.block"),F=j("react.server.block"),K=j("react.fundamental"),D=j("react.debug_trace_mode"),I=j("react.legacy_hidden"));var j;function T(Me){if(typeof Me=="object"&&Me!==null){var be=Me.$$typeof;switch(be){case e:switch(Me=Me.type,Me){case r:case s:case o:case _:case b:return Me;default:switch(Me=Me&&Me.$$typeof,Me){case d:case g:case P:case A:case c:return Me;default:return be}}case t:return be}}}var Y=c,ce=e,le=g,Z=r,Se=P,Le=A,X=t,fe=s,st=o,Ue=_;n.ContextConsumer=d,n.ContextProvider=Y,n.Element=ce,n.ForwardRef=le,n.Fragment=Z,n.Lazy=Se,n.Memo=Le,n.Portal=X,n.Profiler=fe,n.StrictMode=st,n.Suspense=Ue,n.isAsyncMode=function(){return!1},n.isConcurrentMode=function(){return!1},n.isContextConsumer=function(Me){return T(Me)===d},n.isContextProvider=function(Me){return T(Me)===c},n.isElement=function(Me){return typeof Me=="object"&&Me!==null&&Me.$$typeof===e},n.isForwardRef=function(Me){return T(Me)===g},n.isFragment=function(Me){return T(Me)===r},n.isLazy=function(Me){return T(Me)===P},n.isMemo=function(Me){return T(Me)===A},n.isPortal=function(Me){return T(Me)===t},n.isProfiler=function(Me){return T(Me)===s},n.isStrictMode=function(Me){return T(Me)===o},n.isSuspense=function(Me){return T(Me)===_},n.isValidElementType=function(Me){return typeof Me=="string"||typeof Me=="function"||Me===r||Me===s||Me===D||Me===o||Me===_||Me===b||Me===I||typeof Me=="object"&&Me!==null&&(Me.$$typeof===P||Me.$$typeof===A||Me.$$typeof===c||Me.$$typeof===d||Me.$$typeof===g||Me.$$typeof===K||Me.$$typeof===N||Me[0]===F)},n.typeOf=T}}),XVe=os({"../../node_modules/react-is/index.js"(n,e){e.exports=WVe()}}),KVe=os({"../../node_modules/shallowequal/index.js"(n,e){e.exports=function(t,r,o,s){var c=o?o.call(s,t,r):void 0;if(c!==void 0)return!!c;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var d=Object.keys(t),g=Object.keys(r);if(d.length!==g.length)return!1;for(var _=Object.prototype.hasOwnProperty.bind(r),b=0;b<d.length;b++){var A=d[b];if(!_(A))return!1;var P=t[A],N=r[A];if(c=o?o.call(s,P,N,A):void 0,c===!1||c===void 0&&P!==N)return!1}return!0}}});function YVe(n){function e(ge,dt,qe,_t,Qe){for(var zt=0,Lt=0,Kt=0,ln=0,bn,Ze,nn=0,jt=0,fn,cn=fn=bn=0,Dn=0,Qn=0,nr=0,Tr=0,ct=qe.length,Ne=ct-1,rn,Dt="",Pn="",Wn="",ei="",jr;Dn<ct;){if(Ze=qe.charCodeAt(Dn),Dn===Ne&&Lt+ln+Kt+zt!==0&&(Lt!==0&&(Ze=Lt===47?10:47),ln=Kt=zt=0,ct++,Ne++),Lt+ln+Kt+zt===0){if(Dn===Ne&&(0<Qn&&(Dt=Dt.replace(P,"")),0<Dt.trim().length)){switch(Ze){case 32:case 9:case 59:case 13:case 10:break;default:Dt+=qe.charAt(Dn)}Ze=59}switch(Ze){case 123:for(Dt=Dt.trim(),bn=Dt.charCodeAt(0),fn=1,Tr=++Dn;Dn<ct;){switch(Ze=qe.charCodeAt(Dn)){case 123:fn++;break;case 125:fn--;break;case 47:switch(Ze=qe.charCodeAt(Dn+1)){case 42:case 47:e:{for(cn=Dn+1;cn<Ne;++cn)switch(qe.charCodeAt(cn)){case 47:if(Ze===42&&qe.charCodeAt(cn-1)===42&&Dn+2!==cn){Dn=cn+1;break e}break;case 10:if(Ze===47){Dn=cn+1;break e}}Dn=cn}}break;case 91:Ze++;case 40:Ze++;case 34:case 39:for(;Dn++<Ne&&qe.charCodeAt(Dn)!==Ze;);}if(fn===0)break;Dn++}switch(fn=qe.substring(Tr,Dn),bn===0&&(bn=(Dt=Dt.replace(A,"").trim()).charCodeAt(0)),bn){case 64:switch(0<Qn&&(Dt=Dt.replace(P,"")),Ze=Dt.charCodeAt(1),Ze){case 100:case 109:case 115:case 45:Qn=dt;break;default:Qn=Ke}if(fn=e(dt,Qn,fn,Ze,Qe+1),Tr=fn.length,0<de&&(Qn=t(Ke,Dt,nr),jr=d(3,fn,Qn,dt,Ue,st,Tr,Ze,Qe,_t),Dt=Qn.join(""),jr!==void 0&&(Tr=(fn=jr.trim()).length)===0&&(Ze=0,fn="")),0<Tr)switch(Ze){case 115:Dt=Dt.replace(le,c);case 100:case 109:case 45:fn=Dt+"{"+fn+"}";break;case 107:Dt=Dt.replace(j,"$1 $2"),fn=Dt+"{"+fn+"}",fn=be===1||be===2&&s("@"+fn,3)?"@-webkit-"+fn+"@"+fn:"@"+fn;break;default:fn=Dt+fn,_t===112&&(fn=(Pn+=fn,""))}else fn="";break;default:fn=e(dt,t(dt,Dt,nr),fn,_t,Qe+1)}Wn+=fn,fn=nr=Qn=cn=bn=0,Dt="",Ze=qe.charCodeAt(++Dn);break;case 125:case 59:if(Dt=(0<Qn?Dt.replace(P,""):Dt).trim(),1<(Tr=Dt.length))switch(cn===0&&(bn=Dt.charCodeAt(0),bn===45||96<bn&&123>bn)&&(Tr=(Dt=Dt.replace(" ",":")).length),0<de&&(jr=d(1,Dt,dt,ge,Ue,st,Pn.length,_t,Qe,_t))!==void 0&&(Tr=(Dt=jr.trim()).length)===0&&(Dt="\0\0"),bn=Dt.charCodeAt(0),Ze=Dt.charCodeAt(1),bn){case 0:break;case 64:if(Ze===105||Ze===99){ei+=Dt+qe.charAt(Dn);break}default:Dt.charCodeAt(Tr-1)!==58&&(Pn+=o(Dt,bn,Ze,Dt.charCodeAt(2)))}nr=Qn=cn=bn=0,Dt="",Ze=qe.charCodeAt(++Dn)}}switch(Ze){case 13:case 10:Lt===47?Lt=0:1+bn===0&&_t!==107&&0<Dt.length&&(Qn=1,Dt+="\0"),0<de*ye&&d(0,Dt,dt,ge,Ue,st,Pn.length,_t,Qe,_t),st=1,Ue++;break;case 59:case 125:if(Lt+ln+Kt+zt===0){st++;break}default:switch(st++,rn=qe.charAt(Dn),Ze){case 9:case 32:if(ln+zt+Lt===0)switch(nn){case 44:case 58:case 9:case 32:rn="";break;default:Ze!==32&&(rn=" ")}break;case 0:rn="\\0";break;case 12:rn="\\f";break;case 11:rn="\\v";break;case 38:ln+Lt+zt===0&&(Qn=nr=1,rn="\f"+rn);break;case 108:if(ln+Lt+zt+Me===0&&0<cn)switch(Dn-cn){case 2:nn===112&&qe.charCodeAt(Dn-3)===58&&(Me=nn);case 8:jt===111&&(Me=jt)}break;case 58:ln+Lt+zt===0&&(cn=Dn);break;case 44:Lt+Kt+ln+zt===0&&(Qn=1,rn+="\r");break;case 34:case 39:Lt===0&&(ln=ln===Ze?0:ln===0?Ze:ln);break;case 91:ln+Lt+Kt===0&&zt++;break;case 93:ln+Lt+Kt===0&&zt--;break;case 41:ln+Lt+zt===0&&Kt--;break;case 40:if(ln+Lt+zt===0){if(bn===0)switch(2*nn+3*jt){case 533:break;default:bn=1}Kt++}break;case 64:Lt+Kt+ln+zt+cn+fn===0&&(fn=1);break;case 42:case 47:if(!(0<ln+zt+Kt))switch(Lt){case 0:switch(2*Ze+3*qe.charCodeAt(Dn+1)){case 235:Lt=47;break;case 220:Tr=Dn,Lt=42}break;case 42:Ze===47&&nn===42&&Tr+2!==Dn&&(qe.charCodeAt(Tr+2)===33&&(Pn+=qe.substring(Tr,Dn+1)),rn="",Lt=0)}}Lt===0&&(Dt+=rn)}jt=nn,nn=Ze,Dn++}if(Tr=Pn.length,0<Tr){if(Qn=dt,0<de&&(jr=d(2,Pn,Qn,ge,Ue,st,Tr,_t,Qe,_t),jr!==void 0&&(Pn=jr).length===0))return ei+Pn+Wn;if(Pn=Qn.join(",")+"{"+Pn+"}",be*Me!==0){switch(be!==2||s(Pn,2)||(Me=0),Me){case 111:Pn=Pn.replace(Y,":-moz-$1")+Pn;break;case 112:Pn=Pn.replace(T,"::-webkit-input-$1")+Pn.replace(T,"::-moz-$1")+Pn.replace(T,":-ms-input-$1")+Pn}Me=0}}return ei+Pn+Wn}function t(ge,dt,qe){var _t=dt.trim().split(D);dt=_t;var Qe=_t.length,zt=ge.length;switch(zt){case 0:case 1:var Lt=0;for(ge=zt===0?"":ge[0]+" ";Lt<Qe;++Lt)dt[Lt]=r(ge,dt[Lt],qe).trim();break;default:var Kt=Lt=0;for(dt=[];Lt<Qe;++Lt)for(var ln=0;ln<zt;++ln)dt[Kt++]=r(ge[ln]+" ",_t[Lt],qe).trim()}return dt}function r(ge,dt,qe){var _t=dt.charCodeAt(0);switch(33>_t&&(_t=(dt=dt.trim()).charCodeAt(0)),_t){case 38:return dt.replace(I,"$1"+ge.trim());case 58:return ge.trim()+dt.replace(I,"$1"+ge.trim());default:if(0<1*qe&&0<dt.indexOf("\f"))return dt.replace(I,(ge.charCodeAt(0)===58?"":"$1")+ge.trim())}return ge+dt}function o(ge,dt,qe,_t){var Qe=ge+";",zt=2*dt+3*qe+4*_t;if(zt===944){ge=Qe.indexOf(":",9)+1;var Lt=Qe.substring(ge,Qe.length-1).trim();return Lt=Qe.substring(0,ge).trim()+Lt+";",be===1||be===2&&s(Lt,1)?"-webkit-"+Lt+Lt:Lt}if(be===0||be===2&&!s(Qe,1))return Qe;switch(zt){case 1015:return Qe.charCodeAt(10)===97?"-webkit-"+Qe+Qe:Qe;case 951:return Qe.charCodeAt(3)===116?"-webkit-"+Qe+Qe:Qe;case 963:return Qe.charCodeAt(5)===110?"-webkit-"+Qe+Qe:Qe;case 1009:if(Qe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Qe+Qe;case 978:return"-webkit-"+Qe+"-moz-"+Qe+Qe;case 1019:case 983:return"-webkit-"+Qe+"-moz-"+Qe+"-ms-"+Qe+Qe;case 883:if(Qe.charCodeAt(8)===45)return"-webkit-"+Qe+Qe;if(0<Qe.indexOf("image-set(",11))return Qe.replace(fe,"$1-webkit-$2")+Qe;break;case 932:if(Qe.charCodeAt(4)===45)switch(Qe.charCodeAt(5)){case 103:return"-webkit-box-"+Qe.replace("-grow","")+"-webkit-"+Qe+"-ms-"+Qe.replace("grow","positive")+Qe;case 115:return"-webkit-"+Qe+"-ms-"+Qe.replace("shrink","negative")+Qe;case 98:return"-webkit-"+Qe+"-ms-"+Qe.replace("basis","preferred-size")+Qe}return"-webkit-"+Qe+"-ms-"+Qe+Qe;case 964:return"-webkit-"+Qe+"-ms-flex-"+Qe+Qe;case 1023:if(Qe.charCodeAt(8)!==99)break;return Lt=Qe.substring(Qe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Lt+"-webkit-"+Qe+"-ms-flex-pack"+Lt+Qe;case 1005:return F.test(Qe)?Qe.replace(N,":-webkit-")+Qe.replace(N,":-moz-")+Qe:Qe;case 1e3:switch(Lt=Qe.substring(13).trim(),dt=Lt.indexOf("-")+1,Lt.charCodeAt(0)+Lt.charCodeAt(dt)){case 226:Lt=Qe.replace(ce,"tb");break;case 232:Lt=Qe.replace(ce,"tb-rl");break;case 220:Lt=Qe.replace(ce,"lr");break;default:return Qe}return"-webkit-"+Qe+"-ms-"+Lt+Qe;case 1017:if(Qe.indexOf("sticky",9)===-1)break;case 975:switch(dt=(Qe=ge).length-10,Lt=(Qe.charCodeAt(dt)===33?Qe.substring(0,dt):Qe).substring(ge.indexOf(":",7)+1).trim(),zt=Lt.charCodeAt(0)+(Lt.charCodeAt(7)|0)){case 203:if(111>Lt.charCodeAt(8))break;case 115:Qe=Qe.replace(Lt,"-webkit-"+Lt)+";"+Qe;break;case 207:case 102:Qe=Qe.replace(Lt,"-webkit-"+(102<zt?"inline-":"")+"box")+";"+Qe.replace(Lt,"-webkit-"+Lt)+";"+Qe.replace(Lt,"-ms-"+Lt+"box")+";"+Qe}return Qe+";";case 938:if(Qe.charCodeAt(5)===45)switch(Qe.charCodeAt(6)){case 105:return Lt=Qe.replace("-items",""),"-webkit-"+Qe+"-webkit-box-"+Lt+"-ms-flex-"+Lt+Qe;case 115:return"-webkit-"+Qe+"-ms-flex-item-"+Qe.replace(Se,"")+Qe;default:return"-webkit-"+Qe+"-ms-flex-line-pack"+Qe.replace("align-content","").replace(Se,"")+Qe}break;case 973:case 989:if(Qe.charCodeAt(3)!==45||Qe.charCodeAt(4)===122)break;case 931:case 953:if(X.test(ge)===!0)return(Lt=ge.substring(ge.indexOf(":")+1)).charCodeAt(0)===115?o(ge.replace("stretch","fill-available"),dt,qe,_t).replace(":fill-available",":stretch"):Qe.replace(Lt,"-webkit-"+Lt)+Qe.replace(Lt,"-moz-"+Lt.replace("fill-",""))+Qe;break;case 962:if(Qe="-webkit-"+Qe+(Qe.charCodeAt(5)===102?"-ms-"+Qe:"")+Qe,qe+_t===211&&Qe.charCodeAt(13)===105&&0<Qe.indexOf("transform",10))return Qe.substring(0,Qe.indexOf(";",27)+1).replace(K,"$1-webkit-$2")+Qe}return Qe}function s(ge,dt){var qe=ge.indexOf(dt===1?":":"{"),_t=ge.substring(0,dt!==3?qe:10);return qe=ge.substring(qe+1,ge.length-1),ve(dt!==2?_t:_t.replace(Le,"$1"),qe,dt)}function c(ge,dt){var qe=o(dt,dt.charCodeAt(0),dt.charCodeAt(1),dt.charCodeAt(2));return qe!==dt+";"?qe.replace(Z," or ($1)").substring(4):"("+dt+")"}function d(ge,dt,qe,_t,Qe,zt,Lt,Kt,ln,bn){for(var Ze=0,nn=dt,jt;Ze<de;++Ze)switch(jt=Ye[Ze].call(b,ge,nn,qe,_t,Qe,zt,Lt,Kt,ln,bn)){case void 0:case!1:case!0:case null:break;default:nn=jt}if(nn!==dt)return nn}function g(ge){switch(ge){case void 0:case null:de=Ye.length=0;break;default:if(typeof ge=="function")Ye[de++]=ge;else if(typeof ge=="object")for(var dt=0,qe=ge.length;dt<qe;++dt)g(ge[dt]);else ye=!!ge|0}return g}function _(ge){return ge=ge.prefix,ge!==void 0&&(ve=null,ge?typeof ge!="function"?be=1:(be=2,ve=ge):be=0),_}function b(ge,dt){var qe=ge;if(33>qe.charCodeAt(0)&&(qe=qe.trim()),_e=qe,qe=[_e],0<de){var _t=d(-1,dt,qe,qe,Ue,st,0,0,0,0);_t!==void 0&&typeof _t=="string"&&(dt=_t)}var Qe=e(Ke,qe,dt,0,0);return 0<de&&(_t=d(-2,Qe,qe,qe,Ue,st,Qe.length,0,0,0),_t!==void 0&&(Qe=_t)),_e="",Me=0,st=Ue=1,Qe}var A=/^\0+/g,P=/[\0\r\f]/g,N=/: */g,F=/zoo|gra/,K=/([,: ])(transform)/g,D=/,\r+?/g,I=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,T=/::(place)/g,Y=/:(read-only)/g,ce=/[svh]\w+-[tblr]{2}/,le=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,Se=/-self|flex-/g,Le=/[^]*?(:[rp][el]a[\w-]+)[^]*/,X=/stretch|:\s*\w+\-(?:conte|avail)/,fe=/([^-])(image-set\()/,st=1,Ue=1,Me=0,be=1,Ke=[],Ye=[],de=0,ve=null,ye=0,_e="";return b.use=g,b.set=_,n!==void 0&&_(n),b}var nCe,qVe=XY({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){nCe=YVe}}),M_e,rCe,QVe=XY({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){M_e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rCe=M_e}}),JVe=os({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=t(o)),r[o]}}n.default=e}}),ZVe=os({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(n,e){e.exports=JVe()}}),$Ve=os({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=ZVe();function t(c){return c&&c.__esModule?c:{default:c}}var r=t(e),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=r.default(function(c){return o.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91});n.default=s}}),eWe=os({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(n,e){e.exports=$Ve()}}),tWe=os({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(n){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,g=e?Symbol.for("react.context"):60110,_=e?Symbol.for("react.async_mode"):60111,b=e?Symbol.for("react.concurrent_mode"):60111,A=e?Symbol.for("react.forward_ref"):60112,P=e?Symbol.for("react.suspense"):60113,N=e?Symbol.for("react.suspense_list"):60120,F=e?Symbol.for("react.memo"):60115,K=e?Symbol.for("react.lazy"):60116,D=e?Symbol.for("react.block"):60121,I=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,T=e?Symbol.for("react.scope"):60119;function Y(le){if(typeof le=="object"&&le!==null){var Z=le.$$typeof;switch(Z){case t:switch(le=le.type,le){case _:case b:case o:case c:case s:case P:return le;default:switch(le=le&&le.$$typeof,le){case g:case A:case K:case F:case d:return le;default:return Z}}case r:return Z}}}function ce(le){return Y(le)===b}n.AsyncMode=_,n.ConcurrentMode=b,n.ContextConsumer=g,n.ContextProvider=d,n.Element=t,n.ForwardRef=A,n.Fragment=o,n.Lazy=K,n.Memo=F,n.Portal=r,n.Profiler=c,n.StrictMode=s,n.Suspense=P,n.isAsyncMode=function(le){return ce(le)||Y(le)===_},n.isConcurrentMode=ce,n.isContextConsumer=function(le){return Y(le)===g},n.isContextProvider=function(le){return Y(le)===d},n.isElement=function(le){return typeof le=="object"&&le!==null&&le.$$typeof===t},n.isForwardRef=function(le){return Y(le)===A},n.isFragment=function(le){return Y(le)===o},n.isLazy=function(le){return Y(le)===K},n.isMemo=function(le){return Y(le)===F},n.isPortal=function(le){return Y(le)===r},n.isProfiler=function(le){return Y(le)===c},n.isStrictMode=function(le){return Y(le)===s},n.isSuspense=function(le){return Y(le)===P},n.isValidElementType=function(le){return typeof le=="string"||typeof le=="function"||le===o||le===b||le===c||le===s||le===P||le===N||typeof le=="object"&&le!==null&&(le.$$typeof===K||le.$$typeof===F||le.$$typeof===d||le.$$typeof===g||le.$$typeof===A||le.$$typeof===I||le.$$typeof===j||le.$$typeof===T||le.$$typeof===D)},n.typeOf=Y}}),nWe=os({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(n,e){e.exports=tWe()}}),rWe=os({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(n,e){var t=nWe(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};d[t.ForwardRef]=s,d[t.Memo]=c;function g(D){return t.isMemo(D)?c:d[D.$$typeof]||r}var _=Object.defineProperty,b=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,P=Object.getOwnPropertyDescriptor,N=Object.getPrototypeOf,F=Object.prototype;function K(D,I,j){if(typeof I!="string"){if(F){var T=N(I);T&&T!==F&&K(D,T,j)}var Y=b(I);A&&(Y=Y.concat(A(I)));for(var ce=g(D),le=g(I),Z=0;Z<Y.length;++Z){var Se=Y[Z];if(!o[Se]&&!(j&&j[Se])&&!(le&&le[Se])&&!(ce&&ce[Se])){var Le=P(I,Se);try{_(D,Se,Le)}catch{}}}}return D}e.exports=K}}),iCe={};DVe(iCe,{ServerStyleSheet:()=>TCe,StyleSheetConsumer:()=>yCe,StyleSheetContext:()=>jR,StyleSheetManager:()=>qY,ThemeConsumer:()=>CCe,ThemeContext:()=>y1,ThemeProvider:()=>oWe,__PRIVATE__:()=>ICe,createGlobalStyle:()=>uCe,css:()=>tz,default:()=>Ug,isStyledComponent:()=>ez,keyframes:()=>cCe,useTheme:()=>kCe,version:()=>dCe,withTheme:()=>PCe});function Em(){return(Em=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function UM(n){return typeof n=="function"}function CX(n){return n.displayName||n.name||"Component"}function ez(n){return n&&typeof n.styledComponentId=="string"}function Dv(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}function fV(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=kX(e%52)+t;return(kX(e%52)+t).replace(pCe,"$1-$2")}function T_e(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(UM(t)&&!ez(t))return!1}return!0}function oCe(n){var e,t,r,o,s=n===void 0?v1:n,c=s.options,d=c===void 0?v1:c,g=s.plugins,_=g===void 0?UR:g,b=new nCe(d),A=[],P=function(K){function D(I){if(I)try{K(I+"}")}catch{}}return function(I,j,T,Y,ce,le,Z,Se,Le,X){switch(I){case 1:if(Le===0&&j.charCodeAt(0)===64)return K(j+";"),"";break;case 2:if(Se===0)return j+"/*|*/";break;case 3:switch(Se){case 102:case 112:return K(T[0]+j),"";default:return j+(X===0?"/*|*/":"")}case-2:j.split("/*|*/}").forEach(D)}}}(function(K){A.push(K)}),N=function(K,D,I){return D===0&&vCe.indexOf(I[t.length])!==-1||I.match(o)?K:"."+e};function F(K,D,I,j){j===void 0&&(j="&");var T=K.replace(gCe,""),Y=D&&I?I+" "+D+" { "+T+" }":T;return e=j,t=D,r=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),b(I||!D?"":D,Y)}return b.use([].concat(_,[function(K,D,I){K===2&&I.length&&I[0].lastIndexOf(t)>0&&(I[0]=I[0].replace(r,N))},P,function(K){if(K===-2){var D=A;return A=[],D}}])),F.hash=_.length?_.reduce(function(K,D){return D.name||Dv(15),xb(K,D.name)},5381).toString():"",F}function YY(){return(0,Sa.useContext)(jR)||IX}function sCe(){return(0,Sa.useContext)($L)||uL}function qY(n){var e=(0,Sa.useState)(n.stylisPlugins),t=e[0],r=e[1],o=YY(),s=(0,Sa.useMemo)(function(){var d=o;return n.sheet?d=n.sheet:n.target&&(d=d.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(d=d.reconstructWithOptions({useCSSOMInjection:!1})),d},[n.disableCSSOMInjection,n.sheet,n.target]),c=(0,Sa.useMemo)(function(){return oCe({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Sa.useEffect)(function(){(0,fCe.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Sa.default.createElement(jR.Provider,{value:s},Sa.default.createElement($L.Provider,{value:c},n.children))}function P_e(n){return _Ce.test(n)?n.replace(wCe,SCe).replace(xCe,"-ms-"):n}function Fb(n,e,t,r){if(Array.isArray(n)){for(var o,s=[],c=0,d=n.length;c<d;c+=1)(o=Fb(n[c],e,t,r))!==""&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));return s}if(RX(n))return"";if(ez(n))return"."+n.styledComponentId;if(UM(n)){if(typeof(_=n)!="function"||_.prototype&&_.prototype.isReactComponent||!e)return n;var g=n(e);return Fb(g,e,t,r)}var _;return n instanceof QY?t?(n.inject(t,r),n.getName(r)):n:ZL(n)?function b(A,P){var N,F,K=[];for(var D in A)A.hasOwnProperty(D)&&!RX(A[D])&&(Array.isArray(A[D])&&A[D].isCss||UM(A[D])?K.push(P_e(D)+":",A[D],";"):ZL(A[D])?K.push.apply(K,b(A[D],D)):K.push(P_e(D)+": "+(N=D,(F=A[D])==null||typeof F=="boolean"||F===""?"":typeof F!="number"||F===0||N in rCe||N.startsWith("--")?String(F).trim():F+"px")+";"));return P?[P+" {"].concat(K,["}"]):K}(n):n.toString()}function tz(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return UM(n)||ZL(n)?OX(Fb(PX(UR,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:OX(Fb(PX(n,t)))}function dV(n){return n.replace(bCe,"-").replace(ECe,"")}function D5(n){return typeof n=="string"&&!0}function iWe(n,e,t){var r=n[t];tF(e)&&tF(r)?aCe(r,e):n[t]=e}function aCe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var o=0,s=t;o<s.length;o++){var c=s[o];if(tF(c))for(var d in c)ACe(d)&&iWe(n,c[d],d)}return n}function oWe(n){var e=(0,Sa.useContext)(y1),t=(0,Sa.useMemo)(function(){return function(r,o){if(!r)return Dv(14);if(UM(r)){var s=r(o);return s}return Array.isArray(r)||typeof r!="object"?Dv(8):o?Em({},o,{},r):r}(n.theme,e)},[n.theme,e]);return n.children?Sa.default.createElement(y1.Provider,{value:t},n.children):null}function lCe(n,e,t){var r=ez(n),o=!D5(n),s=e.attrs,c=s===void 0?UR:s,d=e.componentId,g=d===void 0?function(j,T){var Y=typeof j!="string"?"sc":dV(j);cL[Y]=(cL[Y]||0)+1;var ce=Y+"-"+nz("5.3.11"+Y+cL[Y]);return T?T+"-"+ce:ce}(e.displayName,e.parentComponentId):d,_=e.displayName,b=_===void 0?function(j){return D5(j)?"styled."+j:"Styled("+CX(j)+")"}(n):_,A=e.displayName&&e.componentId?dV(e.displayName)+"-"+e.componentId:e.componentId||g,P=r&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,N=e.shouldForwardProp;r&&n.shouldForwardProp&&(N=e.shouldForwardProp?function(j,T,Y){return n.shouldForwardProp(j,T,Y)&&e.shouldForwardProp(j,T,Y)}:n.shouldForwardProp);var F,K=new mCe(t,A,r?n.componentStyle:void 0),D=K.isStatic&&c.length===0,I=function(j,T){return function(Y,ce,le,Z){var Se=Y.attrs,Le=Y.componentStyle,X=Y.defaultProps,fe=Y.foldedComponentIds,st=Y.shouldForwardProp,Ue=Y.styledComponentId,Me=Y.target,be=function(_t,Qe,zt){_t===void 0&&(_t=v1);var Lt=Em({},Qe,{theme:_t}),Kt={};return zt.forEach(function(ln){var bn,Ze,nn,jt=ln;for(bn in UM(jt)&&(jt=jt(Lt)),jt)Lt[bn]=Kt[bn]=bn==="className"?(Ze=Kt[bn],nn=jt[bn],Ze&&nn?Ze+" "+nn:Ze||nn):jt[bn]}),[Lt,Kt]}(eF(ce,(0,Sa.useContext)(y1),X)||v1,ce,Se),Ke=be[0],Ye=be[1],de=function(_t,Qe,zt,Lt){var Kt=YY(),ln=sCe(),bn=Qe?_t.generateAndInjectStyles(v1,Kt,ln):_t.generateAndInjectStyles(zt,Kt,ln);return bn}(Le,Z,Ke),ve=le,ye=Ye.$as||ce.$as||Ye.as||ce.as||Me,_e=D5(ye),ge=Ye!==ce?Em({},ce,{},Ye):ce,dt={};for(var qe in ge)qe[0]!=="$"&&qe!=="as"&&(qe==="forwardedAs"?dt.as=ge[qe]:(st?st(qe,MX.default,ye):!_e||(0,MX.default)(qe))&&(dt[qe]=ge[qe]));return ce.style&&Ye.style!==ce.style&&(dt.style=Em({},ce.style,{},Ye.style)),dt.className=Array.prototype.concat(fe,Ue,de!==Ue?de:null,ce.className,Ye.className).filter(Boolean).join(" "),dt.ref=ve,(0,Sa.createElement)(ye,dt)}(F,j,T,D)};return I.displayName=b,(F=Sa.default.forwardRef(I)).attrs=P,F.componentStyle=K,F.displayName=b,F.shouldForwardProp=N,F.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):UR,F.styledComponentId=A,F.target=r?n.target:n,F.withComponent=function(j){var T=e.componentId,Y=function(le,Z){if(le==null)return{};var Se,Le,X={},fe=Object.keys(le);for(Le=0;Le<fe.length;Le++)Se=fe[Le],Z.indexOf(Se)>=0||(X[Se]=le[Se]);return X}(e,["componentId"]),ce=T&&T+"-"+(D5(j)?j:dV(CX(j)));return lCe(j,Em({},Y,{attrs:P,componentId:ce}),t)},Object.defineProperty(F,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=r?aCe({},n.defaultProps,j):j}}),Object.defineProperty(F,"toString",{value:function(){return"."+F.styledComponentId}}),o&&(0,TX.default)(F,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),F}function uCe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=tz.apply(void 0,[n].concat(t)),s="sc-global-"+nz(JSON.stringify(o)),c=new MCe(o,s);function d(_){var b=YY(),A=sCe(),P=(0,Sa.useContext)(y1),N=(0,Sa.useRef)(b.allocateGSInstance(s)).current;return b.server&&g(N,_,b,P,A),(0,Sa.useLayoutEffect)(function(){if(!b.server)return g(N,_,b,P,A),function(){return c.removeStyles(N,b)}},[N,_,b,P,A]),null}function g(_,b,A,P,N){if(c.isStatic)c.renderStyles(_,hCe,A,N);else{var F=Em({},b,{theme:eF(b,P,d.defaultProps)});c.renderStyles(_,F,A,N)}}return Sa.default.memo(d)}function cCe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=tz.apply(void 0,[n].concat(t)).join(""),s=nz(o);return new QY(s,o)}var hV,Sa,fCe,MX,TX,PX,ZL,UR,v1,o1,dCe,N5,k_e,hCe,I_e,II,RI,DC,OI,R_e,O_e,B_e,D_e,N_e,L_e,L5,pV,F_e,z_e,U_e,mV,j_e,hb,pCe,kX,xb,gV,H_e,mCe,gCe,vCe,jR,yCe,$L,IX,uL,QY,_Ce,wCe,xCe,SCe,RX,OX,eF,bCe,ECe,nz,tF,ACe,y1,CCe,cL,F5,MCe,TCe,PCe,kCe,ICe,Ug,JY=XY({"../../node_modules/styled-components/dist/styled-components.browser.esm.js"(){hV=oo(XVe()),Sa=oo(ys()),fCe=oo(KVe()),qVe(),QVe(),MX=oo(eWe()),TX=oo(rWe()),PX=function(n,e){for(var t=[n[0]],r=0,o=e.length;r<o;r+=1)t.push(e[r],n[r+1]);return t},ZL=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,hV.typeOf)(n)},UR=Object.freeze([]),v1=Object.freeze({}),o1=typeof process<"u"&&Eg!==void 0&&(Eg.REACT_APP_SC_ATTR||Eg.SC_ATTR)||"data-styled",dCe="5.3.11",N5=typeof window<"u"&&"HTMLElement"in window,k_e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Eg!==void 0&&(Eg.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Eg.REACT_APP_SC_DISABLE_SPEEDY!==""?Eg.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Eg.REACT_APP_SC_DISABLE_SPEEDY:Eg.SC_DISABLE_SPEEDY!==void 0&&Eg.SC_DISABLE_SPEEDY!==""&&Eg.SC_DISABLE_SPEEDY!=="false"&&Eg.SC_DISABLE_SPEEDY)),hCe={},I_e=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,o=0;o<t;o++)r+=this.groupSizes[o];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var o=this.groupSizes,s=o.length,c=s;t>=c;)(c<<=1)<0&&Dv(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var d=s;d<c;d++)this.groupSizes[d]=0}for(var g=this.indexOfGroup(t+1),_=0,b=r.length;_<b;_++)this.tag.insertRule(g,r[_])&&(this.groupSizes[t]++,g++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],o=this.indexOfGroup(t),s=o+r;this.groupSizes[t]=0;for(var c=o;c<s;c++)this.tag.deleteRule(o)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var o=this.groupSizes[t],s=this.indexOfGroup(t),c=s+o,d=s;d<c;d++)r+=this.tag.getRule(d)+`/*!sc*/
`;return r},n}(),II=new Map,RI=new Map,DC=1,OI=function(n){if(II.has(n))return II.get(n);for(;RI.has(DC);)DC++;var e=DC++;return II.set(n,e),RI.set(e,n),e},R_e=function(n){return RI.get(n)},O_e=function(n,e){e>=DC&&(DC=e+1),II.set(n,e),RI.set(e,n)},B_e="style["+o1+'][data-styled-version="5.3.11"]',D_e=new RegExp("^"+o1+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N_e=function(n,e,t){for(var r,o=t.split(","),s=0,c=o.length;s<c;s++)(r=o[s])&&n.registerName(e,r)},L_e=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],o=0,s=t.length;o<s;o++){var c=t[o].trim();if(c){var d=c.match(D_e);if(d){var g=0|parseInt(d[1],10),_=d[2];g!==0&&(O_e(_,g),N_e(n,_,d[3]),n.getTag().insertRules(g,r)),r.length=0}else r.push(c)}}},L5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},pV=function(n){var e=document.head,t=n||e,r=document.createElement("style"),o=function(d){for(var g=d.childNodes,_=g.length;_>=0;_--){var b=g[_];if(b&&b.nodeType===1&&b.hasAttribute(o1))return b}}(t),s=o!==void 0?o.nextSibling:null;r.setAttribute(o1,"active"),r.setAttribute("data-styled-version","5.3.11");var c=L5();return c&&r.setAttribute("nonce",c),t.insertBefore(r,s),r},F_e=function(){function n(t){var r=this.element=pV(t);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,c=0,d=s.length;c<d;c++){var g=s[c];if(g.ownerNode===o)return g}Dv(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),z_e=function(){function n(t){var r=this.element=pV(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var o=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(o,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),U_e=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),mV=N5,j_e={isServer:!N5,useCSSOMInjection:!k_e},hb=function(){function n(t,r,o){t===void 0&&(t=v1),r===void 0&&(r={}),this.options=Em({},j_e,{},t),this.gs=r,this.names=new Map(o),this.server=!!t.isServer,!this.server&&N5&&mV&&(mV=!1,function(s){for(var c=document.querySelectorAll(B_e),d=0,g=c.length;d<g;d++){var _=c[d];_&&_.getAttribute(o1)!=="active"&&(L_e(s,_),_.parentNode&&_.parentNode.removeChild(_))}}(this))}n.registerId=function(t){return OI(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(Em({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,s=r.useCSSOMInjection,c=r.target,t=o?new U_e(c):s?new F_e(c):new z_e(c),new I_e(t)));var t,r,o,s,c},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(OI(t),this.names.has(t))this.names.get(t).add(r);else{var o=new Set;o.add(r),this.names.set(t,o)}},e.insertRules=function(t,r,o){this.registerName(t,r),this.getTag().insertRules(OI(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(OI(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),o=r.length,s="",c=0;c<o;c++){var d=R_e(c);if(d!==void 0){var g=t.names.get(d),_=r.getGroup(c);if(g&&_&&g.size){var b=o1+".g"+c+'[id="'+d+'"]',A="";g!==void 0&&g.forEach(function(P){P.length>0&&(A+=P+",")}),s+=""+_+b+'{content:"'+A+`"}/*!sc*/
`}}}return s}(this)},n}(),pCe=/(a)(d)/gi,kX=function(n){return String.fromCharCode(n+(n>25?39:97))},xb=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},gV=function(n){return xb(5381,n)},H_e=gV("5.3.11"),mCe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&T_e(e),this.componentId=t,this.baseHash=xb(H_e,t),this.baseStyle=r,hb.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var o=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))s.push(this.staticRulesId);else{var c=Fb(this.rules,e,t,r).join(""),d=fV(xb(this.baseHash,c)>>>0);if(!t.hasNameForId(o,d)){var g=r(c,"."+d,void 0,o);t.insertRules(o,d,g)}s.push(d),this.staticRulesId=d}else{for(var _=this.rules.length,b=xb(this.baseHash,r.hash),A="",P=0;P<_;P++){var N=this.rules[P];if(typeof N=="string")A+=N;else if(N){var F=Fb(N,e,t,r),K=Array.isArray(F)?F.join(""):F;b=xb(b,K+P),A+=K}}if(A){var D=fV(b>>>0);if(!t.hasNameForId(o,D)){var I=r(A,"."+D,void 0,o);t.insertRules(o,D,I)}s.push(D)}}return s.join(" ")},n}(),gCe=/^\s*\/\/.*$/gm,vCe=[":","[",".","#"],jR=Sa.default.createContext(),yCe=jR.Consumer,$L=Sa.default.createContext(),IX=($L.Consumer,new hb),uL=oCe(),QY=function(){function n(e,t){var r=this;this.inject=function(o,s){s===void 0&&(s=uL);var c=r.name+s.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,s(r.rules,c,"@keyframes"))},this.toString=function(){return Dv(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=uL),this.name+e.hash},n}(),_Ce=/([A-Z])/,wCe=/([A-Z])/g,xCe=/^ms-/,SCe=function(n){return"-"+n.toLowerCase()},RX=function(n){return n==null||n===!1||n===""},OX=function(n){return Array.isArray(n)&&(n.isCss=!0),n},eF=function(n,e,t){return t===void 0&&(t=v1),n.theme!==t.theme&&n.theme||e||t.theme},bCe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ECe=/(^-|-$)/g,nz=function(n){return fV(gV(n)>>>0)},tF=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},ACe=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"},y1=Sa.default.createContext(),CCe=y1.Consumer,cL={},F5=function(n){return function e(t,r,o){if(o===void 0&&(o=v1),!(0,hV.isValidElementType)(r))return Dv(1,String(r));var s=function(){return t(r,o,tz.apply(void 0,arguments))};return s.withConfig=function(c){return e(t,r,Em({},o,{},c))},s.attrs=function(c){return e(t,r,Em({},o,{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},s}(lCe,n)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){F5[n]=F5(n)}),MCe=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=T_e(t),hb.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,o,s){var c=s(Fb(this.rules,r,o,s).join(""),""),d=this.componentId+t;o.insertRules(d,d,c)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,o,s){t>2&&hb.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,r,o,s)},n}(),TCe=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var o=L5();return"<style "+[o&&'nonce="'+o+'"',o1+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?Dv(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return Dv(2);var o=((r={})[o1]="",r["data-styled-version"]="5.3.11",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=L5();return s&&(o.nonce=s),[Sa.default.createElement("style",Em({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new hb({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?Dv(2):Sa.default.createElement(qY,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return Dv(3)},n}(),PCe=function(n){var e=Sa.default.forwardRef(function(t,r){var o=(0,Sa.useContext)(y1),s=n.defaultProps,c=eF(t,o,s);return Sa.default.createElement(n,Em({},t,{theme:c,ref:r}))});return(0,TX.default)(e,n),e.displayName="WithTheme("+CX(n)+")",e},kCe=function(){return(0,Sa.useContext)(y1)},ICe={StyleSheet:hb,masterSheet:IX},Ug=F5}}),sWe=os({"../../node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js"(n){function e(de,ve){var ye=de.length;de.push(ve);e:for(;0<ye;){var _e=ye-1>>>1,ge=de[_e];if(0<o(ge,ve))de[_e]=ve,de[ye]=ge,ye=_e;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ve=de[0],ye=de.pop();if(ye!==ve){de[0]=ye;e:for(var _e=0,ge=de.length,dt=ge>>>1;_e<dt;){var qe=2*(_e+1)-1,_t=de[qe],Qe=qe+1,zt=de[Qe];if(0>o(_t,ye))Qe<ge&&0>o(zt,_t)?(de[_e]=zt,de[Qe]=ye,_e=Qe):(de[_e]=_t,de[qe]=ye,_e=qe);else if(Qe<ge&&0>o(zt,ye))de[_e]=zt,de[Qe]=ye,_e=Qe;else break e}}return ve}function o(de,ve){var ye=de.sortIndex-ve.sortIndex;return ye!==0?ye:de.id-ve.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,n.unstable_now=function(){return s.now()}):(c=Date,d=c.now(),n.unstable_now=function(){return c.now()-d});var s,c,d,g=[],_=[],b=1,A=null,P=3,N=!1,F=!1,K=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var ve=t(_);ve!==null;){if(ve.callback===null)r(_);else if(ve.startTime<=de)r(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=t(_)}}function Y(de){if(K=!1,T(de),!F)if(t(g)!==null)F=!0,Ke(ce);else{var ve=t(_);ve!==null&&Ye(Y,ve.startTime-de)}}function ce(de,ve){F=!1,K&&(K=!1,I(Se),Se=-1),N=!0;var ye=P;try{for(T(ve),A=t(g);A!==null&&(!(A.expirationTime>ve)||de&&!fe());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,P=A.priorityLevel;var ge=_e(A.expirationTime<=ve);ve=n.unstable_now(),typeof ge=="function"?A.callback=ge:A===t(g)&&r(g),T(ve)}else r(g);A=t(g)}if(A!==null)var dt=!0;else{var qe=t(_);qe!==null&&Ye(Y,qe.startTime-ve),dt=!1}return dt}finally{A=null,P=ye,N=!1}}var le=!1,Z=null,Se=-1,Le=5,X=-1;function fe(){return!(n.unstable_now()-X<Le)}function st(){if(Z!==null){var de=n.unstable_now();X=de;var ve=!0;try{ve=Z(!0,de)}finally{ve?Ue():(le=!1,Z=null)}}else le=!1}var Ue;typeof j=="function"?Ue=function(){j(st)}:typeof MessageChannel<"u"?(Me=new MessageChannel,be=Me.port2,Me.port1.onmessage=st,Ue=function(){be.postMessage(null)}):Ue=function(){D(st,0)};var Me,be;function Ke(de){Z=de,le||(le=!0,Ue())}function Ye(de,ve){Se=D(function(){de(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ke(ce))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(de){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var ye=P;P=ve;try{return de()}finally{P=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ve){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ye=P;P=de;try{return ve()}finally{P=ye}},n.unstable_scheduleCallback=function(de,ve,ye){var _e=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,de){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,de={id:b++,callback:ve,priorityLevel:de,startTime:ye,expirationTime:ge,sortIndex:-1},ye>_e?(de.sortIndex=ye,e(_,de),t(g)===null&&de===t(_)&&(K?(I(Se),Se=-1):K=!0,Ye(Y,ye-_e))):(de.sortIndex=ge,e(g,de),F||N||(F=!0,Ke(ce))),de},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(de){var ve=P;return function(){var ye=P;P=ve;try{return de.apply(this,arguments)}finally{P=ye}}}}}),aWe=os({"../../node_modules/react-dom/node_modules/scheduler/index.js"(n,e){e.exports=sWe()}}),lWe=os({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(n){var e=ys(),t=aWe();function r(h){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+h,O=1;O<arguments.length;O++)v+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function c(h,v){d(h,v),d(h+"Capture",v)}function d(h,v){for(s[h]=v,h=0;h<v.length;h++)o.add(v[h])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},P={};function N(h){return _.call(P,h)?!0:_.call(A,h)?!1:b.test(h)?P[h]=!0:(A[h]=!0,!1)}function F(h,v,O,G){if(O!==null&&O.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return G?!1:O!==null?!O.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function K(h,v,O,G){if(v===null||typeof v>"u"||F(h,v,O,G))return!0;if(G)return!1;if(O!==null)switch(O.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function D(h,v,O,G,re,pe,Fe){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=G,this.attributeNamespace=re,this.mustUseProperty=O,this.propertyName=h,this.type=v,this.sanitizeURL=pe,this.removeEmptyString=Fe}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){I[h]=new D(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var v=h[0];I[v]=new D(v,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){I[h]=new D(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){I[h]=new D(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){I[h]=new D(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){I[h]=new D(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){I[h]=new D(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){I[h]=new D(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){I[h]=new D(h,5,!1,h.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function T(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var v=h.replace(j,T);I[v]=new D(v,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var v=h.replace(j,T);I[v]=new D(v,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var v=h.replace(j,T);I[v]=new D(v,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){I[h]=new D(h,1,!1,h.toLowerCase(),null,!1,!1)}),I.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){I[h]=new D(h,1,!1,h.toLowerCase(),null,!0,!0)});function Y(h,v,O,G){var re=I.hasOwnProperty(v)?I[v]:null;(re!==null?re.type!==0:G||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(K(v,O,re,G)&&(O=null),G||re===null?N(v)&&(O===null?h.removeAttribute(v):h.setAttribute(v,""+O)):re.mustUseProperty?h[re.propertyName]=O===null?re.type===3?!1:"":O:(v=re.attributeName,G=re.attributeNamespace,O===null?h.removeAttribute(v):(re=re.type,O=re===3||re===4&&O===!0?"":""+O,G?h.setAttributeNS(G,v,O):h.setAttribute(v,O))))}var ce=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),Z=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),st=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),ve=Symbol.iterator;function ye(h){return h===null||typeof h!="object"?null:(h=ve&&h[ve]||h["@@iterator"],typeof h=="function"?h:null)}var _e=Object.assign,ge;function dt(h){if(ge===void 0)try{throw Error()}catch(O){var v=O.stack.trim().match(/\n( *(at )?)/);ge=v&&v[1]||""}return`
`+ge+h}var qe=!1;function _t(h,v){if(!h||qe)return"";qe=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Mn){var G=Mn}Reflect.construct(h,[],v)}else{try{v.call()}catch(Mn){G=Mn}h.call(v.prototype)}else{try{throw Error()}catch(Mn){G=Mn}h()}}catch(Mn){if(Mn&&G&&typeof Mn.stack=="string"){for(var re=Mn.stack.split(`
`),pe=G.stack.split(`
`),Fe=re.length-1,wt=pe.length-1;1<=Fe&&0<=wt&&re[Fe]!==pe[wt];)wt--;for(;1<=Fe&&0<=wt;Fe--,wt--)if(re[Fe]!==pe[wt]){if(Fe!==1||wt!==1)do if(Fe--,wt--,0>wt||re[Fe]!==pe[wt]){var Nt=`
`+re[Fe].replace(" at new "," at ");return h.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",h.displayName)),Nt}while(1<=Fe&&0<=wt);break}}}finally{qe=!1,Error.prepareStackTrace=O}return(h=h?h.displayName||h.name:"")?dt(h):""}function Qe(h){switch(h.tag){case 5:return dt(h.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return h=_t(h.type,!1),h;case 11:return h=_t(h.type.render,!1),h;case 1:return h=_t(h.type,!0),h;default:return""}}function zt(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case Se:return"Fragment";case Z:return"Portal";case X:return"Profiler";case Le:return"StrictMode";case Me:return"Suspense";case be:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case st:return(h.displayName||"Context")+".Consumer";case fe:return(h._context.displayName||"Context")+".Provider";case Ue:var v=h.render;return h=h.displayName,h||(h=v.displayName||v.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Ke:return v=h.displayName||null,v!==null?v:zt(h.type)||"Memo";case Ye:v=h._payload,h=h._init;try{return zt(h(v))}catch{}}return null}function Lt(h){var v=h.type;switch(h.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=v.render,h=h.displayName||h.name||"",v.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zt(v);case 8:return v===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function Kt(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ln(h){var v=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function bn(h){var v=ln(h)?"checked":"value",O=Object.getOwnPropertyDescriptor(h.constructor.prototype,v),G=""+h[v];if(!h.hasOwnProperty(v)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var re=O.get,pe=O.set;return Object.defineProperty(h,v,{configurable:!0,get:function(){return re.call(this)},set:function(Fe){G=""+Fe,pe.call(this,Fe)}}),Object.defineProperty(h,v,{enumerable:O.enumerable}),{getValue:function(){return G},setValue:function(Fe){G=""+Fe},stopTracking:function(){h._valueTracker=null,delete h[v]}}}}function Ze(h){h._valueTracker||(h._valueTracker=bn(h))}function nn(h){if(!h)return!1;var v=h._valueTracker;if(!v)return!0;var O=v.getValue(),G="";return h&&(G=ln(h)?h.checked?"true":"false":h.value),h=G,h!==O?(v.setValue(h),!0):!1}function jt(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function fn(h,v){var O=v.checked;return _e({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??h._wrapperState.initialChecked})}function cn(h,v){var O=v.defaultValue==null?"":v.defaultValue,G=v.checked!=null?v.checked:v.defaultChecked;O=Kt(v.value!=null?v.value:O),h._wrapperState={initialChecked:G,initialValue:O,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function Dn(h,v){v=v.checked,v!=null&&Y(h,"checked",v,!1)}function Qn(h,v){Dn(h,v);var O=Kt(v.value),G=v.type;if(O!=null)G==="number"?(O===0&&h.value===""||h.value!=O)&&(h.value=""+O):h.value!==""+O&&(h.value=""+O);else if(G==="submit"||G==="reset"){h.removeAttribute("value");return}v.hasOwnProperty("value")?Tr(h,v.type,O):v.hasOwnProperty("defaultValue")&&Tr(h,v.type,Kt(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(h.defaultChecked=!!v.defaultChecked)}function nr(h,v,O){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var G=v.type;if(!(G!=="submit"&&G!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+h._wrapperState.initialValue,O||v===h.value||(h.value=v),h.defaultValue=v}O=h.name,O!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,O!==""&&(h.name=O)}function Tr(h,v,O){(v!=="number"||jt(h.ownerDocument)!==h)&&(O==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+O&&(h.defaultValue=""+O))}var ct=Array.isArray;function Ne(h,v,O,G){if(h=h.options,v){v={};for(var re=0;re<O.length;re++)v["$"+O[re]]=!0;for(O=0;O<h.length;O++)re=v.hasOwnProperty("$"+h[O].value),h[O].selected!==re&&(h[O].selected=re),re&&G&&(h[O].defaultSelected=!0)}else{for(O=""+Kt(O),v=null,re=0;re<h.length;re++){if(h[re].value===O){h[re].selected=!0,G&&(h[re].defaultSelected=!0);return}v!==null||h[re].disabled||(v=h[re])}v!==null&&(v.selected=!0)}}function rn(h,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return _e({},v,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Dt(h,v){var O=v.value;if(O==null){if(O=v.children,v=v.defaultValue,O!=null){if(v!=null)throw Error(r(92));if(ct(O)){if(1<O.length)throw Error(r(93));O=O[0]}v=O}v==null&&(v=""),O=v}h._wrapperState={initialValue:Kt(O)}}function Pn(h,v){var O=Kt(v.value),G=Kt(v.defaultValue);O!=null&&(O=""+O,O!==h.value&&(h.value=O),v.defaultValue==null&&h.defaultValue!==O&&(h.defaultValue=O)),G!=null&&(h.defaultValue=""+G)}function Wn(h){var v=h.textContent;v===h._wrapperState.initialValue&&v!==""&&v!==null&&(h.value=v)}function ei(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jr(h,v){return h==null||h==="http://www.w3.org/1999/xhtml"?ei(v):h==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Yn,vr=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,O,G,re){MSApp.execUnsafeLocalFunction(function(){return h(v,O,G,re)})}:h}(function(h,v){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=v;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Yn.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;v.firstChild;)h.appendChild(v.firstChild)}});function Mt(h,v){if(v){var O=h.firstChild;if(O&&O===h.lastChild&&O.nodeType===3){O.nodeValue=v;return}}h.textContent=v}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(h){yr.forEach(function(v){v=v+h.charAt(0).toUpperCase()+h.substring(1),Zt[v]=Zt[h]})});function hr(h,v,O){return v==null||typeof v=="boolean"||v===""?"":O||typeof v!="number"||v===0||Zt.hasOwnProperty(h)&&Zt[h]?(""+v).trim():v+"px"}function Hr(h,v){h=h.style;for(var O in v)if(v.hasOwnProperty(O)){var G=O.indexOf("--")===0,re=hr(O,v[O],G);O==="float"&&(O="cssFloat"),G?h.setProperty(O,re):h[O]=re}}var Rr=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wr(h,v){if(v){if(Rr[h]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function qr(h,v){if(h.indexOf("-")===-1)return typeof v.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function Nn(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Bt=null,_r=null,Xt=null;function er(h){if(h=Yo(h)){if(typeof Bt!="function")throw Error(r(280));var v=h.stateNode;v&&(v=wh(v),Bt(h.stateNode,h.type,v))}}function xr(h){_r?Xt?Xt.push(h):Xt=[h]:_r=h}function Mi(){if(_r){var h=_r,v=Xt;if(Xt=_r=null,er(h),v)for(h=0;h<v.length;h++)er(v[h])}}function Di(h,v){return h(v)}function eo(){}var Ro=!1;function Ri(h,v,O){if(Ro)return h(v,O);Ro=!0;try{return Di(h,v,O)}finally{Ro=!1,(_r!==null||Xt!==null)&&(eo(),Mi())}}function to(h,v){var O=h.stateNode;if(O===null)return null;var G=wh(O);if(G===null)return null;O=G[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(G=!G.disabled)||(h=h.type,G=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!G;break e;default:h=!1}if(h)return null;if(O&&typeof O!="function")throw Error(r(231,v,typeof O));return O}var _s=!1;if(g)try{zs={},Object.defineProperty(zs,"passive",{get:function(){_s=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{_s=!1}var zs;function ol(h,v,O,G,re,pe,Fe,wt,Nt){var Mn=Array.prototype.slice.call(arguments,3);try{v.apply(O,Mn)}catch($n){this.onError($n)}}var ss=!1,ks=null,fi=!1,ba=null,su={onError:function(h){ss=!0,ks=h}};function Re(h,v,O,G,re,pe,Fe,wt,Nt){ss=!1,ks=null,ol.apply(su,arguments)}function $e(h,v,O,G,re,pe,Fe,wt,Nt){if(Re.apply(this,arguments),ss){if(ss){var Mn=ks;ss=!1,ks=null}else throw Error(r(198));fi||(fi=!0,ba=Mn)}}function At(h){var v=h,O=h;if(h.alternate)for(;v.return;)v=v.return;else{h=v;do v=h,v.flags&4098&&(O=v.return),h=v.return;while(h)}return v.tag===3?O:null}function Pe(h){if(h.tag===13){var v=h.memoizedState;if(v===null&&(h=h.alternate,h!==null&&(v=h.memoizedState)),v!==null)return v.dehydrated}return null}function at(h){if(At(h)!==h)throw Error(r(188))}function pt(h){var v=h.alternate;if(!v){if(v=At(h),v===null)throw Error(r(188));return v!==h?null:h}for(var O=h,G=v;;){var re=O.return;if(re===null)break;var pe=re.alternate;if(pe===null){if(G=re.return,G!==null){O=G;continue}break}if(re.child===pe.child){for(pe=re.child;pe;){if(pe===O)return at(re),h;if(pe===G)return at(re),v;pe=pe.sibling}throw Error(r(188))}if(O.return!==G.return)O=re,G=pe;else{for(var Fe=!1,wt=re.child;wt;){if(wt===O){Fe=!0,O=re,G=pe;break}if(wt===G){Fe=!0,G=re,O=pe;break}wt=wt.sibling}if(!Fe){for(wt=pe.child;wt;){if(wt===O){Fe=!0,O=pe,G=re;break}if(wt===G){Fe=!0,G=pe,O=re;break}wt=wt.sibling}if(!Fe)throw Error(r(189))}}if(O.alternate!==G)throw Error(r(190))}if(O.tag!==3)throw Error(r(188));return O.stateNode.current===O?h:v}function St(h){return h=pt(h),h!==null?yt(h):null}function yt(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var v=yt(h);if(v!==null)return v;h=h.sibling}return null}var on=t.unstable_scheduleCallback,Sn=t.unstable_cancelCallback,In=t.unstable_shouldYield,kn=t.unstable_requestPaint,sr=t.unstable_now,Un=t.unstable_getCurrentPriorityLevel,qn=t.unstable_ImmediatePriority,Er=t.unstable_UserBlockingPriority,Qr=t.unstable_NormalPriority,li=t.unstable_LowPriority,ii=t.unstable_IdlePriority,Sr=null,Ln=null;function Gr(h){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Sr,h,void 0,(h.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:mo,Wr=Math.log,wi=Math.LN2;function mo(h){return h>>>=0,h===0?32:31-(Wr(h)/wi|0)|0}var Gi=64,si=4194304;function Ti(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function So(h,v){var O=h.pendingLanes;if(O===0)return 0;var G=0,re=h.suspendedLanes,pe=h.pingedLanes,Fe=O&268435455;if(Fe!==0){var wt=Fe&~re;wt!==0?G=Ti(wt):(pe&=Fe,pe!==0&&(G=Ti(pe)))}else Fe=O&~re,Fe!==0?G=Ti(Fe):pe!==0&&(G=Ti(pe));if(G===0)return 0;if(v!==0&&v!==G&&!(v&re)&&(re=G&-G,pe=v&-v,re>=pe||re===16&&(pe&4194240)!==0))return v;if(G&4&&(G|=O&16),v=h.entangledLanes,v!==0)for(h=h.entanglements,v&=G;0<v;)O=31-zr(v),re=1<<O,G|=h[O],v&=~re;return G}function ae(h,v){switch(h){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(h,v){for(var O=h.suspendedLanes,G=h.pingedLanes,re=h.expirationTimes,pe=h.pendingLanes;0<pe;){var Fe=31-zr(pe),wt=1<<Fe,Nt=re[Fe];Nt===-1?(!(wt&O)||wt&G)&&(re[Fe]=ae(wt,v)):Nt<=v&&(h.expiredLanes|=wt),pe&=~wt}}function Ge(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ut(){var h=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),h}function $t(h){for(var v=[],O=0;31>O;O++)v.push(h);return v}function Yt(h,v,O){h.pendingLanes|=v,v!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,v=31-zr(v),h[v]=O}function On(h,v){var O=h.pendingLanes&~v;h.pendingLanes=v,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=v,h.mutableReadLanes&=v,h.entangledLanes&=v,v=h.entanglements;var G=h.eventTimes;for(h=h.expirationTimes;0<O;){var re=31-zr(O),pe=1<<re;v[re]=0,G[re]=-1,h[re]=-1,O&=~pe}}function lr(h,v){var O=h.entangledLanes|=v;for(h=h.entanglements;O;){var G=31-zr(O),re=1<<G;re&v|h[G]&v&&(h[G]|=v),O&=~re}}var dr=0;function oi(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Oi,Mo,Ua,na,ws,Is=!1,Ea=[],Pi=null,ki=null,ha=null,ra=new Map,au=new Map,ku=[],Us="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ps(h,v){switch(h){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":ra.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(v.pointerId)}}function tc(h,v,O,G,re,pe){return h===null||h.nativeEvent!==pe?(h={blockedOn:v,domEventName:O,eventSystemFlags:G,nativeEvent:pe,targetContainers:[re]},v!==null&&(v=Yo(v),v!==null&&Mo(v)),h):(h.eventSystemFlags|=G,v=h.targetContainers,re!==null&&v.indexOf(re)===-1&&v.push(re),h)}function nc(h,v,O,G,re){switch(v){case"focusin":return Pi=tc(Pi,h,v,O,G,re),!0;case"dragenter":return ki=tc(ki,h,v,O,G,re),!0;case"mouseover":return ha=tc(ha,h,v,O,G,re),!0;case"pointerover":var pe=re.pointerId;return ra.set(pe,tc(ra.get(pe)||null,h,v,O,G,re)),!0;case"gotpointercapture":return pe=re.pointerId,au.set(pe,tc(au.get(pe)||null,h,v,O,G,re)),!0}return!1}function Aa(h){var v=Lu(h.target);if(v!==null){var O=At(v);if(O!==null){if(v=O.tag,v===13){if(v=Pe(O),v!==null){h.blockedOn=v,ws(h.priority,function(){Ua(O)});return}}else if(v===3&&O.stateNode.current.memoizedState.isDehydrated){h.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}h.blockedOn=null}function lu(h){if(h.blockedOn!==null)return!1;for(var v=h.targetContainers;0<v.length;){var O=ja(h.domEventName,h.eventSystemFlags,v[0],h.nativeEvent);if(O===null){O=h.nativeEvent;var G=new O.constructor(O.type,O);ri=G,O.target.dispatchEvent(G),ri=null}else return v=Yo(O),v!==null&&Mo(v),h.blockedOn=O,!1;v.shift()}return!0}function js(h,v,O){lu(h)&&O.delete(v)}function uo(){Is=!1,Pi!==null&&lu(Pi)&&(Pi=null),ki!==null&&lu(ki)&&(ki=null),ha!==null&&lu(ha)&&(ha=null),ra.forEach(js),au.forEach(js)}function pa(h,v){h.blockedOn===v&&(h.blockedOn=null,Is||(Is=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uo)))}function as(h){function v(re){return pa(re,h)}if(0<Ea.length){pa(Ea[0],h);for(var O=1;O<Ea.length;O++){var G=Ea[O];G.blockedOn===h&&(G.blockedOn=null)}}for(Pi!==null&&pa(Pi,h),ki!==null&&pa(ki,h),ha!==null&&pa(ha,h),ra.forEach(v),au.forEach(v),O=0;O<ku.length;O++)G=ku[O],G.blockedOn===h&&(G.blockedOn=null);for(;0<ku.length&&(O=ku[0],O.blockedOn===null);)Aa(O),O.blockedOn===null&&ku.shift()}var No=ce.ReactCurrentBatchConfig,Xo=!0;function Iu(h,v,O,G){var re=dr,pe=No.transition;No.transition=null;try{dr=1,of(h,v,O,G)}finally{dr=re,No.transition=pe}}function uu(h,v,O,G){var re=dr,pe=No.transition;No.transition=null;try{dr=4,of(h,v,O,G)}finally{dr=re,No.transition=pe}}function of(h,v,O,G){if(Xo){var re=ja(h,v,O,G);if(re===null)ap(h,v,G,Ca,O),ps(h,G);else if(nc(re,h,v,O,G))G.stopPropagation();else if(ps(h,G),v&4&&-1<Us.indexOf(h)){for(;re!==null;){var pe=Yo(re);if(pe!==null&&Oi(pe),pe=ja(h,v,O,G),pe===null&&ap(h,v,G,Ca,O),pe===re)break;re=pe}re!==null&&G.stopPropagation()}else ap(h,v,G,null,O)}}var Ca=null;function ja(h,v,O,G){if(Ca=null,h=Nn(G),h=Lu(h),h!==null)if(v=At(h),v===null)h=null;else if(O=v.tag,O===13){if(h=Pe(v),h!==null)return h;h=null}else if(O===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;h=null}else v!==h&&(h=null);return Ca=h,null}function rc(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Un()){case qn:return 1;case Er:return 4;case Qr:case li:return 16;case ii:return 536870912;default:return 16}default:return 16}}var sl=null,Ma=null,Hs=null;function Ru(){if(Hs)return Hs;var h,v=Ma,O=v.length,G,re="value"in sl?sl.value:sl.textContent,pe=re.length;for(h=0;h<O&&v[h]===re[h];h++);var Fe=O-h;for(G=1;G<=Fe&&v[O-G]===re[pe-G];G++);return Hs=re.slice(h,1<G?1-G:void 0)}function Ta(h){var v=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&v===13&&(h=13)):h=v,h===10&&(h=13),32<=h||h===13?h:0}function Ha(){return!0}function Cl(){return!1}function ls(h){function v(O,G,re,pe,Fe){this._reactName=O,this._targetInst=re,this.type=G,this.nativeEvent=pe,this.target=Fe,this.currentTarget=null;for(var wt in h)h.hasOwnProperty(wt)&&(O=h[wt],this[wt]=O?O(pe):pe[wt]);return this.isDefaultPrevented=(pe.defaultPrevented!=null?pe.defaultPrevented:pe.returnValue===!1)?Ha:Cl,this.isPropagationStopped=Cl,this}return _e(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),v}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=ls(Nl),Rs=_e({},Nl,{view:0,detail:0}),Qo=ls(Rs),Oo,Go,Uo,cu=_e({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Uo&&(Uo&&h.type==="mousemove"?(Oo=h.screenX-Uo.screenX,Go=h.screenY-Uo.screenY):Go=Oo=0,Uo=h),Oo)},movementY:function(h){return"movementY"in h?h.movementY:Go}}),Ks=ls(cu),go=_e({},cu,{dataTransfer:0}),ma=ls(go),Os=_e({},Rs,{relatedTarget:0}),Ou=ls(Os),al=_e({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=ls(al),ic=_e({},Nl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Fl=ls(ic),oc=_e({},Nl,{data:0}),sf=ls(oc),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(h){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(h):(h=Ml[h])?!!v[h]:!1}function ll(){return Tl}var Pl=_e({},Rs,{key:function(h){if(h.key){var v=Rc[h.key]||h.key;if(v!=="Unidentified")return v}return h.type==="keypress"?(h=Ta(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Oc[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(h){return h.type==="keypress"?Ta(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Ta(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Bs=ls(Pl),ue=_e({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ce=ls(ue),Ve=_e({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),ft=ls(Ve),en=_e({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vt=ls(en),zn=_e({},cu,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),ir=ls(zn),Zr=[9,13,27,32],Xr=g&&"CompositionEvent"in window,Cr=null;g&&"documentMode"in document&&(Cr=document.documentMode);var Kr=g&&"TextEvent"in window&&!Cr,so=g&&(!Xr||Cr&&8<Cr&&11>=Cr),To=" ",Ys=!1;function fu(h,v){switch(h){case"keyup":return Zr.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ga=!1;function Ad(h,v){switch(h){case"compositionend":return vo(v);case"keypress":return v.which!==32?null:(Ys=!0,To);case"textInput":return h=v.data,h===To&&Ys?null:h;default:return null}}function Bu(h,v){if(Ga)return h==="compositionend"||!Xr&&fu(h,v)?(h=Ru(),Hs=Ma=sl=null,Ga=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return so&&v.locale!=="ko"?null:v.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v==="input"?!!Du[h.type]:v==="textarea"}function Bc(h,v,O,G){xr(G),v=lp(v,"onChange"),0<v.length&&(O=new Ll("onChange","change",null,O,G),h.push({event:O,listeners:v}))}var du=null,Nu=null;function af(h){Id(h,0)}function ac(h){var v=$s(h);if(nn(v))return h}function lf(h,v){if(h==="change")return v}var qs=!1;g&&(g?(Te="oninput"in document,Te||(ot=document.createElement("div"),ot.setAttribute("oninput","return;"),Te=typeof ot.oninput=="function"),Qs=Te):Qs=!1,qs=Qs&&(!document.documentMode||9<document.documentMode));var Qs,Te,ot;function Tt(){du&&(du.detachEvent("onpropertychange",An),Nu=du=null)}function An(h){if(h.propertyName==="value"&&ac(Nu)){var v=[];Bc(v,Nu,h,Nn(h)),Ri(af,v)}}function pi(h,v,O){h==="focusin"?(Tt(),du=v,Nu=O,du.attachEvent("onpropertychange",An)):h==="focusout"&&Tt()}function Co(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return ac(Nu)}function no(h,v){if(h==="click")return ac(v)}function yo(h,v){if(h==="input"||h==="change")return ac(v)}function uf(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var Js=typeof Object.is=="function"?Object.is:uf;function kl(h,v){if(Js(h,v))return!0;if(typeof h!="object"||h===null||typeof v!="object"||v===null)return!1;var O=Object.keys(h),G=Object.keys(v);if(O.length!==G.length)return!1;for(G=0;G<O.length;G++){var re=O[G];if(!_.call(v,re)||!Js(h[re],v[re]))return!1}return!0}function Va(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Wa(h,v){var O=Va(h);h=0;for(var G;O;){if(O.nodeType===3){if(G=h+O.textContent.length,h<=v&&G>=v)return{node:O,offset:v-h};h=G}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=Va(O)}}function Jo(h,v){return h&&v?h===v?!0:h&&h.nodeType===3?!1:v&&v.nodeType===3?Jo(h,v.parentNode):"contains"in h?h.contains(v):h.compareDocumentPosition?!!(h.compareDocumentPosition(v)&16):!1:!1}function co(){for(var h=window,v=jt();v instanceof h.HTMLIFrameElement;){try{var O=typeof v.contentWindow.location.href=="string"}catch{O=!1}if(O)h=v.contentWindow;else break;v=jt(h.document)}return v}function wo(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v&&(v==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||v==="textarea"||h.contentEditable==="true")}function ia(h){var v=co(),O=h.focusedElem,G=h.selectionRange;if(v!==O&&O&&O.ownerDocument&&Jo(O.ownerDocument.documentElement,O)){if(G!==null&&wo(O)){if(v=G.start,h=G.end,h===void 0&&(h=v),"selectionStart"in O)O.selectionStart=v,O.selectionEnd=Math.min(h,O.value.length);else if(h=(v=O.ownerDocument||document)&&v.defaultView||window,h.getSelection){h=h.getSelection();var re=O.textContent.length,pe=Math.min(G.start,re);G=G.end===void 0?pe:Math.min(G.end,re),!h.extend&&pe>G&&(re=G,G=pe,pe=re),re=Wa(O,pe);var Fe=Wa(O,G);re&&Fe&&(h.rangeCount!==1||h.anchorNode!==re.node||h.anchorOffset!==re.offset||h.focusNode!==Fe.node||h.focusOffset!==Fe.offset)&&(v=v.createRange(),v.setStart(re.node,re.offset),h.removeAllRanges(),pe>G?(h.addRange(v),h.extend(Fe.node,Fe.offset)):(v.setEnd(Fe.node,Fe.offset),h.addRange(v)))}}for(v=[],h=O;h=h.parentNode;)h.nodeType===1&&v.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<v.length;O++)h=v[O],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var cf=g&&"documentMode"in document&&11>=document.documentMode,zl=null,Dc=null,oa=null,Gs=!1;function ff(h,v,O){var G=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;Gs||zl==null||zl!==jt(G)||(G=zl,"selectionStart"in G&&wo(G)?G={start:G.selectionStart,end:G.selectionEnd}:(G=(G.ownerDocument&&G.ownerDocument.defaultView||window).getSelection(),G={anchorNode:G.anchorNode,anchorOffset:G.anchorOffset,focusNode:G.focusNode,focusOffset:G.focusOffset}),oa&&kl(oa,G)||(oa=G,G=lp(Dc,"onSelect"),0<G.length&&(v=new Ll("onSelect","select",null,v,O),h.push({event:v,listeners:G}),v.target=zl)))}function Cd(h,v){var O={};return O[h.toLowerCase()]=v.toLowerCase(),O["Webkit"+h]="webkit"+v,O["Moz"+h]="moz"+v,O}var Xa={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},ga={},Pa={};g&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ul(h){if(ga[h])return ga[h];if(!Xa[h])return h;var v=Xa[h],O;for(O in v)if(v.hasOwnProperty(O)&&O in Pa)return ga[h]=v[O];return h}var jf=ul("animationend"),Md=ul("animationiteration"),Xp=ul("animationstart"),Kp=ul("transitionend"),Td=new Map,ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function df(h,v){Td.set(h,v),c(v,[h])}for(Vf=0;Vf<ip.length;Vf++)Pd=ip[Vf],Hf=Pd.toLowerCase(),Gf=Pd[0].toUpperCase()+Pd.slice(1),df(Hf,"on"+Gf);var Pd,Hf,Gf,Vf;df(jf,"onAnimationEnd"),df(Md,"onAnimationIteration"),df(Xp,"onAnimationStart"),df("dblclick","onDoubleClick"),df("focusin","onFocus"),df("focusout","onBlur"),df(Kp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kd=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function hf(h,v,O){var G=h.type||"unknown-event";h.currentTarget=O,$e(G,v,void 0,h),h.currentTarget=null}function Id(h,v){v=(v&4)!==0;for(var O=0;O<h.length;O++){var G=h[O],re=G.event;G=G.listeners;e:{var pe=void 0;if(v)for(var Fe=G.length-1;0<=Fe;Fe--){var wt=G[Fe],Nt=wt.instance,Mn=wt.currentTarget;if(wt=wt.listener,Nt!==pe&&re.isPropagationStopped())break e;hf(re,wt,Mn),pe=Nt}else for(Fe=0;Fe<G.length;Fe++){if(wt=G[Fe],Nt=wt.instance,Mn=wt.currentTarget,wt=wt.listener,Nt!==pe&&re.isPropagationStopped())break e;hf(re,wt,Mn),pe=Nt}}}if(fi)throw h=ba,fi=!1,ba=null,h}function Ko(h,v){var O=v[Lc];O===void 0&&(O=v[Lc]=new Set);var G=h+"__bubble";O.has(G)||(sp(v,h,2,!1),O.add(G))}function op(h,v,O){var G=0;v&&(G|=4),sp(O,h,G,v)}var ph="_reactListening"+Math.random().toString(36).slice(2);function uc(h){if(!h[ph]){h[ph]=!0,o.forEach(function(O){O!=="selectionchange"&&(kd.has(O)||op(O,!1,h),op(O,!0,h))});var v=h.nodeType===9?h:h.ownerDocument;v===null||v[ph]||(v[ph]=!0,op("selectionchange",!1,v))}}function sp(h,v,O,G){switch(rc(v)){case 1:var re=Iu;break;case 4:re=uu;break;default:re=of}O=re.bind(null,v,O,h),re=void 0,!_s||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(re=!0),G?re!==void 0?h.addEventListener(v,O,{capture:!0,passive:re}):h.addEventListener(v,O,!0):re!==void 0?h.addEventListener(v,O,{passive:re}):h.addEventListener(v,O,!1)}function ap(h,v,O,G,re){var pe=G;if(!(v&1)&&!(v&2)&&G!==null)e:for(;;){if(G===null)return;var Fe=G.tag;if(Fe===3||Fe===4){var wt=G.stateNode.containerInfo;if(wt===re||wt.nodeType===8&&wt.parentNode===re)break;if(Fe===4)for(Fe=G.return;Fe!==null;){var Nt=Fe.tag;if((Nt===3||Nt===4)&&(Nt=Fe.stateNode.containerInfo,Nt===re||Nt.nodeType===8&&Nt.parentNode===re))return;Fe=Fe.return}for(;wt!==null;){if(Fe=Lu(wt),Fe===null)return;if(Nt=Fe.tag,Nt===5||Nt===6){G=pe=Fe;continue e}wt=wt.parentNode}}G=G.return}Ri(function(){var Mn=pe,$n=Nn(O),fr=[];e:{var ur=Td.get(h);if(ur!==void 0){var $r=Ll,di=h;switch(h){case"keypress":if(Ta(O)===0)break e;case"keydown":case"keyup":$r=Bs;break;case"focusin":di="focus",$r=Ou;break;case"focusout":di="blur",$r=Ou;break;case"beforeblur":case"afterblur":$r=Ou;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$r=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$r=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$r=ft;break;case jf:case Md:case Xp:$r=Ic;break;case Kp:$r=Vt;break;case"scroll":$r=Qo;break;case"wheel":$r=ir;break;case"copy":case"cut":case"paste":$r=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$r=Ce}var mi=(v&4)!==0,Ja=!mi&&h==="scroll",un=mi?ur!==null?ur+"Capture":null:ur;mi=[];for(var Ut=Mn,yn;Ut!==null;){yn=Ut;var kr=yn.stateNode;if(yn.tag===5&&kr!==null&&(yn=kr,un!==null&&(kr=to(Ut,un),kr!=null&&mi.push(mh(Ut,kr,yn)))),Ja)break;Ut=Ut.return}0<mi.length&&(ur=new $r(ur,di,null,O,$n),fr.push({event:ur,listeners:mi}))}}if(!(v&7)){e:{if(ur=h==="mouseover"||h==="pointerover",$r=h==="mouseout"||h==="pointerout",ur&&O!==ri&&(di=O.relatedTarget||O.fromElement)&&(Lu(di)||di[ka]))break e;if(($r||ur)&&(ur=$n.window===$n?$n:(ur=$n.ownerDocument)?ur.defaultView||ur.parentWindow:window,$r?(di=O.relatedTarget||O.toElement,$r=Mn,di=di?Lu(di):null,di!==null&&(Ja=At(di),di!==Ja||di.tag!==5&&di.tag!==6)&&(di=null)):($r=null,di=Mn),$r!==di)){if(mi=Ks,kr="onMouseLeave",un="onMouseEnter",Ut="mouse",(h==="pointerout"||h==="pointerover")&&(mi=Ce,kr="onPointerLeave",un="onPointerEnter",Ut="pointer"),Ja=$r==null?ur:$s($r),yn=di==null?ur:$s(di),ur=new mi(kr,Ut+"leave",$r,O,$n),ur.target=Ja,ur.relatedTarget=yn,kr=null,Lu($n)===Mn&&(mi=new mi(un,Ut+"enter",di,O,$n),mi.target=yn,mi.relatedTarget=Ja,kr=mi),Ja=kr,$r&&di)t:{for(mi=$r,un=di,Ut=0,yn=mi;yn;yn=Rd(yn))Ut++;for(yn=0,kr=un;kr;kr=Rd(kr))yn++;for(;0<Ut-yn;)mi=Rd(mi),Ut--;for(;0<yn-Ut;)un=Rd(un),yn--;for(;Ut--;){if(mi===un||un!==null&&mi===un.alternate)break t;mi=Rd(mi),un=Rd(un)}mi=null}else mi=null;$r!==null&&jg(fr,ur,$r,mi,!1),di!==null&&Ja!==null&&jg(fr,Ja,di,mi,!0)}}e:{if(ur=Mn?$s(Mn):window,$r=ur.nodeName&&ur.nodeName.toLowerCase(),$r==="select"||$r==="input"&&ur.type==="file")var xi=lf;else if(sc(ur))if(qs)xi=yo;else{xi=Co;var zi=pi}else($r=ur.nodeName)&&$r.toLowerCase()==="input"&&(ur.type==="checkbox"||ur.type==="radio")&&(xi=no);if(xi&&(xi=xi(h,Mn))){Bc(fr,xi,O,$n);break e}zi&&zi(h,ur,Mn),h==="focusout"&&(zi=ur._wrapperState)&&zi.controlled&&ur.type==="number"&&Tr(ur,"number",ur.value)}switch(zi=Mn?$s(Mn):window,h){case"focusin":(sc(zi)||zi.contentEditable==="true")&&(zl=zi,Dc=Mn,oa=null);break;case"focusout":oa=Dc=zl=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,ff(fr,O,$n);break;case"selectionchange":if(cf)break;case"keydown":case"keyup":ff(fr,O,$n)}var ji;if(Xr)e:{switch(h){case"compositionstart":var Qi="onCompositionStart";break e;case"compositionend":Qi="onCompositionEnd";break e;case"compositionupdate":Qi="onCompositionUpdate";break e}Qi=void 0}else Ga?fu(h,O)&&(Qi="onCompositionEnd"):h==="keydown"&&O.keyCode===229&&(Qi="onCompositionStart");Qi&&(so&&O.locale!=="ko"&&(Ga||Qi!=="onCompositionStart"?Qi==="onCompositionEnd"&&Ga&&(ji=Ru()):(sl=$n,Ma="value"in sl?sl.value:sl.textContent,Ga=!0)),zi=lp(Mn,Qi),0<zi.length&&(Qi=new sf(Qi,h,null,O,$n),fr.push({event:Qi,listeners:zi}),ji?Qi.data=ji:(ji=vo(O),ji!==null&&(Qi.data=ji)))),(ji=Kr?Ad(h,O):Bu(h,O))&&(Mn=lp(Mn,"onBeforeInput"),0<Mn.length&&($n=new sf("onBeforeInput","beforeinput",null,O,$n),fr.push({event:$n,listeners:Mn}),$n.data=ji))}Id(fr,v)})}function mh(h,v,O){return{instance:h,listener:v,currentTarget:O}}function lp(h,v){for(var O=v+"Capture",G=[];h!==null;){var re=h,pe=re.stateNode;re.tag===5&&pe!==null&&(re=pe,pe=to(h,O),pe!=null&&G.unshift(mh(h,pe,re)),pe=to(h,v),pe!=null&&G.push(mh(h,pe,re))),h=h.return}return G}function Rd(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function jg(h,v,O,G,re){for(var pe=v._reactName,Fe=[];O!==null&&O!==G;){var wt=O,Nt=wt.alternate,Mn=wt.stateNode;if(Nt!==null&&Nt===G)break;wt.tag===5&&Mn!==null&&(wt=Mn,re?(Nt=to(O,pe),Nt!=null&&Fe.unshift(mh(O,Nt,wt))):re||(Nt=to(O,pe),Nt!=null&&Fe.push(mh(O,Nt,wt)))),O=O.return}Fe.length!==0&&h.push({event:v,listeners:Fe})}var Hg=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function Yp(h){return(typeof h=="string"?h:""+h).replace(Hg,`
`).replace(Dm,"")}function gh(h,v,O){if(v=Yp(v),Yp(h)!==v&&O)throw Error(r(425))}function Wf(){}var vh=null,Zo=null;function Nm(h,v){return h==="textarea"||h==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var qp=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,Lm=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(h){return yh.resolve(null).then(h).catch(Jp)}:qp;function Jp(h){setTimeout(function(){throw h})}function pf(h,v){var O=v,G=0;do{var re=O.nextSibling;if(h.removeChild(O),re&&re.nodeType===8)if(O=re.data,O==="/$"){if(G===0){h.removeChild(re),as(v);return}G--}else O!=="$"&&O!=="$?"&&O!=="$!"||G++;O=re}while(O);as(v)}function Nc(h){for(;h!=null;h=h.nextSibling){var v=h.nodeType;if(v===1||v===3)break;if(v===8){if(v=h.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return h}function _h(h){h=h.previousSibling;for(var v=0;h;){if(h.nodeType===8){var O=h.data;if(O==="$"||O==="$!"||O==="$?"){if(v===0)return h;v--}else O==="/$"&&v++}h=h.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Zs="__reactFiber$"+cl,Po="__reactProps$"+cl,ka="__reactContainer$"+cl,Lc="__reactEvents$"+cl,Xf="__reactListeners$"+cl,Od="__reactHandles$"+cl;function Lu(h){var v=h[Zs];if(v)return v;for(var O=h.parentNode;O;){if(v=O[ka]||O[Zs]){if(O=v.alternate,v.child!==null||O!==null&&O.child!==null)for(h=_h(h);h!==null;){if(O=h[Zs])return O;h=_h(h)}return v}h=O,O=h.parentNode}return null}function Yo(h){return h=h[Zs]||h[ka],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function $s(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function wh(h){return h[Po]||null}var Ul=[],xo=-1;function ms(h){return{current:h}}function $o(h){0>xo||(h.current=Ul[xo],Ul[xo]=null,xo--)}function Vo(h,v){xo++,Ul[xo]=h.current,h.current=v}var Fc={},Ka=ms(Fc),fl=ms(!1),cc=Fc;function mf(h,v){var O=h.type.contextTypes;if(!O)return Fc;var G=h.stateNode;if(G&&G.__reactInternalMemoizedUnmaskedChildContext===v)return G.__reactInternalMemoizedMaskedChildContext;var re={},pe;for(pe in O)re[pe]=v[pe];return G&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=v,h.__reactInternalMemoizedMaskedChildContext=re),re}function Ia(h){return h=h.childContextTypes,h!=null}function up(){$o(fl),$o(Ka)}function cp(h,v,O){if(Ka.current!==Fc)throw Error(r(168));Vo(Ka,v),Vo(fl,O)}function zc(h,v,O){var G=h.stateNode;if(v=v.childContextTypes,typeof G.getChildContext!="function")return O;G=G.getChildContext();for(var re in G)if(!(re in v))throw Error(r(108,Lt(h)||"Unknown",re));return _e({},O,G)}function gf(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Fc,cc=Ka.current,Vo(Ka,h),Vo(fl,fl.current),!0}function Zp(h,v,O){var G=h.stateNode;if(!G)throw Error(r(169));O?(h=zc(h,v,cc),G.__reactInternalMemoizedMergedChildContext=h,$o(fl),$o(Ka),Vo(Ka,h)):$o(fl),Vo(fl,O)}var Fu=null,xh=!1,hu=!1;function Bd(h){Fu===null?Fu=[h]:Fu.push(h)}function $p(h){xh=!0,Bd(h)}function Il(){if(!hu&&Fu!==null){hu=!0;var h=0,v=dr;try{var O=Fu;for(dr=1;h<O.length;h++){var G=O[h];do G=G(!0);while(G!==null)}Fu=null,xh=!1}catch(re){throw Fu!==null&&(Fu=Fu.slice(h+1)),on(qn,Il),re}finally{dr=v,hu=!1}}return null}var Ya=[],pu=0,em=null,Sh=0,Vs=[],Ra=0,Nr=null,Pr=1,dl="";function vf(h,v){Ya[pu++]=Sh,Ya[pu++]=em,em=h,Sh=v}function Fm(h,v,O){Vs[Ra++]=Pr,Vs[Ra++]=dl,Vs[Ra++]=Nr,Nr=h;var G=Pr;h=dl;var re=32-zr(G)-1;G&=~(1<<re),O+=1;var pe=32-zr(v)+re;if(30<pe){var Fe=re-re%5;pe=(G&(1<<Fe)-1).toString(32),G>>=Fe,re-=Fe,Pr=1<<32-zr(v)+re|O<<re|G,dl=pe+h}else Pr=1<<pe|O<<re|G,dl=h}function yf(h){h.return!==null&&(vf(h,1),Fm(h,1,0))}function mu(h){for(;h===em;)em=Ya[--pu],Ya[pu]=null,Sh=Ya[--pu],Ya[pu]=null;for(;h===Nr;)Nr=Vs[--Ra],Vs[Ra]=null,dl=Vs[--Ra],Vs[Ra]=null,Pr=Vs[--Ra],Vs[Ra]=null}var Oa=null,hl=null,us=!1,gu=null;function zm(h,v){var O=Ud(5,null,null,0);O.elementType="DELETED",O.stateNode=v,O.return=h,v=h.deletions,v===null?(h.deletions=[O],h.flags|=16):v.push(O)}function tm(h,v){switch(h.tag){case 5:var O=h.type;return v=v.nodeType!==1||O.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(h.stateNode=v,Oa=h,hl=Nc(v.firstChild),!0):!1;case 6:return v=h.pendingProps===""||v.nodeType!==3?null:v,v!==null?(h.stateNode=v,Oa=h,hl=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(O=Nr!==null?{id:Pr,overflow:dl}:null,h.memoizedState={dehydrated:v,treeContext:O,retryLane:1073741824},O=Ud(18,null,null,0),O.stateNode=v,O.return=h,h.child=O,Oa=h,hl=null,!0):!1;default:return!1}}function fp(h){return(h.mode&1)!==0&&(h.flags&128)===0}function bh(h){if(us){var v=hl;if(v){var O=v;if(!tm(h,v)){if(fp(h))throw Error(r(418));v=Nc(O.nextSibling);var G=Oa;v&&tm(h,v)?zm(G,O):(h.flags=h.flags&-4097|2,us=!1,Oa=h)}}else{if(fp(h))throw Error(r(418));h.flags=h.flags&-4097|2,us=!1,Oa=h}}}function dp(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Oa=h}function fc(h){if(h!==Oa)return!1;if(!us)return dp(h),us=!0,!1;var v;if((v=h.tag!==3)&&!(v=h.tag!==5)&&(v=h.type,v=v!=="head"&&v!=="body"&&!Nm(h.type,h.memoizedProps)),v&&(v=hl)){if(fp(h))throw Eh(),Error(r(418));for(;v;)zm(h,v),v=Nc(v.nextSibling)}if(dp(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,v=0;h;){if(h.nodeType===8){var O=h.data;if(O==="/$"){if(v===0){hl=Nc(h.nextSibling);break e}v--}else O!=="$"&&O!=="$!"&&O!=="$?"||v++}h=h.nextSibling}hl=null}}else hl=Oa?Nc(h.stateNode.nextSibling):null;return!0}function Eh(){for(var h=hl;h;)h=Nc(h.nextSibling)}function Uc(){hl=Oa=null,us=!1}function hp(h){gu===null?gu=[h]:gu.push(h)}var Kv=ce.ReactCurrentBatchConfig;function dc(h,v){if(h&&h.defaultProps){v=_e({},v),h=h.defaultProps;for(var O in h)v[O]===void 0&&(v[O]=h[O]);return v}return v}var pp=ms(null),_f=null,zu=null,Ah=null;function wf(){Ah=zu=_f=null}function jc(h){var v=pp.current;$o(pp),h._currentValue=v}function xf(h,v,O){for(;h!==null;){var G=h.alternate;if((h.childLanes&v)!==v?(h.childLanes|=v,G!==null&&(G.childLanes|=v)):G!==null&&(G.childLanes&v)!==v&&(G.childLanes|=v),h===O)break;h=h.return}}function hc(h,v){_f=h,Ah=zu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&v&&(Mr=!0),h.firstContext=null)}function Ba(h){var v=h._currentValue;if(Ah!==h)if(h={context:h,memoizedValue:v,next:null},zu===null){if(_f===null)throw Error(r(308));zu=h,_f.dependencies={lanes:0,firstContext:h}}else zu=zu.next=h;return v}var vu=null;function Ch(h){vu===null?vu=[h]:vu.push(h)}function mp(h,v,O,G){var re=v.interleaved;return re===null?(O.next=O,Ch(v)):(O.next=re.next,re.next=O),v.interleaved=O,jl(h,G)}function jl(h,v){h.lanes|=v;var O=h.alternate;for(O!==null&&(O.lanes|=v),O=h,h=h.return;h!==null;)h.childLanes|=v,O=h.alternate,O!==null&&(O.childLanes|=v),O=h,h=h.return;return O.tag===3?O.stateNode:null}var Uu=!1;function nm(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(h,v){h=h.updateQueue,v.updateQueue===h&&(v.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Hl(h,v){return{eventTime:h,lane:v,tag:0,payload:null,callback:null,next:null}}function bo(h,v,O){var G=h.updateQueue;if(G===null)return null;if(G=G.shared,qo&2){var re=G.pending;return re===null?v.next=v:(v.next=re.next,re.next=v),G.pending=v,jl(h,O)}return re=G.interleaved,re===null?(v.next=v,Ch(G)):(v.next=re.next,re.next=v),G.interleaved=v,jl(h,O)}function ti(h,v,O){if(v=v.updateQueue,v!==null&&(v=v.shared,(O&4194240)!==0)){var G=v.lanes;G&=h.pendingLanes,O|=G,v.lanes=O,lr(h,O)}}function ai(h,v){var O=h.updateQueue,G=h.alternate;if(G!==null&&(G=G.updateQueue,O===G)){var re=null,pe=null;if(O=O.firstBaseUpdate,O!==null){do{var Fe={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};pe===null?re=pe=Fe:pe=pe.next=Fe,O=O.next}while(O!==null);pe===null?re=pe=v:pe=pe.next=v}else re=pe=v;O={baseState:G.baseState,firstBaseUpdate:re,lastBaseUpdate:pe,shared:G.shared,effects:G.effects},h.updateQueue=O;return}h=O.lastBaseUpdate,h===null?O.firstBaseUpdate=v:h.next=v,O.lastBaseUpdate=v}function Ki(h,v,O,G){var re=h.updateQueue;Uu=!1;var pe=re.firstBaseUpdate,Fe=re.lastBaseUpdate,wt=re.shared.pending;if(wt!==null){re.shared.pending=null;var Nt=wt,Mn=Nt.next;Nt.next=null,Fe===null?pe=Mn:Fe.next=Mn,Fe=Nt;var $n=h.alternate;$n!==null&&($n=$n.updateQueue,wt=$n.lastBaseUpdate,wt!==Fe&&(wt===null?$n.firstBaseUpdate=Mn:wt.next=Mn,$n.lastBaseUpdate=Nt))}if(pe!==null){var fr=re.baseState;Fe=0,$n=Mn=Nt=null,wt=pe;do{var ur=wt.lane,$r=wt.eventTime;if((G&ur)===ur){$n!==null&&($n=$n.next={eventTime:$r,lane:0,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null});e:{var di=h,mi=wt;switch(ur=v,$r=O,mi.tag){case 1:if(di=mi.payload,typeof di=="function"){fr=di.call($r,fr,ur);break e}fr=di;break e;case 3:di.flags=di.flags&-65537|128;case 0:if(di=mi.payload,ur=typeof di=="function"?di.call($r,fr,ur):di,ur==null)break e;fr=_e({},fr,ur);break e;case 2:Uu=!0}}wt.callback!==null&&wt.lane!==0&&(h.flags|=64,ur=re.effects,ur===null?re.effects=[wt]:ur.push(wt))}else $r={eventTime:$r,lane:ur,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null},$n===null?(Mn=$n=$r,Nt=fr):$n=$n.next=$r,Fe|=ur;if(wt=wt.next,wt===null){if(wt=re.shared.pending,wt===null)break;ur=wt,wt=ur.next,ur.next=null,re.lastBaseUpdate=ur,re.shared.pending=null}}while(!0);if($n===null&&(Nt=fr),re.baseState=Nt,re.firstBaseUpdate=Mn,re.lastBaseUpdate=$n,v=re.shared.interleaved,v!==null){re=v;do Fe|=re.lane,re=re.next;while(re!==v)}else pe===null&&(re.shared.lanes=0);Qm|=Fe,h.lanes=Fe,h.memoizedState=fr}}function Ji(h,v,O){if(h=v.effects,v.effects=null,h!==null)for(v=0;v<h.length;v++){var G=h[v],re=G.callback;if(re!==null){if(G.callback=null,G=O,typeof re!="function")throw Error(r(191,re));re.call(G)}}}var Lo=new e.Component().refs;function va(h,v,O,G){v=h.memoizedState,O=O(G,v),O=O==null?v:_e({},v,O),h.memoizedState=O,h.lanes===0&&(h.updateQueue.baseState=O)}var es={isMounted:function(h){return(h=h._reactInternals)?At(h)===h:!1},enqueueSetState:function(h,v,O){h=h._reactInternals;var G=_c(),re=Sp(h),pe=Hl(G,re);pe.payload=v,O!=null&&(pe.callback=O),v=bo(h,pe,re),v!==null&&(zd(v,h,re,G),ti(v,h,re))},enqueueReplaceState:function(h,v,O){h=h._reactInternals;var G=_c(),re=Sp(h),pe=Hl(G,re);pe.tag=1,pe.payload=v,O!=null&&(pe.callback=O),v=bo(h,pe,re),v!==null&&(zd(v,h,re,G),ti(v,h,re))},enqueueForceUpdate:function(h,v){h=h._reactInternals;var O=_c(),G=Sp(h),re=Hl(O,G);re.tag=2,v!=null&&(re.callback=v),v=bo(h,re,G),v!==null&&(zd(v,h,G,O),ti(v,h,G))}};function Ds(h,v,O,G,re,pe,Fe){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(G,pe,Fe):v.prototype&&v.prototype.isPureReactComponent?!kl(O,G)||!kl(re,pe):!0}function Hc(h,v,O){var G=!1,re=Fc,pe=v.contextType;return typeof pe=="object"&&pe!==null?pe=Ba(pe):(re=Ia(v)?cc:Ka.current,G=v.contextTypes,pe=(G=G!=null)?mf(h,re):Fc),v=new v(O,pe),h.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=es,h.stateNode=v,v._reactInternals=h,G&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=re,h.__reactInternalMemoizedMaskedChildContext=pe),v}function Gc(h,v,O,G){h=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(O,G),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(O,G),v.state!==h&&es.enqueueReplaceState(v,v.state,null)}function Dd(h,v,O,G){var re=h.stateNode;re.props=O,re.state=h.memoizedState,re.refs=Lo,nm(h);var pe=v.contextType;typeof pe=="object"&&pe!==null?re.context=Ba(pe):(pe=Ia(v)?cc:Ka.current,re.context=mf(h,pe)),re.state=h.memoizedState,pe=v.getDerivedStateFromProps,typeof pe=="function"&&(va(h,v,pe,O),re.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof re.getSnapshotBeforeUpdate=="function"||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(v=re.state,typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount(),v!==re.state&&es.enqueueReplaceState(re,re.state,null),Ki(h,O,re,G),re.state=h.memoizedState),typeof re.componentDidMount=="function"&&(h.flags|=4194308)}function Vc(h,v,O){if(h=O.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(r(309));var G=O.stateNode}if(!G)throw Error(r(147,h));var re=G,pe=""+h;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===pe?v.ref:(v=function(Fe){var wt=re.refs;wt===Lo&&(wt=re.refs={}),Fe===null?delete wt[pe]:wt[pe]=Fe},v._stringRef=pe,v)}if(typeof h!="string")throw Error(r(284));if(!O._owner)throw Error(r(290,h))}return h}function xs(h,v){throw h=Object.prototype.toString.call(v),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":h))}function ya(h){var v=h._init;return v(h._payload)}function Th(h){function v(un,Ut){if(h){var yn=un.deletions;yn===null?(un.deletions=[Ut],un.flags|=16):yn.push(Ut)}}function O(un,Ut){if(!h)return null;for(;Ut!==null;)v(un,Ut),Ut=Ut.sibling;return null}function G(un,Ut){for(un=new Map;Ut!==null;)Ut.key!==null?un.set(Ut.key,Ut):un.set(Ut.index,Ut),Ut=Ut.sibling;return un}function re(un,Ut){return un=Ep(un,Ut),un.index=0,un.sibling=null,un}function pe(un,Ut,yn){return un.index=yn,h?(yn=un.alternate,yn!==null?(yn=yn.index,yn<Ut?(un.flags|=2,Ut):yn):(un.flags|=2,Ut)):(un.flags|=1048576,Ut)}function Fe(un){return h&&un.alternate===null&&(un.flags|=2),un}function wt(un,Ut,yn,kr){return Ut===null||Ut.tag!==6?(Ut=i_(yn,un.mode,kr),Ut.return=un,Ut):(Ut=re(Ut,yn),Ut.return=un,Ut)}function Nt(un,Ut,yn,kr){var xi=yn.type;return xi===Se?$n(un,Ut,yn.props.children,kr,yn.key):Ut!==null&&(Ut.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===Ye&&ya(xi)===Ut.type)?(kr=re(Ut,yn.props),kr.ref=Vc(un,Ut,yn),kr.return=un,kr):(kr=r_(yn.type,yn.key,yn.props,null,un.mode,kr),kr.ref=Vc(un,Ut,yn),kr.return=un,kr)}function Mn(un,Ut,yn,kr){return Ut===null||Ut.tag!==4||Ut.stateNode.containerInfo!==yn.containerInfo||Ut.stateNode.implementation!==yn.implementation?(Ut=Cx(yn,un.mode,kr),Ut.return=un,Ut):(Ut=re(Ut,yn.children||[]),Ut.return=un,Ut)}function $n(un,Ut,yn,kr,xi){return Ut===null||Ut.tag!==7?(Ut=qg(yn,un.mode,kr,xi),Ut.return=un,Ut):(Ut=re(Ut,yn),Ut.return=un,Ut)}function fr(un,Ut,yn){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Ut=i_(""+Ut,un.mode,yn),Ut.return=un,Ut;if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case le:return yn=r_(Ut.type,Ut.key,Ut.props,null,un.mode,yn),yn.ref=Vc(un,null,Ut),yn.return=un,yn;case Z:return Ut=Cx(Ut,un.mode,yn),Ut.return=un,Ut;case Ye:var kr=Ut._init;return fr(un,kr(Ut._payload),yn)}if(ct(Ut)||ye(Ut))return Ut=qg(Ut,un.mode,yn,null),Ut.return=un,Ut;xs(un,Ut)}return null}function ur(un,Ut,yn,kr){var xi=Ut!==null?Ut.key:null;if(typeof yn=="string"&&yn!==""||typeof yn=="number")return xi!==null?null:wt(un,Ut,""+yn,kr);if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case le:return yn.key===xi?Nt(un,Ut,yn,kr):null;case Z:return yn.key===xi?Mn(un,Ut,yn,kr):null;case Ye:return xi=yn._init,ur(un,Ut,xi(yn._payload),kr)}if(ct(yn)||ye(yn))return xi!==null?null:$n(un,Ut,yn,kr,null);xs(un,yn)}return null}function $r(un,Ut,yn,kr,xi){if(typeof kr=="string"&&kr!==""||typeof kr=="number")return un=un.get(yn)||null,wt(Ut,un,""+kr,xi);if(typeof kr=="object"&&kr!==null){switch(kr.$$typeof){case le:return un=un.get(kr.key===null?yn:kr.key)||null,Nt(Ut,un,kr,xi);case Z:return un=un.get(kr.key===null?yn:kr.key)||null,Mn(Ut,un,kr,xi);case Ye:var zi=kr._init;return $r(un,Ut,yn,zi(kr._payload),xi)}if(ct(kr)||ye(kr))return un=un.get(yn)||null,$n(Ut,un,kr,xi,null);xs(Ut,kr)}return null}function di(un,Ut,yn,kr){for(var xi=null,zi=null,ji=Ut,Qi=Ut=0,Kl=null;ji!==null&&Qi<yn.length;Qi++){ji.index>Qi?(Kl=ji,ji=null):Kl=ji.sibling;var ns=ur(un,ji,yn[Qi],kr);if(ns===null){ji===null&&(ji=Kl);break}h&&ji&&ns.alternate===null&&v(un,ji),Ut=pe(ns,Ut,Qi),zi===null?xi=ns:zi.sibling=ns,zi=ns,ji=Kl}if(Qi===yn.length)return O(un,ji),us&&vf(un,Qi),xi;if(ji===null){for(;Qi<yn.length;Qi++)ji=fr(un,yn[Qi],kr),ji!==null&&(Ut=pe(ji,Ut,Qi),zi===null?xi=ji:zi.sibling=ji,zi=ji);return us&&vf(un,Qi),xi}for(ji=G(un,ji);Qi<yn.length;Qi++)Kl=$r(ji,un,Qi,yn[Qi],kr),Kl!==null&&(h&&Kl.alternate!==null&&ji.delete(Kl.key===null?Qi:Kl.key),Ut=pe(Kl,Ut,Qi),zi===null?xi=Kl:zi.sibling=Kl,zi=Kl);return h&&ji.forEach(function(am){return v(un,am)}),us&&vf(un,Qi),xi}function mi(un,Ut,yn,kr){var xi=ye(yn);if(typeof xi!="function")throw Error(r(150));if(yn=xi.call(yn),yn==null)throw Error(r(151));for(var zi=xi=null,ji=Ut,Qi=Ut=0,Kl=null,ns=yn.next();ji!==null&&!ns.done;Qi++,ns=yn.next()){ji.index>Qi?(Kl=ji,ji=null):Kl=ji.sibling;var am=ur(un,ji,ns.value,kr);if(am===null){ji===null&&(ji=Kl);break}h&&ji&&am.alternate===null&&v(un,ji),Ut=pe(am,Ut,Qi),zi===null?xi=am:zi.sibling=am,zi=am,ji=Kl}if(ns.done)return O(un,ji),us&&vf(un,Qi),xi;if(ji===null){for(;!ns.done;Qi++,ns=yn.next())ns=fr(un,ns.value,kr),ns!==null&&(Ut=pe(ns,Ut,Qi),zi===null?xi=ns:zi.sibling=ns,zi=ns);return us&&vf(un,Qi),xi}for(ji=G(un,ji);!ns.done;Qi++,ns=yn.next())ns=$r(ji,un,Qi,ns.value,kr),ns!==null&&(h&&ns.alternate!==null&&ji.delete(ns.key===null?Qi:ns.key),Ut=pe(ns,Ut,Qi),zi===null?xi=ns:zi.sibling=ns,zi=ns);return h&&ji.forEach(function(Bx){return v(un,Bx)}),us&&vf(un,Qi),xi}function Ja(un,Ut,yn,kr){if(typeof yn=="object"&&yn!==null&&yn.type===Se&&yn.key===null&&(yn=yn.props.children),typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case le:e:{for(var xi=yn.key,zi=Ut;zi!==null;){if(zi.key===xi){if(xi=yn.type,xi===Se){if(zi.tag===7){O(un,zi.sibling),Ut=re(zi,yn.props.children),Ut.return=un,un=Ut;break e}}else if(zi.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===Ye&&ya(xi)===zi.type){O(un,zi.sibling),Ut=re(zi,yn.props),Ut.ref=Vc(un,zi,yn),Ut.return=un,un=Ut;break e}O(un,zi);break}else v(un,zi);zi=zi.sibling}yn.type===Se?(Ut=qg(yn.props.children,un.mode,kr,yn.key),Ut.return=un,un=Ut):(kr=r_(yn.type,yn.key,yn.props,null,un.mode,kr),kr.ref=Vc(un,Ut,yn),kr.return=un,un=kr)}return Fe(un);case Z:e:{for(zi=yn.key;Ut!==null;){if(Ut.key===zi)if(Ut.tag===4&&Ut.stateNode.containerInfo===yn.containerInfo&&Ut.stateNode.implementation===yn.implementation){O(un,Ut.sibling),Ut=re(Ut,yn.children||[]),Ut.return=un,un=Ut;break e}else{O(un,Ut);break}else v(un,Ut);Ut=Ut.sibling}Ut=Cx(yn,un.mode,kr),Ut.return=un,un=Ut}return Fe(un);case Ye:return zi=yn._init,Ja(un,Ut,zi(yn._payload),kr)}if(ct(yn))return di(un,Ut,yn,kr);if(ye(yn))return mi(un,Ut,yn,kr);xs(un,yn)}return typeof yn=="string"&&yn!==""||typeof yn=="number"?(yn=""+yn,Ut!==null&&Ut.tag===6?(O(un,Ut.sibling),Ut=re(Ut,yn),Ut.return=un,un=Ut):(O(un,Ut),Ut=i_(yn,un.mode,kr),Ut.return=un,un=Ut),Fe(un)):O(un,Ut)}return Ja}var yu=Th(!0),Sf=Th(!1),bf={},_a=ms(bf),Gl=ms(bf),Vl=ms(bf);function qa(h){if(h===bf)throw Error(r(174));return h}function Ef(h,v){switch(Vo(Vl,v),Vo(Gl,h),Vo(_a,bf),h=v.nodeType,h){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:jr(null,"");break;default:h=h===8?v.parentNode:v,v=h.namespaceURI||null,h=h.tagName,v=jr(v,h)}$o(_a),Vo(_a,v)}function pc(){$o(_a),$o(Gl),$o(Vl)}function Nd(h){qa(Vl.current);var v=qa(_a.current),O=jr(v,h.type);v!==O&&(Vo(Gl,h),Vo(_a,O))}function Kf(h){Gl.current===h&&($o(_a),$o(Gl))}var Ni=ms(0);function Bo(h){for(var v=h;v!==null;){if(v.tag===13){var O=v.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Ws=[];function Da(){for(var h=0;h<Ws.length;h++)Ws[h]._workInProgressVersionPrimary=null;Ws.length=0}var sa=ce.ReactCurrentDispatcher,Na=ce.ReactCurrentBatchConfig,mc=0,ts=null,ea=null,cs=null,ju=!1,Ld=!1,Yf=0,Af=0;function Ns(){throw Error(r(321))}function rm(h,v){if(v===null)return!1;for(var O=0;O<v.length&&O<h.length;O++)if(!Js(h[O],v[O]))return!1;return!0}function Ph(h,v,O,G,re,pe){if(mc=pe,ts=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,sa.current=h===null||h.memoizedState===null?f:S,h=O(G,re),Ld){pe=0;do{if(Ld=!1,Yf=0,25<=pe)throw Error(r(301));pe+=1,cs=ea=null,v.updateQueue=null,sa.current=R,h=O(G,re)}while(Ld)}if(sa.current=a,v=ea!==null&&ea.next!==null,mc=0,cs=ea=ts=null,ju=!1,v)throw Error(r(300));return h}function Wc(){var h=Yf!==0;return Yf=0,h}function _u(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?ts.memoizedState=cs=h:cs=cs.next=h,cs}function Hu(){if(ea===null){var h=ts.alternate;h=h!==null?h.memoizedState:null}else h=ea.next;var v=cs===null?ts.memoizedState:cs.next;if(v!==null)cs=v,ea=h;else{if(h===null)throw Error(r(310));ea=h,h={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},cs===null?ts.memoizedState=cs=h:cs=cs.next=h}return cs}function qf(h,v){return typeof v=="function"?v(h):v}function Qf(h){var v=Hu(),O=v.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=h;var G=ea,re=G.baseQueue,pe=O.pending;if(pe!==null){if(re!==null){var Fe=re.next;re.next=pe.next,pe.next=Fe}G.baseQueue=re=pe,O.pending=null}if(re!==null){pe=re.next,G=G.baseState;var wt=Fe=null,Nt=null,Mn=pe;do{var $n=Mn.lane;if((mc&$n)===$n)Nt!==null&&(Nt=Nt.next={lane:0,action:Mn.action,hasEagerState:Mn.hasEagerState,eagerState:Mn.eagerState,next:null}),G=Mn.hasEagerState?Mn.eagerState:h(G,Mn.action);else{var fr={lane:$n,action:Mn.action,hasEagerState:Mn.hasEagerState,eagerState:Mn.eagerState,next:null};Nt===null?(wt=Nt=fr,Fe=G):Nt=Nt.next=fr,ts.lanes|=$n,Qm|=$n}Mn=Mn.next}while(Mn!==null&&Mn!==pe);Nt===null?Fe=G:Nt.next=wt,Js(G,v.memoizedState)||(Mr=!0),v.memoizedState=G,v.baseState=Fe,v.baseQueue=Nt,O.lastRenderedState=G}if(h=O.interleaved,h!==null){re=h;do pe=re.lane,ts.lanes|=pe,Qm|=pe,re=re.next;while(re!==h)}else re===null&&(O.lanes=0);return[v.memoizedState,O.dispatch]}function Cf(h){var v=Hu(),O=v.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=h;var G=O.dispatch,re=O.pending,pe=v.memoizedState;if(re!==null){O.pending=null;var Fe=re=re.next;do pe=h(pe,Fe.action),Fe=Fe.next;while(Fe!==re);Js(pe,v.memoizedState)||(Mr=!0),v.memoizedState=pe,v.baseQueue===null&&(v.baseState=pe),O.lastRenderedState=pe}return[pe,G]}function Jf(){}function Gu(h,v){var O=ts,G=Hu(),re=v(),pe=!Js(G.memoizedState,re);if(pe&&(G.memoizedState=re,Mr=!0),G=G.queue,$f(Qa.bind(null,O,G,h),[h]),G.getSnapshot!==v||pe||cs!==null&&cs.memoizedState.tag&1){if(O.flags|=2048,Mf(9,pl.bind(null,O,G,re,v),void 0,null),Su===null)throw Error(r(349));mc&30||Vu(O,v,re)}return re}function Vu(h,v,O){h.flags|=16384,h={getSnapshot:v,value:O},v=ts.updateQueue,v===null?(v={lastEffect:null,stores:null},ts.updateQueue=v,v.stores=[h]):(O=v.stores,O===null?v.stores=[h]:O.push(h))}function pl(h,v,O,G){v.value=O,v.getSnapshot=G,im(v)&&Gg(h)}function Qa(h,v,O){return O(function(){im(v)&&Gg(h)})}function im(h){var v=h.getSnapshot;h=h.value;try{var O=v();return!Js(h,O)}catch{return!0}}function Gg(h){var v=jl(h,1);v!==null&&zd(v,h,1,-1)}function Zf(h){var v=_u();return typeof h=="function"&&(h=h()),v.memoizedState=v.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:h},v.queue=h,h=h.dispatch=om.bind(null,ts,h),[v.memoizedState,h]}function Mf(h,v,O,G){return h={tag:h,create:v,destroy:O,deps:G,next:null},v=ts.updateQueue,v===null?(v={lastEffect:null,stores:null},ts.updateQueue=v,v.lastEffect=h.next=h):(O=v.lastEffect,O===null?v.lastEffect=h.next=h:(G=O.next,O.next=h,h.next=G,v.lastEffect=h)),h}function gp(){return Hu().memoizedState}function kh(h,v,O,G){var re=_u();ts.flags|=h,re.memoizedState=Mf(1|v,O,void 0,G===void 0?null:G)}function Rl(h,v,O,G){var re=Hu();G=G===void 0?null:G;var pe=void 0;if(ea!==null){var Fe=ea.memoizedState;if(pe=Fe.destroy,G!==null&&rm(G,Fe.deps)){re.memoizedState=Mf(v,O,pe,G);return}}ts.flags|=h,re.memoizedState=Mf(1|v,O,pe,G)}function Wl(h,v){return kh(8390656,8,h,v)}function $f(h,v){return Rl(2048,8,h,v)}function Tf(h,v){return Rl(4,2,h,v)}function wu(h,v){return Rl(4,4,h,v)}function gc(h,v){if(typeof v=="function")return h=h(),v(h),function(){v(null)};if(v!=null)return h=h(),v.current=h,function(){v.current=null}}function xu(h,v,O){return O=O!=null?O.concat([h]):null,Rl(4,4,gc.bind(null,v,h),O)}function ed(){}function Ih(h,v){var O=Hu();v=v===void 0?null:v;var G=O.memoizedState;return G!==null&&v!==null&&rm(v,G[1])?G[0]:(O.memoizedState=[h,v],h)}function vp(h,v){var O=Hu();v=v===void 0?null:v;var G=O.memoizedState;return G!==null&&v!==null&&rm(v,G[1])?G[0]:(h=h(),O.memoizedState=[h,v],h)}function Um(h,v,O){return mc&21?(Js(O,v)||(O=ut(),ts.lanes|=O,Qm|=O,h.baseState=!0),v):(h.baseState&&(h.baseState=!1,Mr=!0),h.memoizedState=O)}function jm(h,v){var O=dr;dr=O!==0&&4>O?O:4,h(!0);var G=Na.transition;Na.transition={};try{h(!1),v()}finally{dr=O,Na.transition=G}}function yp(){return Hu().memoizedState}function Hm(h,v,O){var G=Sp(h);if(O={lane:G,action:O,hasEagerState:!1,eagerState:null,next:null},_p(h))Vg(v,O);else if(O=mp(h,v,O,G),O!==null){var re=_c();zd(O,h,G,re),x(O,v,G)}}function om(h,v,O){var G=Sp(h),re={lane:G,action:O,hasEagerState:!1,eagerState:null,next:null};if(_p(h))Vg(v,re);else{var pe=h.alternate;if(h.lanes===0&&(pe===null||pe.lanes===0)&&(pe=v.lastRenderedReducer,pe!==null))try{var Fe=v.lastRenderedState,wt=pe(Fe,O);if(re.hasEagerState=!0,re.eagerState=wt,Js(wt,Fe)){var Nt=v.interleaved;Nt===null?(re.next=re,Ch(v)):(re.next=Nt.next,Nt.next=re),v.interleaved=re;return}}catch{}finally{}O=mp(h,v,re,G),O!==null&&(re=_c(),zd(O,h,G,re),x(O,v,G))}}function _p(h){var v=h.alternate;return h===ts||v!==null&&v===ts}function Vg(h,v){Ld=ju=!0;var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}function x(h,v,O){if(O&4194240){var G=v.lanes;G&=h.pendingLanes,O|=G,v.lanes=O,lr(h,O)}}var a={readContext:Ba,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},f={readContext:Ba,useCallback:function(h,v){return _u().memoizedState=[h,v===void 0?null:v],h},useContext:Ba,useEffect:Wl,useImperativeHandle:function(h,v,O){return O=O!=null?O.concat([h]):null,kh(4194308,4,gc.bind(null,v,h),O)},useLayoutEffect:function(h,v){return kh(4194308,4,h,v)},useInsertionEffect:function(h,v){return kh(4,2,h,v)},useMemo:function(h,v){var O=_u();return v=v===void 0?null:v,h=h(),O.memoizedState=[h,v],h},useReducer:function(h,v,O){var G=_u();return v=O!==void 0?O(v):v,G.memoizedState=G.baseState=v,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:v},G.queue=h,h=h.dispatch=Hm.bind(null,ts,h),[G.memoizedState,h]},useRef:function(h){var v=_u();return h={current:h},v.memoizedState=h},useState:Zf,useDebugValue:ed,useDeferredValue:function(h){return _u().memoizedState=h},useTransition:function(){var h=Zf(!1),v=h[0];return h=jm.bind(null,h[1]),_u().memoizedState=h,[v,h]},useMutableSource:function(){},useSyncExternalStore:function(h,v,O){var G=ts,re=_u();if(us){if(O===void 0)throw Error(r(407));O=O()}else{if(O=v(),Su===null)throw Error(r(349));mc&30||Vu(G,v,O)}re.memoizedState=O;var pe={value:O,getSnapshot:v};return re.queue=pe,Wl(Qa.bind(null,G,pe,h),[h]),G.flags|=2048,Mf(9,pl.bind(null,G,pe,O,v),void 0,null),O},useId:function(){var h=_u(),v=Su.identifierPrefix;if(us){var O=dl,G=Pr;O=(G&~(1<<32-zr(G)-1)).toString(32)+O,v=":"+v+"R"+O,O=Yf++,0<O&&(v+="H"+O.toString(32)),v+=":"}else O=Af++,v=":"+v+"r"+O.toString(32)+":";return h.memoizedState=v},unstable_isNewReconciler:!1},S={readContext:Ba,useCallback:Ih,useContext:Ba,useEffect:$f,useImperativeHandle:xu,useInsertionEffect:Tf,useLayoutEffect:wu,useMemo:vp,useReducer:Qf,useRef:gp,useState:function(){return Qf(qf)},useDebugValue:ed,useDeferredValue:function(h){var v=Hu();return Um(v,ea.memoizedState,h)},useTransition:function(){var h=Qf(qf)[0],v=Hu().memoizedState;return[h,v]},useMutableSource:Jf,useSyncExternalStore:Gu,useId:yp,unstable_isNewReconciler:!1},R={readContext:Ba,useCallback:Ih,useContext:Ba,useEffect:$f,useImperativeHandle:xu,useInsertionEffect:Tf,useLayoutEffect:wu,useMemo:vp,useReducer:Cf,useRef:gp,useState:function(){return Cf(qf)},useDebugValue:ed,useDeferredValue:function(h){var v=Hu();return ea===null?v.memoizedState=h:Um(v,ea.memoizedState,h)},useTransition:function(){var h=Cf(qf)[0],v=Hu().memoizedState;return[h,v]},useMutableSource:Jf,useSyncExternalStore:Gu,useId:yp,unstable_isNewReconciler:!1};function z(h,v){try{var O="",G=v;do O+=Qe(G),G=G.return;while(G);var re=O}catch(pe){re=`
Error generating stack: `+pe.message+`
`+pe.stack}return{value:h,source:v,stack:re,digest:null}}function ne(h,v,O){return{value:h,source:null,stack:O??null,digest:v??null}}function ke(h,v){try{console.error(v.value)}catch(O){setTimeout(function(){throw O})}}var nt=typeof WeakMap=="function"?WeakMap:Map;function Pt(h,v,O){O=Hl(-1,O),O.tag=3,O.payload={element:null};var G=v.value;return O.callback=function(){qv||(qv=!0,K1=G),ke(h,v)},O}function gn(h,v,O){O=Hl(-1,O),O.tag=3;var G=h.type.getDerivedStateFromError;if(typeof G=="function"){var re=v.value;O.payload=function(){return G(re)},O.callback=function(){ke(h,v)}}var pe=h.stateNode;return pe!==null&&typeof pe.componentDidCatch=="function"&&(O.callback=function(){ke(h,v),typeof G!="function"&&(Bh===null?Bh=new Set([this]):Bh.add(this));var Fe=v.stack;this.componentDidCatch(v.value,{componentStack:Fe!==null?Fe:""})}),O}function Jn(h,v,O){var G=h.pingCache;if(G===null){G=h.pingCache=new nt;var re=new Set;G.set(v,re)}else re=G.get(v),re===void 0&&(re=new Set,G.set(v,re));re.has(O)||(re.add(O),h=mE.bind(null,h,v,O),v.then(h,h))}function Kn(h){do{var v;if((v=h.tag===13)&&(v=h.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return h;h=h.return}while(h!==null);return null}function Lr(h,v,O,G,re){return h.mode&1?(h.flags|=65536,h.lanes=re,h):(h===v?h.flags|=65536:(h.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(v=Hl(-1,1),v.tag=2,bo(O,v,1))),O.lanes|=1),h)}var Or=ce.ReactCurrentOwner,Mr=!1;function Zi(h,v,O,G){v.child=h===null?Sf(v,null,O,G):yu(v,h.child,O,G)}function sn(h,v,O,G,re){O=O.render;var pe=v.ref;return hc(v,re),G=Ph(h,v,O,G,pe,re),O=Wc(),h!==null&&!Mr?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~re,wp(h,v,re)):(us&&O&&yf(v),v.flags|=1,Zi(h,v,G,re),v.child)}function et(h,v,O,G,re){if(h===null){var pe=O.type;return typeof pe=="function"&&!n_(pe)&&pe.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(v.tag=15,v.type=pe,rt(h,v,pe,G,re)):(h=r_(O.type,null,G,v,v.mode,re),h.ref=v.ref,h.return=v,v.child=h)}if(pe=h.child,!(h.lanes&re)){var Fe=pe.memoizedProps;if(O=O.compare,O=O!==null?O:kl,O(Fe,G)&&h.ref===v.ref)return wp(h,v,re)}return v.flags|=1,h=Ep(pe,G),h.ref=v.ref,h.return=v,v.child=h}function rt(h,v,O,G,re){if(h!==null){var pe=h.memoizedProps;if(kl(pe,G)&&h.ref===v.ref)if(Mr=!1,v.pendingProps=G=pe,(h.lanes&re)!==0)h.flags&131072&&(Mr=!0);else return v.lanes=h.lanes,wp(h,v,re)}return ar(h,v,O,G,re)}function Rt(h,v,O){var G=v.pendingProps,re=G.children,pe=h!==null?h.memoizedState:null;if(G.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vo(Ym,yc),yc|=O;else{if(!(O&1073741824))return h=pe!==null?pe.baseLanes|O:O,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:h,cachePool:null,transitions:null},v.updateQueue=null,Vo(Ym,yc),yc|=h,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},G=pe!==null?pe.baseLanes:O,Vo(Ym,yc),yc|=G}else pe!==null?(G=pe.baseLanes|O,v.memoizedState=null):G=O,Vo(Ym,yc),yc|=G;return Zi(h,v,re,O),v.child}function Fn(h,v){var O=v.ref;(h===null&&O!==null||h!==null&&h.ref!==O)&&(v.flags|=512,v.flags|=2097152)}function ar(h,v,O,G,re){var pe=Ia(O)?cc:Ka.current;return pe=mf(v,pe),hc(v,re),O=Ph(h,v,O,G,pe,re),G=Wc(),h!==null&&!Mr?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~re,wp(h,v,re)):(us&&G&&yf(v),v.flags|=1,Zi(h,v,O,re),v.child)}function Br(h,v,O,G,re){if(Ia(O)){var pe=!0;gf(v)}else pe=!1;if(hc(v,re),v.stateNode===null)B1(h,v),Hc(v,O,G),Dd(v,O,G,re),G=!0;else if(h===null){var Fe=v.stateNode,wt=v.memoizedProps;Fe.props=wt;var Nt=Fe.context,Mn=O.contextType;typeof Mn=="object"&&Mn!==null?Mn=Ba(Mn):(Mn=Ia(O)?cc:Ka.current,Mn=mf(v,Mn));var $n=O.getDerivedStateFromProps,fr=typeof $n=="function"||typeof Fe.getSnapshotBeforeUpdate=="function";fr||typeof Fe.UNSAFE_componentWillReceiveProps!="function"&&typeof Fe.componentWillReceiveProps!="function"||(wt!==G||Nt!==Mn)&&Gc(v,Fe,G,Mn),Uu=!1;var ur=v.memoizedState;Fe.state=ur,Ki(v,G,Fe,re),Nt=v.memoizedState,wt!==G||ur!==Nt||fl.current||Uu?(typeof $n=="function"&&(va(v,O,$n,G),Nt=v.memoizedState),(wt=Uu||Ds(v,O,wt,G,ur,Nt,Mn))?(fr||typeof Fe.UNSAFE_componentWillMount!="function"&&typeof Fe.componentWillMount!="function"||(typeof Fe.componentWillMount=="function"&&Fe.componentWillMount(),typeof Fe.UNSAFE_componentWillMount=="function"&&Fe.UNSAFE_componentWillMount()),typeof Fe.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Fe.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=G,v.memoizedState=Nt),Fe.props=G,Fe.state=Nt,Fe.context=Mn,G=wt):(typeof Fe.componentDidMount=="function"&&(v.flags|=4194308),G=!1)}else{Fe=v.stateNode,Mh(h,v),wt=v.memoizedProps,Mn=v.type===v.elementType?wt:dc(v.type,wt),Fe.props=Mn,fr=v.pendingProps,ur=Fe.context,Nt=O.contextType,typeof Nt=="object"&&Nt!==null?Nt=Ba(Nt):(Nt=Ia(O)?cc:Ka.current,Nt=mf(v,Nt));var $r=O.getDerivedStateFromProps;($n=typeof $r=="function"||typeof Fe.getSnapshotBeforeUpdate=="function")||typeof Fe.UNSAFE_componentWillReceiveProps!="function"&&typeof Fe.componentWillReceiveProps!="function"||(wt!==fr||ur!==Nt)&&Gc(v,Fe,G,Nt),Uu=!1,ur=v.memoizedState,Fe.state=ur,Ki(v,G,Fe,re);var di=v.memoizedState;wt!==fr||ur!==di||fl.current||Uu?(typeof $r=="function"&&(va(v,O,$r,G),di=v.memoizedState),(Mn=Uu||Ds(v,O,Mn,G,ur,di,Nt)||!1)?($n||typeof Fe.UNSAFE_componentWillUpdate!="function"&&typeof Fe.componentWillUpdate!="function"||(typeof Fe.componentWillUpdate=="function"&&Fe.componentWillUpdate(G,di,Nt),typeof Fe.UNSAFE_componentWillUpdate=="function"&&Fe.UNSAFE_componentWillUpdate(G,di,Nt)),typeof Fe.componentDidUpdate=="function"&&(v.flags|=4),typeof Fe.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Fe.componentDidUpdate!="function"||wt===h.memoizedProps&&ur===h.memoizedState||(v.flags|=4),typeof Fe.getSnapshotBeforeUpdate!="function"||wt===h.memoizedProps&&ur===h.memoizedState||(v.flags|=1024),v.memoizedProps=G,v.memoizedState=di),Fe.props=G,Fe.state=di,Fe.context=Nt,G=Mn):(typeof Fe.componentDidUpdate!="function"||wt===h.memoizedProps&&ur===h.memoizedState||(v.flags|=4),typeof Fe.getSnapshotBeforeUpdate!="function"||wt===h.memoizedProps&&ur===h.memoizedState||(v.flags|=1024),G=!1)}return Ur(h,v,O,G,pe,re)}function Ur(h,v,O,G,re,pe){Fn(h,v);var Fe=(v.flags&128)!==0;if(!G&&!Fe)return re&&Zp(v,O,!1),wp(h,v,pe);G=v.stateNode,Or.current=v;var wt=Fe&&typeof O.getDerivedStateFromError!="function"?null:G.render();return v.flags|=1,h!==null&&Fe?(v.child=yu(v,h.child,null,pe),v.child=yu(v,null,wt,pe)):Zi(h,v,wt,pe),v.memoizedState=G.state,re&&Zp(v,O,!0),v.child}function Li(h){var v=h.stateNode;v.pendingContext?cp(h,v.pendingContext,v.pendingContext!==v.context):v.context&&cp(h,v.context,!1),Ef(h,v.containerInfo)}function Fi(h,v,O,G,re){return Uc(),hp(re),v.flags|=256,Zi(h,v,O,G),v.child}var $i={dehydrated:null,treeContext:null,retryLane:0};function Xc(h){return{baseLanes:h,cachePool:null,transitions:null}}function R1(h,v,O){var G=v.pendingProps,re=Ni.current,pe=!1,Fe=(v.flags&128)!==0,wt;if((wt=Fe)||(wt=h!==null&&h.memoizedState===null?!1:(re&2)!==0),wt?(pe=!0,v.flags&=-129):(h===null||h.memoizedState!==null)&&(re|=1),Vo(Ni,re&1),h===null)return bh(v),h=v.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(v.mode&1?h.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(Fe=G.children,h=G.fallback,pe?(G=v.mode,pe=v.child,Fe={mode:"hidden",children:Fe},!(G&1)&&pe!==null?(pe.childLanes=0,pe.pendingProps=Fe):pe=Jv(Fe,G,0,null),h=qg(h,G,O,null),pe.return=v,h.return=v,pe.sibling=h,v.child=pe,v.child.memoizedState=Xc(O),v.memoizedState=$i,h):Gm(v,Fe));if(re=h.memoizedState,re!==null&&(wt=re.dehydrated,wt!==null))return iE(h,v,Fe,G,wt,re,O);if(pe){pe=G.fallback,Fe=v.mode,re=h.child,wt=re.sibling;var Nt={mode:"hidden",children:G.children};return!(Fe&1)&&v.child!==re?(G=v.child,G.childLanes=0,G.pendingProps=Nt,v.deletions=null):(G=Ep(re,Nt),G.subtreeFlags=re.subtreeFlags&14680064),wt!==null?pe=Ep(wt,pe):(pe=qg(pe,Fe,O,null),pe.flags|=2),pe.return=v,G.return=v,G.sibling=pe,v.child=G,G=pe,pe=v.child,Fe=h.child.memoizedState,Fe=Fe===null?Xc(O):{baseLanes:Fe.baseLanes|O,cachePool:null,transitions:Fe.transitions},pe.memoizedState=Fe,pe.childLanes=h.childLanes&~O,v.memoizedState=$i,G}return pe=h.child,h=pe.sibling,G=Ep(pe,{mode:"visible",children:G.children}),!(v.mode&1)&&(G.lanes=O),G.return=v,G.sibling=null,h!==null&&(O=v.deletions,O===null?(v.deletions=[h],v.flags|=16):O.push(h)),v.child=G,v.memoizedState=null,G}function Gm(h,v){return v=Jv({mode:"visible",children:v},h.mode,0,null),v.return=h,h.child=v}function Vm(h,v,O,G){return G!==null&&hp(G),yu(v,h.child,null,O),h=Gm(v,v.pendingProps.children),h.flags|=2,v.memoizedState=null,h}function iE(h,v,O,G,re,pe,Fe){if(O)return v.flags&256?(v.flags&=-257,G=ne(Error(r(422))),Vm(h,v,Fe,G)):v.memoizedState!==null?(v.child=h.child,v.flags|=128,null):(pe=G.fallback,re=v.mode,G=Jv({mode:"visible",children:G.children},re,0,null),pe=qg(pe,re,Fe,null),pe.flags|=2,G.return=v,pe.return=v,G.sibling=pe,v.child=G,v.mode&1&&yu(v,h.child,null,Fe),v.child.memoizedState=Xc(Fe),v.memoizedState=$i,pe);if(!(v.mode&1))return Vm(h,v,Fe,null);if(re.data==="$!"){if(G=re.nextSibling&&re.nextSibling.dataset,G)var wt=G.dgst;return G=wt,pe=Error(r(419)),G=ne(pe,G,void 0),Vm(h,v,Fe,G)}if(wt=(Fe&h.childLanes)!==0,Mr||wt){if(G=Su,G!==null){switch(Fe&-Fe){case 4:re=2;break;case 16:re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:re=32;break;case 536870912:re=268435456;break;default:re=0}re=re&(G.suspendedLanes|Fe)?0:re,re!==0&&re!==pe.retryLane&&(pe.retryLane=re,jl(h,re),zd(G,h,re,-1))}return xx(),G=ne(Error(r(421))),Vm(h,v,Fe,G)}return re.data==="$?"?(v.flags|=128,v.child=h.child,v=bx.bind(null,h),re._reactRetry=v,null):(h=pe.treeContext,hl=Nc(re.nextSibling),Oa=v,us=!0,gu=null,h!==null&&(Vs[Ra++]=Pr,Vs[Ra++]=dl,Vs[Ra++]=Nr,Pr=h.id,dl=h.overflow,Nr=v),v=Gm(v,G.children),v.flags|=4096,v)}function oE(h,v,O){h.lanes|=v;var G=h.alternate;G!==null&&(G.lanes|=v),xf(h.return,v,O)}function O1(h,v,O,G,re){var pe=h.memoizedState;pe===null?h.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:G,tail:O,tailMode:re}:(pe.isBackwards=v,pe.rendering=null,pe.renderingStartTime=0,pe.last=G,pe.tail=O,pe.tailMode=re)}function sE(h,v,O){var G=v.pendingProps,re=G.revealOrder,pe=G.tail;if(Zi(h,v,G.children,O),G=Ni.current,G&2)G=G&1|2,v.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=v.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&oE(h,O,v);else if(h.tag===19)oE(h,O,v);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===v)break e;for(;h.sibling===null;){if(h.return===null||h.return===v)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}G&=1}if(Vo(Ni,G),!(v.mode&1))v.memoizedState=null;else switch(re){case"forwards":for(O=v.child,re=null;O!==null;)h=O.alternate,h!==null&&Bo(h)===null&&(re=O),O=O.sibling;O=re,O===null?(re=v.child,v.child=null):(re=O.sibling,O.sibling=null),O1(v,!1,re,O,pe);break;case"backwards":for(O=null,re=v.child,v.child=null;re!==null;){if(h=re.alternate,h!==null&&Bo(h)===null){v.child=re;break}h=re.sibling,re.sibling=O,O=re,re=h}O1(v,!0,O,null,pe);break;case"together":O1(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function B1(h,v){!(v.mode&1)&&h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2)}function wp(h,v,O){if(h!==null&&(v.dependencies=h.dependencies),Qm|=v.lanes,!(O&v.childLanes))return null;if(h!==null&&v.child!==h.child)throw Error(r(153));if(v.child!==null){for(h=v.child,O=Ep(h,h.pendingProps),v.child=O,O.return=v;h.sibling!==null;)h=h.sibling,O=O.sibling=Ep(h,h.pendingProps),O.return=v;O.sibling=null}return v.child}function aT(h,v,O){switch(v.tag){case 3:Li(v),Uc();break;case 5:Nd(v);break;case 1:Ia(v.type)&&gf(v);break;case 4:Ef(v,v.stateNode.containerInfo);break;case 10:var G=v.type._context,re=v.memoizedProps.value;Vo(pp,G._currentValue),G._currentValue=re;break;case 13:if(G=v.memoizedState,G!==null)return G.dehydrated!==null?(Vo(Ni,Ni.current&1),v.flags|=128,null):O&v.child.childLanes?R1(h,v,O):(Vo(Ni,Ni.current&1),h=wp(h,v,O),h!==null?h.sibling:null);Vo(Ni,Ni.current&1);break;case 19:if(G=(O&v.childLanes)!==0,h.flags&128){if(G)return sE(h,v,O);v.flags|=128}if(re=v.memoizedState,re!==null&&(re.rendering=null,re.tail=null,re.lastEffect=null),Vo(Ni,Ni.current),G)break;return null;case 22:case 23:return v.lanes=0,Rt(h,v,O)}return wp(h,v,O)}var lx,D1,N1,ux;lx=function(h,v){for(var O=v.child;O!==null;){if(O.tag===5||O.tag===6)h.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===v)break;for(;O.sibling===null;){if(O.return===null||O.return===v)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},D1=function(){},N1=function(h,v,O,G){var re=h.memoizedProps;if(re!==G){h=v.stateNode,qa(_a.current);var pe=null;switch(O){case"input":re=fn(h,re),G=fn(h,G),pe=[];break;case"select":re=_e({},re,{value:void 0}),G=_e({},G,{value:void 0}),pe=[];break;case"textarea":re=rn(h,re),G=rn(h,G),pe=[];break;default:typeof re.onClick!="function"&&typeof G.onClick=="function"&&(h.onclick=Wf)}wr(O,G);var Fe;O=null;for(Mn in re)if(!G.hasOwnProperty(Mn)&&re.hasOwnProperty(Mn)&&re[Mn]!=null)if(Mn==="style"){var wt=re[Mn];for(Fe in wt)wt.hasOwnProperty(Fe)&&(O||(O={}),O[Fe]="")}else Mn!=="dangerouslySetInnerHTML"&&Mn!=="children"&&Mn!=="suppressContentEditableWarning"&&Mn!=="suppressHydrationWarning"&&Mn!=="autoFocus"&&(s.hasOwnProperty(Mn)?pe||(pe=[]):(pe=pe||[]).push(Mn,null));for(Mn in G){var Nt=G[Mn];if(wt=re!=null?re[Mn]:void 0,G.hasOwnProperty(Mn)&&Nt!==wt&&(Nt!=null||wt!=null))if(Mn==="style")if(wt){for(Fe in wt)!wt.hasOwnProperty(Fe)||Nt&&Nt.hasOwnProperty(Fe)||(O||(O={}),O[Fe]="");for(Fe in Nt)Nt.hasOwnProperty(Fe)&&wt[Fe]!==Nt[Fe]&&(O||(O={}),O[Fe]=Nt[Fe])}else O||(pe||(pe=[]),pe.push(Mn,O)),O=Nt;else Mn==="dangerouslySetInnerHTML"?(Nt=Nt?Nt.__html:void 0,wt=wt?wt.__html:void 0,Nt!=null&&wt!==Nt&&(pe=pe||[]).push(Mn,Nt)):Mn==="children"?typeof Nt!="string"&&typeof Nt!="number"||(pe=pe||[]).push(Mn,""+Nt):Mn!=="suppressContentEditableWarning"&&Mn!=="suppressHydrationWarning"&&(s.hasOwnProperty(Mn)?(Nt!=null&&Mn==="onScroll"&&Ko("scroll",h),pe||wt===Nt||(pe=[])):(pe=pe||[]).push(Mn,Nt))}O&&(pe=pe||[]).push("style",O);var Mn=pe;(v.updateQueue=Mn)&&(v.flags|=4)}},ux=function(h,v,O,G){O!==G&&(v.flags|=4)};function Yv(h,v){if(!us)switch(h.tailMode){case"hidden":v=h.tail;for(var O=null;v!==null;)v.alternate!==null&&(O=v),v=v.sibling;O===null?h.tail=null:O.sibling=null;break;case"collapsed":O=h.tail;for(var G=null;O!==null;)O.alternate!==null&&(G=O),O=O.sibling;G===null?v||h.tail===null?h.tail=null:h.tail.sibling=null:G.sibling=null}}function vc(h){var v=h.alternate!==null&&h.alternate.child===h.child,O=0,G=0;if(v)for(var re=h.child;re!==null;)O|=re.lanes|re.childLanes,G|=re.subtreeFlags&14680064,G|=re.flags&14680064,re.return=h,re=re.sibling;else for(re=h.child;re!==null;)O|=re.lanes|re.childLanes,G|=re.subtreeFlags,G|=re.flags,re.return=h,re=re.sibling;return h.subtreeFlags|=G,h.childLanes=O,v}function lT(h,v,O){var G=v.pendingProps;switch(mu(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vc(v),null;case 1:return Ia(v.type)&&up(),vc(v),null;case 3:return G=v.stateNode,pc(),$o(fl),$o(Ka),Da(),G.pendingContext&&(G.context=G.pendingContext,G.pendingContext=null),(h===null||h.child===null)&&(fc(v)?v.flags|=4:h===null||h.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,gu!==null&&(J1(gu),gu=null))),D1(h,v),vc(v),null;case 5:Kf(v);var re=qa(Vl.current);if(O=v.type,h!==null&&v.stateNode!=null)N1(h,v,O,G,re),h.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!G){if(v.stateNode===null)throw Error(r(166));return vc(v),null}if(h=qa(_a.current),fc(v)){G=v.stateNode,O=v.type;var pe=v.memoizedProps;switch(G[Zs]=v,G[Po]=pe,h=(v.mode&1)!==0,O){case"dialog":Ko("cancel",G),Ko("close",G);break;case"iframe":case"object":case"embed":Ko("load",G);break;case"video":case"audio":for(re=0;re<lc.length;re++)Ko(lc[re],G);break;case"source":Ko("error",G);break;case"img":case"image":case"link":Ko("error",G),Ko("load",G);break;case"details":Ko("toggle",G);break;case"input":cn(G,pe),Ko("invalid",G);break;case"select":G._wrapperState={wasMultiple:!!pe.multiple},Ko("invalid",G);break;case"textarea":Dt(G,pe),Ko("invalid",G)}wr(O,pe),re=null;for(var Fe in pe)if(pe.hasOwnProperty(Fe)){var wt=pe[Fe];Fe==="children"?typeof wt=="string"?G.textContent!==wt&&(pe.suppressHydrationWarning!==!0&&gh(G.textContent,wt,h),re=["children",wt]):typeof wt=="number"&&G.textContent!==""+wt&&(pe.suppressHydrationWarning!==!0&&gh(G.textContent,wt,h),re=["children",""+wt]):s.hasOwnProperty(Fe)&&wt!=null&&Fe==="onScroll"&&Ko("scroll",G)}switch(O){case"input":Ze(G),nr(G,pe,!0);break;case"textarea":Ze(G),Wn(G);break;case"select":case"option":break;default:typeof pe.onClick=="function"&&(G.onclick=Wf)}G=re,v.updateQueue=G,G!==null&&(v.flags|=4)}else{Fe=re.nodeType===9?re:re.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ei(O)),h==="http://www.w3.org/1999/xhtml"?O==="script"?(h=Fe.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof G.is=="string"?h=Fe.createElement(O,{is:G.is}):(h=Fe.createElement(O),O==="select"&&(Fe=h,G.multiple?Fe.multiple=!0:G.size&&(Fe.size=G.size))):h=Fe.createElementNS(h,O),h[Zs]=v,h[Po]=G,lx(h,v,!1,!1),v.stateNode=h;e:{switch(Fe=qr(O,G),O){case"dialog":Ko("cancel",h),Ko("close",h),re=G;break;case"iframe":case"object":case"embed":Ko("load",h),re=G;break;case"video":case"audio":for(re=0;re<lc.length;re++)Ko(lc[re],h);re=G;break;case"source":Ko("error",h),re=G;break;case"img":case"image":case"link":Ko("error",h),Ko("load",h),re=G;break;case"details":Ko("toggle",h),re=G;break;case"input":cn(h,G),re=fn(h,G),Ko("invalid",h);break;case"option":re=G;break;case"select":h._wrapperState={wasMultiple:!!G.multiple},re=_e({},G,{value:void 0}),Ko("invalid",h);break;case"textarea":Dt(h,G),re=rn(h,G),Ko("invalid",h);break;default:re=G}wr(O,re),wt=re;for(pe in wt)if(wt.hasOwnProperty(pe)){var Nt=wt[pe];pe==="style"?Hr(h,Nt):pe==="dangerouslySetInnerHTML"?(Nt=Nt?Nt.__html:void 0,Nt!=null&&vr(h,Nt)):pe==="children"?typeof Nt=="string"?(O!=="textarea"||Nt!=="")&&Mt(h,Nt):typeof Nt=="number"&&Mt(h,""+Nt):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(s.hasOwnProperty(pe)?Nt!=null&&pe==="onScroll"&&Ko("scroll",h):Nt!=null&&Y(h,pe,Nt,Fe))}switch(O){case"input":Ze(h),nr(h,G,!1);break;case"textarea":Ze(h),Wn(h);break;case"option":G.value!=null&&h.setAttribute("value",""+Kt(G.value));break;case"select":h.multiple=!!G.multiple,pe=G.value,pe!=null?Ne(h,!!G.multiple,pe,!1):G.defaultValue!=null&&Ne(h,!!G.multiple,G.defaultValue,!0);break;default:typeof re.onClick=="function"&&(h.onclick=Wf)}switch(O){case"button":case"input":case"select":case"textarea":G=!!G.autoFocus;break e;case"img":G=!0;break e;default:G=!1}}G&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return vc(v),null;case 6:if(h&&v.stateNode!=null)ux(h,v,h.memoizedProps,G);else{if(typeof G!="string"&&v.stateNode===null)throw Error(r(166));if(O=qa(Vl.current),qa(_a.current),fc(v)){if(G=v.stateNode,O=v.memoizedProps,G[Zs]=v,(pe=G.nodeValue!==O)&&(h=Oa,h!==null))switch(h.tag){case 3:gh(G.nodeValue,O,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&gh(G.nodeValue,O,(h.mode&1)!==0)}pe&&(v.flags|=4)}else G=(O.nodeType===9?O:O.ownerDocument).createTextNode(G),G[Zs]=v,v.stateNode=G}return vc(v),null;case 13:if($o(Ni),G=v.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(us&&hl!==null&&v.mode&1&&!(v.flags&128))Eh(),Uc(),v.flags|=98560,pe=!1;else if(pe=fc(v),G!==null&&G.dehydrated!==null){if(h===null){if(!pe)throw Error(r(318));if(pe=v.memoizedState,pe=pe!==null?pe.dehydrated:null,!pe)throw Error(r(317));pe[Zs]=v}else Uc(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;vc(v),pe=!1}else gu!==null&&(J1(gu),gu=null),pe=!0;if(!pe)return v.flags&65536?v:null}return v.flags&128?(v.lanes=O,v):(G=G!==null,G!==(h!==null&&h.memoizedState!==null)&&G&&(v.child.flags|=8192,v.mode&1&&(h===null||Ni.current&1?ro===0&&(ro=3):xx())),v.updateQueue!==null&&(v.flags|=4),vc(v),null);case 4:return pc(),D1(h,v),h===null&&uc(v.stateNode.containerInfo),vc(v),null;case 10:return jc(v.type._context),vc(v),null;case 17:return Ia(v.type)&&up(),vc(v),null;case 19:if($o(Ni),pe=v.memoizedState,pe===null)return vc(v),null;if(G=(v.flags&128)!==0,Fe=pe.rendering,Fe===null)if(G)Yv(pe,!1);else{if(ro!==0||h!==null&&h.flags&128)for(h=v.child;h!==null;){if(Fe=Bo(h),Fe!==null){for(v.flags|=128,Yv(pe,!1),G=Fe.updateQueue,G!==null&&(v.updateQueue=G,v.flags|=4),v.subtreeFlags=0,G=O,O=v.child;O!==null;)pe=O,h=G,pe.flags&=14680066,Fe=pe.alternate,Fe===null?(pe.childLanes=0,pe.lanes=h,pe.child=null,pe.subtreeFlags=0,pe.memoizedProps=null,pe.memoizedState=null,pe.updateQueue=null,pe.dependencies=null,pe.stateNode=null):(pe.childLanes=Fe.childLanes,pe.lanes=Fe.lanes,pe.child=Fe.child,pe.subtreeFlags=0,pe.deletions=null,pe.memoizedProps=Fe.memoizedProps,pe.memoizedState=Fe.memoizedState,pe.updateQueue=Fe.updateQueue,pe.type=Fe.type,h=Fe.dependencies,pe.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),O=O.sibling;return Vo(Ni,Ni.current&1|2),v.child}h=h.sibling}pe.tail!==null&&sr()>Kg&&(v.flags|=128,G=!0,Yv(pe,!1),v.lanes=4194304)}else{if(!G)if(h=Bo(Fe),h!==null){if(v.flags|=128,G=!0,O=h.updateQueue,O!==null&&(v.updateQueue=O,v.flags|=4),Yv(pe,!0),pe.tail===null&&pe.tailMode==="hidden"&&!Fe.alternate&&!us)return vc(v),null}else 2*sr()-pe.renderingStartTime>Kg&&O!==1073741824&&(v.flags|=128,G=!0,Yv(pe,!1),v.lanes=4194304);pe.isBackwards?(Fe.sibling=v.child,v.child=Fe):(O=pe.last,O!==null?O.sibling=Fe:v.child=Fe,pe.last=Fe)}return pe.tail!==null?(v=pe.tail,pe.rendering=v,pe.tail=v.sibling,pe.renderingStartTime=sr(),v.sibling=null,O=Ni.current,Vo(Ni,G?O&1|2:O&1),v):(vc(v),null);case 22:case 23:return ny(),G=v.memoizedState!==null,h!==null&&h.memoizedState!==null!==G&&(v.flags|=8192),G&&v.mode&1?yc&1073741824&&(vc(v),v.subtreeFlags&6&&(v.flags|=8192)):vc(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function aE(h,v){switch(mu(v),v.tag){case 1:return Ia(v.type)&&up(),h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 3:return pc(),$o(fl),$o(Ka),Da(),h=v.flags,h&65536&&!(h&128)?(v.flags=h&-65537|128,v):null;case 5:return Kf(v),null;case 13:if($o(Ni),h=v.memoizedState,h!==null&&h.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Uc()}return h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 19:return $o(Ni),null;case 4:return pc(),null;case 10:return jc(v.type._context),null;case 22:case 23:return ny(),null;case 24:return null;default:return null}}var L1=!1,Wu=!1,cx=typeof WeakSet=="function"?WeakSet:Set,ui=null;function Wg(h,v){var O=h.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(G){ta(h,v,G)}else O.current=null}function Q0(h,v,O){try{O()}catch(G){ta(h,v,G)}}var lE=!1;function fx(h,v){if(vh=Xo,h=co(),wo(h)){if("selectionStart"in h)var O={start:h.selectionStart,end:h.selectionEnd};else e:{O=(O=h.ownerDocument)&&O.defaultView||window;var G=O.getSelection&&O.getSelection();if(G&&G.rangeCount!==0){O=G.anchorNode;var re=G.anchorOffset,pe=G.focusNode;G=G.focusOffset;try{O.nodeType,pe.nodeType}catch{O=null;break e}var Fe=0,wt=-1,Nt=-1,Mn=0,$n=0,fr=h,ur=null;t:for(;;){for(var $r;fr!==O||re!==0&&fr.nodeType!==3||(wt=Fe+re),fr!==pe||G!==0&&fr.nodeType!==3||(Nt=Fe+G),fr.nodeType===3&&(Fe+=fr.nodeValue.length),($r=fr.firstChild)!==null;)ur=fr,fr=$r;for(;;){if(fr===h)break t;if(ur===O&&++Mn===re&&(wt=Fe),ur===pe&&++$n===G&&(Nt=Fe),($r=fr.nextSibling)!==null)break;fr=ur,ur=fr.parentNode}fr=$r}O=wt===-1||Nt===-1?null:{start:wt,end:Nt}}else O=null}O=O||{start:0,end:0}}else O=null;for(Zo={focusedElem:h,selectionRange:O},Xo=!1,ui=v;ui!==null;)if(v=ui,h=v.child,(v.subtreeFlags&1028)!==0&&h!==null)h.return=v,ui=h;else for(;ui!==null;){v=ui;try{var di=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(di!==null){var mi=di.memoizedProps,Ja=di.memoizedState,un=v.stateNode,Ut=un.getSnapshotBeforeUpdate(v.elementType===v.type?mi:dc(v.type,mi),Ja);un.__reactInternalSnapshotBeforeUpdate=Ut}break;case 3:var yn=v.stateNode.containerInfo;yn.nodeType===1?yn.textContent="":yn.nodeType===9&&yn.documentElement&&yn.removeChild(yn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(kr){ta(v,v.return,kr)}if(h=v.sibling,h!==null){h.return=v.return,ui=h;break}ui=v.return}return di=lE,lE=!1,di}function Wm(h,v,O){var G=v.updateQueue;if(G=G!==null?G.lastEffect:null,G!==null){var re=G=G.next;do{if((re.tag&h)===h){var pe=re.destroy;re.destroy=void 0,pe!==void 0&&Q0(v,O,pe)}re=re.next}while(re!==G)}}function F1(h,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var O=v=v.next;do{if((O.tag&h)===h){var G=O.create;O.destroy=G()}O=O.next}while(O!==v)}}function z1(h){var v=h.ref;if(v!==null){var O=h.stateNode;switch(h.tag){case 5:h=O;break;default:h=O}typeof v=="function"?v(h):v.current=h}}function Xm(h){var v=h.alternate;v!==null&&(h.alternate=null,Xm(v)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(v=h.stateNode,v!==null&&(delete v[Zs],delete v[Po],delete v[Lc],delete v[Xf],delete v[Od])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function dx(h){return h.tag===5||h.tag===3||h.tag===4}function J0(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||dx(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function U1(h,v,O){var G=h.tag;if(G===5||G===6)h=h.stateNode,v?O.nodeType===8?O.parentNode.insertBefore(h,v):O.insertBefore(h,v):(O.nodeType===8?(v=O.parentNode,v.insertBefore(h,O)):(v=O,v.appendChild(h)),O=O._reactRootContainer,O!=null||v.onclick!==null||(v.onclick=Wf));else if(G!==4&&(h=h.child,h!==null))for(U1(h,v,O),h=h.sibling;h!==null;)U1(h,v,O),h=h.sibling}function Z0(h,v,O){var G=h.tag;if(G===5||G===6)h=h.stateNode,v?O.insertBefore(h,v):O.appendChild(h);else if(G!==4&&(h=h.child,h!==null))for(Z0(h,v,O),h=h.sibling;h!==null;)Z0(h,v,O),h=h.sibling}var Xl=null,td=!1;function Rh(h,v,O){for(O=O.child;O!==null;)hx(h,v,O),O=O.sibling}function hx(h,v,O){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Sr,O)}catch{}switch(O.tag){case 5:Wu||Wg(O,v);case 6:var G=Xl,re=td;Xl=null,Rh(h,v,O),Xl=G,td=re,Xl!==null&&(td?(h=Xl,O=O.stateNode,h.nodeType===8?h.parentNode.removeChild(O):h.removeChild(O)):Xl.removeChild(O.stateNode));break;case 18:Xl!==null&&(td?(h=Xl,O=O.stateNode,h.nodeType===8?pf(h.parentNode,O):h.nodeType===1&&pf(h,O),as(h)):pf(Xl,O.stateNode));break;case 4:G=Xl,re=td,Xl=O.stateNode.containerInfo,td=!0,Rh(h,v,O),Xl=G,td=re;break;case 0:case 11:case 14:case 15:if(!Wu&&(G=O.updateQueue,G!==null&&(G=G.lastEffect,G!==null))){re=G=G.next;do{var pe=re,Fe=pe.destroy;pe=pe.tag,Fe!==void 0&&(pe&2||pe&4)&&Q0(O,v,Fe),re=re.next}while(re!==G)}Rh(h,v,O);break;case 1:if(!Wu&&(Wg(O,v),G=O.stateNode,typeof G.componentWillUnmount=="function"))try{G.props=O.memoizedProps,G.state=O.memoizedState,G.componentWillUnmount()}catch(wt){ta(O,v,wt)}Rh(h,v,O);break;case 21:Rh(h,v,O);break;case 22:O.mode&1?(Wu=(G=Wu)||O.memoizedState!==null,Rh(h,v,O),Wu=G):Rh(h,v,O);break;default:Rh(h,v,O)}}function px(h){var v=h.updateQueue;if(v!==null){h.updateQueue=null;var O=h.stateNode;O===null&&(O=h.stateNode=new cx),v.forEach(function(G){var re=gE.bind(null,h,G);O.has(G)||(O.add(G),G.then(re,re))})}}function Fd(h,v){var O=v.deletions;if(O!==null)for(var G=0;G<O.length;G++){var re=O[G];try{var pe=h,Fe=v,wt=Fe;e:for(;wt!==null;){switch(wt.tag){case 5:Xl=wt.stateNode,td=!1;break e;case 3:Xl=wt.stateNode.containerInfo,td=!0;break e;case 4:Xl=wt.stateNode.containerInfo,td=!0;break e}wt=wt.return}if(Xl===null)throw Error(r(160));hx(pe,Fe,re),Xl=null,td=!1;var Nt=re.alternate;Nt!==null&&(Nt.return=null),re.return=null}catch(Mn){ta(re,v,Mn)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)j1(v,h),v=v.sibling}function j1(h,v){var O=h.alternate,G=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Fd(v,h),Oh(h),G&4){try{Wm(3,h,h.return),F1(3,h)}catch(mi){ta(h,h.return,mi)}try{Wm(5,h,h.return)}catch(mi){ta(h,h.return,mi)}}break;case 1:Fd(v,h),Oh(h),G&512&&O!==null&&Wg(O,O.return);break;case 5:if(Fd(v,h),Oh(h),G&512&&O!==null&&Wg(O,O.return),h.flags&32){var re=h.stateNode;try{Mt(re,"")}catch(mi){ta(h,h.return,mi)}}if(G&4&&(re=h.stateNode,re!=null)){var pe=h.memoizedProps,Fe=O!==null?O.memoizedProps:pe,wt=h.type,Nt=h.updateQueue;if(h.updateQueue=null,Nt!==null)try{wt==="input"&&pe.type==="radio"&&pe.name!=null&&Dn(re,pe),qr(wt,Fe);var Mn=qr(wt,pe);for(Fe=0;Fe<Nt.length;Fe+=2){var $n=Nt[Fe],fr=Nt[Fe+1];$n==="style"?Hr(re,fr):$n==="dangerouslySetInnerHTML"?vr(re,fr):$n==="children"?Mt(re,fr):Y(re,$n,fr,Mn)}switch(wt){case"input":Qn(re,pe);break;case"textarea":Pn(re,pe);break;case"select":var ur=re._wrapperState.wasMultiple;re._wrapperState.wasMultiple=!!pe.multiple;var $r=pe.value;$r!=null?Ne(re,!!pe.multiple,$r,!1):ur!==!!pe.multiple&&(pe.defaultValue!=null?Ne(re,!!pe.multiple,pe.defaultValue,!0):Ne(re,!!pe.multiple,pe.multiple?[]:"",!1))}re[Po]=pe}catch(mi){ta(h,h.return,mi)}}break;case 6:if(Fd(v,h),Oh(h),G&4){if(h.stateNode===null)throw Error(r(162));re=h.stateNode,pe=h.memoizedProps;try{re.nodeValue=pe}catch(mi){ta(h,h.return,mi)}}break;case 3:if(Fd(v,h),Oh(h),G&4&&O!==null&&O.memoizedState.isDehydrated)try{as(v.containerInfo)}catch(mi){ta(h,h.return,mi)}break;case 4:Fd(v,h),Oh(h);break;case 13:Fd(v,h),Oh(h),re=h.child,re.flags&8192&&(pe=re.memoizedState!==null,re.stateNode.isHidden=pe,!pe||re.alternate!==null&&re.alternate.memoizedState!==null||(vx=sr())),G&4&&px(h);break;case 22:if($n=O!==null&&O.memoizedState!==null,h.mode&1?(Wu=(Mn=Wu)||$n,Fd(v,h),Wu=Mn):Fd(v,h),Oh(h),G&8192){if(Mn=h.memoizedState!==null,(h.stateNode.isHidden=Mn)&&!$n&&h.mode&1)for(ui=h,$n=h.child;$n!==null;){for(fr=ui=$n;ui!==null;){switch(ur=ui,$r=ur.child,ur.tag){case 0:case 11:case 14:case 15:Wm(4,ur,ur.return);break;case 1:Wg(ur,ur.return);var di=ur.stateNode;if(typeof di.componentWillUnmount=="function"){G=ur,O=ur.return;try{v=G,di.props=v.memoizedProps,di.state=v.memoizedState,di.componentWillUnmount()}catch(mi){ta(G,O,mi)}}break;case 5:Wg(ur,ur.return);break;case 22:if(ur.memoizedState!==null){mx(fr);continue}}$r!==null?($r.return=ur,ui=$r):mx(fr)}$n=$n.sibling}e:for($n=null,fr=h;;){if(fr.tag===5){if($n===null){$n=fr;try{re=fr.stateNode,Mn?(pe=re.style,typeof pe.setProperty=="function"?pe.setProperty("display","none","important"):pe.display="none"):(wt=fr.stateNode,Nt=fr.memoizedProps.style,Fe=Nt!=null&&Nt.hasOwnProperty("display")?Nt.display:null,wt.style.display=hr("display",Fe))}catch(mi){ta(h,h.return,mi)}}}else if(fr.tag===6){if($n===null)try{fr.stateNode.nodeValue=Mn?"":fr.memoizedProps}catch(mi){ta(h,h.return,mi)}}else if((fr.tag!==22&&fr.tag!==23||fr.memoizedState===null||fr===h)&&fr.child!==null){fr.child.return=fr,fr=fr.child;continue}if(fr===h)break e;for(;fr.sibling===null;){if(fr.return===null||fr.return===h)break e;$n===fr&&($n=null),fr=fr.return}$n===fr&&($n=null),fr.sibling.return=fr.return,fr=fr.sibling}}break;case 19:Fd(v,h),Oh(h),G&4&&px(h);break;case 21:break;default:Fd(v,h),Oh(h)}}function Oh(h){var v=h.flags;if(v&2){try{e:{for(var O=h.return;O!==null;){if(dx(O)){var G=O;break e}O=O.return}throw Error(r(160))}switch(G.tag){case 5:var re=G.stateNode;G.flags&32&&(Mt(re,""),G.flags&=-33);var pe=J0(h);Z0(h,pe,re);break;case 3:case 4:var Fe=G.stateNode.containerInfo,wt=J0(h);U1(h,wt,Fe);break;default:throw Error(r(161))}}catch(Nt){ta(h,h.return,Nt)}h.flags&=-3}v&4096&&(h.flags&=-4097)}function Km(h,v,O){ui=h,H1(h)}function H1(h,v,O){for(var G=(h.mode&1)!==0;ui!==null;){var re=ui,pe=re.child;if(re.tag===22&&G){var Fe=re.memoizedState!==null||L1;if(!Fe){var wt=re.alternate,Nt=wt!==null&&wt.memoizedState!==null||Wu;wt=L1;var Mn=Wu;if(L1=Fe,(Wu=Nt)&&!Mn)for(ui=re;ui!==null;)Fe=ui,Nt=Fe.child,Fe.tag===22&&Fe.memoizedState!==null?G1(re):Nt!==null?(Nt.return=Fe,ui=Nt):G1(re);for(;pe!==null;)ui=pe,H1(pe),pe=pe.sibling;ui=re,L1=wt,Wu=Mn}uE(h)}else re.subtreeFlags&8772&&pe!==null?(pe.return=re,ui=pe):uE(h)}}function uE(h){for(;ui!==null;){var v=ui;if(v.flags&8772){var O=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:Wu||F1(5,v);break;case 1:var G=v.stateNode;if(v.flags&4&&!Wu)if(O===null)G.componentDidMount();else{var re=v.elementType===v.type?O.memoizedProps:dc(v.type,O.memoizedProps);G.componentDidUpdate(re,O.memoizedState,G.__reactInternalSnapshotBeforeUpdate)}var pe=v.updateQueue;pe!==null&&Ji(v,pe,G);break;case 3:var Fe=v.updateQueue;if(Fe!==null){if(O=null,v.child!==null)switch(v.child.tag){case 5:O=v.child.stateNode;break;case 1:O=v.child.stateNode}Ji(v,Fe,O)}break;case 5:var wt=v.stateNode;if(O===null&&v.flags&4){O=wt;var Nt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Nt.autoFocus&&O.focus();break;case"img":Nt.src&&(O.src=Nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var Mn=v.alternate;if(Mn!==null){var $n=Mn.memoizedState;if($n!==null){var fr=$n.dehydrated;fr!==null&&as(fr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wu||v.flags&512&&z1(v)}catch(ur){ta(v,v.return,ur)}}if(v===h){ui=null;break}if(O=v.sibling,O!==null){O.return=v.return,ui=O;break}ui=v.return}}function mx(h){for(;ui!==null;){var v=ui;if(v===h){ui=null;break}var O=v.sibling;if(O!==null){O.return=v.return,ui=O;break}ui=v.return}}function G1(h){for(;ui!==null;){var v=ui;try{switch(v.tag){case 0:case 11:case 15:var O=v.return;try{F1(4,v)}catch(Nt){ta(v,O,Nt)}break;case 1:var G=v.stateNode;if(typeof G.componentDidMount=="function"){var re=v.return;try{G.componentDidMount()}catch(Nt){ta(v,re,Nt)}}var pe=v.return;try{z1(v)}catch(Nt){ta(v,pe,Nt)}break;case 5:var Fe=v.return;try{z1(v)}catch(Nt){ta(v,Fe,Nt)}}}catch(Nt){ta(v,v.return,Nt)}if(v===h){ui=null;break}var wt=v.sibling;if(wt!==null){wt.return=v.return,ui=wt;break}ui=v.return}}var uT=Math.ceil,V1=ce.ReactCurrentDispatcher,W1=ce.ReactCurrentOwner,nd=ce.ReactCurrentBatchConfig,qo=0,Su=null,ml=null,Xu=0,yc=0,Ym=ms(0),ro=0,qm=null,Qm=0,X1=0,gx=0,Xg=null,Kc=null,vx=0,Kg=1/0,xp=null,qv=!1,K1=null,Bh=null,$0=!1,Jm=null,Y1=0,Zm=0,ey=null,q1=-1,ty=0;function _c(){return qo&6?sr():q1!==-1?q1:q1=sr()}function Sp(h){return h.mode&1?qo&2&&Xu!==0?Xu&-Xu:Kv.transition!==null?(ty===0&&(ty=ut()),ty):(h=dr,h!==0||(h=window.event,h=h===void 0?16:rc(h.type)),h):1}function zd(h,v,O,G){if(50<Zm)throw Zm=0,ey=null,Error(r(185));Yt(h,O,G),(!(qo&2)||h!==Su)&&(h===Su&&(!(qo&2)&&(X1|=O),ro===4&&sm(h,Xu)),Yc(h,G),O===1&&qo===0&&!(v.mode&1)&&(Kg=sr()+500,xh&&Il()))}function Yc(h,v){var O=h.callbackNode;Ae(h,v);var G=So(h,h===Su?Xu:0);if(G===0)O!==null&&Sn(O),h.callbackNode=null,h.callbackPriority=0;else if(v=G&-G,h.callbackPriority!==v){if(O!=null&&Sn(O),v===1)h.tag===0?$p(_x.bind(null,h)):Bd(_x.bind(null,h)),Lm(function(){!(qo&6)&&Il()}),O=null;else{switch(oi(G)){case 1:O=qn;break;case 4:O=Er;break;case 16:O=Qr;break;case 536870912:O=ii;break;default:O=Qr}O=t_(O,yx.bind(null,h))}h.callbackPriority=v,h.callbackNode=O}}function yx(h,v){if(q1=-1,ty=0,qo&6)throw Error(r(327));var O=h.callbackNode;if(eg()&&h.callbackNode!==O)return null;var G=So(h,h===Su?Xu:0);if(G===0)return null;if(G&30||G&h.expiredLanes||v)v=ry(h,G);else{v=G;var re=qo;qo|=2;var pe=fE();(Su!==h||Xu!==v)&&(xp=null,Kg=sr()+500,bp(h,v));do try{Sx();break}catch(wt){wx(h,wt)}while(!0);wf(),V1.current=pe,qo=re,ml!==null?v=0:(Su=null,Xu=0,v=ro)}if(v!==0){if(v===2&&(re=Ge(h),re!==0&&(G=re,v=Q1(h,re))),v===1)throw O=qm,bp(h,0),sm(h,G),Yc(h,sr()),O;if(v===6)sm(h,G);else{if(re=h.current.alternate,!(G&30)&&!cE(re)&&(v=ry(h,G),v===2&&(pe=Ge(h),pe!==0&&(G=pe,v=Q1(h,pe))),v===1))throw O=qm,bp(h,0),sm(h,G),Yc(h,sr()),O;switch(h.finishedWork=re,h.finishedLanes=G,v){case 0:case 1:throw Error(r(345));case 2:Yg(h,Kc,xp);break;case 3:if(sm(h,G),(G&130023424)===G&&(v=vx+500-sr(),10<v)){if(So(h,0)!==0)break;if(re=h.suspendedLanes,(re&G)!==G){_c(),h.pingedLanes|=h.suspendedLanes&re;break}h.timeoutHandle=qp(Yg.bind(null,h,Kc,xp),v);break}Yg(h,Kc,xp);break;case 4:if(sm(h,G),(G&4194240)===G)break;for(v=h.eventTimes,re=-1;0<G;){var Fe=31-zr(G);pe=1<<Fe,Fe=v[Fe],Fe>re&&(re=Fe),G&=~pe}if(G=re,G=sr()-G,G=(120>G?120:480>G?480:1080>G?1080:1920>G?1920:3e3>G?3e3:4320>G?4320:1960*uT(G/1960))-G,10<G){h.timeoutHandle=qp(Yg.bind(null,h,Kc,xp),G);break}Yg(h,Kc,xp);break;case 5:Yg(h,Kc,xp);break;default:throw Error(r(329))}}}return Yc(h,sr()),h.callbackNode===O?yx.bind(null,h):null}function Q1(h,v){var O=Xg;return h.current.memoizedState.isDehydrated&&(bp(h,v).flags|=256),h=ry(h,v),h!==2&&(v=Kc,Kc=O,v!==null&&J1(v)),h}function J1(h){Kc===null?Kc=h:Kc.push.apply(Kc,h)}function cE(h){for(var v=h;;){if(v.flags&16384){var O=v.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var G=0;G<O.length;G++){var re=O[G],pe=re.getSnapshot;re=re.value;try{if(!Js(pe(),re))return!1}catch{return!1}}}if(O=v.child,v.subtreeFlags&16384&&O!==null)O.return=v,v=O;else{if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function sm(h,v){for(v&=~gx,v&=~X1,h.suspendedLanes|=v,h.pingedLanes&=~v,h=h.expirationTimes;0<v;){var O=31-zr(v),G=1<<O;h[O]=-1,v&=~G}}function _x(h){if(qo&6)throw Error(r(327));eg();var v=So(h,0);if(!(v&1))return Yc(h,sr()),null;var O=ry(h,v);if(h.tag!==0&&O===2){var G=Ge(h);G!==0&&(v=G,O=Q1(h,G))}if(O===1)throw O=qm,bp(h,0),sm(h,v),Yc(h,sr()),O;if(O===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=v,Yg(h,Kc,xp),Yc(h,sr()),null}function Z1(h,v){var O=qo;qo|=1;try{return h(v)}finally{qo=O,qo===0&&(Kg=sr()+500,xh&&Il())}}function $m(h){Jm!==null&&Jm.tag===0&&!(qo&6)&&eg();var v=qo;qo|=1;var O=nd.transition,G=dr;try{if(nd.transition=null,dr=1,h)return h()}finally{dr=G,nd.transition=O,qo=v,!(qo&6)&&Il()}}function ny(){yc=Ym.current,$o(Ym)}function bp(h,v){h.finishedWork=null,h.finishedLanes=0;var O=h.timeoutHandle;if(O!==-1&&(h.timeoutHandle=-1,Qp(O)),ml!==null)for(O=ml.return;O!==null;){var G=O;switch(mu(G),G.tag){case 1:G=G.type.childContextTypes,G!=null&&up();break;case 3:pc(),$o(fl),$o(Ka),Da();break;case 5:Kf(G);break;case 4:pc();break;case 13:$o(Ni);break;case 19:$o(Ni);break;case 10:jc(G.type._context);break;case 22:case 23:ny()}O=O.return}if(Su=h,ml=h=Ep(h.current,null),Xu=yc=v,ro=0,qm=null,gx=X1=Qm=0,Kc=Xg=null,vu!==null){for(v=0;v<vu.length;v++)if(O=vu[v],G=O.interleaved,G!==null){O.interleaved=null;var re=G.next,pe=O.pending;if(pe!==null){var Fe=pe.next;pe.next=re,G.next=Fe}O.pending=G}vu=null}return h}function wx(h,v){do{var O=ml;try{if(wf(),sa.current=a,ju){for(var G=ts.memoizedState;G!==null;){var re=G.queue;re!==null&&(re.pending=null),G=G.next}ju=!1}if(mc=0,cs=ea=ts=null,Ld=!1,Yf=0,W1.current=null,O===null||O.return===null){ro=1,qm=v,ml=null;break}e:{var pe=h,Fe=O.return,wt=O,Nt=v;if(v=Xu,wt.flags|=32768,Nt!==null&&typeof Nt=="object"&&typeof Nt.then=="function"){var Mn=Nt,$n=wt,fr=$n.tag;if(!($n.mode&1)&&(fr===0||fr===11||fr===15)){var ur=$n.alternate;ur?($n.updateQueue=ur.updateQueue,$n.memoizedState=ur.memoizedState,$n.lanes=ur.lanes):($n.updateQueue=null,$n.memoizedState=null)}var $r=Kn(Fe);if($r!==null){$r.flags&=-257,Lr($r,Fe,wt,pe,v),$r.mode&1&&Jn(pe,Mn,v),v=$r,Nt=Mn;var di=v.updateQueue;if(di===null){var mi=new Set;mi.add(Nt),v.updateQueue=mi}else di.add(Nt);break e}else{if(!(v&1)){Jn(pe,Mn,v),xx();break e}Nt=Error(r(426))}}else if(us&&wt.mode&1){var Ja=Kn(Fe);if(Ja!==null){!(Ja.flags&65536)&&(Ja.flags|=256),Lr(Ja,Fe,wt,pe,v),hp(z(Nt,wt));break e}}pe=Nt=z(Nt,wt),ro!==4&&(ro=2),Xg===null?Xg=[pe]:Xg.push(pe),pe=Fe;do{switch(pe.tag){case 3:pe.flags|=65536,v&=-v,pe.lanes|=v;var un=Pt(pe,Nt,v);ai(pe,un);break e;case 1:wt=Nt;var Ut=pe.type,yn=pe.stateNode;if(!(pe.flags&128)&&(typeof Ut.getDerivedStateFromError=="function"||yn!==null&&typeof yn.componentDidCatch=="function"&&(Bh===null||!Bh.has(yn)))){pe.flags|=65536,v&=-v,pe.lanes|=v;var kr=gn(pe,wt,v);ai(pe,kr);break e}}pe=pe.return}while(pe!==null)}hE(O)}catch(xi){v=xi,ml===O&&O!==null&&(ml=O=O.return);continue}break}while(!0)}function fE(){var h=V1.current;return V1.current=a,h===null?a:h}function xx(){(ro===0||ro===3||ro===2)&&(ro=4),Su===null||!(Qm&268435455)&&!(X1&268435455)||sm(Su,Xu)}function ry(h,v){var O=qo;qo|=2;var G=fE();(Su!==h||Xu!==v)&&(xp=null,bp(h,v));do try{dE();break}catch(re){wx(h,re)}while(!0);if(wf(),qo=O,V1.current=G,ml!==null)throw Error(r(261));return Su=null,Xu=0,ro}function dE(){for(;ml!==null;)iy(ml)}function Sx(){for(;ml!==null&&!In();)iy(ml)}function iy(h){var v=Qv(h.alternate,h,yc);h.memoizedProps=h.pendingProps,v===null?hE(h):ml=v,W1.current=null}function hE(h){var v=h;do{var O=v.alternate;if(h=v.return,v.flags&32768){if(O=aE(O,v),O!==null){O.flags&=32767,ml=O;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ro=6,ml=null;return}}else if(O=lT(O,v,yc),O!==null){ml=O;return}if(v=v.sibling,v!==null){ml=v;return}ml=v=h}while(v!==null);ro===0&&(ro=5)}function Yg(h,v,O){var G=dr,re=nd.transition;try{nd.transition=null,dr=1,pE(h,v,O,G)}finally{nd.transition=re,dr=G}return null}function pE(h,v,O,G){do eg();while(Jm!==null);if(qo&6)throw Error(r(327));O=h.finishedWork;var re=h.finishedLanes;if(O===null)return null;if(h.finishedWork=null,h.finishedLanes=0,O===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var pe=O.lanes|O.childLanes;if(On(h,pe),h===Su&&(ml=Su=null,Xu=0),!(O.subtreeFlags&2064)&&!(O.flags&2064)||$0||($0=!0,t_(Qr,function(){return eg(),null})),pe=(O.flags&15990)!==0,O.subtreeFlags&15990||pe){pe=nd.transition,nd.transition=null;var Fe=dr;dr=1;var wt=qo;qo|=4,W1.current=null,fx(h,O),j1(O,h),ia(Zo),Xo=!!vh,Zo=vh=null,h.current=O,Km(O),kn(),qo=wt,dr=Fe,nd.transition=pe}else h.current=O;if($0&&($0=!1,Jm=h,Y1=re),pe=h.pendingLanes,pe===0&&(Bh=null),Gr(O.stateNode),Yc(h,sr()),v!==null)for(G=h.onRecoverableError,O=0;O<v.length;O++)re=v[O],G(re.value,{componentStack:re.stack,digest:re.digest});if(qv)throw qv=!1,h=K1,K1=null,h;return Y1&1&&h.tag!==0&&eg(),pe=h.pendingLanes,pe&1?h===ey?Zm++:(Zm=0,ey=h):Zm=0,Il(),null}function eg(){if(Jm!==null){var h=oi(Y1),v=nd.transition,O=dr;try{if(nd.transition=null,dr=16>h?16:h,Jm===null)var G=!1;else{if(h=Jm,Jm=null,Y1=0,qo&6)throw Error(r(331));var re=qo;for(qo|=4,ui=h.current;ui!==null;){var pe=ui,Fe=pe.child;if(ui.flags&16){var wt=pe.deletions;if(wt!==null){for(var Nt=0;Nt<wt.length;Nt++){var Mn=wt[Nt];for(ui=Mn;ui!==null;){var $n=ui;switch($n.tag){case 0:case 11:case 15:Wm(8,$n,pe)}var fr=$n.child;if(fr!==null)fr.return=$n,ui=fr;else for(;ui!==null;){$n=ui;var ur=$n.sibling,$r=$n.return;if(Xm($n),$n===Mn){ui=null;break}if(ur!==null){ur.return=$r,ui=ur;break}ui=$r}}}var di=pe.alternate;if(di!==null){var mi=di.child;if(mi!==null){di.child=null;do{var Ja=mi.sibling;mi.sibling=null,mi=Ja}while(mi!==null)}}ui=pe}}if(pe.subtreeFlags&2064&&Fe!==null)Fe.return=pe,ui=Fe;else e:for(;ui!==null;){if(pe=ui,pe.flags&2048)switch(pe.tag){case 0:case 11:case 15:Wm(9,pe,pe.return)}var un=pe.sibling;if(un!==null){un.return=pe.return,ui=un;break e}ui=pe.return}}var Ut=h.current;for(ui=Ut;ui!==null;){Fe=ui;var yn=Fe.child;if(Fe.subtreeFlags&2064&&yn!==null)yn.return=Fe,ui=yn;else e:for(Fe=Ut;ui!==null;){if(wt=ui,wt.flags&2048)try{switch(wt.tag){case 0:case 11:case 15:F1(9,wt)}}catch(xi){ta(wt,wt.return,xi)}if(wt===Fe){ui=null;break e}var kr=wt.sibling;if(kr!==null){kr.return=wt.return,ui=kr;break e}ui=wt.return}}if(qo=re,Il(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Sr,h)}catch{}G=!0}return G}finally{dr=O,nd.transition=v}}return!1}function $1(h,v,O){v=z(O,v),v=Pt(h,v,1),h=bo(h,v,1),v=_c(),h!==null&&(Yt(h,1,v),Yc(h,v))}function ta(h,v,O){if(h.tag===3)$1(h,h,O);else for(;v!==null;){if(v.tag===3){$1(v,h,O);break}else if(v.tag===1){var G=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof G.componentDidCatch=="function"&&(Bh===null||!Bh.has(G))){h=z(O,h),h=gn(v,h,1),v=bo(v,h,1),h=_c(),v!==null&&(Yt(v,1,h),Yc(v,h));break}}v=v.return}}function mE(h,v,O){var G=h.pingCache;G!==null&&G.delete(v),v=_c(),h.pingedLanes|=h.suspendedLanes&O,Su===h&&(Xu&O)===O&&(ro===4||ro===3&&(Xu&130023424)===Xu&&500>sr()-vx?bp(h,0):gx|=O),Yc(h,v)}function e_(h,v){v===0&&(h.mode&1?(v=si,si<<=1,!(si&130023424)&&(si=4194304)):v=1);var O=_c();h=jl(h,v),h!==null&&(Yt(h,v,O),Yc(h,O))}function bx(h){var v=h.memoizedState,O=0;v!==null&&(O=v.retryLane),e_(h,O)}function gE(h,v){var O=0;switch(h.tag){case 13:var G=h.stateNode,re=h.memoizedState;re!==null&&(O=re.retryLane);break;case 19:G=h.stateNode;break;default:throw Error(r(314))}G!==null&&G.delete(v),e_(h,O)}var Qv;Qv=function(h,v,O){if(h!==null)if(h.memoizedProps!==v.pendingProps||fl.current)Mr=!0;else{if(!(h.lanes&O)&&!(v.flags&128))return Mr=!1,aT(h,v,O);Mr=!!(h.flags&131072)}else Mr=!1,us&&v.flags&1048576&&Fm(v,Sh,v.index);switch(v.lanes=0,v.tag){case 2:var G=v.type;B1(h,v),h=v.pendingProps;var re=mf(v,Ka.current);hc(v,O),re=Ph(null,v,G,h,re,O);var pe=Wc();return v.flags|=1,typeof re=="object"&&re!==null&&typeof re.render=="function"&&re.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Ia(G)?(pe=!0,gf(v)):pe=!1,v.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,nm(v),re.updater=es,v.stateNode=re,re._reactInternals=v,Dd(v,G,h,O),v=Ur(null,v,G,!0,pe,O)):(v.tag=0,us&&pe&&yf(v),Zi(null,v,re,O),v=v.child),v;case 16:G=v.elementType;e:{switch(B1(h,v),h=v.pendingProps,re=G._init,G=re(G._payload),v.type=G,re=v.tag=Ax(G),h=dc(G,h),re){case 0:v=ar(null,v,G,h,O);break e;case 1:v=Br(null,v,G,h,O);break e;case 11:v=sn(null,v,G,h,O);break e;case 14:v=et(null,v,G,dc(G.type,h),O);break e}throw Error(r(306,G,""))}return v;case 0:return G=v.type,re=v.pendingProps,re=v.elementType===G?re:dc(G,re),ar(h,v,G,re,O);case 1:return G=v.type,re=v.pendingProps,re=v.elementType===G?re:dc(G,re),Br(h,v,G,re,O);case 3:e:{if(Li(v),h===null)throw Error(r(387));G=v.pendingProps,pe=v.memoizedState,re=pe.element,Mh(h,v),Ki(v,G,null,O);var Fe=v.memoizedState;if(G=Fe.element,pe.isDehydrated)if(pe={element:G,isDehydrated:!1,cache:Fe.cache,pendingSuspenseBoundaries:Fe.pendingSuspenseBoundaries,transitions:Fe.transitions},v.updateQueue.baseState=pe,v.memoizedState=pe,v.flags&256){re=z(Error(r(423)),v),v=Fi(h,v,G,O,re);break e}else if(G!==re){re=z(Error(r(424)),v),v=Fi(h,v,G,O,re);break e}else for(hl=Nc(v.stateNode.containerInfo.firstChild),Oa=v,us=!0,gu=null,O=Sf(v,null,G,O),v.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(Uc(),G===re){v=wp(h,v,O);break e}Zi(h,v,G,O)}v=v.child}return v;case 5:return Nd(v),h===null&&bh(v),G=v.type,re=v.pendingProps,pe=h!==null?h.memoizedProps:null,Fe=re.children,Nm(G,re)?Fe=null:pe!==null&&Nm(G,pe)&&(v.flags|=32),Fn(h,v),Zi(h,v,Fe,O),v.child;case 6:return h===null&&bh(v),null;case 13:return R1(h,v,O);case 4:return Ef(v,v.stateNode.containerInfo),G=v.pendingProps,h===null?v.child=yu(v,null,G,O):Zi(h,v,G,O),v.child;case 11:return G=v.type,re=v.pendingProps,re=v.elementType===G?re:dc(G,re),sn(h,v,G,re,O);case 7:return Zi(h,v,v.pendingProps,O),v.child;case 8:return Zi(h,v,v.pendingProps.children,O),v.child;case 12:return Zi(h,v,v.pendingProps.children,O),v.child;case 10:e:{if(G=v.type._context,re=v.pendingProps,pe=v.memoizedProps,Fe=re.value,Vo(pp,G._currentValue),G._currentValue=Fe,pe!==null)if(Js(pe.value,Fe)){if(pe.children===re.children&&!fl.current){v=wp(h,v,O);break e}}else for(pe=v.child,pe!==null&&(pe.return=v);pe!==null;){var wt=pe.dependencies;if(wt!==null){Fe=pe.child;for(var Nt=wt.firstContext;Nt!==null;){if(Nt.context===G){if(pe.tag===1){Nt=Hl(-1,O&-O),Nt.tag=2;var Mn=pe.updateQueue;if(Mn!==null){Mn=Mn.shared;var $n=Mn.pending;$n===null?Nt.next=Nt:(Nt.next=$n.next,$n.next=Nt),Mn.pending=Nt}}pe.lanes|=O,Nt=pe.alternate,Nt!==null&&(Nt.lanes|=O),xf(pe.return,O,v),wt.lanes|=O;break}Nt=Nt.next}}else if(pe.tag===10)Fe=pe.type===v.type?null:pe.child;else if(pe.tag===18){if(Fe=pe.return,Fe===null)throw Error(r(341));Fe.lanes|=O,wt=Fe.alternate,wt!==null&&(wt.lanes|=O),xf(Fe,O,v),Fe=pe.sibling}else Fe=pe.child;if(Fe!==null)Fe.return=pe;else for(Fe=pe;Fe!==null;){if(Fe===v){Fe=null;break}if(pe=Fe.sibling,pe!==null){pe.return=Fe.return,Fe=pe;break}Fe=Fe.return}pe=Fe}Zi(h,v,re.children,O),v=v.child}return v;case 9:return re=v.type,G=v.pendingProps.children,hc(v,O),re=Ba(re),G=G(re),v.flags|=1,Zi(h,v,G,O),v.child;case 14:return G=v.type,re=dc(G,v.pendingProps),re=dc(G.type,re),et(h,v,G,re,O);case 15:return rt(h,v,v.type,v.pendingProps,O);case 17:return G=v.type,re=v.pendingProps,re=v.elementType===G?re:dc(G,re),B1(h,v),v.tag=1,Ia(G)?(h=!0,gf(v)):h=!1,hc(v,O),Hc(v,G,re),Dd(v,G,re,O),Ur(null,v,G,!0,h,O);case 19:return sE(h,v,O);case 22:return Rt(h,v,O)}throw Error(r(156,v.tag))};function t_(h,v){return on(h,v)}function Ex(h,v,O,G){this.tag=h,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=G,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ud(h,v,O,G){return new Ex(h,v,O,G)}function n_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ax(h){if(typeof h=="function")return n_(h)?1:0;if(h!=null){if(h=h.$$typeof,h===Ue)return 11;if(h===Ke)return 14}return 2}function Ep(h,v){var O=h.alternate;return O===null?(O=Ud(h.tag,v,h.key,h.mode),O.elementType=h.elementType,O.type=h.type,O.stateNode=h.stateNode,O.alternate=h,h.alternate=O):(O.pendingProps=v,O.type=h.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=h.flags&14680064,O.childLanes=h.childLanes,O.lanes=h.lanes,O.child=h.child,O.memoizedProps=h.memoizedProps,O.memoizedState=h.memoizedState,O.updateQueue=h.updateQueue,v=h.dependencies,O.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},O.sibling=h.sibling,O.index=h.index,O.ref=h.ref,O}function r_(h,v,O,G,re,pe){var Fe=2;if(G=h,typeof h=="function")n_(h)&&(Fe=1);else if(typeof h=="string")Fe=5;else e:switch(h){case Se:return qg(O.children,re,pe,v);case Le:Fe=8,re|=8;break;case X:return h=Ud(12,O,v,re|2),h.elementType=X,h.lanes=pe,h;case Me:return h=Ud(13,O,v,re),h.elementType=Me,h.lanes=pe,h;case be:return h=Ud(19,O,v,re),h.elementType=be,h.lanes=pe,h;case de:return Jv(O,re,pe,v);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case fe:Fe=10;break e;case st:Fe=9;break e;case Ue:Fe=11;break e;case Ke:Fe=14;break e;case Ye:Fe=16,G=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return v=Ud(Fe,O,v,re),v.elementType=h,v.type=G,v.lanes=pe,v}function qg(h,v,O,G){return h=Ud(7,h,G,v),h.lanes=O,h}function Jv(h,v,O,G){return h=Ud(22,h,G,v),h.elementType=de,h.lanes=O,h.stateNode={isHidden:!1},h}function i_(h,v,O){return h=Ud(6,h,null,v),h.lanes=O,h}function Cx(h,v,O){return v=Ud(4,h.children!==null?h.children:[],h.key,v),v.lanes=O,v.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},v}function Mx(h,v,O,G,re){this.tag=v,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$t(0),this.expirationTimes=$t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.identifierPrefix=G,this.onRecoverableError=re,this.mutableSourceEagerHydrationData=null}function Tx(h,v,O,G,re,pe,Fe,wt,Nt){return h=new Mx(h,v,O,wt,Nt),v===1?(v=1,pe===!0&&(v|=8)):v=0,pe=Ud(3,null,null,v),h.current=pe,pe.stateNode=h,pe.memoizedState={element:G,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(pe),h}function cT(h,v,O){var G=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:G==null?null:""+G,children:h,containerInfo:v,implementation:O}}function o_(h){if(!h)return Fc;h=h._reactInternals;e:{if(At(h)!==h||h.tag!==1)throw Error(r(170));var v=h;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Ia(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(h.tag===1){var O=h.type;if(Ia(O))return zc(h,O,v)}return v}function s_(h,v,O,G,re,pe,Fe,wt,Nt){return h=Tx(O,G,!0,h,re,pe,Fe,wt,Nt),h.context=o_(null),O=h.current,G=_c(),re=Sp(O),pe=Hl(G,re),pe.callback=v??null,bo(O,pe,re),h.current.lanes=re,Yt(h,re,G),Yc(h,G),h}function a_(h,v,O,G){var re=v.current,pe=_c(),Fe=Sp(re);return O=o_(O),v.context===null?v.context=O:v.pendingContext=O,v=Hl(pe,Fe),v.payload={element:h},G=G===void 0?null:G,G!==null&&(v.callback=G),h=bo(re,v,Fe),h!==null&&(zd(h,re,Fe,pe),ti(h,re,Fe)),Fe}function oy(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function vE(h,v){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var O=h.retryLane;h.retryLane=O!==0&&O<v?O:v}}function Px(h,v){vE(h,v),(h=h.alternate)&&vE(h,v)}function yE(){return null}var _E=typeof reportError=="function"?reportError:function(h){console.error(h)};function kx(h){this._internalRoot=h}sy.prototype.render=kx.prototype.render=function(h){var v=this._internalRoot;if(v===null)throw Error(r(409));a_(h,v,null,null)},sy.prototype.unmount=kx.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var v=h.containerInfo;$m(function(){a_(null,h,null,null)}),v[ka]=null}};function sy(h){this._internalRoot=h}sy.prototype.unstable_scheduleHydration=function(h){if(h){var v=na();h={blockedOn:null,target:h,priority:v};for(var O=0;O<ku.length&&v!==0&&v<ku[O].priority;O++);ku.splice(O,0,h),O===0&&Aa(h)}};function Ix(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function l_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function fT(h,v,O,G,re){if(re){if(typeof G=="function"){var pe=G;G=function(){var Mn=oy(Fe);pe.call(Mn)}}var Fe=s_(v,G,h,0,null,!1,!1,"",Rx);return h._reactRootContainer=Fe,h[ka]=Fe.current,uc(h.nodeType===8?h.parentNode:h),$m(),Fe}for(;re=h.lastChild;)h.removeChild(re);if(typeof G=="function"){var wt=G;G=function(){var Mn=oy(Nt);wt.call(Mn)}}var Nt=Tx(h,0,!1,null,null,!1,!1,"",Rx);return h._reactRootContainer=Nt,h[ka]=Nt.current,uc(h.nodeType===8?h.parentNode:h),$m(function(){a_(v,Nt,O,G)}),Nt}function u_(h,v,O,G,re){var pe=O._reactRootContainer;if(pe){var Fe=pe;if(typeof re=="function"){var wt=re;re=function(){var Nt=oy(Fe);wt.call(Nt)}}a_(v,Fe,h,re)}else Fe=fT(O,v,h,re,G);return oy(Fe)}Oi=function(h){switch(h.tag){case 3:var v=h.stateNode;if(v.current.memoizedState.isDehydrated){var O=Ti(v.pendingLanes);O!==0&&(lr(v,O|1),Yc(v,sr()),!(qo&6)&&(Kg=sr()+500,Il()))}break;case 13:$m(function(){var G=jl(h,1);if(G!==null){var re=_c();zd(G,h,1,re)}}),Px(h,1)}},Mo=function(h){if(h.tag===13){var v=jl(h,134217728);if(v!==null){var O=_c();zd(v,h,134217728,O)}Px(h,134217728)}},Ua=function(h){if(h.tag===13){var v=Sp(h),O=jl(h,v);if(O!==null){var G=_c();zd(O,h,v,G)}Px(h,v)}},na=function(){return dr},ws=function(h,v){var O=dr;try{return dr=h,v()}finally{dr=O}},Bt=function(h,v,O){switch(v){case"input":if(Qn(h,O),v=O.name,O.type==="radio"&&v!=null){for(O=h;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<O.length;v++){var G=O[v];if(G!==h&&G.form===h.form){var re=wh(G);if(!re)throw Error(r(90));nn(G),Qn(G,re)}}}break;case"textarea":Pn(h,O);break;case"select":v=O.value,v!=null&&Ne(h,!!O.multiple,v,!1)}},Di=Z1,eo=$m;var Ox={usingClientEntryPoint:!1,Events:[Yo,$s,wh,xr,Mi,Z1]},Zv={findFiberByHostInstance:Lu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wE={bundleType:Zv.bundleType,version:Zv.version,rendererPackageName:Zv.rendererPackageName,rendererConfig:Zv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=St(h),h===null?null:h.stateNode},findFiberByHostInstance:Zv.findFiberByHostInstance||yE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ay=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ay.isDisabled&&ay.supportsFiber))try{Sr=ay.inject(wE),Ln=ay}catch{}var ay;n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox,n.createPortal=function(h,v){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ix(v))throw Error(r(200));return cT(h,v,null,O)},n.createRoot=function(h,v){if(!Ix(h))throw Error(r(299));var O=!1,G="",re=_E;return v!=null&&(v.unstable_strictMode===!0&&(O=!0),v.identifierPrefix!==void 0&&(G=v.identifierPrefix),v.onRecoverableError!==void 0&&(re=v.onRecoverableError)),v=Tx(h,1,!1,null,null,O,!1,G,re),h[ka]=v.current,uc(h.nodeType===8?h.parentNode:h),new kx(v)},n.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var v=h._reactInternals;if(v===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=St(v),h=h===null?null:h.stateNode,h},n.flushSync=function(h){return $m(h)},n.hydrate=function(h,v,O){if(!l_(v))throw Error(r(200));return u_(null,h,v,!0,O)},n.hydrateRoot=function(h,v,O){if(!Ix(h))throw Error(r(405));var G=O!=null&&O.hydratedSources||null,re=!1,pe="",Fe=_E;if(O!=null&&(O.unstable_strictMode===!0&&(re=!0),O.identifierPrefix!==void 0&&(pe=O.identifierPrefix),O.onRecoverableError!==void 0&&(Fe=O.onRecoverableError)),v=s_(v,null,h,1,O??null,re,!1,pe,Fe),h[ka]=v.current,uc(h),G)for(h=0;h<G.length;h++)O=G[h],re=O._getVersion,re=re(O._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[O,re]:v.mutableSourceEagerHydrationData.push(O,re);return new sy(v)},n.render=function(h,v,O){if(!l_(v))throw Error(r(200));return u_(null,h,v,!1,O)},n.unmountComponentAtNode=function(h){if(!l_(h))throw Error(r(40));return h._reactRootContainer?($m(function(){u_(null,null,h,!1,function(){h._reactRootContainer=null,h[ka]=null})}),!0):!1},n.unstable_batchedUpdates=Z1,n.unstable_renderSubtreeIntoContainer=function(h,v,O,G){if(!l_(O))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return u_(h,v,O,!1,G)},n.version="18.2.0-next-9e3b772b8-20220608"}}),ZY=os({"../../node_modules/react-dom/index.js"(n,e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=lWe()}}),uWe=os({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(n,e){var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t}}),cWe=os({"../../node_modules/prop-types/factoryWithThrowingShims.js"(n,e){var t=uWe();function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function s(g,_,b,A,P,N){if(N!==t){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}s.isRequired=s;function c(){return s}var d={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:c,element:s,elementType:s,instanceOf:c,node:s,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:r};return d.PropTypes=d,d}}}),fWe=os({"../../node_modules/prop-types/index.js"(n,e){e.exports=cWe()()}}),dWe=os({"../../node_modules/react-shadow/styled-components.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=ys(),t=VVe(),r=(JY(),NVe(iCe)),o=ZY(),s=fWe();function c(Ue){return Ue&&typeof Ue=="object"&&"default"in Ue?Ue:{default:Ue}}var d=c(e),g=c(s),_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b(Ue,Me){return Ue(Me={exports:{}},Me.exports),Me.exports}var A=b(function(Ue){(function(Me){var be=function(Kt,ln,bn){if(!_e(ln)||dt(ln)||qe(ln)||_t(ln)||ye(ln))return ln;var Ze,nn=0,jt=0;if(ge(ln))for(Ze=[],jt=ln.length;nn<jt;nn++)Ze.push(be(Kt,ln[nn],bn));else for(var fn in Ze={},ln)Object.prototype.hasOwnProperty.call(ln,fn)&&(Ze[Kt(fn,bn)]=be(Kt,ln[fn],bn));return Ze},Ke=function(Kt){return Qe(Kt)?Kt:(Kt=Kt.replace(/[\-_\s]+(.)?/g,function(ln,bn){return bn?bn.toUpperCase():""})).substr(0,1).toLowerCase()+Kt.substr(1)},Ye=function(Kt){var ln=Ke(Kt);return ln.substr(0,1).toUpperCase()+ln.substr(1)},de=function(Kt,ln){return function(bn,Ze){var nn=(Ze=Ze||{}).separator||"_",jt=Ze.split||/(?=[A-Z])/;return bn.split(jt).join(nn)}(Kt,ln).toLowerCase()},ve=Object.prototype.toString,ye=function(Kt){return typeof Kt=="function"},_e=function(Kt){return Kt===Object(Kt)},ge=function(Kt){return ve.call(Kt)=="[object Array]"},dt=function(Kt){return ve.call(Kt)=="[object Date]"},qe=function(Kt){return ve.call(Kt)=="[object RegExp]"},_t=function(Kt){return ve.call(Kt)=="[object Boolean]"},Qe=function(Kt){return(Kt-=0)==Kt},zt=function(Kt,ln){var bn=ln&&"process"in ln?ln.process:ln;return typeof bn!="function"?Kt:function(Ze,nn){return bn(Ze,Kt,nn)}},Lt={camelize:Ke,decamelize:de,pascalize:Ye,depascalize:de,camelizeKeys:function(Kt,ln){return be(zt(Ke,ln),Kt)},decamelizeKeys:function(Kt,ln){return be(zt(de,ln),Kt,ln)},pascalizeKeys:function(Kt,ln){return be(zt(Ye,ln),Kt)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};Ue.exports?Ue.exports=Lt:Me.humps=Lt})(_)}).decamelize,P=function(Ue){if(Array.isArray(Ue))return Ue},N=function(Ue,Me){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ue)){var be=[],Ke=!0,Ye=!1,de=void 0;try{for(var ve,ye=Ue[Symbol.iterator]();!(Ke=(ve=ye.next()).done)&&(be.push(ve.value),!Me||be.length!==Me);Ke=!0);}catch(_e){Ye=!0,de=_e}finally{try{Ke||ye.return==null||ye.return()}finally{if(Ye)throw de}}return be}},F=function(Ue,Me){(Me==null||Me>Ue.length)&&(Me=Ue.length);for(var be=0,Ke=new Array(Me);be<Me;be++)Ke[be]=Ue[be];return Ke},K=function(Ue,Me){if(Ue){if(typeof Ue=="string")return F(Ue,Me);var be=Object.prototype.toString.call(Ue).slice(8,-1);return be==="Object"&&Ue.constructor&&(be=Ue.constructor.name),be==="Map"||be==="Set"?Array.from(Ue):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?F(Ue,Me):void 0}},D=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},I=function(Ue,Me){return P(Ue)||N(Ue,Me)||K(Ue,Me)||D()},j=b(function(Ue){function Me(){return Ue.exports=Me=Object.assign||function(be){for(var Ke=1;Ke<arguments.length;Ke++){var Ye=arguments[Ke];for(var de in Ye)Object.prototype.hasOwnProperty.call(Ye,de)&&(be[de]=Ye[de])}return be},Me.apply(this,arguments)}Ue.exports=Me}),T=function(Ue,Me){if(Ue==null)return{};var be,Ke,Ye={},de=Object.keys(Ue);for(Ke=0;Ke<de.length;Ke++)be=de[Ke],Me.indexOf(be)>=0||(Ye[be]=Ue[be]);return Ye},Y=function(Ue,Me){if(Ue==null)return{};var be,Ke,Ye=T(Ue,Me);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(Ue);for(Ke=0;Ke<de.length;Ke++)be=de[Ke],Me.indexOf(be)>=0||Object.prototype.propertyIsEnumerable.call(Ue,be)&&(Ye[be]=Ue[be])}return Ye},ce=e.createContext(null);function le(Ue){var Me=Ue.children,be=Y(Ue,["children"]);return typeof Me!="string"&&(Me=t.renderToString(Me)),d.default.createElement("template",j({},be,{dangerouslySetInnerHTML:{__html:Me}}))}function Z(Ue){var Me=Ue.root,be=Ue.children;return o.createPortal(be,Me)}function Se(Ue){var Me=e.forwardRef(function(be,Ke){var Ye,de,ve=be.mode,ye=be.delegatesFocus,_e=be.styleSheets,ge=be.ssr,dt=be.children,qe=Y(be,["mode","delegatesFocus","styleSheets","ssr","children"]),_t=(Ye=Ke,de=e.useRef(Ye&&Ye.current),e.useEffect(function(){Ye&&(Ye.current=de.current)},[Ye]),de),Qe=e.useState(null),zt=I(Qe,2),Lt=zt[0],Kt=zt[1],ln="node_".concat(ve).concat(ye);return e.useLayoutEffect(function(){if(_t.current)try{if(typeof Ke=="function"&&Ke(_t.current),ge){var bn=_t.current.shadowRoot;return void Kt(bn)}var Ze=_t.current.attachShadow({mode:ve,delegatesFocus:ye});_e.length>0&&(Ze.adoptedStyleSheets=_e),Kt(Ze)}catch(nn){(function(jt){var fn=jt.error,cn=jt.styleSheets,Dn=jt.root;switch(fn.name){case"NotSupportedError":cn.length>0&&(Dn.adoptedStyleSheets=cn);break;default:throw fn}})({error:nn,styleSheets:_e,root:Lt})}},[Ke,_t,_e]),d.default.createElement(d.default.Fragment,null,d.default.createElement(Ue.tag,j({key:ln,ref:_t},qe),(Lt||ge)&&d.default.createElement(ce.Provider,{value:Lt},ge?d.default.createElement(le,{shadowroot:ve,shadowrootmode:ve},Ue.render({root:Lt,ssr:ge,children:dt})):d.default.createElement(Z,{root:Lt},Ue.render({root:Lt,ssr:ge,children:dt})))))});return Me.propTypes={mode:g.default.oneOf(["open","closed"]),delegatesFocus:g.default.bool,styleSheets:g.default.arrayOf(g.default.instanceOf(globalThis.CSSStyleSheet)),ssr:g.default.bool,children:g.default.node},Me.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},Me}le.propTypes={children:g.default.oneOfType([g.default.string,g.default.node])},le.defaultProps={children:""},Z.propTypes={root:g.default.object.isRequired,children:g.default.node},Z.defaultProps={children:null};var Le=new Map;function X(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"core",be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Ke){return Ke.children};return new Proxy(Ue,{get:function(Ke,Ye){var de=A(Ye,{separator:"-"}),ve="".concat(Me,"-").concat(de);return Le.has(ve)||Le.set(ve,Se({tag:de,render:be})),Le.get(ve)}})}function fe(Ue){var Me=new r.ServerStyleSheet;return t.renderToString(d.default.createElement(r.StyleSheetManager,{sheet:Me.instance},d.default.createElement(d.default.Fragment,null,Ue))),Me.getStyleElement()}X();var st=X({},"styled-components",function(Ue){var Me=Ue.root,be=Ue.ssr,Ke=Ue.children;return be?d.default.createElement(d.default.Fragment,null,fe(Ke),Ke):d.default.createElement(r.StyleSheetManager,{target:Me},d.default.createElement(d.default.Fragment,null,Ke))});n.default=st,n.getStyleSheets=fe}}),RCe=os({"../../node_modules/react-dom/client.js"(n){var e=ZY();n.createRoot=e.createRoot,n.hydrateRoot=e.hydrateRoot}}),hWe=os({"../../node_modules/queue-microtask/index.js"(n,e){var t;e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):r=>(t||(t=Promise.resolve())).then(r).catch(o=>setTimeout(()=>{throw o},0))}}),pWe=os({"../../node_modules/regenerator-runtime/runtime.js"(n,e){var t=function(r){var o=Object.prototype,s=o.hasOwnProperty,c,d=typeof Symbol=="function"?Symbol:{},g=d.iterator||"@@iterator",_=d.asyncIterator||"@@asyncIterator",b=d.toStringTag||"@@toStringTag";function A(ve,ye,_e){return Object.defineProperty(ve,ye,{value:_e,enumerable:!0,configurable:!0,writable:!0}),ve[ye]}try{A({},"")}catch{A=function(ye,_e,ge){return ye[_e]=ge}}function P(ve,ye,_e,ge){var dt=ye&&ye.prototype instanceof T?ye:T,qe=Object.create(dt.prototype),_t=new Ke(ge||[]);return qe._invoke=st(ve,_e,_t),qe}r.wrap=P;function N(ve,ye,_e){try{return{type:"normal",arg:ve.call(ye,_e)}}catch(ge){return{type:"throw",arg:ge}}}var F="suspendedStart",K="suspendedYield",D="executing",I="completed",j={};function T(){}function Y(){}function ce(){}var le={};A(le,g,function(){return this});var Z=Object.getPrototypeOf,Se=Z&&Z(Z(Ye([])));Se&&Se!==o&&s.call(Se,g)&&(le=Se);var Le=ce.prototype=T.prototype=Object.create(le);Y.prototype=ce,A(Le,"constructor",ce),A(ce,"constructor",Y),Y.displayName=A(ce,b,"GeneratorFunction");function X(ve){["next","throw","return"].forEach(function(ye){A(ve,ye,function(_e){return this._invoke(ye,_e)})})}r.isGeneratorFunction=function(ve){var ye=typeof ve=="function"&&ve.constructor;return ye?ye===Y||(ye.displayName||ye.name)==="GeneratorFunction":!1},r.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,ce):(ve.__proto__=ce,A(ve,b,"GeneratorFunction")),ve.prototype=Object.create(Le),ve},r.awrap=function(ve){return{__await:ve}};function fe(ve,ye){function _e(qe,_t,Qe,zt){var Lt=N(ve[qe],ve,_t);if(Lt.type==="throw")zt(Lt.arg);else{var Kt=Lt.arg,ln=Kt.value;return ln&&typeof ln=="object"&&s.call(ln,"__await")?ye.resolve(ln.__await).then(function(bn){_e("next",bn,Qe,zt)},function(bn){_e("throw",bn,Qe,zt)}):ye.resolve(ln).then(function(bn){Kt.value=bn,Qe(Kt)},function(bn){return _e("throw",bn,Qe,zt)})}}var ge;function dt(qe,_t){function Qe(){return new ye(function(zt,Lt){_e(qe,_t,zt,Lt)})}return ge=ge?ge.then(Qe,Qe):Qe()}this._invoke=dt}X(fe.prototype),A(fe.prototype,_,function(){return this}),r.AsyncIterator=fe,r.async=function(ve,ye,_e,ge,dt){dt===void 0&&(dt=Promise);var qe=new fe(P(ve,ye,_e,ge),dt);return r.isGeneratorFunction(ye)?qe:qe.next().then(function(_t){return _t.done?_t.value:qe.next()})};function st(ve,ye,_e){var ge=F;return function(dt,qe){if(ge===D)throw new Error("Generator is already running");if(ge===I){if(dt==="throw")throw qe;return de()}for(_e.method=dt,_e.arg=qe;;){var _t=_e.delegate;if(_t){var Qe=Ue(_t,_e);if(Qe){if(Qe===j)continue;return Qe}}if(_e.method==="next")_e.sent=_e._sent=_e.arg;else if(_e.method==="throw"){if(ge===F)throw ge=I,_e.arg;_e.dispatchException(_e.arg)}else _e.method==="return"&&_e.abrupt("return",_e.arg);ge=D;var zt=N(ve,ye,_e);if(zt.type==="normal"){if(ge=_e.done?I:K,zt.arg===j)continue;return{value:zt.arg,done:_e.done}}else zt.type==="throw"&&(ge=I,_e.method="throw",_e.arg=zt.arg)}}}function Ue(ve,ye){var _e=ve.iterator[ye.method];if(_e===c){if(ye.delegate=null,ye.method==="throw"){if(ve.iterator.return&&(ye.method="return",ye.arg=c,Ue(ve,ye),ye.method==="throw"))return j;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var ge=N(_e,ve.iterator,ye.arg);if(ge.type==="throw")return ye.method="throw",ye.arg=ge.arg,ye.delegate=null,j;var dt=ge.arg;if(!dt)return ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,j;if(dt.done)ye[ve.resultName]=dt.value,ye.next=ve.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=c);else return dt;return ye.delegate=null,j}X(Le),A(Le,b,"Generator"),A(Le,g,function(){return this}),A(Le,"toString",function(){return"[object Generator]"});function Me(ve){var ye={tryLoc:ve[0]};1 in ve&&(ye.catchLoc=ve[1]),2 in ve&&(ye.finallyLoc=ve[2],ye.afterLoc=ve[3]),this.tryEntries.push(ye)}function be(ve){var ye=ve.completion||{};ye.type="normal",delete ye.arg,ve.completion=ye}function Ke(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Me,this),this.reset(!0)}r.keys=function(ve){var ye=[];for(var _e in ve)ye.push(_e);return ye.reverse(),function ge(){for(;ye.length;){var dt=ye.pop();if(dt in ve)return ge.value=dt,ge.done=!1,ge}return ge.done=!0,ge}};function Ye(ve){if(ve){var ye=ve[g];if(ye)return ye.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var _e=-1,ge=function dt(){for(;++_e<ve.length;)if(s.call(ve,_e))return dt.value=ve[_e],dt.done=!1,dt;return dt.value=c,dt.done=!0,dt};return ge.next=ge}}return{next:de}}r.values=Ye;function de(){return{value:c,done:!0}}return Ke.prototype={constructor:Ke,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(be),!ve)for(var ye in this)ye.charAt(0)==="t"&&s.call(this,ye)&&!isNaN(+ye.slice(1))&&(this[ye]=c)},stop:function(){this.done=!0;var ve=this.tryEntries[0],ye=ve.completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ye=this;function _e(zt,Lt){return qe.type="throw",qe.arg=ve,ye.next=zt,Lt&&(ye.method="next",ye.arg=c),!!Lt}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var dt=this.tryEntries[ge],qe=dt.completion;if(dt.tryLoc==="root")return _e("end");if(dt.tryLoc<=this.prev){var _t=s.call(dt,"catchLoc"),Qe=s.call(dt,"finallyLoc");if(_t&&Qe){if(this.prev<dt.catchLoc)return _e(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return _e(dt.finallyLoc)}else if(_t){if(this.prev<dt.catchLoc)return _e(dt.catchLoc,!0)}else if(Qe){if(this.prev<dt.finallyLoc)return _e(dt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ve,ye){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ge=this.tryEntries[_e];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var dt=ge;break}}dt&&(ve==="break"||ve==="continue")&&dt.tryLoc<=ye&&ye<=dt.finallyLoc&&(dt=null);var qe=dt?dt.completion:{};return qe.type=ve,qe.arg=ye,dt?(this.method="next",this.next=dt.finallyLoc,j):this.complete(qe)},complete:function(ve,ye){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ye&&(this.next=ye),j},finish:function(ve){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye];if(_e.finallyLoc===ve)return this.complete(_e.completion,_e.afterLoc),be(_e),j}},catch:function(ve){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye];if(_e.tryLoc===ve){var ge=_e.completion;if(ge.type==="throw"){var dt=ge.arg;be(_e)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(ve,ye,_e){return this.delegate={iterator:Ye(ve),resultName:ye,nextLoc:_e},this.method==="next"&&(this.arg=c),j}},r}(typeof e=="object"?e.exports:{});try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}}}),mWe=os({"../../node_modules/@babel/runtime/regenerator/index.js"(n,e){e.exports=pWe()}}),gWe=os({"../../node_modules/zustand/index.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=mWe(),t=ys();function r(_){return _&&typeof _=="object"&&"default"in _?_:{default:_}}var o=r(e);function s(_){var b,A=new Set,P=function(j,T){var Y=typeof j=="function"?j(b):j;if(Y!==b){var ce=b;b=T?Y:Object.assign({},b,Y),A.forEach(function(le){return le(b,ce)})}},N=function(){return b},F=function(j,T,Y){T===void 0&&(T=N),Y===void 0&&(Y=Object.is);var ce=T(b);function le(){var Z=T(b);if(!Y(ce,Z)){var Se=ce;j(ce=Z,Se)}}return A.add(le),function(){return A.delete(le)}},K=function(j,T,Y){return T||Y?F(j,T,Y):(A.add(j),function(){return A.delete(j)})},D=function(){return A.clear()},I={setState:P,getState:N,subscribe:K,destroy:D};return b=_(P,N,I),I}var c=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),d=c?t.useEffect:t.useLayoutEffect;function g(_){var b=typeof _=="function"?s(_):_,A=function(P,N){P===void 0&&(P=b.getState),N===void 0&&(N=Object.is);var F=t.useReducer(function(Le){return Le+1},0),K=F[1],D=b.getState(),I=t.useRef(D),j=t.useRef(P),T=t.useRef(N),Y=t.useRef(!1),ce=t.useRef();ce.current===void 0&&(ce.current=P(D));var le,Z=!1;(I.current!==D||j.current!==P||T.current!==N||Y.current)&&(le=P(D),Z=!N(ce.current,le)),d(function(){Z&&(ce.current=le),I.current=D,j.current=P,T.current=N,Y.current=!1});var Se=t.useRef(D);return d(function(){var Le=function(){try{var fe=b.getState(),st=j.current(fe);T.current(ce.current,st)||(I.current=fe,ce.current=st,K())}catch{Y.current=!0,K()}},X=b.subscribe(Le);return b.getState()!==Se.current&&Le(),X},[]),Z?le:ce.current};return Object.assign(A,b),A[Symbol.iterator]=o.default.mark(function P(){return o.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),N.next=3,A;case 3:return N.next=5,b;case 5:case"end":return N.stop()}},P)}),A}n.default=g}}),HI=oo(ys()),Cu=oo(ys()),Tc=oo(ys()),uM=oo(eCe()),N0=oo(ys(),1);function vWe(n){let e,t=new Set,r=(d,g)=>{let _=typeof d=="function"?d(e):d;if(_!==e){let b=e;e=g?_:Object.assign({},e,_),t.forEach(A=>A(e,b))}},o=()=>e,s=(d,g=o,_=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=g(e);function A(){let P=g(e);if(!_(b,P)){let N=b;d(b=P,N)}}return t.add(A),()=>t.delete(A)},c={setState:r,getState:o,subscribe:(d,g,_)=>g||_?s(d,g,_):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=n(r,o,c),c}var yWe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),G_e=yWe?N0.useEffect:N0.useLayoutEffect;function OCe(n){let e=typeof n=="function"?vWe(n):n,t=(r=e.getState,o=Object.is)=>{let[,s]=(0,N0.useReducer)(D=>D+1,0),c=e.getState(),d=(0,N0.useRef)(c),g=(0,N0.useRef)(r),_=(0,N0.useRef)(o),b=(0,N0.useRef)(!1),A=(0,N0.useRef)();A.current===void 0&&(A.current=r(c));let P,N=!1;(d.current!==c||g.current!==r||_.current!==o||b.current)&&(P=r(c),N=!o(A.current,P)),G_e(()=>{N&&(A.current=P),d.current=c,g.current=r,_.current=o,b.current=!1});let F=(0,N0.useRef)(c);G_e(()=>{let D=()=>{try{let j=e.getState(),T=g.current(j);_.current(A.current,T)||(d.current=j,A.current=T,s())}catch{b.current=!0,s()}},I=e.subscribe(D);return e.getState()!==F.current&&D(),I},[]);let K=N?P:A.current;return(0,N0.useDebugValue)(K),K};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let r=[t,e];return{next(){let o=r.length<=0;return{value:r.shift(),done:o}}}},t}var _We=oo(tCe()),V_e=oo(KY()),$Y={},wWe=n=>void Object.assign($Y,n);function xWe(n,e){function t(_,b,A){var P=b,{args:N=[],attach:F}=P,K=Wp(P,["args","attach"]);let D=`${_[0].toUpperCase()}${_.slice(1)}`,I;if(_==="primitive"){if(K.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");let j=K.object;I=VC(j,{type:_,root:A,attach:F,primitive:!0})}else{let j=$Y[D];if(!j)throw new Error(`R3F: ${D} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(N))throw new Error("R3F: The args prop must be an array!");I=VC(new j(...N),{type:_,root:A,attach:F,memoizedProps:{args:N}})}return I.__r3f.attach===void 0&&(I instanceof po?I.__r3f.attach="geometry":I instanceof ec&&(I.__r3f.attach="material")),D!=="inject"&&_V(I,K),I}function r(_,b){let A=!1;if(b){var P,N;(P=b.__r3f)!=null&&P.attach?yV(_,b,b.__r3f.attach):b.isObject3D&&_.isObject3D&&(_.add(b),A=!0),A||(N=_.__r3f)==null||N.objects.push(b),b.__r3f||VC(b,{}),b.__r3f.parent=_,DX(b),WC(b)}}function o(_,b,A){let P=!1;if(b){var N,F;if((N=b.__r3f)!=null&&N.attach)yV(_,b,b.__r3f.attach);else if(b.isObject3D&&_.isObject3D){b.parent=_,b.dispatchEvent({type:"added"});let K=_.children.filter(I=>I!==b),D=K.indexOf(A);_.children=[...K.slice(0,D),b,...K.slice(D)],P=!0}P||(F=_.__r3f)==null||F.objects.push(b),b.__r3f||VC(b,{}),b.__r3f.parent=_,DX(b),WC(b)}}function s(_,b,A=!1){_&&[..._].forEach(P=>c(b,P,A))}function c(_,b,A){if(b){var P,N,F;if(b.__r3f&&(b.__r3f.parent=null),(P=_.__r3f)!=null&&P.objects&&(_.__r3f.objects=_.__r3f.objects.filter(T=>T!==b)),(N=b.__r3f)!=null&&N.attach)q_e(_,b,b.__r3f.attach);else if(b.isObject3D&&_.isObject3D){var K;_.remove(b),(K=b.__r3f)!=null&&K.root&&MWe(b.__r3f.root,b)}let I=(F=b.__r3f)==null?void 0:F.primitive,j=A===void 0?b.dispose!==null&&!I:A;if(!I){var D;s((D=b.__r3f)==null?void 0:D.objects,b,j),s(b.children,b,j)}delete b.__r3f,j&&b.dispose&&b.type!=="Scene"&&(0,V_e.unstable_scheduleCallback)(V_e.unstable_IdlePriority,()=>{try{b.dispose()}catch{}}),WC(_)}}function d(_,b,A,P){var N;let F=(N=_.__r3f)==null?void 0:N.parent;if(!F)return;let K=t(b,A,_.__r3f.root);if(_.children){for(let D of _.children)D.__r3f&&r(K,D);_.children=_.children.filter(D=>!D.__r3f)}_.__r3f.objects.forEach(D=>r(K,D)),_.__r3f.objects=[],_.__r3f.autoRemovedBeforeAppend||c(F,_),K.parent&&(K.__r3f.autoRemovedBeforeAppend=!0),r(F,K),K.raycast&&K.__r3f.eventCount&&K.__r3f.root.getState().internal.interaction.push(K),[P,P.alternate].forEach(D=>{D!==null&&(D.stateNode=K,D.ref&&(typeof D.ref=="function"?D.ref(K):D.ref.current=K))})}let g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:(0,_We.default)({createInstance:t,removeChild:c,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(_,b)=>{if(!b)return;let A=_.getState().scene;A.__r3f&&(A.__r3f.root=_,r(A,b))},removeChildFromContainer:(_,b)=>{b&&c(_.getState().scene,b)},insertInContainerBefore:(_,b,A)=>{if(!b||!A)return;let P=_.getState().scene;P.__r3f&&o(P,b,A)},getRootHostContext:()=>null,getChildHostContext:_=>_,finalizeInitialChildren(_){var b;return!!((b=_==null?void 0:_.__r3f)!=null?b:{}).handlers},prepareUpdate(_,b,A,P){var N;if(((N=_==null?void 0:_.__r3f)!=null?N:{}).primitive&&P.object&&P.object!==_)return[!0];{let F=P,{args:K=[],children:D}=F,I=Wp(F,["args","children"]),j=A,{args:T=[],children:Y}=j,ce=Wp(j,["args","children"]);if(!Array.isArray(K))throw new Error("R3F: the args prop must be an array!");if(K.some((Z,Se)=>Z!==T[Se]))return[!0];let le=UCe(_,I,ce,!0);return le.changes.length?[!1,le]:null}},commitUpdate(_,[b,A],P,N,F,K){b?d(_,P,F,K):_V(_,A)},commitMount(_,b,A,P){var N;let F=(N=_.__r3f)!=null?N:{};_.raycast&&F.handlers&&F.eventCount&&_.__r3f.root.getState().internal.interaction.push(_)},getPublicInstance:_=>_,prepareForCommit:()=>null,preparePortalMount:_=>VC(_.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(_){var b;let{attach:A,parent:P}=(b=_.__r3f)!=null?b:{};A&&P&&q_e(P,_,A),_.isObject3D&&(_.visible=!1),WC(_)},unhideInstance(_,b){var A;let{attach:P,parent:N}=(A=_.__r3f)!=null?A:{};P&&N&&yV(N,_,P),(_.isObject3D&&b.visible==null||b.visible)&&(_.visible=!0),WC(_)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>e?e():uM.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Bl.fun(performance.now)?performance.now:Bl.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Bl.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Bl.fun(clearTimeout)?clearTimeout:void 0}),applyProps:_V}}var W_e,X_e,vV=n=>"colorSpace"in n||"outputColorSpace"in n,BCe=()=>{var n;return(n=$Y.ColorManagement)!=null?n:null},DCe=n=>n&&n.isOrthographicCamera,SWe=n=>n&&n.hasOwnProperty("current"),d3=typeof window<"u"&&((W_e=window.document)!=null&&W_e.createElement||((X_e=window.navigator)==null?void 0:X_e.product)==="ReactNative")?Tc.useLayoutEffect:Tc.useEffect;function NCe(n){let e=Tc.useRef(n);return d3(()=>void(e.current=n),[n]),e}function bWe({set:n}){return d3(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}var LCe=class extends Tc.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}};LCe.getDerivedStateFromError=()=>({error:!0});var FCe="__default",K_e=new Map,EWe=n=>n&&!!n.memoized&&!!n.changes;function zCe(n){var e;let t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}var BI=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Bl={obj:n=>n===Object(n)&&!Bl.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:o=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Bl.str(n)||Bl.num(n))return n===e;let s=Bl.obj(n);if(s&&r==="reference")return n===e;let c=Bl.arr(n);if(c&&t==="reference")return n===e;if((c||s)&&n===e)return!0;let d;for(d in n)if(!(d in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(d in o?e:n)if(!Bl.equ(n[d],e[d],{strict:o,objects:"reference"}))return!1}else for(d in o?e:n)if(n[d]!==e[d])return!1;if(Bl.und(d)){if(c&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function AWe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(let e in n)e.dispose==null||e.dispose(),delete n[e]}function VC(n,e){let t=n;return t.__r3f=Xi({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e),n}function BX(n,e){let t=n;if(e.includes("-")){let r=e.split("-"),o=r.pop();return t=r.reduce((s,c)=>s[c],n),{target:t,key:o}}else return{target:t,key:e}}var Y_e=/-\d+$/;function yV(n,e,t){if(Bl.str(t)){if(Y_e.test(t)){let s=t.replace(Y_e,""),{target:c,key:d}=BX(n,s);Array.isArray(c[d])||(c[d]=[])}let{target:r,key:o}=BX(n,t);e.__r3f.previousAttach=r[o],r[o]=e}else e.__r3f.previousAttach=t(n,e)}function q_e(n,e,t){var r,o;if(Bl.str(t)){let{target:s,key:c}=BX(n,t),d=e.__r3f.previousAttach;d===void 0?delete s[c]:s[c]=d}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(o=e.__r3f)==null||delete o.previousAttach}function UCe(n,e,t={},r=!1){var o=e,s=Wp(o,["children","key","ref"]),c=t,d=Wp(c,["children","key","ref"]),g;let _=(g=n==null?void 0:n.__r3f)!=null?g:{},b=Object.entries(s),A=[];if(r){let N=Object.keys(d);for(let F=0;F<N.length;F++)s.hasOwnProperty(N[F])||b.unshift([N[F],FCe+"remove"])}b.forEach(([N,F])=>{var K;if((K=n.__r3f)!=null&&K.primitive&&N==="object"||Bl.equ(F,d[N]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(N))return A.push([N,F,!0,[]]);let D=[];N.includes("-")&&(D=N.split("-")),A.push([N,F,!1,D]);for(let I in s){let j=s[I];I.startsWith(`${N}-`)&&A.push([I,j,!1,I.split("-")])}});let P=Xi({},s);return _.memoizedProps&&_.memoizedProps.args&&(P.args=_.memoizedProps.args),_.memoizedProps&&_.memoizedProps.attach&&(P.attach=_.memoizedProps.attach),{memoized:P,changes:A}}function _V(n,e){var t,r,o;let s=(t=n.__r3f)!=null?t:{},c=s.root,d=(r=c==null||c.getState==null?void 0:c.getState())!=null?r:{},{memoized:g,changes:_}=EWe(e)?e:UCe(n,e),b=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=g);for(let A=0;A<_.length;A++){let[P,N,F,K]=_[A];if(vV(n)){let j="srgb",T="srgb-linear";P==="encoding"?(P="colorSpace",N=N===3001?j:T):P==="outputEncoding"&&(P="outputColorSpace",N=N===3001?j:T)}let D=n,I=D[P];if(K.length&&(I=K.reduce((j,T)=>j[T],n),!(I&&I.set))){let[j,...T]=K.reverse();D=T.reverse().reduce((Y,ce)=>Y[ce],n),P=j}if(N===FCe+"remove")if(D.constructor){let j=K_e.get(D.constructor);j||(j=new D.constructor,K_e.set(D.constructor,j)),N=j[P]}else N=0;if(F)N?s.handlers[P]=N:delete s.handlers[P],s.eventCount=Object.keys(s.handlers).length;else if(I&&I.set&&(I.copy||I instanceof G0)){if(Array.isArray(N))I.fromArray?I.fromArray(N):I.set(...N);else if(I.copy&&N&&N.constructor&&I.constructor===N.constructor)I.copy(N);else if(N!==void 0){let j=I instanceof Dr;!j&&I.setScalar?I.setScalar(N):I instanceof G0&&N instanceof G0?I.mask=N.mask:I.set(N),!BCe()&&!d.linear&&j&&I.convertSRGBToLinear()}}else if(D[P]=N,D[P]instanceof za&&D[P].format===_d&&D[P].type===Hv){let j=D[P];vV(j)&&vV(d.gl)?j.colorSpace=d.gl.outputColorSpace:j.encoding=d.gl.outputEncoding}WC(n)}if(s.parent&&d.internal&&n.raycast&&b!==s.eventCount){let A=d.internal.interaction.indexOf(n);A>-1&&d.internal.interaction.splice(A,1),s.eventCount&&d.internal.interaction.push(n)}return!(_.length===1&&_[0][0]==="onUpdate")&&_.length&&(o=n.__r3f)!=null&&o.parent&&DX(n),n}function WC(n){var e,t;let r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function DX(n){n.onUpdate==null||n.onUpdate(n)}function jCe(n,e){n.manual||(DCe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function z5(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function CWe(){var n;let e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return uM.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return uM.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return uM.ContinuousEventPriority;default:return uM.DefaultEventPriority}}function HCe(n,e,t,r){let o=t.get(e);o&&(t.delete(e),t.size===0&&(n.delete(r),o.target.releasePointerCapture(r)))}function MWe(n,e){let{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,o)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(o)}),t.capturedMap.forEach((r,o)=>{HCe(t.capturedMap,e,r,o)})}function TWe(n){function e(g){let{internal:_}=n.getState(),b=g.offsetX-_.initialClick[0],A=g.offsetY-_.initialClick[1];return Math.round(Math.sqrt(b*b+A*A))}function t(g){return g.filter(_=>["Move","Over","Enter","Out","Leave"].some(b=>{var A;return(A=_.__r3f)==null?void 0:A.handlers["onPointer"+b]}))}function r(g,_){let b=n.getState(),A=new Set,P=[],N=_?_(b.internal.interaction):b.internal.interaction;for(let I=0;I<N.length;I++){let j=BI(N[I]);j&&(j.raycaster.camera=void 0)}b.previousRoot||b.events.compute==null||b.events.compute(g,b);function F(I){let j=BI(I);if(!j||!j.events.enabled||j.raycaster.camera===null)return[];if(j.raycaster.camera===void 0){var T;j.events.compute==null||j.events.compute(g,j,(T=j.previousRoot)==null?void 0:T.getState()),j.raycaster.camera===void 0&&(j.raycaster.camera=null)}return j.raycaster.camera?j.raycaster.intersectObject(I,!0):[]}let K=N.flatMap(F).sort((I,j)=>{let T=BI(I.object),Y=BI(j.object);return!T||!Y?I.distance-j.distance:Y.events.priority-T.events.priority||I.distance-j.distance}).filter(I=>{let j=z5(I);return A.has(j)?!1:(A.add(j),!0)});b.events.filter&&(K=b.events.filter(K,b));for(let I of K){let j=I.object;for(;j;){var D;(D=j.__r3f)!=null&&D.eventCount&&P.push(uh(Xi({},I),{eventObject:j})),j=j.parent}}if("pointerId"in g&&b.internal.capturedMap.has(g.pointerId))for(let I of b.internal.capturedMap.get(g.pointerId).values())A.has(z5(I.intersection))||P.push(I.intersection);return P}function o(g,_,b,A){let P=n.getState();if(g.length){let N={stopped:!1};for(let F of g){let K=BI(F.object)||P,{raycaster:D,pointer:I,camera:j,internal:T}=K,Y=new Je(I.x,I.y,0).unproject(j),ce=X=>{var fe,st;return(fe=(st=T.capturedMap.get(X))==null?void 0:st.has(F.eventObject))!=null?fe:!1},le=X=>{let fe={intersection:F,target:_.target};T.capturedMap.has(X)?T.capturedMap.get(X).set(F.eventObject,fe):T.capturedMap.set(X,new Map([[F.eventObject,fe]])),_.target.setPointerCapture(X)},Z=X=>{let fe=T.capturedMap.get(X);fe&&HCe(T.capturedMap,F.eventObject,fe,X)},Se={};for(let X in _){let fe=_[X];typeof fe!="function"&&(Se[X]=fe)}let Le=uh(Xi(Xi({},F),Se),{pointer:I,intersections:g,stopped:N.stopped,delta:b,unprojectedPoint:Y,ray:D.ray,camera:j,stopPropagation(){let X="pointerId"in _&&T.capturedMap.get(_.pointerId);if((!X||X.has(F.eventObject))&&(Le.stopped=N.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(fe=>fe.eventObject===F.eventObject))){let fe=g.slice(0,g.indexOf(F));s([...fe,F])}},target:{hasPointerCapture:ce,setPointerCapture:le,releasePointerCapture:Z},currentTarget:{hasPointerCapture:ce,setPointerCapture:le,releasePointerCapture:Z},nativeEvent:_});if(A(Le),N.stopped===!0)break}}return g}function s(g){let{internal:_}=n.getState();for(let b of _.hovered.values())if(!g.length||!g.find(A=>A.object===b.object&&A.index===b.index&&A.instanceId===b.instanceId)){let A=b.eventObject.__r3f,P=A==null?void 0:A.handlers;if(_.hovered.delete(z5(b)),A!=null&&A.eventCount){let N=uh(Xi({},b),{intersections:g});P.onPointerOut==null||P.onPointerOut(N),P.onPointerLeave==null||P.onPointerLeave(N)}}}function c(g,_){for(let b=0;b<_.length;b++){let A=_[b].__r3f;A==null||A.handlers.onPointerMissed==null||A.handlers.onPointerMissed(g)}}function d(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return _=>{let{internal:b}=n.getState();"pointerId"in _&&b.capturedMap.has(_.pointerId)&&requestAnimationFrame(()=>{b.capturedMap.has(_.pointerId)&&(b.capturedMap.delete(_.pointerId),s([]))})}}return function(_){let{onPointerMissed:b,internal:A}=n.getState();A.lastEvent.current=_;let P=g==="onPointerMove",N=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",F=r(_,P?t:void 0),K=N?e(_):0;g==="onPointerDown"&&(A.initialClick=[_.offsetX,_.offsetY],A.initialHits=F.map(I=>I.eventObject)),N&&!F.length&&K<=2&&(c(_,A.interaction),b&&b(_)),P&&s(F);function D(I){let j=I.eventObject,T=j.__r3f,Y=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(P){if(Y.onPointerOver||Y.onPointerEnter||Y.onPointerOut||Y.onPointerLeave){let ce=z5(I),le=A.hovered.get(ce);le?le.stopped&&I.stopPropagation():(A.hovered.set(ce,I),Y.onPointerOver==null||Y.onPointerOver(I),Y.onPointerEnter==null||Y.onPointerEnter(I))}Y.onPointerMove==null||Y.onPointerMove(I)}else{let ce=Y[g];ce?(!N||A.initialHits.includes(j))&&(c(_,A.interaction.filter(le=>!A.initialHits.includes(le))),ce(I)):N&&A.initialHits.includes(j)&&c(_,A.interaction.filter(le=>!A.initialHits.includes(le)))}}o(F,_,K,D)}}return{handlePointer:d}}var PWe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],GCe=n=>!!(n!=null&&n.render),eq=Tc.createContext(null),kWe=(n,e)=>{let t=OCe((d,g)=>{let _=new Je,b=new Je,A=new Je;function P(D=g().camera,I=b,j=g().size){let{width:T,height:Y,top:ce,left:le}=j,Z=T/Y;I instanceof Je?A.copy(I):A.set(...I);let Se=D.getWorldPosition(_).distanceTo(A);if(DCe(D))return{width:T/D.zoom,height:Y/D.zoom,top:ce,left:le,factor:1,distance:Se,aspect:Z};{let Le=D.fov*Math.PI/180,X=2*Math.tan(Le/2)*Se,fe=X*(T/Y);return{width:fe,height:X,top:ce,left:le,factor:T/fe,distance:Se,aspect:Z}}}let N,F=D=>d(I=>({performance:uh(Xi({},I.performance),{current:D})})),K=new Vn;return{set:d,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(D=1)=>n(g(),D),advance:(D,I)=>e(D,I,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QF,pointer:K,mouse:K,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let D=g();N&&clearTimeout(N),D.performance.current!==D.performance.min&&F(D.performance.min),N=setTimeout(()=>F(g().performance.max),D.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:P},setEvents:D=>d(I=>uh(Xi({},I),{events:Xi(Xi({},I.events),D)})),setSize:(D,I,j,T,Y)=>{let ce=g().camera,le={width:D,height:I,top:T||0,left:Y||0,updateStyle:j};d(Z=>({size:le,viewport:Xi(Xi({},Z.viewport),P(ce,b,le))}))},setDpr:D=>d(I=>{let j=zCe(D);return{viewport:uh(Xi({},I.viewport),{dpr:j,initialDpr:I.viewport.initialDpr||j})}}),setFrameloop:(D="always")=>{let I=g().clock;I.stop(),I.elapsedTime=0,D!=="never"&&(I.start(),I.elapsedTime=0),d(()=>({frameloop:D}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Tc.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(D,I,j)=>{let T=g().internal;return T.priority=T.priority+(I>0?1:0),T.subscribers.push({ref:D,priority:I,store:j}),T.subscribers=T.subscribers.sort((Y,ce)=>Y.priority-ce.priority),()=>{let Y=g().internal;Y!=null&&Y.subscribers&&(Y.priority=Y.priority-(I>0?1:0),Y.subscribers=Y.subscribers.filter(ce=>ce.ref!==D))}}}}}),r=t.getState(),o=r.size,s=r.viewport.dpr,c=r.camera;return t.subscribe(()=>{let{camera:d,size:g,viewport:_,gl:b,set:A}=t.getState();if(g!==o||_.dpr!==s){var P;o=g,s=_.dpr,jCe(d,g),b.setPixelRatio(_.dpr);let N=(P=g.updateStyle)!=null?P:typeof HTMLCanvasElement<"u"&&b.domElement instanceof HTMLCanvasElement;b.setSize(g.width,g.height,N)}d!==c&&(c=d,A(N=>({viewport:Xi(Xi({},N.viewport),N.viewport.getCurrentViewport(d))})))}),t.subscribe(d=>n(d)),t},U5,IWe=new Set,RWe=new Set,OWe=new Set;function wV(n,e){if(n.size)for(let{callback:t}of n.values())t(e)}function DI(n,e){switch(n){case"before":return wV(IWe,e);case"after":return wV(RWe,e);case"tail":return wV(OWe,e)}}var xV,SV;function bV(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),xV=e.internal.subscribers,U5=0;U5<xV.length;U5++)SV=xV[U5],SV.ref.current(SV.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function BWe(n){let e=!1,t,r,o;function s(g){r=requestAnimationFrame(s),e=!0,t=0,DI("before",g);for(let b of n.values()){var _;o=b.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((_=o.gl.xr)!=null&&_.isPresenting)&&(t+=bV(g,o))}if(DI("after",g),t===0)return DI("tail",g),e=!1,cancelAnimationFrame(r)}function c(g,_=1){var b;if(!g)return n.forEach(A=>c(A.store.getState()),_);(b=g.gl.xr)!=null&&b.isPresenting||!g.internal.active||g.frameloop==="never"||(g.internal.frames=Math.min(60,g.internal.frames+_),e||(e=!0,requestAnimationFrame(s)))}function d(g,_=!0,b,A){if(_&&DI("before",g),b)bV(g,b,A);else for(let P of n.values())bV(g,P.store.getState());_&&DI("after",g)}return{loop:s,invalidate:c,advance:d}}function tq(){let n=Tc.useContext(eq);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function zf(n=t=>t,e){return tq()(n,e)}function rz(n,e=0){let t=tq(),r=t.getState().internal.subscribe,o=NCe(n);return d3(()=>r(o,e,t),[e,r,t]),null}var jM=new Map,{invalidate:xM,advance:Q_e}=BWe(jM),{reconciler:HR,applyProps:NC}=xWe(jM,CWe),LC={objects:"shallow",strict:!1},DWe=(n,e)=>{let t=typeof n=="function"?n(e):n;return GCe(t)?t:new IF(Xi({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n))};function NWe(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){let{width:t,height:r,top:o,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:o,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function LWe(n){let e=jM.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");let o=typeof reportError=="function"?reportError:console.error,s=r||kWe(xM,Q_e),c=t||HR.createContainer(s,uM.ConcurrentRoot,null,!1,null,"",o,null);e||jM.set(n,{fiber:c,store:s});let d,g=!1,_;return{configure(b={}){let{gl:A,size:P,scene:N,events:F,onCreated:K,shadows:D=!1,linear:I=!1,flat:j=!1,legacy:T=!1,orthographic:Y=!1,frameloop:ce="always",dpr:le=[1,2],performance:Z,raycaster:Se,camera:Le,onPointerMissed:X}=b,fe=s.getState(),st=fe.gl;fe.gl||fe.set({gl:st=DWe(A,n)});let Ue=fe.raycaster;Ue||fe.set({raycaster:Ue=new $M});let Me=Se||{},{params:be}=Me,Ke=Wp(Me,["params"]);if(Bl.equ(Ke,Ue,LC)||NC(Ue,Xi({},Ke)),Bl.equ(be,Ue.params,LC)||NC(Ue,{params:Xi(Xi({},Ue.params),be)}),!fe.camera||fe.camera===_&&!Bl.equ(_,Le,LC)){_=Le;let _e=Le instanceof qM,ge=_e?Le:Y?new Ng(0,0,0,0,.1,1e3):new bl(75,0,.1,1e3);_e||(ge.position.z=5,Le&&NC(ge,Le),!fe.camera&&!(Le!=null&&Le.rotation)&&ge.lookAt(0,0,0)),fe.set({camera:ge})}if(!fe.scene){let _e;N instanceof Yb?_e=N:(_e=new Yb,N&&NC(_e,N)),fe.set({scene:VC(_e)})}if(!fe.xr){var Ye;let _e=(qe,_t)=>{let Qe=s.getState();Qe.frameloop!=="never"&&Q_e(qe,!0,Qe,_t)},ge=()=>{let qe=s.getState();qe.gl.xr.enabled=qe.gl.xr.isPresenting,qe.gl.xr.setAnimationLoop(qe.gl.xr.isPresenting?_e:null),qe.gl.xr.isPresenting||xM(qe)},dt={connect(){let qe=s.getState().gl;qe.xr.addEventListener("sessionstart",ge),qe.xr.addEventListener("sessionend",ge)},disconnect(){let qe=s.getState().gl;qe.xr.removeEventListener("sessionstart",ge),qe.xr.removeEventListener("sessionend",ge)}};typeof((Ye=st.xr)==null?void 0:Ye.addEventListener)=="function"&&dt.connect(),fe.set({xr:dt})}if(st.shadowMap){let _e=st.shadowMap.enabled,ge=st.shadowMap.type;if(st.shadowMap.enabled=!!D,Bl.boo(D))st.shadowMap.type=jw;else if(Bl.str(D)){var de;let dt={basic:LK,percentage:$R,soft:jw,variance:Cg};st.shadowMap.type=(de=dt[D])!=null?de:jw}else Bl.obj(D)&&Object.assign(st.shadowMap,D);(_e!==st.shadowMap.enabled||ge!==st.shadowMap.type)&&(st.shadowMap.needsUpdate=!0)}let ve=BCe();ve&&("enabled"in ve?ve.enabled=!T:"legacyMode"in ve&&(ve.legacyMode=T)),NC(st,{outputEncoding:I?3e3:3001,toneMapping:j?jv:SF}),fe.legacy!==T&&fe.set(()=>({legacy:T})),fe.linear!==I&&fe.set(()=>({linear:I})),fe.flat!==j&&fe.set(()=>({flat:j})),A&&!Bl.fun(A)&&!GCe(A)&&!Bl.equ(A,st,LC)&&NC(st,A),F&&!fe.events.handlers&&fe.set({events:F(s)});let ye=NWe(n,P);return Bl.equ(ye,fe.size,LC)||fe.setSize(ye.width,ye.height,ye.updateStyle,ye.top,ye.left),le&&fe.viewport.dpr!==zCe(le)&&fe.setDpr(le),fe.frameloop!==ce&&fe.setFrameloop(ce),fe.onPointerMissed||fe.set({onPointerMissed:X}),Z&&!Bl.equ(Z,fe.performance,LC)&&fe.set(_e=>({performance:Xi(Xi({},_e.performance),Z)})),d=K,g=!0,this},render(b){return g||this.configure(),HR.updateContainer(Tc.createElement(FWe,{store:s,children:b,onCreated:d,rootElement:n}),c,null,()=>{}),s},unmount(){VCe(n)}}}function FWe({store:n,children:e,onCreated:t,rootElement:r}){return d3(()=>{let o=n.getState();o.set(s=>({internal:uh(Xi({},s.internal),{active:!0})})),t&&t(o),n.getState().events.connected||o.events.connect==null||o.events.connect(r)},[]),Tc.createElement(eq.Provider,{value:n},e)}function VCe(n,e){let t=jM.get(n),r=t==null?void 0:t.fiber;if(r){let o=t==null?void 0:t.store.getState();o&&(o.internal.active=!1),HR.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var s,c,d,g;o.events.disconnect==null||o.events.disconnect(),(s=o.gl)==null||(c=s.renderLists)==null||c.dispose==null||c.dispose(),(d=o.gl)==null||d.forceContextLoss==null||d.forceContextLoss(),(g=o.gl)!=null&&g.xr&&o.xr.disconnect(),AWe(o),jM.delete(n),e&&e(n)}catch{}},500)})}}function zWe(n,e,t){return Tc.createElement(UWe,{key:e.uuid,children:n,container:e,state:t})}function UWe({state:n={},children:e,container:t}){let r=n,{events:o,size:s}=r,c=Wp(r,["events","size"]),d=tq(),[g]=Tc.useState(()=>new $M),[_]=Tc.useState(()=>new Vn),b=Tc.useCallback((P,N)=>{let F=Xi({},P);Object.keys(P).forEach(D=>{(PWe.includes(D)||P[D]!==N[D]&&N[D])&&delete F[D]});let K;if(N&&s){let D=N.camera;K=P.viewport.getCurrentViewport(D,new Je,s),D!==P.camera&&jCe(D,s)}return Xi(uh(Xi({},F),{scene:t,raycaster:g,pointer:_,mouse:_,previousRoot:d,events:Xi(Xi(Xi({},P.events),N==null?void 0:N.events),o),size:Xi(Xi({},P.size),s),viewport:Xi(Xi({},P.viewport),K)}),c)},[n]),[A]=Tc.useState(()=>{let P=d.getState();return OCe((N,F)=>uh(Xi(uh(Xi({},P),{scene:t,raycaster:g,pointer:_,mouse:_,previousRoot:d,events:Xi(Xi({},P.events),o),size:Xi(Xi({},P.size),s)}),c),{set:N,get:F,setEvents:K=>N(D=>uh(Xi({},D),{events:Xi(Xi({},D.events),K)}))}))});return Tc.useEffect(()=>{let P=d.subscribe(N=>A.setState(F=>b(N,F)));return()=>{P(),A.destroy()}},[]),Tc.useEffect(()=>{A.setState(P=>b(d.getState(),P))},[b]),Tc.createElement(Tc.Fragment,null,HR.createPortal(Tc.createElement(eq.Provider,{value:A},e),A,null))}HR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Tc.version});function nF(){return nF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nF.apply(this,arguments)}var Mc=oo(ys()),l1=oo(ys()),J_e=oo(jVe());function nq(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:o}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n,s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,d]=(0,l1.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=(0,l1.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),_=e?typeof e=="number"?e:e.scroll:null,b=e?typeof e=="number"?e:e.resize:null,A=(0,l1.useRef)(!1);(0,l1.useEffect)(()=>(A.current=!0,()=>void(A.current=!1)));let[P,N,F]=(0,l1.useMemo)(()=>{let j=()=>{if(!g.current.element)return;let{left:T,top:Y,width:ce,height:le,bottom:Z,right:Se,x:Le,y:X}=g.current.element.getBoundingClientRect(),fe={left:T,top:Y,width:ce,height:le,bottom:Z,right:Se,x:Le,y:X};g.current.element instanceof HTMLElement&&o&&(fe.height=g.current.element.offsetHeight,fe.width=g.current.element.offsetWidth),Object.freeze(fe),A.current&&!VWe(g.current.lastBounds,fe)&&d(g.current.lastBounds=fe)};return[j,b?(0,J_e.default)(j,b):j,_?(0,J_e.default)(j,_):j]},[d,o,_,b]);function K(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(j=>j.removeEventListener("scroll",F,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function D(){g.current.element&&(g.current.resizeObserver=new s(F),g.current.resizeObserver.observe(g.current.element),t&&g.current.scrollContainers&&g.current.scrollContainers.forEach(j=>j.addEventListener("scroll",F,{capture:!0,passive:!0})))}let I=j=>{!j||j===g.current.element||(K(),g.current.element=j,g.current.scrollContainers=WCe(j),D())};return HWe(F,!!t),jWe(N),(0,l1.useEffect)(()=>{K(),D()},[t,F,N]),(0,l1.useEffect)(()=>K,[]),[I,c,P]}function jWe(n){(0,l1.useEffect)(()=>{let e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function HWe(n,e){(0,l1.useEffect)(()=>{if(e){let t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function WCe(n){let e=[];if(!n||n===document.body)return e;let{overflow:t,overflowX:r,overflowY:o}=window.getComputedStyle(n);return[t,r,o].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...WCe(n.parentElement)]}var GWe=["x","y","top","bottom","left","right","width","height"],VWe=(n,e)=>GWe.every(t=>n[t]===e[t]),Bg=oo(ys(),1),WWe=Object.defineProperty,XWe=Object.defineProperties,KWe=Object.getOwnPropertyDescriptors,Z_e=Object.getOwnPropertySymbols,YWe=Object.prototype.hasOwnProperty,qWe=Object.prototype.propertyIsEnumerable,$_e=(n,e,t)=>e in n?WWe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ewe=(n,e)=>{for(var t in e||(e={}))YWe.call(e,t)&&$_e(n,t,e[t]);if(Z_e)for(var t of Z_e(e))qWe.call(e,t)&&$_e(n,t,e[t]);return n},QWe=(n,e)=>XWe(n,KWe(e));function XCe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){let o=XCe(r,e,t);if(o)return o;r=e?null:r.sibling}}function KCe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}var rq=KCe(Bg.createContext(null)),YCe=class extends Bg.Component{render(){return Bg.createElement(rq.Provider,{value:this._reactInternals},this.props.children)}},{ReactCurrentOwner:twe,ReactCurrentDispatcher:nwe}=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function JWe(){let n=Bg.useContext(rq);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let e=Bg.useId();return Bg.useMemo(()=>{for(let t of[twe==null?void 0:twe.current,n,n==null?void 0:n.alternate]){if(!t)continue;let r=XCe(t,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[n,e])}function ZWe(){var n,e;let t=JWe(),[r]=Bg.useState(()=>new Map);r.clear();let o=t;for(;o;){let s=(n=o.type)==null?void 0:n._context;s&&s!==rq&&!r.has(s)&&r.set(s,(e=nwe==null?void 0:nwe.current)==null?void 0:e.readContext(KCe(s))),o=o.return}return r}function $We(){let n=ZWe();return Bg.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Bg.createElement(e,null,Bg.createElement(t.Provider,QWe(ewe({},r),{value:n.get(t)}))),e=>Bg.createElement(YCe,ewe({},e))),[n])}oo(eCe());oo(tCe());oo(KY());var EV={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eXe(n){let{handlePointer:e}=TWe(n);return{priority:1,enabled:!0,compute(t,r,o){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(EV).reduce((t,r)=>uh(Xi({},t),{[r]:e(r)}),{}),update:()=>{var t;let{events:r,internal:o}=n.getState();(t=o.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:t=>{var r;let{set:o,events:s}=n.getState();s.disconnect==null||s.disconnect(),o(c=>({events:uh(Xi({},c.events),{connected:t})})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([c,d])=>{let[g,_]=EV[c];t.addEventListener(g,d,{passive:_})})},disconnect:()=>{let{set:t,events:r}=n.getState();if(r.connected){var o;Object.entries((o=r.handlers)!=null?o:[]).forEach(([s,c])=>{if(r&&r.connected instanceof HTMLElement){let[d]=EV[s];r.connected.removeEventListener(d,c)}}),t(s=>({events:uh(Xi({},s.events),{connected:void 0})}))}}}}var tXe=Mc.forwardRef(function(n,e){var t=n,{children:r,fallback:o,resize:s,style:c,gl:d,events:g=eXe,eventSource:_,eventPrefix:b,shadows:A,linear:P,flat:N,legacy:F,orthographic:K,frameloop:D,dpr:I,performance:j,raycaster:T,camera:Y,onPointerMissed:ce,onCreated:le}=t,Z=Wp(t,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);Mc.useMemo(()=>wWe(sAe),[]);let Se=$We(),[Le,X]=nq(Xi({scroll:!0,debounce:{scroll:50,resize:0}},s)),fe=Mc.useRef(null),st=Mc.useRef(null);Mc.useImperativeHandle(e,()=>fe.current);let Ue=NCe(ce),[Me,be]=Mc.useState(!1),[Ke,Ye]=Mc.useState(!1);if(Me)throw Me;if(Ke)throw Ke;let de=Mc.useRef(null);return d3(()=>{let ve=fe.current;X.width>0&&X.height>0&&ve&&(de.current||(de.current=LWe(ve)),de.current.configure({gl:d,events:g,shadows:A,linear:P,flat:N,legacy:F,orthographic:K,frameloop:D,dpr:I,performance:j,raycaster:T,camera:Y,size:X,onPointerMissed:(...ye)=>Ue.current==null?void 0:Ue.current(...ye),onCreated:ye=>{ye.events.connect==null||ye.events.connect(_?SWe(_)?_.current:_:st.current),b&&ye.setEvents({compute:(_e,ge)=>{let dt=_e[b+"X"],qe=_e[b+"Y"];ge.pointer.set(dt/ge.size.width*2-1,-(qe/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),le==null||le(ye)}}),de.current.render(Mc.createElement(Se,null,Mc.createElement(LCe,{set:Ye},Mc.createElement(Mc.Suspense,{fallback:Mc.createElement(bWe,{set:be})},r)))))}),Mc.useEffect(()=>{let ve=fe.current;if(ve)return()=>VCe(ve)},[]),Mc.createElement("div",nF({ref:st,style:Xi({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:_?"none":"auto"},c)},Z),Mc.createElement("div",{ref:Le,style:{width:"100%",height:"100%"}},Mc.createElement("canvas",{ref:fe,style:{display:"block"}},o)))}),nXe=Mc.forwardRef(function(n,e){return Mc.createElement(YCe,null,Mc.createElement(tXe,nF({},n,{ref:e})))}),NX=oo($F()),rXe=oo(dWe()),ih=oo(ys()),qh=oo(ys());function GR(){return GR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GR.apply(this,arguments)}var Fa=oo(ys()),iXe=oo(RCe()),h3=new Je,iq=new Je,oXe=new Je;function sXe(n,e,t){let r=h3.setFromMatrixPosition(n.matrixWorld);r.project(e);let o=t.width/2,s=t.height/2;return[r.x*o+o,-(r.y*s)+s]}function aXe(n,e){let t=h3.setFromMatrixPosition(n.matrixWorld),r=iq.setFromMatrixPosition(e.matrixWorld),o=t.sub(r),s=e.getWorldDirection(oXe);return o.angleTo(s)>Math.PI/2}function lXe(n,e,t,r){let o=h3.setFromMatrixPosition(n.matrixWorld),s=o.clone();s.project(e),t.setFromCamera(s,e);let c=t.intersectObjects(r,!0);if(c.length){let d=c[0].distance;return o.distanceTo(t.ray.origin)<d}return!0}function uXe(n,e){if(e instanceof Ng)return e.zoom;if(e instanceof bl){let t=h3.setFromMatrixPosition(n.matrixWorld),r=iq.setFromMatrixPosition(e.matrixWorld),o=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(o/2)*s)}else return 1}function cXe(n,e,t){if(e instanceof bl||e instanceof Ng){let r=h3.setFromMatrixPosition(n.matrixWorld),o=iq.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(o),c=(t[1]-t[0])/(e.far-e.near),d=t[1]-c*e.far;return Math.round(c*s+d)}}var LX=n=>Math.abs(n)<1e-10?0:n;function qCe(n,e,t=""){let r="matrix3d(";for(let o=0;o!==16;o++)r+=LX(e[o]*n.elements[o])+(o!==15?",":")");return t+r}var fXe=(n=>e=>qCe(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),dXe=(n=>(e,t)=>qCe(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function hXe(n){return n&&typeof n=="object"&&"current"in n}var pXe=Fa.forwardRef((n,e)=>{var t=n,{children:r,eps:o=.001,style:s,className:c,prepend:d,center:g,fullscreen:_,portal:b,distanceFactor:A,sprite:P=!1,transform:N=!1,occlude:F,onOcclude:K,castShadow:D,receiveShadow:I,material:j,geometry:T,zIndexRange:Y=[16777271,0],calculatePosition:ce=sXe,as:le="div",wrapperClass:Z,pointerEvents:Se="auto"}=t,Le=Wp(t,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]);let{gl:X,camera:fe,scene:st,size:Ue,raycaster:Me,events:be,viewport:Ke}=zf(),[Ye]=Fa.useState(()=>document.createElement(le)),de=Fa.useRef(),ve=Fa.useRef(null),ye=Fa.useRef(0),_e=Fa.useRef([0,0]),ge=Fa.useRef(null),dt=Fa.useRef(null),qe=(b==null?void 0:b.current)||be.connected||X.domElement.parentNode,_t=Fa.useRef(null),Qe=Fa.useRef(!1),zt=Fa.useMemo(()=>F&&F!=="blending"||Array.isArray(F)&&F.length&&hXe(F[0]),[F]);Fa.useLayoutEffect(()=>{let Ze=X.domElement;F&&F==="blending"?(Ze.style.zIndex=`${Math.floor(Y[0]/2)}`,Ze.style.position="absolute",Ze.style.pointerEvents="none"):(Ze.style.zIndex=null,Ze.style.position=null,Ze.style.pointerEvents=null)},[F]),Fa.useLayoutEffect(()=>{if(ve.current){let Ze=de.current=iXe.createRoot(Ye);if(st.updateMatrixWorld(),N)Ye.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let nn=ce(ve.current,fe,Ue);Ye.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${nn[0]}px,${nn[1]}px,0);transform-origin:0 0;`}return qe&&(d?qe.prepend(Ye):qe.appendChild(Ye)),()=>{qe&&qe.removeChild(Ye),Ze.unmount()}}},[qe,N]),Fa.useLayoutEffect(()=>{Z&&(Ye.className=Z)},[Z]);let Lt=Fa.useMemo(()=>N?{position:"absolute",top:0,left:0,width:Ue.width,height:Ue.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Xi(Xi({position:"absolute",transform:g?"translate3d(-50%,-50%,0)":"none"},_&&{top:-Ue.height/2,left:-Ue.width/2,width:Ue.width,height:Ue.height}),s),[s,g,_,Ue,N]),Kt=Fa.useMemo(()=>({position:"absolute",pointerEvents:Se}),[Se]);Fa.useLayoutEffect(()=>{if(Qe.current=!1,N){var Ze;(Ze=de.current)==null||Ze.render(Fa.createElement("div",{ref:ge,style:Lt},Fa.createElement("div",{ref:dt,style:Kt},Fa.createElement("div",{ref:e,className:c,style:s,children:r}))))}else{var nn;(nn=de.current)==null||nn.render(Fa.createElement("div",{ref:e,style:Lt,className:c,children:r}))}});let ln=Fa.useRef(!0);rz(Ze=>{if(ve.current){fe.updateMatrixWorld(),ve.current.updateWorldMatrix(!0,!1);let nn=N?_e.current:ce(ve.current,fe,Ue);if(N||Math.abs(ye.current-fe.zoom)>o||Math.abs(_e.current[0]-nn[0])>o||Math.abs(_e.current[1]-nn[1])>o){let jt=aXe(ve.current,fe),fn=!1;zt&&(F!=="blending"?fn=[st]:Array.isArray(F)&&(fn=F.map(nr=>nr.current)));let cn=ln.current;if(fn){let nr=lXe(ve.current,fe,Me,fn);ln.current=nr&&!jt}else ln.current=!jt;cn!==ln.current&&(K?K(!ln.current):Ye.style.display=ln.current?"block":"none");let Dn=Math.floor(Y[0]/2),Qn=F?zt?[Y[0],Dn]:[Dn-1,0]:Y;if(Ye.style.zIndex=`${cXe(ve.current,fe,Qn)}`,N){let[nr,Tr]=[Ue.width/2,Ue.height/2],ct=fe.projectionMatrix.elements[5]*Tr,{isOrthographicCamera:Ne,top:rn,left:Dt,bottom:Pn,right:Wn}=fe,ei=fXe(fe.matrixWorldInverse),jr=Ne?`scale(${ct})translate(${LX(-(Wn+Dt)/2)}px,${LX((rn+Pn)/2)}px)`:`translateZ(${ct}px)`,Yn=ve.current.matrixWorld;P&&(Yn=fe.matrixWorldInverse.clone().transpose().copyPosition(Yn).scale(ve.current.scale),Yn.elements[3]=Yn.elements[7]=Yn.elements[11]=0,Yn.elements[15]=1),Ye.style.width=Ue.width+"px",Ye.style.height=Ue.height+"px",Ye.style.perspective=Ne?"":`${ct}px`,ge.current&&dt.current&&(ge.current.style.transform=`${jr}${ei}translate(${nr}px,${Tr}px)`,dt.current.style.transform=dXe(Yn,1/((A||10)/400)))}else{let nr=A===void 0?1:uXe(ve.current,fe)*A;Ye.style.transform=`translate3d(${nn[0]}px,${nn[1]}px,0) scale(${nr})`}_e.current=nn,ye.current=fe.zoom}}if(!zt&&_t.current&&!Qe.current)if(N){if(ge.current){let nn=ge.current.children[0];if(nn!=null&&nn.clientWidth&&nn!=null&&nn.clientHeight){let{isOrthographicCamera:jt}=fe;if(jt||T)Le.scale&&(Array.isArray(Le.scale)?Le.scale instanceof Je?_t.current.scale.copy(Le.scale.clone().divideScalar(1)):_t.current.scale.set(1/Le.scale[0],1/Le.scale[1],1/Le.scale[2]):_t.current.scale.setScalar(1/Le.scale));else{let fn=(A||10)/400,cn=nn.clientWidth*fn,Dn=nn.clientHeight*fn;_t.current.scale.set(cn,Dn,1)}Qe.current=!0}}}else{let nn=Ye.children[0];if(nn!=null&&nn.clientWidth&&nn!=null&&nn.clientHeight){let jt=1/Ke.factor,fn=nn.clientWidth*jt,cn=nn.clientHeight*jt;_t.current.scale.set(fn,cn,1),Qe.current=!0}_t.current.lookAt(Ze.camera.position)}});let bn=Fa.useMemo(()=>({vertexShader:N?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[N]);return Fa.createElement("group",GR({},Le,{ref:ve}),F&&!zt&&Fa.createElement("mesh",{castShadow:D,receiveShadow:I,ref:_t},T||Fa.createElement("planeGeometry",null),j||Fa.createElement("shaderMaterial",{side:sh,vertexShader:bn.vertexShader,fragmentShader:bn.fragmentShader})))});function mXe(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gXe=mXe,vXe=Object.defineProperty,yXe=(n,e,t)=>e in n?vXe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gn=(n,e,t)=>(yXe(n,typeof e!="symbol"?e+"":e,t),t),_Xe=class extends Ho{constructor(n,e){super(),Gn(this,"isTransformControls",!0),Gn(this,"visible",!1),Gn(this,"domElement"),Gn(this,"raycaster",new $M),Gn(this,"gizmo"),Gn(this,"plane"),Gn(this,"tempVector",new Je),Gn(this,"tempVector2",new Je),Gn(this,"tempQuaternion",new jo),Gn(this,"unit",{X:new Je(1,0,0),Y:new Je(0,1,0),Z:new Je(0,0,1)}),Gn(this,"pointStart",new Je),Gn(this,"pointEnd",new Je),Gn(this,"offset",new Je),Gn(this,"rotationAxis",new Je),Gn(this,"startNorm",new Je),Gn(this,"endNorm",new Je),Gn(this,"rotationAngle",0),Gn(this,"cameraPosition",new Je),Gn(this,"cameraQuaternion",new jo),Gn(this,"cameraScale",new Je),Gn(this,"parentPosition",new Je),Gn(this,"parentQuaternion",new jo),Gn(this,"parentQuaternionInv",new jo),Gn(this,"parentScale",new Je),Gn(this,"worldPositionStart",new Je),Gn(this,"worldQuaternionStart",new jo),Gn(this,"worldScaleStart",new Je),Gn(this,"worldPosition",new Je),Gn(this,"worldQuaternion",new jo),Gn(this,"worldQuaternionInv",new jo),Gn(this,"worldScale",new Je),Gn(this,"eye",new Je),Gn(this,"positionStart",new Je),Gn(this,"quaternionStart",new jo),Gn(this,"scaleStart",new Je),Gn(this,"camera"),Gn(this,"object"),Gn(this,"enabled",!0),Gn(this,"axis",null),Gn(this,"mode","translate"),Gn(this,"translationSnap",null),Gn(this,"rotationSnap",null),Gn(this,"scaleSnap",null),Gn(this,"space","world"),Gn(this,"size",1),Gn(this,"dragging",!1),Gn(this,"showX",!0),Gn(this,"showY",!0),Gn(this,"showZ",!0),Gn(this,"changeEvent",{type:"change"}),Gn(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),Gn(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),Gn(this,"objectChangeEvent",{type:"objectChange"}),Gn(this,"intersectObjectWithRay",(r,o,s)=>{let c=o.intersectObject(r,!0);for(let d=0;d<c.length;d++)if(c[d].object.visible||s)return c[d];return!1}),Gn(this,"attach",r=>(this.object=r,this.visible=!0,this)),Gn(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),Gn(this,"reset",()=>this.enabled?(this.dragging&&this.object!==void 0&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),Gn(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),Gn(this,"pointerHover",r=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(r,this.camera);let o=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);o?this.axis=o.object.name:this.axis=null}),Gn(this,"pointerDown",r=>{if(!(this.object===void 0||this.dragging===!0||r.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(r,this.camera);let o=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(o){let s=this.space;if(this.mode==="scale"?s="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(s="world"),s==="local"&&this.mode==="rotate"){let c=this.rotationSnap;this.axis==="X"&&c&&(this.object.rotation.x=Math.round(this.object.rotation.x/c)*c),this.axis==="Y"&&c&&(this.object.rotation.y=Math.round(this.object.rotation.y/c)*c),this.axis==="Z"&&c&&(this.object.rotation.z=Math.round(this.object.rotation.z/c)*c)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(o.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),Gn(this,"pointerMove",r=>{let o=this.axis,s=this.mode,c=this.object,d=this.space;if(s==="scale"?d="local":(o==="E"||o==="XYZE"||o==="XYZ")&&(d="world"),c===void 0||o===null||this.dragging===!1||r.button!==-1)return;this.raycaster.setFromCamera(r,this.camera);let g=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(g){if(this.pointEnd.copy(g.point).sub(this.worldPositionStart),s==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),d==="local"&&o!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),o.indexOf("X")===-1&&(this.offset.x=0),o.indexOf("Y")===-1&&(this.offset.y=0),o.indexOf("Z")===-1&&(this.offset.z=0),d==="local"&&o!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),c.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(d==="local"&&(c.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),o.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.position.applyQuaternion(this.quaternionStart)),d==="world"&&(c.parent&&c.position.add(this.tempVector.setFromMatrixPosition(c.parent.matrixWorld)),o.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.parent&&c.position.sub(this.tempVector.setFromMatrixPosition(c.parent.matrixWorld))));else if(s==="scale"){if(o.search("XYZ")!==-1){let _=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(_*=-1),this.tempVector2.set(_,_,_)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),o.search("X")===-1&&(this.tempVector2.x=1),o.search("Y")===-1&&(this.tempVector2.y=1),o.search("Z")===-1&&(this.tempVector2.z=1);c.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(o.search("X")!==-1&&(this.object.scale.x=Math.round(c.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Y")!==-1&&(c.scale.y=Math.round(c.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Z")!==-1&&(c.scale.z=Math.round(c.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(s==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);let _=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));o==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):o==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*_):(o==="X"||o==="Y"||o==="Z")&&(this.rotationAxis.copy(this.unit[o]),this.tempVector.copy(this.unit[o]),d==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*_),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),d==="local"&&o!=="E"&&o!=="XYZE"?(c.quaternion.copy(this.quaternionStart),c.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),c.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),c.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),Gn(this,"pointerUp",r=>{r.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),Gn(this,"getPointer",r=>{var o,s;if(this.domElement&&(o=this.domElement.ownerDocument)!=null&&o.pointerLockElement)return{x:0,y:0,button:r.button};{let c=r.changedTouches?r.changedTouches[0]:r,d=(s=this.domElement)==null?void 0:s.getBoundingClientRect();return{x:(c.clientX-d.left)/d.width*2-1,y:-(c.clientY-d.top)/d.height*2+1,button:r.button}}}),Gn(this,"onPointerHover",r=>{if(this.enabled)switch(r.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(r));break}}),Gn(this,"onPointerDown",r=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(r)),this.pointerDown(this.getPointer(r)))}),Gn(this,"onPointerMove",r=>{this.enabled&&this.pointerMove(this.getPointer(r))}),Gn(this,"onPointerUp",r=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(r)))}),Gn(this,"getMode",()=>this.mode),Gn(this,"setMode",r=>{this.mode=r}),Gn(this,"setTranslationSnap",r=>{this.translationSnap=r}),Gn(this,"setRotationSnap",r=>{this.rotationSnap=r}),Gn(this,"setScaleSnap",r=>{this.scaleSnap=r}),Gn(this,"setSize",r=>{this.size=r}),Gn(this,"setSpace",r=>{this.space=r}),Gn(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),Gn(this,"connect",r=>{r===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=r,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),Gn(this,"dispose",()=>{var r,o,s,c,d,g;(r=this.domElement)==null||r.removeEventListener("pointerdown",this.onPointerDown),(o=this.domElement)==null||o.removeEventListener("pointermove",this.onPointerHover),(c=(s=this.domElement)==null?void 0:s.ownerDocument)==null||c.removeEventListener("pointermove",this.onPointerMove),(g=(d=this.domElement)==null?void 0:d.ownerDocument)==null||g.removeEventListener("pointerup",this.onPointerUp),this.traverse(_=>{let b=_;b.geometry&&b.geometry.dispose(),b.material&&b.material.dispose()})}),this.domElement=e,this.camera=n,this.gizmo=new wXe,this.add(this.gizmo),this.plane=new xXe,this.add(this.plane);let t=(r,o)=>{let s=o;Object.defineProperty(this,r,{get:function(){return s!==void 0?s:o},set:function(c){s!==c&&(s=c,this.plane[r]=c,this.gizmo[r]=c,this.dispatchEvent({type:r+"-changed",value:c}),this.dispatchEvent(this.changeEvent))}}),this[r]=o,this.plane[r]=o,this.gizmo[r]=o};t("camera",this.camera),t("object",this.object),t("enabled",this.enabled),t("axis",this.axis),t("mode",this.mode),t("translationSnap",this.translationSnap),t("rotationSnap",this.rotationSnap),t("scaleSnap",this.scaleSnap),t("space",this.space),t("size",this.size),t("dragging",this.dragging),t("showX",this.showX),t("showY",this.showY),t("showZ",this.showZ),t("worldPosition",this.worldPosition),t("worldPositionStart",this.worldPositionStart),t("worldQuaternion",this.worldQuaternion),t("worldQuaternionStart",this.worldQuaternionStart),t("cameraPosition",this.cameraPosition),t("cameraQuaternion",this.cameraQuaternion),t("pointStart",this.pointStart),t("pointEnd",this.pointEnd),t("rotationAxis",this.rotationAxis),t("rotationAngle",this.rotationAngle),t("eye",this.eye),e!==void 0&&this.connect(e)}},wXe=class extends Ho{constructor(){super(),Gn(this,"isTransformControlsGizmo",!0),Gn(this,"type","TransformControlsGizmo"),Gn(this,"tempVector",new Je(0,0,0)),Gn(this,"tempEuler",new tp),Gn(this,"alignVector",new Je(0,1,0)),Gn(this,"zeroVector",new Je(0,0,0)),Gn(this,"lookAtMatrix",new Ui),Gn(this,"tempQuaternion",new jo),Gn(this,"tempQuaternion2",new jo),Gn(this,"identityQuaternion",new jo),Gn(this,"unitX",new Je(1,0,0)),Gn(this,"unitY",new Je(0,1,0)),Gn(this,"unitZ",new Je(0,0,1)),Gn(this,"gizmo"),Gn(this,"picker"),Gn(this,"helper"),Gn(this,"rotationAxis",new Je),Gn(this,"cameraPosition",new Je),Gn(this,"worldPositionStart",new Je),Gn(this,"worldQuaternionStart",new jo),Gn(this,"worldPosition",new Je),Gn(this,"worldQuaternion",new jo),Gn(this,"eye",new Je),Gn(this,"camera",null),Gn(this,"enabled",!0),Gn(this,"axis",null),Gn(this,"mode","translate"),Gn(this,"space","world"),Gn(this,"size",1),Gn(this,"dragging",!1),Gn(this,"showX",!0),Gn(this,"showY",!0),Gn(this,"showZ",!0),Gn(this,"updateMatrixWorld",()=>{let de=this.space;this.mode==="scale"&&(de="local");let ve=de==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let ye=[];ye=ye.concat(this.picker[this.mode].children),ye=ye.concat(this.gizmo[this.mode].children),ye=ye.concat(this.helper[this.mode].children);for(let _e=0;_e<ye.length;_e++){let ge=ye[_e];ge.visible=!0,ge.rotation.set(0,0,0),ge.position.copy(this.worldPosition);let dt;if(this.camera.isOrthographicCamera?dt=(this.camera.top-this.camera.bottom)/this.camera.zoom:dt=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),ge.scale.set(1,1,1).multiplyScalar(dt*this.size/7),ge.tag==="helper"){ge.visible=!1,ge.name==="AXIS"?(ge.position.copy(this.worldPositionStart),ge.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),ge.quaternion.copy(ve).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ve).dot(this.eye))>.9&&(ge.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),ge.quaternion.copy(ve).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ve).dot(this.eye))>.9&&(ge.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),ge.quaternion.copy(ve).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ve).dot(this.eye))>.9&&(ge.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),ge.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),ge.quaternion.multiply(this.tempQuaternion),ge.visible=this.dragging),this.axis==="E"&&(ge.visible=!1)):ge.name==="START"?(ge.position.copy(this.worldPositionStart),ge.visible=this.dragging):ge.name==="END"?(ge.position.copy(this.worldPosition),ge.visible=this.dragging):ge.name==="DELTA"?(ge.position.copy(this.worldPositionStart),ge.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),ge.scale.copy(this.tempVector),ge.visible=this.dragging):(ge.quaternion.copy(ve),this.dragging?ge.position.copy(this.worldPositionStart):ge.position.copy(this.worldPosition),this.axis&&(ge.visible=this.axis.search(ge.name)!==-1));continue}ge.quaternion.copy(ve),this.mode==="translate"||this.mode==="scale"?((ge.name==="X"||ge.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ve).dot(this.eye))>.99&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),(ge.name==="Y"||ge.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ve).dot(this.eye))>.99&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),(ge.name==="Z"||ge.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ve).dot(this.eye))>.99&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),ge.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ve).dot(this.eye))<.2&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),ge.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ve).dot(this.eye))<.2&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),ge.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ve).dot(this.eye))<.2&&(ge.scale.set(1e-10,1e-10,1e-10),ge.visible=!1),ge.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(ve).dot(this.eye)<0?ge.tag==="fwd"?ge.visible=!1:ge.scale.x*=-1:ge.tag==="bwd"&&(ge.visible=!1)),ge.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(ve).dot(this.eye)<0?ge.tag==="fwd"?ge.visible=!1:ge.scale.y*=-1:ge.tag==="bwd"&&(ge.visible=!1)),ge.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(ve).dot(this.eye)<0?ge.tag==="fwd"?ge.visible=!1:ge.scale.z*=-1:ge.tag==="bwd"&&(ge.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(ve),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(ve).invert()),ge.name.search("E")!==-1&&ge.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),ge.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ge.quaternion.copy(this.tempQuaternion)),ge.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ge.quaternion.copy(this.tempQuaternion)),ge.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ge.quaternion.copy(this.tempQuaternion))),ge.visible=ge.visible&&(ge.name.indexOf("X")===-1||this.showX),ge.visible=ge.visible&&(ge.name.indexOf("Y")===-1||this.showY),ge.visible=ge.visible&&(ge.name.indexOf("Z")===-1||this.showZ),ge.visible=ge.visible&&(ge.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),ge.material.tempOpacity=ge.material.tempOpacity||ge.material.opacity,ge.material.tempColor=ge.material.tempColor||ge.material.color.clone(),ge.material.color.copy(ge.material.tempColor),ge.material.opacity=ge.material.tempOpacity,this.enabled?this.axis&&(ge.name===this.axis?(ge.material.opacity=1,ge.material.color.lerp(new Dr(1,1,1),.5)):this.axis.split("").some(function(qe){return ge.name===qe})?(ge.material.opacity=1,ge.material.color.lerp(new Dr(1,1,1),.5)):(ge.material.opacity*=.25,ge.material.color.lerp(new Dr(1,1,1),.5))):(ge.material.opacity*=.5,ge.material.color.lerp(new Dr(1,1,1),.5))}super.updateMatrixWorld()});let n=new wd({depthTest:!1,depthWrite:!1,transparent:!0,side:sh,fog:!1,toneMapped:!1}),e=new Ed({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),t=n.clone();t.opacity=.15;let r=n.clone();r.opacity=.33;let o=n.clone();o.color.set(16711680);let s=n.clone();s.color.set(65280);let c=n.clone();c.color.set(255);let d=n.clone();d.opacity=.25;let g=d.clone();g.color.set(16776960);let _=d.clone();_.color.set(65535);let b=d.clone();b.color.set(16711935),n.clone().color.set(16776960);let A=e.clone();A.color.set(16711680);let P=e.clone();P.color.set(65280);let N=e.clone();N.color.set(255);let F=e.clone();F.color.set(65535);let K=e.clone();K.color.set(16711935);let D=e.clone();D.color.set(16776960);let I=e.clone();I.color.set(7895160);let j=D.clone();j.opacity=.25;let T=new vd(0,.05,.2,12,1,!1),Y=new Fp(.125,.125,.125),ce=new po;ce.setAttribute("position",new Ei([0,0,0,1,0,0],3));let le=(de,ve)=>{let ye=new po,_e=[];for(let ge=0;ge<=64*ve;++ge)_e.push(0,Math.cos(ge/32*Math.PI)*de,Math.sin(ge/32*Math.PI)*de);return ye.setAttribute("position",new Ei(_e,3)),ye},Z=()=>{let de=new po;return de.setAttribute("position",new Ei([0,0,0,1,1,1],3)),de},Se={X:[[new ni(T,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new ni(T,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new zo(ce,A)]],Y:[[new ni(T,s),[0,1,0],null,null,"fwd"],[new ni(T,s),[0,1,0],[Math.PI,0,0],null,"bwd"],[new zo(ce,P),null,[0,0,Math.PI/2]]],Z:[[new ni(T,c),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new ni(T,c),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new zo(ce,N),null,[0,-Math.PI/2,0]]],XYZ:[[new ni(new Tg(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new ni(new Up(.295,.295),g.clone()),[.15,.15,0]],[new zo(ce,D),[.18,.3,0],null,[.125,1,1]],[new zo(ce,D),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ni(new Up(.295,.295),_.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new zo(ce,F),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new zo(ce,F),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ni(new Up(.295,.295),b.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new zo(ce,K),[.18,0,.3],null,[.125,1,1]],[new zo(ce,K),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},Le={X:[[new ni(new vd(.2,0,1,4,1,!1),t),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new ni(new vd(.2,0,1,4,1,!1),t),[0,.6,0]]],Z:[[new ni(new vd(.2,0,1,4,1,!1),t),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new ni(new Tg(.2,0),t)]],XY:[[new ni(new Up(.4,.4),t),[.2,.2,0]]],YZ:[[new ni(new Up(.4,.4),t),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new ni(new Up(.4,.4),t),[.2,0,.2],[-Math.PI/2,0,0]]]},X={START:[[new ni(new Tg(.01,2),r),null,null,null,"helper"]],END:[[new ni(new Tg(.01,2),r),null,null,null,"helper"]],DELTA:[[new zo(Z(),r),null,null,null,"helper"]],X:[[new zo(ce,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new zo(ce,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new zo(ce,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},fe={X:[[new zo(le(1,.5),A)],[new ni(new Tg(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new zo(le(1,.5),P),null,[0,0,-Math.PI/2]],[new ni(new Tg(.04,0),s),[0,0,.99],null,[3,1,1]]],Z:[[new zo(le(1,.5),N),null,[0,Math.PI/2,0]],[new ni(new Tg(.04,0),c),[.99,0,0],null,[1,3,1]]],E:[[new zo(le(1.25,1),j),null,[0,Math.PI/2,0]],[new ni(new vd(.03,0,.15,4,1,!1),j),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new ni(new vd(.03,0,.15,4,1,!1),j),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new ni(new vd(.03,0,.15,4,1,!1),j),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new ni(new vd(.03,0,.15,4,1,!1),j),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new zo(le(1,1),I),null,[0,Math.PI/2,0]]]},st={AXIS:[[new zo(ce,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},Ue={X:[[new ni(new Iw(1,.1,4,24),t),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ni(new Iw(1,.1,4,24),t),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ni(new Iw(1,.1,4,24),t),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ni(new Iw(1.25,.1,2,24),t)]],XYZE:[[new ni(new JM(.7,10,8),t)]]},Me={X:[[new ni(Y,o),[.8,0,0],[0,0,-Math.PI/2]],[new zo(ce,A),null,null,[.8,1,1]]],Y:[[new ni(Y,s),[0,.8,0]],[new zo(ce,P),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new ni(Y,c),[0,0,.8],[Math.PI/2,0,0]],[new zo(ce,N),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new ni(Y,g),[.85,.85,0],null,[2,2,.2]],[new zo(ce,D),[.855,.98,0],null,[.125,1,1]],[new zo(ce,D),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ni(Y,_),[0,.85,.85],null,[.2,2,2]],[new zo(ce,F),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new zo(ce,F),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ni(Y,b),[.85,0,.85],null,[2,.2,2]],[new zo(ce,K),[.855,0,.98],null,[.125,1,1]],[new zo(ce,K),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new ni(new Fp(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new ni(new Fp(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new ni(new Fp(.125,.125,.125),d.clone()),[0,0,1.1]]]},be={X:[[new ni(new vd(.2,0,.8,4,1,!1),t),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new ni(new vd(.2,0,.8,4,1,!1),t),[0,.5,0]]],Z:[[new ni(new vd(.2,0,.8,4,1,!1),t),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new ni(Y,t),[.85,.85,0],null,[3,3,.2]]],YZ:[[new ni(Y,t),[0,.85,.85],null,[.2,3,3]]],XZ:[[new ni(Y,t),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new ni(new Fp(.2,.2,.2),t),[1.1,0,0]]],XYZY:[[new ni(new Fp(.2,.2,.2),t),[0,1.1,0]]],XYZZ:[[new ni(new Fp(.2,.2,.2),t),[0,0,1.1]]]},Ke={X:[[new zo(ce,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new zo(ce,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new zo(ce,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},Ye=de=>{let ve=new Ho;for(let ye in de)for(let _e=de[ye].length;_e--;){let ge=de[ye][_e][0].clone(),dt=de[ye][_e][1],qe=de[ye][_e][2],_t=de[ye][_e][3],Qe=de[ye][_e][4];ge.name=ye,ge.tag=Qe,dt&&ge.position.set(dt[0],dt[1],dt[2]),qe&&ge.rotation.set(qe[0],qe[1],qe[2]),_t&&ge.scale.set(_t[0],_t[1],_t[2]),ge.updateMatrix();let zt=ge.geometry.clone();zt.applyMatrix4(ge.matrix),ge.geometry=zt,ge.renderOrder=1/0,ge.position.set(0,0,0),ge.rotation.set(0,0,0),ge.scale.set(1,1,1),ve.add(ge)}return ve};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=Ye(Se)),this.add(this.gizmo.rotate=Ye(fe)),this.add(this.gizmo.scale=Ye(Me)),this.add(this.picker.translate=Ye(Le)),this.add(this.picker.rotate=Ye(Ue)),this.add(this.picker.scale=Ye(be)),this.add(this.helper.translate=Ye(X)),this.add(this.helper.rotate=Ye(st)),this.add(this.helper.scale=Ye(Ke)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}},xXe=class extends ni{constructor(){super(new Up(1e5,1e5,2,2),new wd({visible:!1,wireframe:!0,side:sh,transparent:!0,opacity:.1,toneMapped:!1})),Gn(this,"isTransformControlsPlane",!0),Gn(this,"type","TransformControlsPlane"),Gn(this,"unitX",new Je(1,0,0)),Gn(this,"unitY",new Je(0,1,0)),Gn(this,"unitZ",new Je(0,0,1)),Gn(this,"tempVector",new Je),Gn(this,"dirVector",new Je),Gn(this,"alignVector",new Je),Gn(this,"tempMatrix",new Ui),Gn(this,"identityQuaternion",new jo),Gn(this,"cameraQuaternion",new jo),Gn(this,"worldPosition",new Je),Gn(this,"worldQuaternion",new jo),Gn(this,"eye",new Je),Gn(this,"axis",null),Gn(this,"mode","translate"),Gn(this,"space","world"),Gn(this,"updateMatrixWorld",()=>{let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),this.unitX.set(1,0,0).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}},AV=oo(ys());function SXe(n,e,t){let r=zf(P=>P.size),o=zf(P=>P.viewport),s=typeof n=="number"?n:r.width*o.dpr,c=typeof e=="number"?e:r.height*o.dpr,d=(typeof n=="number"?t:n)||{},{samples:g=0,depth:_}=d,b=Wp(d,["samples","depth"]),A=AV.useMemo(()=>{let P=new zg(s,c,Xi({minFilter:Xs,magFilter:Xs,type:lh},b));return _&&(P.depthTexture=new PF(s,c,kc)),P.samples=g,P},[]);return AV.useLayoutEffect(()=>{A.setSize(s,c),g&&(A.samples=g)},[g,A,s,c]),AV.useEffect(()=>()=>A.dispose(),[]),A}var O0=oo(ys()),bXe=n=>typeof n=="function",EXe=O0.forwardRef((n,e)=>{var t=n,{envMap:r,resolution:o=256,frames:s=1/0,makeDefault:c,children:d}=t,g=Wp(t,["envMap","resolution","frames","makeDefault","children"]);let _=zf(({set:j})=>j),b=zf(({camera:j})=>j),A=zf(({size:j})=>j),P=O0.useRef(null),N=O0.useRef(null),F=SXe(o);O0.useLayoutEffect(()=>{g.manual||(P.current.aspect=A.width/A.height)},[A,g]),O0.useLayoutEffect(()=>{P.current.updateProjectionMatrix()});let K=0,D=null,I=bXe(d);return rz(j=>{I&&(s===1/0||K<s)&&(N.current.visible=!1,j.gl.setRenderTarget(F),D=j.scene.background,r&&(j.scene.background=r),j.gl.render(j.scene,P.current),j.scene.background=D,j.gl.setRenderTarget(null),N.current.visible=!0,K++)}),O0.useLayoutEffect(()=>{if(c){let j=b;return _(()=>({camera:P.current})),()=>_(()=>({camera:j}))}},[P,c,_]),O0.createElement(O0.Fragment,null,O0.createElement("perspectiveCamera",GR({ref:gXe([P,e])},g),!I&&d),O0.createElement("group",{ref:N},I&&d(F.texture)))}),FC=oo(ys());function AXe(n,e){let t=n+"Geometry";return FC.forwardRef((r,o)=>{var s=r,{args:c,children:d}=s,g=Wp(s,["args","children"]);let _=FC.useRef(null);return FC.useImperativeHandle(o,()=>_.current),FC.useLayoutEffect(()=>void(e==null?void 0:e(_.current))),FC.createElement("mesh",GR({ref:_},g),FC.createElement(t,{attach:"geometry",args:c}),d)})}var CXe=AXe("sphere"),MXe=oo($F()),CV=oo(ys());function QCe(){let[n,e]=(0,CV.useState)(void 0),t=(0,CV.useRef)(n);return t.current=n,(0,CV.useLayoutEffect)(()=>{let r=o=>{let s=o.find(c=>c.type==="Theatre_SheetObject_PublicAPI"&&qL.has(c));e(s?JAe(s.address):void 0)};return r(Mm.selection),Mm.onSelectionChange(r)},[]),n}var TXe=typeof global=="object"&&global&&global.Object===Object&&global,JCe=TXe,PXe=typeof self=="object"&&self&&self.Object===Object&&self,kXe=JCe||PXe||Function("return this")(),I1=kXe,IXe=I1.Symbol,ex=IXe,ZCe=Object.prototype,RXe=ZCe.hasOwnProperty,OXe=ZCe.toString,NI=ex?ex.toStringTag:void 0;function BXe(n){var e=RXe.call(n,NI),t=n[NI];try{n[NI]=void 0;var r=!0}catch{}var o=OXe.call(n);return r&&(e?n[NI]=t:delete n[NI]),o}var DXe=BXe,NXe=Object.prototype,LXe=NXe.toString;function FXe(n){return LXe.call(n)}var zXe=FXe,UXe="[object Null]",jXe="[object Undefined]",rwe=ex?ex.toStringTag:void 0;function HXe(n){return n==null?n===void 0?jXe:UXe:rwe&&rwe in Object(n)?DXe(n):zXe(n)}var tT=HXe;function GXe(n){return n!=null&&typeof n=="object"}var HM=GXe,VXe="[object Symbol]";function WXe(n){return typeof n=="symbol"||HM(n)&&tT(n)==VXe}var iz=WXe;function XXe(n,e){for(var t=-1,r=n==null?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}var KXe=XXe,YXe=Array.isArray,M1=YXe,qXe=1/0,iwe=ex?ex.prototype:void 0,owe=iwe?iwe.toString:void 0;function $Ce(n){if(typeof n=="string")return n;if(M1(n))return KXe(n,$Ce)+"";if(iz(n))return owe?owe.call(n):"";var e=n+"";return e=="0"&&1/n==-qXe?"-0":e}var QXe=$Ce,JXe=/\s/;function ZXe(n){for(var e=n.length;e--&&JXe.test(n.charAt(e)););return e}var $Xe=ZXe,eKe=/^\s+/;function tKe(n){return n&&n.slice(0,$Xe(n)+1).replace(eKe,"")}var nKe=tKe;function rKe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var VR=rKe,swe=NaN,iKe=/^[-+]0x[0-9a-f]+$/i,oKe=/^0b[01]+$/i,sKe=/^0o[0-7]+$/i,aKe=parseInt;function lKe(n){if(typeof n=="number")return n;if(iz(n))return swe;if(VR(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=VR(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=nKe(n);var t=oKe.test(n);return t||sKe.test(n)?aKe(n.slice(2),t?2:8):iKe.test(n)?swe:+n}var uKe=lKe,awe=1/0,cKe=17976931348623157e292;function fKe(n){if(!n)return n===0?n:0;if(n=uKe(n),n===awe||n===-awe){var e=n<0?-1:1;return e*cKe}return n===n?n:0}var dKe=fKe;function hKe(n){var e=dKe(n),t=e%1;return e===e?t?e-t:e:0}var pKe=hKe;function mKe(n){return n}var gKe=mKe,vKe="[object AsyncFunction]",yKe="[object Function]",_Ke="[object GeneratorFunction]",wKe="[object Proxy]";function xKe(n){if(!VR(n))return!1;var e=tT(n);return e==yKe||e==_Ke||e==vKe||e==wKe}var eMe=xKe,SKe=I1["__core-js_shared__"],MV=SKe,lwe=function(){var n=/[^.]+$/.exec(MV&&MV.keys&&MV.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function bKe(n){return!!lwe&&lwe in n}var EKe=bKe,AKe=Function.prototype,CKe=AKe.toString;function MKe(n){if(n!=null){try{return CKe.call(n)}catch{}try{return n+""}catch{}}return""}var rE=MKe,TKe=/[\\^$.*+?()[\]{}|]/g,PKe=/^\[object .+?Constructor\]$/,kKe=Function.prototype,IKe=Object.prototype,RKe=kKe.toString,OKe=IKe.hasOwnProperty,BKe=RegExp("^"+RKe.call(OKe).replace(TKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DKe(n){if(!VR(n)||EKe(n))return!1;var e=eMe(n)?BKe:PKe;return e.test(rE(n))}var NKe=DKe;function LKe(n,e){return n==null?void 0:n[e]}var FKe=LKe;function zKe(n,e){var t=FKe(n,e);return NKe(t)?t:void 0}var nT=zKe,UKe=nT(I1,"WeakMap"),FX=UKe;function jKe(n,e,t,r){for(var o=n.length,s=t+(r?1:-1);r?s--:++s<o;)if(e(n[s],s,n))return s;return-1}var HKe=jKe,GKe=9007199254740991,VKe=/^(?:0|[1-9]\d*)$/;function WKe(n,e){var t=typeof n;return e=e??GKe,!!e&&(t=="number"||t!="symbol"&&VKe.test(n))&&n>-1&&n%1==0&&n<e}var tMe=WKe;function XKe(n,e){return n===e||n!==n&&e!==e}var nMe=XKe,KKe=9007199254740991;function YKe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=KKe}var oq=YKe;function qKe(n){return n!=null&&oq(n.length)&&!eMe(n)}var QKe=qKe,JKe=Object.prototype;function ZKe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||JKe;return n===t}var $Ke=ZKe;function eYe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var tYe=eYe,nYe="[object Arguments]";function rYe(n){return HM(n)&&tT(n)==nYe}var uwe=rYe,rMe=Object.prototype,iYe=rMe.hasOwnProperty,oYe=rMe.propertyIsEnumerable,sYe=uwe(function(){return arguments}())?uwe:function(n){return HM(n)&&iYe.call(n,"callee")&&!oYe.call(n,"callee")},iMe=sYe;function aYe(){return!1}var lYe=aYe,oMe=typeof _1=="object"&&_1&&!_1.nodeType&&_1,cwe=oMe&&typeof w1=="object"&&w1&&!w1.nodeType&&w1,uYe=cwe&&cwe.exports===oMe,fwe=uYe?I1.Buffer:void 0,cYe=fwe?fwe.isBuffer:void 0,fYe=cYe||lYe,zX=fYe,dYe="[object Arguments]",hYe="[object Array]",pYe="[object Boolean]",mYe="[object Date]",gYe="[object Error]",vYe="[object Function]",yYe="[object Map]",_Ye="[object Number]",wYe="[object Object]",xYe="[object RegExp]",SYe="[object Set]",bYe="[object String]",EYe="[object WeakMap]",AYe="[object ArrayBuffer]",CYe="[object DataView]",MYe="[object Float32Array]",TYe="[object Float64Array]",PYe="[object Int8Array]",kYe="[object Int16Array]",IYe="[object Int32Array]",RYe="[object Uint8Array]",OYe="[object Uint8ClampedArray]",BYe="[object Uint16Array]",DYe="[object Uint32Array]",xl={};xl[MYe]=xl[TYe]=xl[PYe]=xl[kYe]=xl[IYe]=xl[RYe]=xl[OYe]=xl[BYe]=xl[DYe]=!0;xl[dYe]=xl[hYe]=xl[AYe]=xl[pYe]=xl[CYe]=xl[mYe]=xl[gYe]=xl[vYe]=xl[yYe]=xl[_Ye]=xl[wYe]=xl[xYe]=xl[SYe]=xl[bYe]=xl[EYe]=!1;function NYe(n){return HM(n)&&oq(n.length)&&!!xl[tT(n)]}var LYe=NYe;function FYe(n){return function(e){return n(e)}}var zYe=FYe,sMe=typeof _1=="object"&&_1&&!_1.nodeType&&_1,iR=sMe&&typeof w1=="object"&&w1&&!w1.nodeType&&w1,UYe=iR&&iR.exports===sMe,TV=UYe&&JCe.process,jYe=function(){try{var n=iR&&iR.require&&iR.require("util").types;return n||TV&&TV.binding&&TV.binding("util")}catch{}}(),dwe=jYe,hwe=dwe&&dwe.isTypedArray,HYe=hwe?zYe(hwe):LYe,aMe=HYe,GYe=Object.prototype,VYe=GYe.hasOwnProperty;function WYe(n,e){var t=M1(n),r=!t&&iMe(n),o=!t&&!r&&zX(n),s=!t&&!r&&!o&&aMe(n),c=t||r||o||s,d=c?tYe(n.length,String):[],g=d.length;for(var _ in n)(e||VYe.call(n,_))&&!(c&&(_=="length"||o&&(_=="offset"||_=="parent")||s&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||tMe(_,g)))&&d.push(_);return d}var XYe=WYe;function KYe(n,e){return function(t){return n(e(t))}}var YYe=KYe,qYe=YYe(Object.keys,Object),QYe=qYe,JYe=Object.prototype,ZYe=JYe.hasOwnProperty;function $Ye(n){if(!$Ke(n))return QYe(n);var e=[];for(var t in Object(n))ZYe.call(n,t)&&t!="constructor"&&e.push(t);return e}var eqe=$Ye;function tqe(n){return QKe(n)?XYe(n):eqe(n)}var lMe=tqe,nqe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rqe=/^\w*$/;function iqe(n,e){if(M1(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||iz(n)?!0:rqe.test(n)||!nqe.test(n)||e!=null&&n in Object(e)}var sq=iqe,oqe=nT(Object,"create"),WR=oqe;function sqe(){this.__data__=WR?WR(null):{},this.size=0}var aqe=sqe;function lqe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var uqe=lqe,cqe="__lodash_hash_undefined__",fqe=Object.prototype,dqe=fqe.hasOwnProperty;function hqe(n){var e=this.__data__;if(WR){var t=e[n];return t===cqe?void 0:t}return dqe.call(e,n)?e[n]:void 0}var pqe=hqe,mqe=Object.prototype,gqe=mqe.hasOwnProperty;function vqe(n){var e=this.__data__;return WR?e[n]!==void 0:gqe.call(e,n)}var yqe=vqe,_qe="__lodash_hash_undefined__";function wqe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=WR&&e===void 0?_qe:e,this}var xqe=wqe;function rT(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}rT.prototype.clear=aqe;rT.prototype.delete=uqe;rT.prototype.get=pqe;rT.prototype.has=yqe;rT.prototype.set=xqe;var pwe=rT;function Sqe(){this.__data__=[],this.size=0}var bqe=Sqe;function Eqe(n,e){for(var t=n.length;t--;)if(nMe(n[t][0],e))return t;return-1}var oz=Eqe,Aqe=Array.prototype,Cqe=Aqe.splice;function Mqe(n){var e=this.__data__,t=oz(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Cqe.call(e,t,1),--this.size,!0}var Tqe=Mqe;function Pqe(n){var e=this.__data__,t=oz(e,n);return t<0?void 0:e[t][1]}var kqe=Pqe;function Iqe(n){return oz(this.__data__,n)>-1}var Rqe=Iqe;function Oqe(n,e){var t=this.__data__,r=oz(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var Bqe=Oqe;function iT(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}iT.prototype.clear=bqe;iT.prototype.delete=Tqe;iT.prototype.get=kqe;iT.prototype.has=Rqe;iT.prototype.set=Bqe;var sz=iT,Dqe=nT(I1,"Map"),XR=Dqe;function Nqe(){this.size=0,this.__data__={hash:new pwe,map:new(XR||sz),string:new pwe}}var Lqe=Nqe;function Fqe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var zqe=Fqe;function Uqe(n,e){var t=n.__data__;return zqe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var az=Uqe;function jqe(n){var e=az(this,n).delete(n);return this.size-=e?1:0,e}var Hqe=jqe;function Gqe(n){return az(this,n).get(n)}var Vqe=Gqe;function Wqe(n){return az(this,n).has(n)}var Xqe=Wqe;function Kqe(n,e){var t=az(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Yqe=Kqe;function oT(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}oT.prototype.clear=Lqe;oT.prototype.delete=Hqe;oT.prototype.get=Vqe;oT.prototype.has=Xqe;oT.prototype.set=Yqe;var lz=oT,qqe="Expected a function";function aq(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(qqe);var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],s=t.cache;if(s.has(o))return s.get(o);var c=n.apply(this,r);return t.cache=s.set(o,c)||s,c};return t.cache=new(aq.Cache||lz),t}aq.Cache=lz;var Qqe=aq,Jqe=500;function Zqe(n){var e=Qqe(n,function(r){return t.size===Jqe&&t.clear(),r}),t=e.cache;return e}var $qe=Zqe,eQe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tQe=/\\(\\)?/g,nQe=$qe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(eQe,function(t,r,o,s){e.push(o?s.replace(tQe,"$1"):r||t)}),e}),rQe=nQe;function iQe(n){return n==null?"":QXe(n)}var oQe=iQe;function sQe(n,e){return M1(n)?n:sq(n,e)?[n]:rQe(oQe(n))}var uMe=sQe,aQe=1/0;function lQe(n){if(typeof n=="string"||iz(n))return n;var e=n+"";return e=="0"&&1/n==-aQe?"-0":e}var uz=lQe;function uQe(n,e){e=uMe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[uz(e[t++])];return t&&t==r?n:void 0}var cMe=uQe;function cQe(n,e,t){var r=n==null?void 0:cMe(n,e);return r===void 0?t:r}var fQe=cQe;function dQe(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}var hQe=dQe;function pQe(){this.__data__=new sz,this.size=0}var mQe=pQe;function gQe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var vQe=gQe;function yQe(n){return this.__data__.get(n)}var _Qe=yQe;function wQe(n){return this.__data__.has(n)}var xQe=wQe,SQe=200;function bQe(n,e){var t=this.__data__;if(t instanceof sz){var r=t.__data__;if(!XR||r.length<SQe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new lz(r)}return t.set(n,e),this.size=t.size,this}var EQe=bQe;function sT(n){var e=this.__data__=new sz(n);this.size=e.size}sT.prototype.clear=mQe;sT.prototype.delete=vQe;sT.prototype.get=_Qe;sT.prototype.has=xQe;sT.prototype.set=EQe;var fL=sT;function AQe(n,e){for(var t=-1,r=n==null?0:n.length,o=0,s=[];++t<r;){var c=n[t];e(c,t,n)&&(s[o++]=c)}return s}var CQe=AQe;function MQe(){return[]}var TQe=MQe,PQe=Object.prototype,kQe=PQe.propertyIsEnumerable,mwe=Object.getOwnPropertySymbols,IQe=mwe?function(n){return n==null?[]:(n=Object(n),CQe(mwe(n),function(e){return kQe.call(n,e)}))}:TQe,RQe=IQe;function OQe(n,e,t){var r=e(n);return M1(n)?r:hQe(r,t(n))}var BQe=OQe;function DQe(n){return BQe(n,lMe,RQe)}var gwe=DQe,NQe=nT(I1,"DataView"),UX=NQe,LQe=nT(I1,"Promise"),jX=LQe,FQe=nT(I1,"Set"),HX=FQe,vwe="[object Map]",zQe="[object Object]",ywe="[object Promise]",_we="[object Set]",wwe="[object WeakMap]",xwe="[object DataView]",UQe=rE(UX),jQe=rE(XR),HQe=rE(jX),GQe=rE(HX),VQe=rE(FX),Sb=tT;(UX&&Sb(new UX(new ArrayBuffer(1)))!=xwe||XR&&Sb(new XR)!=vwe||jX&&Sb(jX.resolve())!=ywe||HX&&Sb(new HX)!=_we||FX&&Sb(new FX)!=wwe)&&(Sb=function(n){var e=tT(n),t=e==zQe?n.constructor:void 0,r=t?rE(t):"";if(r)switch(r){case UQe:return xwe;case jQe:return vwe;case HQe:return ywe;case GQe:return _we;case VQe:return wwe}return e});var Swe=Sb,WQe=I1.Uint8Array,bwe=WQe,XQe="__lodash_hash_undefined__";function KQe(n){return this.__data__.set(n,XQe),this}var YQe=KQe;function qQe(n){return this.__data__.has(n)}var QQe=qQe;function rF(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new lz;++e<t;)this.add(n[e])}rF.prototype.add=rF.prototype.push=YQe;rF.prototype.has=QQe;var JQe=rF;function ZQe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var $Qe=ZQe;function eJe(n,e){return n.has(e)}var tJe=eJe,nJe=1,rJe=2;function iJe(n,e,t,r,o,s){var c=t&nJe,d=n.length,g=e.length;if(d!=g&&!(c&&g>d))return!1;var _=s.get(n),b=s.get(e);if(_&&b)return _==e&&b==n;var A=-1,P=!0,N=t&rJe?new JQe:void 0;for(s.set(n,e),s.set(e,n);++A<d;){var F=n[A],K=e[A];if(r)var D=c?r(K,F,A,e,n,s):r(F,K,A,n,e,s);if(D!==void 0){if(D)continue;P=!1;break}if(N){if(!$Qe(e,function(I,j){if(!tJe(N,j)&&(F===I||o(F,I,t,r,s)))return N.push(j)})){P=!1;break}}else if(!(F===K||o(F,K,t,r,s))){P=!1;break}}return s.delete(n),s.delete(e),P}var fMe=iJe;function oJe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,o){t[++e]=[o,r]}),t}var sJe=oJe;function aJe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var lJe=aJe,uJe=1,cJe=2,fJe="[object Boolean]",dJe="[object Date]",hJe="[object Error]",pJe="[object Map]",mJe="[object Number]",gJe="[object RegExp]",vJe="[object Set]",yJe="[object String]",_Je="[object Symbol]",wJe="[object ArrayBuffer]",xJe="[object DataView]",Ewe=ex?ex.prototype:void 0,PV=Ewe?Ewe.valueOf:void 0;function SJe(n,e,t,r,o,s,c){switch(t){case xJe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case wJe:return!(n.byteLength!=e.byteLength||!s(new bwe(n),new bwe(e)));case fJe:case dJe:case mJe:return nMe(+n,+e);case hJe:return n.name==e.name&&n.message==e.message;case gJe:case yJe:return n==e+"";case pJe:var d=sJe;case vJe:var g=r&uJe;if(d||(d=lJe),n.size!=e.size&&!g)return!1;var _=c.get(n);if(_)return _==e;r|=cJe,c.set(n,e);var b=fMe(d(n),d(e),r,o,s,c);return c.delete(n),b;case _Je:if(PV)return PV.call(n)==PV.call(e)}return!1}var bJe=SJe,EJe=1,AJe=Object.prototype,CJe=AJe.hasOwnProperty;function MJe(n,e,t,r,o,s){var c=t&EJe,d=gwe(n),g=d.length,_=gwe(e),b=_.length;if(g!=b&&!c)return!1;for(var A=g;A--;){var P=d[A];if(!(c?P in e:CJe.call(e,P)))return!1}var N=s.get(n),F=s.get(e);if(N&&F)return N==e&&F==n;var K=!0;s.set(n,e),s.set(e,n);for(var D=c;++A<g;){P=d[A];var I=n[P],j=e[P];if(r)var T=c?r(j,I,P,e,n,s):r(I,j,P,n,e,s);if(!(T===void 0?I===j||o(I,j,t,r,s):T)){K=!1;break}D||(D=P=="constructor")}if(K&&!D){var Y=n.constructor,ce=e.constructor;Y!=ce&&"constructor"in n&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof ce=="function"&&ce instanceof ce)&&(K=!1)}return s.delete(n),s.delete(e),K}var TJe=MJe,PJe=1,Awe="[object Arguments]",Cwe="[object Array]",j5="[object Object]",kJe=Object.prototype,Mwe=kJe.hasOwnProperty;function IJe(n,e,t,r,o,s){var c=M1(n),d=M1(e),g=c?Cwe:Swe(n),_=d?Cwe:Swe(e);g=g==Awe?j5:g,_=_==Awe?j5:_;var b=g==j5,A=_==j5,P=g==_;if(P&&zX(n)){if(!zX(e))return!1;c=!0,b=!1}if(P&&!b)return s||(s=new fL),c||aMe(n)?fMe(n,e,t,r,o,s):bJe(n,e,g,t,r,o,s);if(!(t&PJe)){var N=b&&Mwe.call(n,"__wrapped__"),F=A&&Mwe.call(e,"__wrapped__");if(N||F){var K=N?n.value():n,D=F?e.value():e;return s||(s=new fL),o(K,D,t,r,s)}}return P?(s||(s=new fL),TJe(n,e,t,r,o,s)):!1}var RJe=IJe;function dMe(n,e,t,r,o){return n===e?!0:n==null||e==null||!HM(n)&&!HM(e)?n!==n&&e!==e:RJe(n,e,t,r,dMe,o)}var hMe=dMe,OJe=1,BJe=2;function DJe(n,e,t,r){var o=t.length,s=o,c=!r;if(n==null)return!s;for(n=Object(n);o--;){var d=t[o];if(c&&d[2]?d[1]!==n[d[0]]:!(d[0]in n))return!1}for(;++o<s;){d=t[o];var g=d[0],_=n[g],b=d[1];if(c&&d[2]){if(_===void 0&&!(g in n))return!1}else{var A=new fL;if(r)var P=r(_,b,g,n,e,A);if(!(P===void 0?hMe(b,_,OJe|BJe,r,A):P))return!1}}return!0}var NJe=DJe;function LJe(n){return n===n&&!VR(n)}var pMe=LJe;function FJe(n){for(var e=lMe(n),t=e.length;t--;){var r=e[t],o=n[r];e[t]=[r,o,pMe(o)]}return e}var zJe=FJe;function UJe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var mMe=UJe;function jJe(n){var e=zJe(n);return e.length==1&&e[0][2]?mMe(e[0][0],e[0][1]):function(t){return t===n||NJe(t,n,e)}}var HJe=jJe;function GJe(n,e){return n!=null&&e in Object(n)}var VJe=GJe;function WJe(n,e,t){e=uMe(e,n);for(var r=-1,o=e.length,s=!1;++r<o;){var c=uz(e[r]);if(!(s=n!=null&&t(n,c)))break;n=n[c]}return s||++r!=o?s:(o=n==null?0:n.length,!!o&&oq(o)&&tMe(c,o)&&(M1(n)||iMe(n)))}var XJe=WJe;function KJe(n,e){return n!=null&&XJe(n,e,VJe)}var YJe=KJe,qJe=1,QJe=2;function JJe(n,e){return sq(n)&&pMe(e)?mMe(uz(n),e):function(t){var r=fQe(t,n);return r===void 0&&r===e?YJe(t,n):hMe(e,r,qJe|QJe)}}var ZJe=JJe;function $Je(n){return function(e){return e==null?void 0:e[n]}}var eZe=$Je;function tZe(n){return function(e){return cMe(e,n)}}var nZe=tZe;function rZe(n){return sq(n)?eZe(uz(n)):nZe(n)}var iZe=rZe;function oZe(n){return typeof n=="function"?n:n==null?gKe:typeof n=="object"?M1(n)?ZJe(n[0],n[1]):HJe(n):iZe(n)}var sZe=oZe,aZe=Math.max;function lZe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var o=t==null?0:pKe(t);return o<0&&(o=aZe(r+o,0)),HKe(n,sZe(e),o)}var gMe=lZe,uZe=oo(hWe()),zb=oo(ys()),cZe=oo(ZY()),fZe=!1;function dZe(n){let[,e]=(0,zb.useState)(0);return(0,zb.useCallback)(()=>{e(t=>t+1)},[])}function hZe(n,e,t){let r=(0,zb.useCallback)(n,e),o=(0,zb.useRef)(null);o.current?o.current.set(r):o.current=new tr.Atom(r);let s=(0,zb.useRef)(null);return s.current||(s.current=tr.prism(()=>o.current.prism.getValue()())),vZe(s.current)}var Ub=(n,e)=>hZe(()=>tr.val(n),[n]),Twe=0,L0=[],KR=new Set,kV=!1,pZe=n=>{mZe(n),gZe()},mZe=n=>{if(!KR.has(n))if(KR.add(n),L0.length===0)L0.push(n);else{let e=gMe(L0,t=>t.order>=n.order);e===-1?L0.push(n):L0[e].order>n.order&&L0.splice(e,0,n)}},Pwe=n=>{if(!KR.has(n))return;KR.delete(n);let e=gMe(L0,t=>t===n);L0.splice(e,1)};function gZe(){kV||(kV=!0,(0,uZe.default)(()=>{(0,cZe.unstable_batchedUpdates)(function(){for(;L0.length>0;){let n=L0.shift();KR.delete(n);let e;try{e=n.der.getValue()}catch(t){console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(t),n.runUpdate();continue}e!==n.lastValue&&(n.lastValue=e,n.runUpdate())}kV=!1},1)}))}function vZe(n,e){let t=dZe(),r=(0,zb.useRef)(void 0);r.current||(Twe++,r.current={order:Twe,runUpdate:()=>{r.current.unmounted||t()},der:n,lastValue:void 0,unmounted:!1,queueUpdate:()=>{pZe(r.current)},untap:n.onStale(()=>{r.current.queueUpdate()})}),(0,zb.useLayoutEffect)(()=>function(){r.current.unmounted=!0,r.current.untap(),Pwe(r.current)},[]),Pwe(r.current);let o=r.current.der.getValue();return r.current.lastValue=o,o}var IV,RV,yZe={viewport:Cs.types.compound({showAxes:Cs.types.boolean(!0,{label:"Axes"}),showGrid:Cs.types.boolean(!0,{label:"Grid"}),showOverlayIcons:Cs.types.boolean(!1,{label:"Overlay Icons"}),shading:Cs.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:Cs.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"})},{label:"Viewport Config"}),transformControls:Cs.types.compound({mode:Cs.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:Cs.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function vMe(){return IV||(IV=Mm.getStudioProject().sheet("R3F UI")),IV}function Ww(){return RV||(RV=vMe().object("Editor",yZe)||null),RV}var oR=oo(ys()),kwe=oo(ys()),yMe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iwe=kwe.default.createContext&&kwe.default.createContext(yMe),Xw=function(){return Xw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Xw.apply(this,arguments)},_Ze=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};function _Me(n){return n&&n.map(function(e,t){return oR.default.createElement(e.tag,Xw({key:t},e.attr),_Me(e.child))})}function ax(n){return function(e){return oR.default.createElement(wZe,Xw({attr:Xw({},n.attr)},e),_Me(n.child))}}function wZe(n){var e=function(t){var r=n.attr,o=n.size,s=n.title,c=_Ze(n,["attr","size","title"]),d=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),oR.default.createElement("svg",Xw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:g,style:Xw(Xw({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&oR.default.createElement("title",null,s),n.children)};return Iwe!==void 0?oR.default.createElement(Iwe.Consumer,null,function(t){return e(t)}):e(yMe)}function xZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(n)}function SZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(n)}function bZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(n)}function EZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(n)}function AZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(n)}function CZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(n)}function MZe(n){return ax({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(n)}var pb=oo(ys()),TZe={collection:pb.default.createElement(xZe,null),cube:pb.default.createElement(EZe,null),lightBulb:pb.default.createElement(AZe,null),spotLight:pb.default.createElement(CZe,null),sun:pb.default.createElement(MZe,null),camera:pb.default.createElement(SZe,null),cloud:pb.default.createElement(bZe,null)},PZe=TZe,cM=oo(ys()),wMe=(0,cM.createContext)(!1),kZe=({children:n})=>{let e=(0,cM.useRef)(!1),[t,r]=(0,cM.useState)(!1);return(0,cM.useEffect)(()=>{document.addEventListener("mousedown",()=>e.current=!0),document.addEventListener("mousemove",()=>{e.current&&r(!0)}),document.addEventListener("mouseup",()=>{e.current=!1,r(!1)})},[]),cM.default.createElement(wMe.Provider,{value:t},n)},IZe=()=>(0,cM.useContext)(wMe),RZe=oo(gWe()),OZe=(0,RZe.default)(Jb),Kw=OZe,BZe=({storeKey:n,object:e})=>{var t;let r=Ww(),[o,s]=Kw(F=>[F.setSnapshotProxyObject,F.editables],MXe.default),c=IZe(),d=s[n],g=QCe(),_=(t=Ub(r==null?void 0:r.props.viewport.showOverlayIcons))!=null?t:!1;(0,qh.useEffect)(()=>(o(e,n),()=>o(null,n)),[n,e,o]),(0,qh.useLayoutEffect)(()=>{let F=e.visible;return d!=null&&d.visibleOnlyInEditor&&(e.visible=!0),()=>{e.visible=F}},[d==null?void 0:d.visibleOnlyInEditor,e.visible]);let[b,A]=(0,qh.useState)(!1),P=zf(F=>F.scene),N=(0,qh.useMemo)(()=>{var F,K;return(K=d==null?void 0:(F=d.objectConfig).createHelper)==null?void 0:K.call(F,e)},[e]);return(0,qh.useEffect)(()=>{if(N!=null)return(g===n||b)&&(P.add(N),xM()),()=>{P.remove(N),xM()}},[g,b,N,P]),rz(()=>{N!=null&&N.update&&N.update()}),(0,qh.useEffect)(()=>{c&&A(!1)},[c]),(0,qh.useEffect)(()=>{if(!d)return;let F=d.sheetObject,K=d.objectConfig,D=j=>{var T;Object.entries(K.props).forEach(([Y,ce])=>ce.apply(j[Y],e)),(T=K.updateObject)==null||T.call(K,e),xM()};D(F.value);let I=F.onValuesChange(D);return()=>{I()}},[d]),d?qh.default.createElement(qh.default.Fragment,null,qh.default.createElement("group",{onClick:F=>{if(F.delta<2){F.stopPropagation();let K=Kw.getState().editables[n].sheetObject;K?Mm.setSelection([K]):console.log("no Theatre.js object for",n)}},onPointerOver:c?void 0:F=>{F.stopPropagation(),A(!0)},onPointerOut:c?void 0:F=>{F.stopPropagation(),A(!1)}},qh.default.createElement("primitive",{object:e},(_||d.objectConfig.dimensionless&&g!==n)&&qh.default.createElement(pXe,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:b?.3:1}},qh.default.createElement("div",null,PZe[d.objectConfig.icon])),d.objectConfig.dimensionless&&qh.default.createElement(CXe,{args:[2,4,2],onClick:F=>{if(F.delta<2){F.stopPropagation();let K=Kw.getState().editables[n].sheetObject;K?Mm.setSelection([K]):console.log("no Theatre.js object for",n)}},userData:{helper:!0}},qh.default.createElement("meshBasicMaterial",{visible:!1}))))):null},DZe=BZe,ww=oo(ys()),NZe=(0,ww.forwardRef)((n,e)=>{var t=n,{children:r,object:o,orbitControlsRef:s,onObjectChange:c,onDraggingChange:d}=t,g=Wp(t,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]);let{camera:_,gl:b,invalidate:A}=zf(),P=(0,ww.useMemo)(()=>new _Xe(_,b.domElement),[_,b.domElement]);return(0,ww.useLayoutEffect)(()=>(P.attach(o),()=>void P.detach()),[o,P]),(0,ww.useEffect)(()=>{var N;return(N=P==null?void 0:P.addEventListener)==null||N.call(P,"change",()=>A()),()=>{var F;return(F=P==null?void 0:P.removeEventListener)==null?void 0:F.call(P,"change",()=>A())}},[P,A]),(0,ww.useEffect)(()=>{let N=F=>{s&&s.current&&(s.current.enabled=!F.value)};return P&&P.addEventListener("dragging-changed",N),()=>{P.removeEventListener("dragging-changed",N)}},[P,s]),(0,ww.useEffect)(()=>(c&&P.addEventListener("objectChange",c),()=>{c&&P.removeEventListener("objectChange",c)}),[c,P]),(0,ww.useEffect)(()=>(d&&P.addEventListener("dragging-changed",d),()=>{d&&P.removeEventListener("dragging-changed",d)}),[P,d]),ww.default.createElement("primitive",Xi({dispose:null,object:P,ref:e},g))}),LZe=NZe,FZe=oo($F()),zZe=({orbitControlsRef:n})=>{var e,t,r;let o=(0,ih.useRef)(!1),s=Ww(),[c,d]=Kw(Y=>[Y.sceneSnapshot,Y.editables],FZe.default),g=(e=Ub(s==null?void 0:s.props.transformControls.mode))!=null?e:"translate",_=(t=Ub(s==null?void 0:s.props.transformControls.space))!=null?t:"world",b=(r=Ub(s==null?void 0:s.props.viewport.shading))!=null?r:"rendered",A=(0,ih.useMemo)(()=>c==null?void 0:c.clone(),[c]),[P,N]=(0,ih.useState)({});(0,ih.useLayoutEffect)(()=>{if(!A)return;let Y={};A.traverse(ce=>{if(ce.userData.__editable){let le=ce.userData.__storeKey;Y[le]||!d[le]?ce.parent.remove(ce):Y[le]={portal:ih.default.createElement(UZe,{portal:zWe(ih.default.createElement(DZe,{storeKey:le,object:ce}),ce.parent),key:`portal-wrapper-${le}`}),object:ce,editable:d[le]}}}),N(Y)},[n,A]);let F=QCe(),K=F&&P[F],D=F?d[F]:void 0,[I,j]=(0,ih.useState)({});(0,ih.useLayoutEffect)(()=>{if(!A)return;let Y={};return A.traverse(ce=>{let le=ce;le.isMesh&&!le.userData.helper&&(Y[le.id]=le.material)}),j(Y),()=>{}},[A]),(0,ih.useLayoutEffect)(()=>{A&&A.traverse(Y=>{let ce=Y;if(ce.isMesh&&!ce.userData.helper){let le;switch(b){case"wireframe":ce.material=new wd({wireframe:!0,color:"black"});break;case"flat":if(!I[ce.id])return;le=new wd,I[ce.id].hasOwnProperty("color")&&(le.color=I[ce.id].color),I[ce.id].hasOwnProperty("map")&&(le.map=I[ce.id].map),I[ce.id].hasOwnProperty("vertexColors")&&(le.vertexColors=I[ce.id].vertexColors),ce.material=le;break;case"solid":if(!I[ce.id])return;le=new pY,I[ce.id].hasOwnProperty("color")&&(le.color=I[ce.id].color),I[ce.id].hasOwnProperty("map")&&(le.map=I[ce.id].map),I[ce.id].hasOwnProperty("vertexColors")&&(le.vertexColors=I[ce.id].vertexColors),ce.material=le;break;case"rendered":ce.material=I[ce.id]}}xM()})},[b,I,A]);let T=(0,ih.useRef)(void 0);return A?ih.default.createElement(ih.default.Fragment,null,ih.default.createElement("primitive",{object:A}),F&&K&&D&&D.objectConfig.useTransformControls&&ih.default.createElement(LZe,{mode:g,space:_,orbitControlsRef:n,object:K.object,onObjectChange:()=>{let Y=K.editable.sheetObject,ce=K.object;T.current.capture(({set:le})=>{g==="translate"&&le(Y.props.position,uh(Xi({},Y.value.position),{x:ce.position.x,y:ce.position.y,z:ce.position.z})),g==="rotate"&&le(Y.props.rotation,uh(Xi({},Y.value.rotation),{x:ce.rotation.x,y:ce.rotation.y,z:ce.rotation.z})),g==="scale"&&le(Y.props.scale,{x:ce.scale.x,y:ce.scale.y,z:ce.scale.z})})},onDraggingChange:Y=>(Y.value?T.current=Mm.scrub():T.current.commit(),o.current=Y.value)}),Object.values(P).map(Y=>Y.portal)):null},UZe=({portal:n})=>ih.default.createElement(ih.default.Fragment,null,n),jZe=zZe;JY();var zC=oo(ys()),Rwe=(n,e)=>(n%e+e)%e,HZe=class extends Y0{constructor(n,e){super(),Ao(this,"object"),Ao(this,"domElement"),Ao(this,"enabled",!0),Ao(this,"target",new Je),Ao(this,"minDistance",0),Ao(this,"maxDistance",1/0),Ao(this,"minZoom",0),Ao(this,"maxZoom",1/0),Ao(this,"minPolarAngle",0),Ao(this,"maxPolarAngle",Math.PI),Ao(this,"minAzimuthAngle",-1/0),Ao(this,"maxAzimuthAngle",1/0),Ao(this,"enableDamping",!1),Ao(this,"dampingFactor",.05),Ao(this,"enableZoom",!0),Ao(this,"zoomSpeed",1),Ao(this,"enableRotate",!0),Ao(this,"rotateSpeed",1),Ao(this,"enablePan",!0),Ao(this,"panSpeed",1),Ao(this,"screenSpacePanning",!0),Ao(this,"keyPanSpeed",7),Ao(this,"autoRotate",!1),Ao(this,"autoRotateSpeed",2),Ao(this,"reverseOrbit",!1),Ao(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ao(this,"mouseButtons",{LEFT:vb.ROTATE,MIDDLE:vb.DOLLY,RIGHT:vb.PAN}),Ao(this,"touches",{ONE:yb.ROTATE,TWO:yb.DOLLY_PAN}),Ao(this,"target0"),Ao(this,"position0"),Ao(this,"zoom0"),Ao(this,"_domElementKeyEvents",null),Ao(this,"getPolarAngle"),Ao(this,"getAzimuthalAngle"),Ao(this,"setPolarAngle"),Ao(this,"setAzimuthalAngle"),Ao(this,"getDistance"),Ao(this,"listenToKeyEvents"),Ao(this,"stopListenToKeyEvents"),Ao(this,"saveState"),Ao(this,"reset"),Ao(this,"update"),Ao(this,"connect"),Ao(this,"dispose"),this.object=n,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>_.phi,this.getAzimuthalAngle=()=>_.theta,this.setPolarAngle=Mt=>{let Zt=Rwe(Mt,2*Math.PI),yr=_.phi;yr<0&&(yr+=2*Math.PI),Zt<0&&(Zt+=2*Math.PI);let hr=Math.abs(Zt-yr);2*Math.PI-hr<hr&&(Zt<yr?Zt+=2*Math.PI:yr+=2*Math.PI),b.phi=Zt-yr,t.update()},this.setAzimuthalAngle=Mt=>{let Zt=Rwe(Mt,2*Math.PI),yr=_.theta;yr<0&&(yr+=2*Math.PI),Zt<0&&(Zt+=2*Math.PI);let hr=Math.abs(Zt-yr);2*Math.PI-hr<hr&&(Zt<yr?Zt+=2*Math.PI:yr+=2*Math.PI),b.theta=Zt-yr,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=Mt=>{Mt.addEventListener("keydown",rn),this._domElementKeyEvents=Mt},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",rn),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(r),t.update(),d=c.NONE},this.update=(()=>{let Mt=new Je,Zt=new Je(0,1,0),yr=new jo().setFromUnitVectors(n.up,Zt),hr=yr.clone().invert(),Hr=new Je,Rr=new jo,wr=2*Math.PI;return function(){let qr=t.object.position;yr.setFromUnitVectors(n.up,Zt),hr.copy(yr).invert(),Mt.copy(qr).sub(t.target),Mt.applyQuaternion(yr),_.setFromVector3(Mt),t.autoRotate&&d===c.NONE&&fe(Le()),t.enableDamping?(_.theta+=b.theta*t.dampingFactor,_.phi+=b.phi*t.dampingFactor):(_.theta+=b.theta,_.phi+=b.phi);let ri=t.minAzimuthAngle,Nn=t.maxAzimuthAngle;return isFinite(ri)&&isFinite(Nn)&&(ri<-Math.PI?ri+=wr:ri>Math.PI&&(ri-=wr),Nn<-Math.PI?Nn+=wr:Nn>Math.PI&&(Nn-=wr),ri<=Nn?_.theta=Math.max(ri,Math.min(Nn,_.theta)):_.theta=_.theta>(ri+Nn)/2?Math.max(ri,_.theta):Math.min(Nn,_.theta)),_.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,_.phi)),_.makeSafe(),_.radius*=A,_.radius=Math.max(t.minDistance,Math.min(t.maxDistance,_.radius)),t.enableDamping===!0?t.target.addScaledVector(P,t.dampingFactor):t.target.add(P),Mt.setFromSpherical(_),Mt.applyQuaternion(hr),qr.copy(t.target).add(Mt),t.object.lookAt(t.target),t.enableDamping===!0?(b.theta*=1-t.dampingFactor,b.phi*=1-t.dampingFactor,P.multiplyScalar(1-t.dampingFactor)):(b.set(0,0,0),P.set(0,0,0)),A=1,N||Hr.distanceToSquared(t.object.position)>g||8*(1-Rr.dot(t.object.quaternion))>g?(t.dispatchEvent(r),Hr.copy(t.object.position),Rr.copy(t.object.quaternion),N=!1,!0):!1}})(),this.connect=Mt=>{Mt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),t.domElement=Mt,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",Wn),t.domElement.addEventListener("pointerdown",cn),t.domElement.addEventListener("pointercancel",nr),t.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var Mt,Zt,yr,hr,Hr,Rr;(Mt=t.domElement)==null||Mt.removeEventListener("contextmenu",Wn),(Zt=t.domElement)==null||Zt.removeEventListener("pointerdown",cn),(yr=t.domElement)==null||yr.removeEventListener("pointercancel",nr),(hr=t.domElement)==null||hr.removeEventListener("wheel",Ne),(Hr=t.domElement)==null||Hr.ownerDocument.removeEventListener("pointermove",Dn),(Rr=t.domElement)==null||Rr.ownerDocument.removeEventListener("pointerup",Qn),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",rn)};let t=this,r={type:"change"},o={type:"start"},s={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=c.NONE,g=1e-6,_=new GL,b=new GL,A=1,P=new Je,N=!1,F=new Vn,K=new Vn,D=new Vn,I=new Vn,j=new Vn,T=new Vn,Y=new Vn,ce=new Vn,le=new Vn,Z=[],Se={};function Le(){return 2*Math.PI/60/60*t.autoRotateSpeed}function X(){return Math.pow(.95,t.zoomSpeed)}function fe(Mt){t.reverseOrbit?b.theta+=Mt:b.theta-=Mt}function st(Mt){t.reverseOrbit?b.phi+=Mt:b.phi-=Mt}let Ue=(()=>{let Mt=new Je;return function(Zt,yr){Mt.setFromMatrixColumn(yr,0),Mt.multiplyScalar(-Zt),P.add(Mt)}})(),Me=(()=>{let Mt=new Je;return function(Zt,yr){t.screenSpacePanning===!0?Mt.setFromMatrixColumn(yr,1):(Mt.setFromMatrixColumn(yr,0),Mt.crossVectors(t.object.up,Mt)),Mt.multiplyScalar(Zt),P.add(Mt)}})(),be=(()=>{let Mt=new Je;return function(Zt,yr){let hr=t.domElement;if(hr&&t.object instanceof bl&&t.object.isPerspectiveCamera){let Hr=t.object.position;Mt.copy(Hr).sub(t.target);let Rr=Mt.length();Rr*=Math.tan(t.object.fov/2*Math.PI/180),Ue(2*Zt*Rr/hr.clientHeight,t.object.matrix),Me(2*yr*Rr/hr.clientHeight,t.object.matrix)}else hr&&t.object instanceof Ng&&t.object.isOrthographicCamera?(Ue(Zt*(t.object.right-t.object.left)/t.object.zoom/hr.clientWidth,t.object.matrix),Me(yr*(t.object.top-t.object.bottom)/t.object.zoom/hr.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function Ke(Mt){t.object instanceof bl&&t.object.isPerspectiveCamera?A/=Mt:t.object instanceof Ng&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*Mt)),t.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Ye(Mt){t.object instanceof bl&&t.object.isPerspectiveCamera?A*=Mt:t.object instanceof Ng&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/Mt)),t.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function de(Mt){F.set(Mt.clientX,Mt.clientY)}function ve(Mt){Y.set(Mt.clientX,Mt.clientY)}function ye(Mt){I.set(Mt.clientX,Mt.clientY)}function _e(Mt){K.set(Mt.clientX,Mt.clientY),D.subVectors(K,F).multiplyScalar(t.rotateSpeed);let Zt=t.domElement;Zt&&(fe(2*Math.PI*D.x/Zt.clientHeight),st(2*Math.PI*D.y/Zt.clientHeight)),F.copy(K),t.update()}function ge(Mt){ce.set(Mt.clientX,Mt.clientY),le.subVectors(ce,Y),le.y>0?Ke(X()):le.y<0&&Ye(X()),Y.copy(ce),t.update()}function dt(Mt){j.set(Mt.clientX,Mt.clientY),T.subVectors(j,I).multiplyScalar(t.panSpeed),be(T.x,T.y),I.copy(j),t.update()}function qe(Mt){Mt.deltaY<0?Ye(X()):Mt.deltaY>0&&Ke(X()),t.update()}function _t(Mt){let Zt=!1;switch(Mt.code){case t.keys.UP:be(0,t.keyPanSpeed),Zt=!0;break;case t.keys.BOTTOM:be(0,-t.keyPanSpeed),Zt=!0;break;case t.keys.LEFT:be(t.keyPanSpeed,0),Zt=!0;break;case t.keys.RIGHT:be(-t.keyPanSpeed,0),Zt=!0;break}Zt&&(Mt.preventDefault(),t.update())}function Qe(){if(Z.length==1)F.set(Z[0].pageX,Z[0].pageY);else{let Mt=.5*(Z[0].pageX+Z[1].pageX),Zt=.5*(Z[0].pageY+Z[1].pageY);F.set(Mt,Zt)}}function zt(){if(Z.length==1)I.set(Z[0].pageX,Z[0].pageY);else{let Mt=.5*(Z[0].pageX+Z[1].pageX),Zt=.5*(Z[0].pageY+Z[1].pageY);I.set(Mt,Zt)}}function Lt(){let Mt=Z[0].pageX-Z[1].pageX,Zt=Z[0].pageY-Z[1].pageY,yr=Math.sqrt(Mt*Mt+Zt*Zt);Y.set(0,yr)}function Kt(){t.enableZoom&&Lt(),t.enablePan&&zt()}function ln(){t.enableZoom&&Lt(),t.enableRotate&&Qe()}function bn(Mt){if(Z.length==1)K.set(Mt.pageX,Mt.pageY);else{let yr=vr(Mt),hr=.5*(Mt.pageX+yr.x),Hr=.5*(Mt.pageY+yr.y);K.set(hr,Hr)}D.subVectors(K,F).multiplyScalar(t.rotateSpeed);let Zt=t.domElement;Zt&&(fe(2*Math.PI*D.x/Zt.clientHeight),st(2*Math.PI*D.y/Zt.clientHeight)),F.copy(K)}function Ze(Mt){if(Z.length==1)j.set(Mt.pageX,Mt.pageY);else{let Zt=vr(Mt),yr=.5*(Mt.pageX+Zt.x),hr=.5*(Mt.pageY+Zt.y);j.set(yr,hr)}T.subVectors(j,I).multiplyScalar(t.panSpeed),be(T.x,T.y),I.copy(j)}function nn(Mt){let Zt=vr(Mt),yr=Mt.pageX-Zt.x,hr=Mt.pageY-Zt.y,Hr=Math.sqrt(yr*yr+hr*hr);ce.set(0,Hr),le.set(0,Math.pow(ce.y/Y.y,t.zoomSpeed)),Ke(le.y),Y.copy(ce)}function jt(Mt){t.enableZoom&&nn(Mt),t.enablePan&&Ze(Mt)}function fn(Mt){t.enableZoom&&nn(Mt),t.enableRotate&&bn(Mt)}function cn(Mt){var Zt,yr;t.enabled!==!1&&(Z.length===0&&((Zt=t.domElement)==null||Zt.ownerDocument.addEventListener("pointermove",Dn),(yr=t.domElement)==null||yr.ownerDocument.addEventListener("pointerup",Qn)),ei(Mt),Mt.pointerType==="touch"?Dt(Mt):Tr(Mt))}function Dn(Mt){t.enabled!==!1&&(Mt.pointerType==="touch"?Pn(Mt):ct(Mt))}function Qn(Mt){var Zt,yr,hr;jr(Mt),Z.length===0&&((Zt=t.domElement)==null||Zt.releasePointerCapture(Mt.pointerId),(yr=t.domElement)==null||yr.ownerDocument.removeEventListener("pointermove",Dn),(hr=t.domElement)==null||hr.ownerDocument.removeEventListener("pointerup",Qn)),t.dispatchEvent(s),d=c.NONE}function nr(Mt){jr(Mt)}function Tr(Mt){let Zt;switch(Mt.button){case 0:Zt=t.mouseButtons.LEFT;break;case 1:Zt=t.mouseButtons.MIDDLE;break;case 2:Zt=t.mouseButtons.RIGHT;break;default:Zt=-1}switch(Zt){case vb.DOLLY:if(t.enableZoom===!1)return;ve(Mt),d=c.DOLLY;break;case vb.ROTATE:if(Mt.ctrlKey||Mt.metaKey||Mt.shiftKey){if(t.enablePan===!1)return;ye(Mt),d=c.PAN}else if(Mt.altKey){if(t.enableRotate===!1)return;de(Mt),d=c.ROTATE}break;case vb.PAN:if(Mt.ctrlKey||Mt.metaKey||Mt.shiftKey){if(t.enableRotate===!1)return;de(Mt),d=c.ROTATE}else{if(t.enablePan===!1)return;ye(Mt),d=c.PAN}break;default:d=c.NONE}d!==c.NONE&&t.dispatchEvent(o)}function ct(Mt){if(t.enabled!==!1)switch(d){case c.ROTATE:if(t.enableRotate===!1)return;_e(Mt);break;case c.DOLLY:if(t.enableZoom===!1)return;ge(Mt);break;case c.PAN:if(t.enablePan===!1)return;dt(Mt);break}}function Ne(Mt){t.enabled===!1||t.enableZoom===!1||d!==c.NONE&&d!==c.ROTATE||(Mt.preventDefault(),t.dispatchEvent(o),qe(Mt),t.dispatchEvent(s))}function rn(Mt){t.enabled===!1||t.enablePan===!1||_t(Mt)}function Dt(Mt){switch(Yn(Mt),Z.length){case 1:switch(t.touches.ONE){case yb.ROTATE:if(t.enableRotate===!1)return;Qe(),d=c.TOUCH_ROTATE;break;case yb.PAN:if(t.enablePan===!1)return;zt(),d=c.TOUCH_PAN;break;default:d=c.NONE}break;case 2:switch(t.touches.TWO){case yb.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Kt(),d=c.TOUCH_DOLLY_PAN;break;case yb.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;ln(),d=c.TOUCH_DOLLY_ROTATE;break;default:d=c.NONE}break;default:d=c.NONE}d!==c.NONE&&t.dispatchEvent(o)}function Pn(Mt){switch(Yn(Mt),d){case c.TOUCH_ROTATE:if(t.enableRotate===!1)return;bn(Mt),t.update();break;case c.TOUCH_PAN:if(t.enablePan===!1)return;Ze(Mt),t.update();break;case c.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;jt(Mt),t.update();break;case c.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;fn(Mt),t.update();break;default:d=c.NONE}}function Wn(Mt){t.enabled!==!1&&Mt.preventDefault()}function ei(Mt){Z.push(Mt)}function jr(Mt){delete Se[Mt.pointerId];for(let Zt=0;Zt<Z.length;Zt++)if(Z[Zt].pointerId==Mt.pointerId){Z.splice(Zt,1);return}}function Yn(Mt){let Zt=Se[Mt.pointerId];Zt===void 0&&(Zt=new Vn,Se[Mt.pointerId]=Zt),Zt.set(Mt.pageX,Mt.pageY)}function vr(Mt){let Zt=Mt.pointerId===Z[0].pointerId?Z[1]:Z[0];return Se[Zt.pointerId]}e!==void 0&&this.connect(e),this.update()}},GZe=zC.forwardRef((n,e)=>{var t=n,{makeDefault:r,camera:o,regress:s,domElement:c,enableDamping:d=!0,keyEvents:g=!1,onChange:_,onStart:b,onEnd:A}=t,P=Wp(t,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);let N=zf(Se=>Se.invalidate),F=zf(Se=>Se.camera),K=zf(Se=>Se.gl),D=zf(Se=>Se.events),I=zf(Se=>Se.setEvents),j=zf(Se=>Se.set),T=zf(Se=>Se.get),Y=zf(Se=>Se.performance),ce=o||F,le=c||D.connected||K.domElement,Z=zC.useMemo(()=>new HZe(ce),[ce]);return rz(()=>{Z.enabled&&Z.update()},-1),zC.useEffect(()=>(g&&Z.connect(g===!0?le:g),Z.connect(le),()=>void Z.dispose()),[g,le,s,Z,N]),zC.useEffect(()=>{let Se=fe=>{N(),s&&Y.regress(),_&&_(fe)},Le=fe=>{b&&b(fe)},X=fe=>{A&&A(fe)};return Z.addEventListener("change",Se),Z.addEventListener("start",Le),Z.addEventListener("end",X),()=>{Z.removeEventListener("start",Le),Z.removeEventListener("end",X),Z.removeEventListener("change",Se)}},[_,b,A,Z,N,I]),zC.useEffect(()=>{if(r){let Se=T().controls;return j({controls:Z}),()=>j({controls:Se})}},[r,Z]),zC.createElement("primitive",Xi({ref:e,object:Z,enableDamping:d},P))}),iF=oo(ys()),H5=oo(ys()),Owe=oo(ys());function Bwe(n){let e=(0,Owe.useMemo)(()=>{let o=n;return{get current(){return o},set current(s){o=s,r(s)}}},[]),[t,r]=(0,Owe.useState)(()=>n);return[e,t]}var VZe={transform:{position:{x:Cs.types.number(10),y:Cs.types.number(10),z:Cs.types.number(0)},target:{x:Cs.types.number(0),y:Cs.types.number(0),z:Cs.types.number(0)}},lens:{zoom:Cs.types.number(1,{range:[1e-4,10]}),fov:Cs.types.number(50,{range:[1,1e3]}),near:Cs.types.number(.1,{range:[0,1/0]}),far:Cs.types.number(2e3,{range:[0,1/0]}),focus:Cs.types.number(10,{range:[0,1/0]}),filmGauge:Cs.types.number(35,{range:[0,1/0]}),filmOffset:Cs.types.number(0,{range:[0,1/0]})}};function WZe(n,e){let[t,r]=Bwe(null),[o,s]=Bwe(void 0),c=(0,iF.useRef)(null);return(0,iF.useLayoutEffect)(()=>{c.current||(c.current=n.object(`Editor Camera ${e}`,VZe))},[e]),YZe(s,r,c),KZe(s,r,c),[H5.default.createElement(H5.default.Fragment,null,H5.default.createElement(EXe,{makeDefault:!0,ref:o,position:[0,102,0]}),H5.default.createElement(GZe,{makeDefault:!0,ref:t,camera:s,enableDamping:!1})),t]}var XZe=200;function KZe(n,e,t){(0,iF.useLayoutEffect)(()=>{if(!n||e==null)return;let r,o=()=>{var g;if(r){clearTimeout((g=r.scheduledCommit)==null?void 0:g.timer);let _=r;r.scheduledCommit={timer:setTimeout(()=>{_===r&&(r.scrub.commit(),r=void 0)},XZe)}}},s=()=>{var g;r?clearTimeout((g=r.scheduledCommit)==null?void 0:g.timer):r={scrub:Mm.scrub()}},c=()=>{o()},d=()=>{if(!r)return;let g=n.position,_={x:g.x,y:g.y,z:g.z},b=e.target,A={x:b.x,y:b.y,z:b.z},P={position:_,target:A};r.scrub.capture(({set:N})=>{N(t.current.props.transform,P)})};return e.addEventListener("start",s),e.addEventListener("end",c),e.addEventListener("change",d),()=>{e.removeEventListener("start",s),e.removeEventListener("end",c),e.removeEventListener("change",d),r&&(r.scrub.discard(),r=void 0)}},[n,e])}function YZe(n,e,t){let r=zf(({invalidate:o})=>o);(0,iF.useLayoutEffect)(()=>{if(!n||e===null)return;let o=t.current,s=d=>{let{position:g,target:_}=d.transform;n.zoom=d.lens.zoom,n.fov=d.lens.fov,n.near=d.lens.near,n.far=d.lens.far,n.focus=d.lens.focus,n.filmGauge=d.lens.filmGauge,n.filmOffset=d.lens.filmOffset,n.position.set(g.x,g.y,g.z),n.updateProjectionMatrix(),e.target.set(_.x,_.y,_.z),e.update(),r()},c=o.onValuesChange(s);return s(o.value),c},[n,e,t,r])}var qZe=class extends ni{constructor({divisions:n=10,scale:e=.1,color:t=new Dr("white"),distance:r=8e3,subgridOpacity:o=.05,gridOpacity:s=.15}={}){let c=new Up(2,2,1,1),d=new Im({glslVersion:zL,side:sh,uniforms:{uScale:{value:e},uDivisions:{value:n},uColor:{value:t},uDistance:{value:r},uSubgridOpacity:{value:o},uGridOpacity:{value:s}},transparent:!0,vertexShader:`
          out vec3 worldPosition;
          uniform float uDistance;

          void main() {
              // Scale the plane by the drawing distance
              worldPosition = position.xzy * uDistance;
              worldPosition.xz += cameraPosition.xz;

              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
          }
      `,fragmentShader:`
          out vec4 fragColor;
          in vec3 worldPosition;

          uniform float uDivisions;
          uniform float uScale;
          uniform vec3 uColor;
          uniform float uDistance;
          uniform float uSubgridOpacity;
          uniform float uGridOpacity;

          float getGrid(float gapSize) {
              vec2 worldPositionByDivision = worldPosition.xz / gapSize;

              // Inverted, 0 where line, >1 where there's no line
              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing
              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both
              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,
              // otherwise only one side of the line will be anti-aliased
              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;
              float gridLine = min(grid.x, grid.y);

              // Uninvert and clamp
              return 1.0 - min(gridLine, 1.0);
          }

          void main() {
              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);
              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);

              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.
              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.
              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));
              float gridPower = subGridPower * uDivisions;

              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third
              float nextGridPower = gridPower * uDivisions;

              // 1 where grid, 0 where no grid
              float subgrid = getGrid(subGridPower * uScale);
              float grid = getGrid(gridPower * uScale);
              float nextGrid = getGrid(nextGridPower * uScale);

              // Where we are between the introduction of the current grid power and when we switch to the next grid power
              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);

              // The last x percentage of the current step over which we want to fade
              float fadeRange = 0.3;

              // We calculate the fade percentage from the step percentage and the fade range
              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;

              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff
              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);

              // Shade the subgrid
              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);

              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers
              float fadeCoefficient = 0.5;

              // Shade the grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);

              // Shade the next grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);

              if (fragColor.a <= 0.0) discard;
          }
      `,extensions:{derivatives:!0}});super(c,d),this.frustumCulled=!1}},QZe=oo(ys()),B0=oo(ys()),JZe=oo($F());JY();function ZZe(n){return ax({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(n)}var $Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII=",e$e=Ug.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: auto;
  cursor: pointer;
  overflow: hidden;
  border-radius: ${({minimized:n})=>n?"2px":"4px"};
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
`,t$e=Ug.canvas`
  display: block;
  width: ${({width:n,height:e})=>n>e?"auto":"100%"};
  height: ${({width:n,height:e})=>e>n?"auto":"100%"};
`,n$e=cCe`
  0% { transform: translate(0,0) }
  10% { transform: translate(-5%,-5%) }
  20% { transform: translate(-10%,5%) }
  30% { transform: translate(5%,-10%) }
  40% { transform: translate(-5%,15%) }
  50% { transform: translate(-10%,5%) }
  60% { transform: translate(15%,0) }
  70% { transform: translate(0,10%) }
  80% { transform: translate(-15%,0) }
  90% { transform: translate(10%,5%) }
  100% { transform: translate(5%,0) }
`,r$e=Ug.div`
  position: relative;
  display: flex;
  width: 200px;
  height: 120px;
  padding: 18px;

  ::before {
    content: '';
    position: absolute;
    z-index: -1;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: #2f2f2f url(${$Ze}) repeat 0 0;
    animation: ${n$e} 0.2s infinite;
  }
`,i$e=Ug.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  text-align: center;
  opacity: 0.8;
`,o$e=({maxHeight:n,maxWidth:e,minimized:t,onToggleMinified:r})=>{var o,s;let c=(0,B0.useRef)(null),[d]=Kw(F=>[F.gl],JZe.default),[g,{width:_,height:b}]=nq(),A=(s=(o=d==null?void 0:d.getContextAttributes())==null?void 0:o.preserveDrawingBuffer)!=null?s:!1;(0,B0.useLayoutEffect)(()=>{d&&g(d==null?void 0:d.domElement)},[d,g]);let[P,N]=(0,QZe.useMemo)(()=>{if(!d)return[0,0];let F=_/(b||Number.EPSILON)||Number.EPSILON,K=Math.min(F*n,e),D=K/F;return[K,D]},[d,e,n,_,b]);return(0,B0.useEffect)(()=>{let F,K=D=>()=>{if(F=requestAnimationFrame(K(D)),!D.domElement||!A){cancelAnimationFrame(F);return}let I=c.current.getContext("2d");I.imageSmoothingQuality="high",I.fillStyle="white",I.fillRect(0,0,P,N),I.drawImage(D.domElement,0,0,P,N)};return d&&K(d)(),()=>{cancelAnimationFrame(F)}},[d,P,N,A]),B0.default.createElement(e$e,{minimized:t,onClick:r,style:{width:t?32:A?`${P}px`:"auto",height:t?32:A?`${N}px`:"auto"}},A?B0.default.createElement(t$e,{ref:c,width:P,height:N}):B0.default.createElement(r$e,null,B0.default.createElement(i$e,null,B0.default.createElement(ZZe,{size:"3em"}),B0.default.createElement("code",null,"Please set ",B0.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},s$e=o$e,a$e=uCe`
  :host {
    contain: strict;
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`,l$e=({snapshotEditorSheet:n,paneId:e})=>{var t,r;zf(A=>[A.gl,A.scene,A.camera],NX.default);let[o,s]=WZe(n,e),c=Ww(),d=Kw(A=>A.helpersRoot,NX.default),g=(t=Ub(c==null?void 0:c.props.viewport.showGrid))!=null?t:!0,_=(r=Ub(c==null?void 0:c.props.viewport.showAxes))!=null?r:!0,b=(0,HI.useMemo)(()=>new qZe,[]);return Cu.default.createElement(kZe,null,g&&Cu.default.createElement("primitive",{object:b}),_&&Cu.default.createElement("axesHelper",{args:[500]}),o,Cu.default.createElement("primitive",{object:d}),Cu.default.createElement(jZe,{orbitControlsRef:s}),Cu.default.createElement("color",{attach:"background",args:[.1,.1,.1]}))},u$e=Ug.div`
  tab-size: 4;
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  margin: 0;

  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
`,c$e=Ug.div`
  position: relative;
  z-index: 0;
  height: 100%;
  overflow: hidden;
`,f$e=Ug.div`
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
`,d$e=Ug.div`
  position: absolute;
  left: 12px;
  top: 12px;
  pointer-events: auto;
`,h$e=Ug.div`
  position: absolute;
  right: 12px;
  top: 12px;
  justify-content: center;
`,p$e=Ug.div`
  position: absolute;
  margin: auto;
  left: 0;
  right: 0;
  width: 300px;
  top: 12px;
  padding: 16px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);

  backdrop-filter: blur(14px);
  background: rgba(40, 43, 47, 0.8);

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(40, 43, 47, 0.95);
  }
`,m$e=n=>{var e,t;let r=vMe(),o=n.paneId,s=Ww(),[c,d]=nq(),[g,_]=Kw(F=>[F.sceneSnapshot,F.createSnapshot],NX.default);(0,HI.useLayoutEffect)(()=>{_()},[]);let b=(0,HI.useCallback)(()=>{let F=Mm.selection.find(K=>qL.has(K));F&&Mm.setSelection([F.sheet])},[]),[A,P]=(0,HI.useState)();if((0,HI.useEffect)(()=>{if(A)return Mm.ui.renderToolset("snapshot-editor",A)},[A]),!s)return Cu.default.createElement(Cu.default.Fragment,null);let N=(t=Ub((e=Ww())==null?void 0:e.props.viewport.referenceWindow))!=null?t:"minimized";return Cu.default.createElement(rXe.default.div,{style:{overflow:"hidden"}},Cu.default.createElement(qY,{disableVendorPrefixes:!0},Cu.default.createElement(Cu.default.Fragment,null,Cu.default.createElement(a$e,null),Cu.default.createElement(u$e,null,Cu.default.createElement(f$e,null,Cu.default.createElement(d$e,{ref:P}),N!=="hidden"&&Cu.default.createElement(h$e,null,Cu.default.createElement(s$e,{maxHeight:Math.min(d.height*.3,150),maxWidth:Math.min(d.width*.3,250),minimized:N==="minimized",onToggleMinified:()=>{Mm.transaction(({set:F})=>{F(Ww().props.viewport.referenceWindow,N==="minimized"?"maximized":"minimized")})}})),!g&&Cu.default.createElement(p$e,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),Cu.default.createElement(c$e,{ref:c},Cu.default.createElement(nXe,{onCreated:({gl:F})=>{F.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:b},Cu.default.createElement(l$e,{snapshotEditorSheet:r,paneId:o})))))))},g$e=m$e,v$e=oo(RCe()),y$e=oo(ys()),_$e='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',w$e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>',x$e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>',S$e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>',b$e='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',Dwe='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',E$e='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>',A$e='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>',C$e='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>',M$e={id:"@theatre/r3f",toolbars:{global(n,e){let t=tr.prism(()=>(Ww(),[{type:"Icon",title:"Create Snapshot",svgSource:_$e,onClick:()=>{e.createPane("snapshot")}}]));return Cs.onChange(t,()=>{n(t.getValue())})},"snapshot-editor":(n,e)=>{let{createSnapshot:t}=Kw.getState(),r=tr.prism(()=>{var o,s,c;let d=Ww(),g=(o=tr.val(d==null?void 0:d.props.transformControls.mode))!=null?o:"translate",_=(s=tr.val(d==null?void 0:d.props.transformControls.space))!=null?s:"world",b=(c=tr.val(d==null?void 0:d.props.viewport.shading))!=null?c:"rendered";return[{type:"Icon",onClick:t,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:g,onChange:A=>e.transaction(({set:P})=>P(d.props.transformControls.mode,A)),options:[{value:"translate",label:"Tool: Translate",svgSource:w$e},{value:"rotate",label:"Tool: Rotate",svgSource:x$e},{value:"scale",label:"Tool: Scale",svgSource:S$e}]},{type:"Switch",value:_,onChange:A=>e.transaction(({set:P})=>{P(d.props.transformControls.space,A)}),options:[{value:"world",label:"Space: World",svgSource:b$e},{value:"local",label:"Space: Local",svgSource:Dwe}]},{type:"Switch",value:b,onChange:A=>e.transaction(({set:P})=>{P(d.props.viewport.shading,A)}),options:[{value:"wireframe",label:"Display: Wireframe",svgSource:Dwe},{value:"flat",label:"Display: Flat",svgSource:E$e},{value:"solid",label:"Display: Solid",svgSource:A$e},{value:"rendered",label:"Display: Rendered",svgSource:C$e}]}]});return Cs.onChange(r,()=>{n(r.getValue())})}},panes:[{class:"snapshot",mount:({paneId:n,node:e})=>{let t=v$e.default.createRoot(e);t.render(y$e.default.createElement(g$e,{paneId:n}));function r(){setTimeout(()=>{t.unmount()},0)}return r}}]},T$e=M$e;/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler-constants.production.min.js:
  (**
   * @license React
   * react-reconciler-constants.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server-legacy.browser.production.min.js:
  (**
   * @license React
   * react-dom-server-legacy.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server.browser.production.min.js:
  (**
   * @license React
   * react-dom-server.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/Mm.extend(T$e);Mm.initialize();OV.createRoot(document.getElementById("root")).render(xn.jsx(c1.StrictMode,{children:xn.jsx(an.Suspense,{fallback:null,children:xn.jsx(MVe,{})})}))});export default P$e();
